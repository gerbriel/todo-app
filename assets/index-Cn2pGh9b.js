(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function v4(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var pg={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function y4(){if(yS)return Ul;yS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:o}}return Ul.Fragment=t,Ul.jsx=r,Ul.jsxs=r,Ul}var bS;function b4(){return bS||(bS=1,pg.exports=y4()),pg.exports}var u=b4(),vg={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS;function x4(){if(xS)return $e;xS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function N(M,H,se){this.props=M,this.context=H,this.refs=_,this.updater=se||S}N.prototype.isReactComponent={},N.prototype.setState=function(M,H){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,H,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=N.prototype;function T(M,H,se){this.props=M,this.context=H,this.refs=_,this.updater=se||S}var A=T.prototype=new C;A.constructor=T,w(A,N.prototype),A.isPureReactComponent=!0;var L=Array.isArray;function E(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function q(M,H,se){var fe=se.ref;return{$$typeof:e,type:M,key:H,ref:fe!==void 0?fe:null,props:se}}function B(M,H){return q(M.type,H,M.props)}function U(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function K(M){var H={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return H[se]})}var V=/\/+/g;function te(M,H){return typeof M=="object"&&M!==null&&M.key!=null?K(""+M.key):H.toString(36)}function ge(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(E,E):(M.status="pending",M.then(function(H){M.status==="pending"&&(M.status="fulfilled",M.value=H)},function(H){M.status==="pending"&&(M.status="rejected",M.reason=H)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function P(M,H,se,fe,be){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(xe){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case e:case t:Oe=!0;break;case g:return Oe=M._init,P(Oe(M._payload),H,se,fe,be)}}if(Oe)return be=be(M),Oe=fe===""?"."+te(M,0):fe,L(be)?(se="",Oe!=null&&(se=Oe.replace(V,"$&/")+"/"),P(be,H,se,"",function(le){return le})):be!=null&&(U(be)&&(be=B(be,se+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(V,"$&/")+"/")+Oe)),H.push(be)),1;Oe=0;var Le=fe===""?".":fe+":";if(L(M))for(var ae=0;ae<M.length;ae++)fe=M[ae],xe=Le+te(fe,ae),Oe+=P(fe,H,se,xe,be);else if(ae=x(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(fe=M.next()).done;)fe=fe.value,xe=Le+te(fe,ae++),Oe+=P(fe,H,se,xe,be);else if(xe==="object"){if(typeof M.then=="function")return P(ge(M),H,se,fe,be);throw H=String(M),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function W(M,H,se){if(M==null)return M;var fe=[],be=0;return P(M,fe,"","",function(xe){return H.call(se,xe,be++)}),fe}function J(M){if(M._status===-1){var H=M._result;H=H(),H.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=H)}if(M._status===1)return M._result.default;throw M._result}var me=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},oe={map:W,forEach:function(M,H,se){W(M,function(){H.apply(this,arguments)},se)},count:function(M){var H=0;return W(M,function(){H++}),H},toArray:function(M){return W(M,function(H){return H})||[]},only:function(M){if(!U(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return $e.Activity=v,$e.Children=oe,$e.Component=N,$e.Fragment=r,$e.Profiler=i,$e.PureComponent=T,$e.StrictMode=n,$e.Suspense=h,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,$e.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},$e.cache=function(M){return function(){return M.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(M,H,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var fe=w({},M.props),be=M.key;if(H!=null)for(xe in H.key!==void 0&&(be=""+H.key),H)!R.call(H,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&H.ref===void 0||(fe[xe]=H[xe]);var xe=arguments.length-2;if(xe===1)fe.children=se;else if(1<xe){for(var Oe=Array(xe),Le=0;Le<xe;Le++)Oe[Le]=arguments[Le+2];fe.children=Oe}return q(M.type,be,fe)},$e.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},$e.createElement=function(M,H,se){var fe,be={},xe=null;if(H!=null)for(fe in H.key!==void 0&&(xe=""+H.key),H)R.call(H,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(be[fe]=H[fe]);var Oe=arguments.length-2;if(Oe===1)be.children=se;else if(1<Oe){for(var Le=Array(Oe),ae=0;ae<Oe;ae++)Le[ae]=arguments[ae+2];be.children=Le}if(M&&M.defaultProps)for(fe in Oe=M.defaultProps,Oe)be[fe]===void 0&&(be[fe]=Oe[fe]);return q(M,xe,be)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(M){return{$$typeof:d,render:M}},$e.isValidElement=U,$e.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:J}},$e.memo=function(M,H){return{$$typeof:m,type:M,compare:H===void 0?null:H}},$e.startTransition=function(M){var H=D.T,se={};D.T=se;try{var fe=M(),be=D.S;be!==null&&be(se,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(E,me)}catch(xe){me(xe)}finally{H!==null&&se.types!==null&&(H.types=se.types),D.T=H}},$e.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},$e.use=function(M){return D.H.use(M)},$e.useActionState=function(M,H,se){return D.H.useActionState(M,H,se)},$e.useCallback=function(M,H){return D.H.useCallback(M,H)},$e.useContext=function(M){return D.H.useContext(M)},$e.useDebugValue=function(){},$e.useDeferredValue=function(M,H){return D.H.useDeferredValue(M,H)},$e.useEffect=function(M,H){return D.H.useEffect(M,H)},$e.useEffectEvent=function(M){return D.H.useEffectEvent(M)},$e.useId=function(){return D.H.useId()},$e.useImperativeHandle=function(M,H,se){return D.H.useImperativeHandle(M,H,se)},$e.useInsertionEffect=function(M,H){return D.H.useInsertionEffect(M,H)},$e.useLayoutEffect=function(M,H){return D.H.useLayoutEffect(M,H)},$e.useMemo=function(M,H){return D.H.useMemo(M,H)},$e.useOptimistic=function(M,H){return D.H.useOptimistic(M,H)},$e.useReducer=function(M,H,se){return D.H.useReducer(M,H,se)},$e.useRef=function(M){return D.H.useRef(M)},$e.useState=function(M){return D.H.useState(M)},$e.useSyncExternalStore=function(M,H,se){return D.H.useSyncExternalStore(M,H,se)},$e.useTransition=function(){return D.H.useTransition()},$e.version="19.2.0",$e}var wS;function ob(){return wS||(wS=1,vg.exports=x4()),vg.exports}var k=ob();const I=Pr(k);var yg={exports:{}},Pl={},bg={exports:{}},xg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function w4(){return _S||(_S=1,(function(e){function t(P,W){var J=P.length;P.push(W);e:for(;0<J;){var me=J-1>>>1,oe=P[me];if(0<i(oe,W))P[me]=W,P[J]=oe,J=me;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var W=P[0],J=P.pop();if(J!==W){P[0]=J;e:for(var me=0,oe=P.length,M=oe>>>1;me<M;){var H=2*(me+1)-1,se=P[H],fe=H+1,be=P[fe];if(0>i(se,J))fe<oe&&0>i(be,se)?(P[me]=be,P[fe]=J,me=fe):(P[me]=se,P[H]=J,me=H);else if(fe<oe&&0>i(be,J))P[me]=be,P[fe]=J,me=fe;else break e}}return W}function i(P,W){var J=P.sortIndex-W.sortIndex;return J!==0?J:P.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],m=[],g=1,v=null,b=3,x=!1,S=!1,w=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function A(P){for(var W=r(m);W!==null;){if(W.callback===null)n(m);else if(W.startTime<=P)n(m),W.sortIndex=W.expirationTime,t(h,W);else break;W=r(m)}}function L(P){if(w=!1,A(P),!S)if(r(h)!==null)S=!0,E||(E=!0,K());else{var W=r(m);W!==null&&ge(L,W.startTime-P)}}var E=!1,D=-1,R=5,q=-1;function B(){return _?!0:!(e.unstable_now()-q<R)}function U(){if(_=!1,E){var P=e.unstable_now();q=P;var W=!0;try{e:{S=!1,w&&(w=!1,C(D),D=-1),x=!0;var J=b;try{t:{for(A(P),v=r(h);v!==null&&!(v.expirationTime>P&&B());){var me=v.callback;if(typeof me=="function"){v.callback=null,b=v.priorityLevel;var oe=me(v.expirationTime<=P);if(P=e.unstable_now(),typeof oe=="function"){v.callback=oe,A(P),W=!0;break t}v===r(h)&&n(h),A(P)}else n(h);v=r(h)}if(v!==null)W=!0;else{var M=r(m);M!==null&&ge(L,M.startTime-P),W=!1}}break e}finally{v=null,b=J,x=!1}W=void 0}}finally{W?K():E=!1}}}var K;if(typeof T=="function")K=function(){T(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,te=V.port2;V.port1.onmessage=U,K=function(){te.postMessage(null)}}else K=function(){N(U,0)};function ge(P,W){D=N(function(){P(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(P){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var J=b;b=W;try{return P()}finally{b=J}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(P,W){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var J=b;b=P;try{return W()}finally{b=J}},e.unstable_scheduleCallback=function(P,W,J){var me=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?me+J:me):J=me,P){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=J+oe,P={id:g++,callback:W,priorityLevel:P,startTime:J,expirationTime:oe,sortIndex:-1},J>me?(P.sortIndex=J,t(m,P),r(h)===null&&P===r(m)&&(w?(C(D),D=-1):w=!0,ge(L,J-me))):(P.sortIndex=oe,t(h,P),S||x||(S=!0,E||(E=!0,K()))),P},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(P){var W=b;return function(){var J=b;b=W;try{return P.apply(this,arguments)}finally{b=J}}}})(xg)),xg}var SS;function _4(){return SS||(SS=1,bg.exports=w4()),bg.exports}var wg={exports:{}},Tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS;function S4(){if(jS)return Tr;jS=1;var e=ob();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:h,containerInfo:m,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Tr.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(h,m,null,g)},Tr.flushSync=function(h){var m=c.T,g=n.p;try{if(c.T=null,n.p=2,h)return h()}finally{c.T=m,n.p=g,n.d.f()}},Tr.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},Tr.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Tr.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,v=d(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:x}):g==="script"&&n.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tr.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},Tr.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=d(g,m.crossOrigin);n.d.L(h,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tr.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=d(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},Tr.requestFormReset=function(h){n.d.r(h)},Tr.unstable_batchedUpdates=function(h,m){return h(m)},Tr.useFormState=function(h,m,g){return c.H.useFormState(h,m,g)},Tr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tr.version="19.2.0",Tr}var NS;function kC(){if(NS)return wg.exports;NS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wg.exports=S4(),wg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS;function j4(){if(kS)return Pl;kS=1;var e=_4(),t=ob(),r=kC();function n(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,l=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(l=s.return),a=s.return;while(a)}return s.tag===3?l:null}function c(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function h(a){if(o(a)!==a)throw Error(n(188))}function m(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(n(188));return s!==a?null:a}for(var l=a,f=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){l=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),a;if(y===f)return h(p),s;y=y.sibling}throw Error(n(188))}if(l.return!==f.return)l=p,f=y;else{for(var j=!1,O=p.child;O;){if(O===l){j=!0,l=p,f=y;break}if(O===f){j=!0,f=p,l=y;break}O=O.sibling}if(!j){for(O=y.child;O;){if(O===l){j=!0,l=y,f=p;break}if(O===f){j=!0,f=y,l=p;break}O=O.sibling}if(!j)throw Error(n(189))}}if(l.alternate!==f)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?a:s}function g(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=g(a),s!==null)return s;a=a.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function K(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var V=Symbol.for("react.client.reference");function te(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===V?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case L:return"Suspense";case E:return"SuspenseList";case q:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case T:return a.displayName||"Context";case C:return(a._context.displayName||"Context")+".Consumer";case A:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return s=a.displayName||null,s!==null?s:te(a.type)||"Memo";case R:s=a._payload,a=a._init;try{return te(a(s))}catch{}}return null}var ge=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},me=[],oe=-1;function M(a){return{current:a}}function H(a){0>oe||(a.current=me[oe],me[oe]=null,oe--)}function se(a,s){oe++,me[oe]=a.current,a.current=s}var fe=M(null),be=M(null),xe=M(null),Oe=M(null);function Le(a,s){switch(se(xe,s),se(be,a),se(fe,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?B1(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=B1(s),a=I1(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}H(fe),se(fe,a)}function ae(){H(fe),H(be),H(xe)}function le(a){a.memoizedState!==null&&se(Oe,a);var s=fe.current,l=I1(s,a.type);s!==l&&(se(be,a),se(fe,l))}function at(a){be.current===a&&(H(fe),H(be)),Oe.current===a&&(H(Oe),Rl._currentValue=J)}var Pe,Xe;function et(a){if(Pe===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Pe=s&&s[1]||"",Xe=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+a+Xe}var Ue=!1;function ht(a,s){if(!a||Ue)return"";Ue=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var Z=ne}Reflect.construct(a,[],ue)}else{try{ue.call()}catch(ne){Z=ne}a.call(ue.prototype)}}else{try{throw Error()}catch(ne){Z=ne}(ue=a())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&Z&&typeof ne.stack=="string")return[ne.stack,Z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),j=y[0],O=y[1];if(j&&O){var z=j.split(`
`),X=O.split(`
`);for(p=f=0;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(f===z.length||p===X.length)for(f=z.length-1,p=X.length-1;1<=f&&0<=p&&z[f]!==X[p];)p--;for(;1<=f&&0<=p;f--,p--)if(z[f]!==X[p]){if(f!==1||p!==1)do if(f--,p--,0>p||z[f]!==X[p]){var ie=`
`+z[f].replace(" at new "," at ");return a.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",a.displayName)),ie}while(1<=f&&0<=p);break}}}finally{Ue=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?et(l):""}function Be(a,s){switch(a.tag){case 26:case 27:case 5:return et(a.type);case 16:return et("Lazy");case 13:return a.child!==s&&s!==null?et("Suspense Fallback"):et("Suspense");case 19:return et("SuspenseList");case 0:case 15:return ht(a.type,!1);case 11:return ht(a.type.render,!1);case 1:return ht(a.type,!0);case 31:return et("Activity");default:return""}}function dr(a){try{var s="",l=null;do s+=Be(a,l),l=a,a=a.return;while(a);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Wt=Object.prototype.hasOwnProperty,bt=e.unstable_scheduleCallback,mt=e.unstable_cancelCallback,gt=e.unstable_shouldYield,ft=e.unstable_requestPaint,nt=e.unstable_now,yr=e.unstable_getCurrentPriorityLevel,Ht=e.unstable_ImmediatePriority,jt=e.unstable_UserBlockingPriority,Et=e.unstable_NormalPriority,zr=e.unstable_LowPriority,Br=e.unstable_IdlePriority,re=e.log,ve=e.unstable_setDisableYieldValue,Re=null,Ae=null;function st(a){if(typeof re=="function"&&ve(a),Ae&&typeof Ae.setStrictMode=="function")try{Ae.setStrictMode(Re,a)}catch{}}var it=Math.clz32?Math.clz32:Ti,Ci=Math.log,ma=Math.LN2;function Ti(a){return a>>>=0,a===0?32:31-(Ci(a)/ma|0)|0}var Qn=256,Ha=262144,Rt=4194304;function Pt(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Kt(a,s,l){var f=a.pendingLanes;if(f===0)return 0;var p=0,y=a.suspendedLanes,j=a.pingedLanes;a=a.warmLanes;var O=f&134217727;return O!==0?(f=O&~y,f!==0?p=Pt(f):(j&=O,j!==0?p=Pt(j):l||(l=O&~a,l!==0&&(p=Pt(l))))):(O=f&~y,O!==0?p=Pt(O):j!==0?p=Pt(j):l||(l=f&~a,l!==0&&(p=Pt(l)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:p}function nr(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function ar(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(){var a=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),a}function Er(a){for(var s=[],l=0;31>l;l++)s.push(a);return s}function $(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function G(a,s,l,f,p,y){var j=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var O=a.entanglements,z=a.expirationTimes,X=a.hiddenUpdates;for(l=j&~l;0<l;){var ie=31-it(l),ue=1<<ie;O[ie]=0,z[ie]=-1;var Z=X[ie];if(Z!==null)for(X[ie]=null,ie=0;ie<Z.length;ie++){var ne=Z[ie];ne!==null&&(ne.lane&=-536870913)}l&=~ue}f!==0&&ee(a,f,0),y!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=y&~(j&~s))}function ee(a,s,l){a.pendingLanes|=s,a.suspendedLanes&=~s;var f=31-it(s);a.entangledLanes|=s,a.entanglements[f]=a.entanglements[f]|1073741824|l&261930}function de(a,s){var l=a.entangledLanes|=s;for(a=a.entanglements;l;){var f=31-it(l),p=1<<f;p&s|a[f]&s&&(a[f]|=s),l&=~p}}function pe(a,s){var l=s&-s;return l=(l&42)!==0?1:Ne(l),(l&(a.suspendedLanes|s))!==0?0:l}function Ne(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ke(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function _e(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:dS(a.type))}function Ce(a,s){var l=W.p;try{return W.p=a,s()}finally{W.p=l}}var Te=Math.random().toString(36).slice(2),we="__reactFiber$"+Te,Se="__reactProps$"+Te,He="__reactContainer$"+Te,xt="__reactEvents$"+Te,Xt="__reactListeners$"+Te,br="__reactHandles$"+Te,Ct="__reactResources$"+Te,ut="__reactMarker$"+Te;function qn(a){delete a[we],delete a[Se],delete a[xt],delete a[Xt],delete a[br]}function fn(a){var s=a[we];if(s)return s;for(var l=a.parentNode;l;){if(s=l[He]||l[we]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(a=Q1(a);a!==null;){if(l=a[we])return l;a=Q1(a)}return s}a=l,l=a.parentNode}return null}function Rr(a){if(a=a[we]||a[He]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Cr(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(n(33))}function Wn(a){var s=a[Ct];return s||(s=a[Ct]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Mt(a){a[ut]=!0}var Xn=new Set,As={};function hn(a,s){Ke(a,s),Ke(a+"Capture",s)}function Ke(a,s){for(As[a]=s,a=0;a<s.length;a++)Xn.add(s[a])}var hr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ga={},Jn={};function Gt(a){return Wt.call(Jn,a)?!0:Wt.call(ga,a)?!1:hr.test(a)?Jn[a]=!0:(ga[a]=!0,!1)}function pa(a,s,l){if(Gt(s))if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+l)}}function Rs(a,s,l){if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+l)}}function Un(a,s,l,f){if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(s,l,""+f)}}function mn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Rx(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function uA(a,s,l){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var p=f.get,y=f.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return p.call(this)},set:function(j){l=""+j,y.call(this,j)}}),Object.defineProperty(a,s,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(j){l=""+j},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function ch(a){if(!a._valueTracker){var s=Rx(a)?"checked":"value";a._valueTracker=uA(a,s,""+a[s])}}function Mx(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return a&&(f=Rx(a)?a.checked?"true":"false":a.value),a=f,a!==l?(s.setValue(a),!0):!1}function nu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var dA=/[\n"\\]/g;function gn(a){return a.replace(dA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function uh(a,s,l,f,p,y,j,O){a.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.type=j:a.removeAttribute("type"),s!=null?j==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+mn(s)):a.value!==""+mn(s)&&(a.value=""+mn(s)):j!=="submit"&&j!=="reset"||a.removeAttribute("value"),s!=null?dh(a,j,mn(s)):l!=null?dh(a,j,mn(l)):f!=null&&a.removeAttribute("value"),p==null&&y!=null&&(a.defaultChecked=!!y),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+mn(O):a.removeAttribute("name")}function Lx(a,s,l,f,p,y,j,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){ch(a);return}l=l!=null?""+mn(l):"",s=s!=null?""+mn(s):l,O||s===a.value||(a.value=s),a.defaultValue=s}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=O?a.checked:!!f,a.defaultChecked=!!f,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(a.name=j),ch(a)}function dh(a,s,l){s==="number"&&nu(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function Di(a,s,l,f){if(a=a.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<a.length;l++)p=s.hasOwnProperty("$"+a[l].value),a[l].selected!==p&&(a[l].selected=p),p&&f&&(a[l].defaultSelected=!0)}else{for(l=""+mn(l),s=null,p=0;p<a.length;p++){if(a[p].value===l){a[p].selected=!0,f&&(a[p].defaultSelected=!0);return}s!==null||a[p].disabled||(s=a[p])}s!==null&&(s.selected=!0)}}function qx(a,s,l){if(s!=null&&(s=""+mn(s),s!==a.value&&(a.value=s),l==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=l!=null?""+mn(l):""}function Ux(a,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(n(92));if(ge(f)){if(1<f.length)throw Error(n(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=mn(s),a.defaultValue=l,f=a.textContent,f===l&&f!==""&&f!==null&&(a.value=f),ch(a)}function Oi(a,s){if(s){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=s;return}}a.textContent=s}var fA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Px(a,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":f?a.setProperty(s,l):typeof l!="number"||l===0||fA.has(s)?s==="float"?a.cssFloat=l:a[s]=(""+l).trim():a[s]=l+"px"}function $x(a,s,l){if(s!=null&&typeof s!="object")throw Error(n(62));if(a=a.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var p in s)f=s[p],s.hasOwnProperty(p)&&l[p]!==f&&Px(a,p,f)}else for(var y in s)s.hasOwnProperty(y)&&Px(a,y,s[y])}function fh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function au(a){return mA.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function va(){}var hh=null;function mh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ai=null,Ri=null;function zx(a){var s=Rr(a);if(s&&(a=s.stateNode)){var l=a[Se]||null;e:switch(a=s.stateNode,s.type){case"input":if(uh(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+gn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==a&&f.form===a.form){var p=f[Se]||null;if(!p)throw Error(n(90));uh(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===a.form&&Mx(f)}break e;case"textarea":qx(a,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Di(a,!!l.multiple,s,!1)}}}var gh=!1;function Bx(a,s,l){if(gh)return a(s,l);gh=!0;try{var f=a(s);return f}finally{if(gh=!1,(Ai!==null||Ri!==null)&&(Ku(),Ai&&(s=Ai,a=Ri,Ri=Ai=null,zx(s),a)))for(s=0;s<a.length;s++)zx(a[s])}}function Wo(a,s){var l=a.stateNode;if(l===null)return null;var f=l[Se]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=!1;if(ya)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){ph=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{ph=!1}var Ka=null,vh=null,su=null;function Ix(){if(su)return su;var a,s=vh,l=s.length,f,p="value"in Ka?Ka.value:Ka.textContent,y=p.length;for(a=0;a<l&&s[a]===p[a];a++);var j=l-a;for(f=1;f<=j&&s[l-f]===p[y-f];f++);return su=p.slice(a,1<f?1-f:void 0)}function iu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function ou(){return!0}function Fx(){return!1}function Ir(a){function s(l,f,p,y,j){this._reactName=l,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=j,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(l=a[O],this[O]=l?l(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ou:Fx,this.isPropagationStopped=Fx,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),s}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lu=Ir(Ms),Jo=v({},Ms,{view:0,detail:0}),gA=Ir(Jo),yh,bh,Zo,cu=v({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Zo&&(Zo&&a.type==="mousemove"?(yh=a.screenX-Zo.screenX,bh=a.screenY-Zo.screenY):bh=yh=0,Zo=a),yh)},movementY:function(a){return"movementY"in a?a.movementY:bh}}),Hx=Ir(cu),pA=v({},cu,{dataTransfer:0}),vA=Ir(pA),yA=v({},Jo,{relatedTarget:0}),xh=Ir(yA),bA=v({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),xA=Ir(bA),wA=v({},Ms,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),_A=Ir(wA),SA=v({},Ms,{data:0}),Kx=Ir(SA),jA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EA(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=kA[a])?!!s[a]:!1}function wh(){return EA}var CA=v({},Jo,{key:function(a){if(a.key){var s=jA[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=iu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?NA[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wh,charCode:function(a){return a.type==="keypress"?iu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?iu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),TA=Ir(CA),DA=v({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gx=Ir(DA),OA=v({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wh}),AA=Ir(OA),RA=v({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),MA=Ir(RA),LA=v({},cu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),qA=Ir(LA),UA=v({},Ms,{newState:0,oldState:0}),PA=Ir(UA),$A=[9,13,27,32],_h=ya&&"CompositionEvent"in window,el=null;ya&&"documentMode"in document&&(el=document.documentMode);var zA=ya&&"TextEvent"in window&&!el,Yx=ya&&(!_h||el&&8<el&&11>=el),Vx=" ",Qx=!1;function Wx(a,s){switch(a){case"keyup":return $A.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Mi=!1;function BA(a,s){switch(a){case"compositionend":return Xx(s);case"keypress":return s.which!==32?null:(Qx=!0,Vx);case"textInput":return a=s.data,a===Vx&&Qx?null:a;default:return null}}function IA(a,s){if(Mi)return a==="compositionend"||!_h&&Wx(a,s)?(a=Ix(),su=vh=Ka=null,Mi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yx&&s.locale!=="ko"?null:s.data;default:return null}}var FA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jx(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!FA[a.type]:s==="textarea"}function Zx(a,s,l,f){Ai?Ri?Ri.push(f):Ri=[f]:Ai=f,s=Ju(s,"onChange"),0<s.length&&(l=new lu("onChange","change",null,l,f),a.push({event:l,listeners:s}))}var tl=null,rl=null;function HA(a){L1(a,0)}function uu(a){var s=Cr(a);if(Mx(s))return a}function ew(a,s){if(a==="change")return s}var tw=!1;if(ya){var Sh;if(ya){var jh="oninput"in document;if(!jh){var rw=document.createElement("div");rw.setAttribute("oninput","return;"),jh=typeof rw.oninput=="function"}Sh=jh}else Sh=!1;tw=Sh&&(!document.documentMode||9<document.documentMode)}function nw(){tl&&(tl.detachEvent("onpropertychange",aw),rl=tl=null)}function aw(a){if(a.propertyName==="value"&&uu(rl)){var s=[];Zx(s,rl,a,mh(a)),Bx(HA,s)}}function KA(a,s,l){a==="focusin"?(nw(),tl=s,rl=l,tl.attachEvent("onpropertychange",aw)):a==="focusout"&&nw()}function GA(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return uu(rl)}function YA(a,s){if(a==="click")return uu(s)}function VA(a,s){if(a==="input"||a==="change")return uu(s)}function QA(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Zr=typeof Object.is=="function"?Object.is:QA;function nl(a,s){if(Zr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var l=Object.keys(a),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var p=l[f];if(!Wt.call(s,p)||!Zr(a[p],s[p]))return!1}return!0}function sw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function iw(a,s){var l=sw(a);a=0;for(var f;l;){if(l.nodeType===3){if(f=a+l.textContent.length,a<=s&&f>=s)return{node:l,offset:s-a};a=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=sw(l)}}function ow(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?ow(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function lw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=nu(a.document);s instanceof a.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)a=s.contentWindow;else break;s=nu(a.document)}return s}function Nh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var WA=ya&&"documentMode"in document&&11>=document.documentMode,Li=null,kh=null,al=null,Eh=!1;function cw(a,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Eh||Li==null||Li!==nu(f)||(f=Li,"selectionStart"in f&&Nh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),al&&nl(al,f)||(al=f,f=Ju(kh,"onSelect"),0<f.length&&(s=new lu("onSelect","select",null,s,l),a.push({event:s,listeners:f}),s.target=Li)))}function Ls(a,s){var l={};return l[a.toLowerCase()]=s.toLowerCase(),l["Webkit"+a]="webkit"+s,l["Moz"+a]="moz"+s,l}var qi={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Ch={},uw={};ya&&(uw=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function qs(a){if(Ch[a])return Ch[a];if(!qi[a])return a;var s=qi[a],l;for(l in s)if(s.hasOwnProperty(l)&&l in uw)return Ch[a]=s[l];return a}var dw=qs("animationend"),fw=qs("animationiteration"),hw=qs("animationstart"),XA=qs("transitionrun"),JA=qs("transitionstart"),ZA=qs("transitioncancel"),mw=qs("transitionend"),gw=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function Pn(a,s){gw.set(a,s),hn(s,[a])}var du=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},pn=[],Ui=0,Dh=0;function fu(){for(var a=Ui,s=Dh=Ui=0;s<a;){var l=pn[s];pn[s++]=null;var f=pn[s];pn[s++]=null;var p=pn[s];pn[s++]=null;var y=pn[s];if(pn[s++]=null,f!==null&&p!==null){var j=f.pending;j===null?p.next=p:(p.next=j.next,j.next=p),f.pending=p}y!==0&&pw(l,p,y)}}function hu(a,s,l,f){pn[Ui++]=a,pn[Ui++]=s,pn[Ui++]=l,pn[Ui++]=f,Dh|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Oh(a,s,l,f){return hu(a,s,l,f),mu(a)}function Us(a,s){return hu(a,null,null,s),mu(a)}function pw(a,s,l){a.lanes|=l;var f=a.alternate;f!==null&&(f.lanes|=l);for(var p=!1,y=a.return;y!==null;)y.childLanes|=l,f=y.alternate,f!==null&&(f.childLanes|=l),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(p=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,p&&s!==null&&(p=31-it(l),a=y.hiddenUpdates,f=a[p],f===null?a[p]=[s]:f.push(s),s.lane=l|536870912),y):null}function mu(a){if(50<kl)throw kl=0,zm=null,Error(n(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Pi={};function eR(a,s,l,f){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(a,s,l,f){return new eR(a,s,l,f)}function Ah(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ba(a,s){var l=a.alternate;return l===null?(l=en(a.tag,s,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=s,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,s=a.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function vw(a,s){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,s=l.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function gu(a,s,l,f,p,y){var j=0;if(f=a,typeof a=="function")Ah(a)&&(j=1);else if(typeof a=="string")j=s4(a,l,fe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case q:return a=en(31,l,s,p),a.elementType=q,a.lanes=y,a;case w:return Ps(l.children,p,y,s);case _:j=8,p|=24;break;case N:return a=en(12,l,s,p|2),a.elementType=N,a.lanes=y,a;case L:return a=en(13,l,s,p),a.elementType=L,a.lanes=y,a;case E:return a=en(19,l,s,p),a.elementType=E,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:j=10;break e;case C:j=9;break e;case A:j=11;break e;case D:j=14;break e;case R:j=16,f=null;break e}j=29,l=Error(n(130,a===null?"null":typeof a,"")),f=null}return s=en(j,l,s,p),s.elementType=a,s.type=f,s.lanes=y,s}function Ps(a,s,l,f){return a=en(7,a,f,s),a.lanes=l,a}function Rh(a,s,l){return a=en(6,a,null,s),a.lanes=l,a}function yw(a){var s=en(18,null,null,0);return s.stateNode=a,s}function Mh(a,s,l){return s=en(4,a.children!==null?a.children:[],a.key,s),s.lanes=l,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var bw=new WeakMap;function vn(a,s){if(typeof a=="object"&&a!==null){var l=bw.get(a);return l!==void 0?l:(s={value:a,source:s,stack:dr(s)},bw.set(a,s),s)}return{value:a,source:s,stack:dr(s)}}var $i=[],zi=0,pu=null,sl=0,yn=[],bn=0,Ga=null,Zn=1,ea="";function xa(a,s){$i[zi++]=sl,$i[zi++]=pu,pu=a,sl=s}function xw(a,s,l){yn[bn++]=Zn,yn[bn++]=ea,yn[bn++]=Ga,Ga=a;var f=Zn;a=ea;var p=32-it(f)-1;f&=~(1<<p),l+=1;var y=32-it(s)+p;if(30<y){var j=p-p%5;y=(f&(1<<j)-1).toString(32),f>>=j,p-=j,Zn=1<<32-it(s)+p|l<<p|f,ea=y+a}else Zn=1<<y|l<<p|f,ea=a}function Lh(a){a.return!==null&&(xa(a,1),xw(a,1,0))}function qh(a){for(;a===pu;)pu=$i[--zi],$i[zi]=null,sl=$i[--zi],$i[zi]=null;for(;a===Ga;)Ga=yn[--bn],yn[bn]=null,ea=yn[--bn],yn[bn]=null,Zn=yn[--bn],yn[bn]=null}function ww(a,s){yn[bn++]=Zn,yn[bn++]=ea,yn[bn++]=Ga,Zn=s.id,ea=s.overflow,Ga=a}var xr=null,Dt=null,tt=!1,Ya=null,xn=!1,Uh=Error(n(519));function Va(a){var s=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(vn(s,a)),Uh}function _w(a){var s=a.stateNode,l=a.type,f=a.memoizedProps;switch(s[we]=a,s[Se]=f,l){case"dialog":We("cancel",s),We("close",s);break;case"iframe":case"object":case"embed":We("load",s);break;case"video":case"audio":for(l=0;l<Cl.length;l++)We(Cl[l],s);break;case"source":We("error",s);break;case"img":case"image":case"link":We("error",s),We("load",s);break;case"details":We("toggle",s);break;case"input":We("invalid",s),Lx(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":We("invalid",s);break;case"textarea":We("invalid",s),Ux(s,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||$1(s.textContent,l)?(f.popover!=null&&(We("beforetoggle",s),We("toggle",s)),f.onScroll!=null&&We("scroll",s),f.onScrollEnd!=null&&We("scrollend",s),f.onClick!=null&&(s.onclick=va),s=!0):s=!1,s||Va(a,!0)}function Sw(a){for(xr=a.return;xr;)switch(xr.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:xr=xr.return}}function Bi(a){if(a!==xr)return!1;if(!tt)return Sw(a),tt=!0,!1;var s=a.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||tg(a.type,a.memoizedProps)),l=!l),l&&Dt&&Va(a),Sw(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Dt=V1(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Dt=V1(a)}else s===27?(s=Dt,ls(a.type)?(a=ig,ig=null,Dt=a):Dt=s):Dt=xr?_n(a.stateNode.nextSibling):null;return!0}function $s(){Dt=xr=null,tt=!1}function Ph(){var a=Ya;return a!==null&&(Gr===null?Gr=a:Gr.push.apply(Gr,a),Ya=null),a}function il(a){Ya===null?Ya=[a]:Ya.push(a)}var $h=M(null),zs=null,wa=null;function Qa(a,s,l){se($h,s._currentValue),s._currentValue=l}function _a(a){a._currentValue=$h.current,H($h)}function zh(a,s,l){for(;a!==null;){var f=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),a===l)break;a=a.return}}function Bh(a,s,l,f){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var y=p.dependencies;if(y!==null){var j=p.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=p;for(var z=0;z<s.length;z++)if(O.context===s[z]){y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),zh(y.return,l,a),f||(j=null);break e}y=O.next}}else if(p.tag===18){if(j=p.return,j===null)throw Error(n(341));j.lanes|=l,y=j.alternate,y!==null&&(y.lanes|=l),zh(j,l,a),j=null}else j=p.child;if(j!==null)j.return=p;else for(j=p;j!==null;){if(j===a){j=null;break}if(p=j.sibling,p!==null){p.return=j.return,j=p;break}j=j.return}p=j}}function Ii(a,s,l,f){a=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var j=p.alternate;if(j===null)throw Error(n(387));if(j=j.memoizedProps,j!==null){var O=p.type;Zr(p.pendingProps.value,j.value)||(a!==null?a.push(O):a=[O])}}else if(p===Oe.current){if(j=p.alternate,j===null)throw Error(n(387));j.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(Rl):a=[Rl])}p=p.return}a!==null&&Bh(s,a,l,f),s.flags|=262144}function vu(a){for(a=a.firstContext;a!==null;){if(!Zr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Bs(a){zs=a,wa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function wr(a){return jw(zs,a)}function yu(a,s){return zs===null&&Bs(a),jw(a,s)}function jw(a,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},wa===null){if(a===null)throw Error(n(308));wa=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else wa=wa.next=s;return l}var tR=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(l,f){a.push(f)}};this.abort=function(){s.aborted=!0,a.forEach(function(l){return l()})}},rR=e.unstable_scheduleCallback,nR=e.unstable_NormalPriority,Jt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ih(){return{controller:new tR,data:new Map,refCount:0}}function ol(a){a.refCount--,a.refCount===0&&rR(nR,function(){a.controller.abort()})}var ll=null,Fh=0,Fi=0,Hi=null;function aR(a,s){if(ll===null){var l=ll=[];Fh=0,Fi=Gm(),Hi={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Fh++,s.then(Nw,Nw),s}function Nw(){if(--Fh===0&&ll!==null){Hi!==null&&(Hi.status="fulfilled");var a=ll;ll=null,Fi=0,Hi=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function sR(a,s){var l=[],f={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return a.then(function(){f.status="fulfilled",f.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(f.status="rejected",f.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),f}var kw=P.S;P.S=function(a,s){c1=nt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&aR(a,s),kw!==null&&kw(a,s)};var Is=M(null);function Hh(){var a=Is.current;return a!==null?a:Nt.pooledCache}function bu(a,s){s===null?se(Is,Is.current):se(Is,s.pool)}function Ew(){var a=Hh();return a===null?null:{parent:Jt._currentValue,pool:a}}var Ki=Error(n(460)),Kh=Error(n(474)),xu=Error(n(542)),wu={then:function(){}};function Cw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Tw(a,s,l){switch(l=a[l],l===void 0?a.push(s):l!==s&&(s.then(va,va),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Ow(a),a;default:if(typeof s.status=="string")s.then(va,va);else{if(a=Nt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=s,a.status="pending",a.then(function(f){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=f}},function(f){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Ow(a),a}throw Hs=s,Ki}}function Fs(a){try{var s=a._init;return s(a._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Hs=l,Ki):l}}var Hs=null;function Dw(){if(Hs===null)throw Error(n(459));var a=Hs;return Hs=null,a}function Ow(a){if(a===Ki||a===xu)throw Error(n(483))}var Gi=null,cl=0;function _u(a){var s=cl;return cl+=1,Gi===null&&(Gi=[]),Tw(Gi,a,s)}function ul(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Su(a,s){throw s.$$typeof===b?Error(n(525)):(a=Object.prototype.toString.call(s),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Aw(a){function s(Y,F){if(a){var Q=Y.deletions;Q===null?(Y.deletions=[F],Y.flags|=16):Q.push(F)}}function l(Y,F){if(!a)return null;for(;F!==null;)s(Y,F),F=F.sibling;return null}function f(Y){for(var F=new Map;Y!==null;)Y.key!==null?F.set(Y.key,Y):F.set(Y.index,Y),Y=Y.sibling;return F}function p(Y,F){return Y=ba(Y,F),Y.index=0,Y.sibling=null,Y}function y(Y,F,Q){return Y.index=Q,a?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<F?(Y.flags|=67108866,F):Q):(Y.flags|=67108866,F)):(Y.flags|=1048576,F)}function j(Y){return a&&Y.alternate===null&&(Y.flags|=67108866),Y}function O(Y,F,Q,ce){return F===null||F.tag!==6?(F=Rh(Q,Y.mode,ce),F.return=Y,F):(F=p(F,Q),F.return=Y,F)}function z(Y,F,Q,ce){var Me=Q.type;return Me===w?ie(Y,F,Q.props.children,ce,Q.key):F!==null&&(F.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===R&&Fs(Me)===F.type)?(F=p(F,Q.props),ul(F,Q),F.return=Y,F):(F=gu(Q.type,Q.key,Q.props,null,Y.mode,ce),ul(F,Q),F.return=Y,F)}function X(Y,F,Q,ce){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=Mh(Q,Y.mode,ce),F.return=Y,F):(F=p(F,Q.children||[]),F.return=Y,F)}function ie(Y,F,Q,ce,Me){return F===null||F.tag!==7?(F=Ps(Q,Y.mode,ce,Me),F.return=Y,F):(F=p(F,Q),F.return=Y,F)}function ue(Y,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Rh(""+F,Y.mode,Q),F.return=Y,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return Q=gu(F.type,F.key,F.props,null,Y.mode,Q),ul(Q,F),Q.return=Y,Q;case S:return F=Mh(F,Y.mode,Q),F.return=Y,F;case R:return F=Fs(F),ue(Y,F,Q)}if(ge(F)||K(F))return F=Ps(F,Y.mode,Q,null),F.return=Y,F;if(typeof F.then=="function")return ue(Y,_u(F),Q);if(F.$$typeof===T)return ue(Y,yu(Y,F),Q);Su(Y,F)}return null}function Z(Y,F,Q,ce){var Me=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Me!==null?null:O(Y,F,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return Q.key===Me?z(Y,F,Q,ce):null;case S:return Q.key===Me?X(Y,F,Q,ce):null;case R:return Q=Fs(Q),Z(Y,F,Q,ce)}if(ge(Q)||K(Q))return Me!==null?null:ie(Y,F,Q,ce,null);if(typeof Q.then=="function")return Z(Y,F,_u(Q),ce);if(Q.$$typeof===T)return Z(Y,F,yu(Y,Q),ce);Su(Y,Q)}return null}function ne(Y,F,Q,ce,Me){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Y=Y.get(Q)||null,O(F,Y,""+ce,Me);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return Y=Y.get(ce.key===null?Q:ce.key)||null,z(F,Y,ce,Me);case S:return Y=Y.get(ce.key===null?Q:ce.key)||null,X(F,Y,ce,Me);case R:return ce=Fs(ce),ne(Y,F,Q,ce,Me)}if(ge(ce)||K(ce))return Y=Y.get(Q)||null,ie(F,Y,ce,Me,null);if(typeof ce.then=="function")return ne(Y,F,Q,_u(ce),Me);if(ce.$$typeof===T)return ne(Y,F,Q,yu(F,ce),Me);Su(F,ce)}return null}function Ee(Y,F,Q,ce){for(var Me=null,ot=null,De=F,Fe=F=0,Ze=null;De!==null&&Fe<Q.length;Fe++){De.index>Fe?(Ze=De,De=null):Ze=De.sibling;var lt=Z(Y,De,Q[Fe],ce);if(lt===null){De===null&&(De=Ze);break}a&&De&&lt.alternate===null&&s(Y,De),F=y(lt,F,Fe),ot===null?Me=lt:ot.sibling=lt,ot=lt,De=Ze}if(Fe===Q.length)return l(Y,De),tt&&xa(Y,Fe),Me;if(De===null){for(;Fe<Q.length;Fe++)De=ue(Y,Q[Fe],ce),De!==null&&(F=y(De,F,Fe),ot===null?Me=De:ot.sibling=De,ot=De);return tt&&xa(Y,Fe),Me}for(De=f(De);Fe<Q.length;Fe++)Ze=ne(De,Y,Fe,Q[Fe],ce),Ze!==null&&(a&&Ze.alternate!==null&&De.delete(Ze.key===null?Fe:Ze.key),F=y(Ze,F,Fe),ot===null?Me=Ze:ot.sibling=Ze,ot=Ze);return a&&De.forEach(function(hs){return s(Y,hs)}),tt&&xa(Y,Fe),Me}function qe(Y,F,Q,ce){if(Q==null)throw Error(n(151));for(var Me=null,ot=null,De=F,Fe=F=0,Ze=null,lt=Q.next();De!==null&&!lt.done;Fe++,lt=Q.next()){De.index>Fe?(Ze=De,De=null):Ze=De.sibling;var hs=Z(Y,De,lt.value,ce);if(hs===null){De===null&&(De=Ze);break}a&&De&&hs.alternate===null&&s(Y,De),F=y(hs,F,Fe),ot===null?Me=hs:ot.sibling=hs,ot=hs,De=Ze}if(lt.done)return l(Y,De),tt&&xa(Y,Fe),Me;if(De===null){for(;!lt.done;Fe++,lt=Q.next())lt=ue(Y,lt.value,ce),lt!==null&&(F=y(lt,F,Fe),ot===null?Me=lt:ot.sibling=lt,ot=lt);return tt&&xa(Y,Fe),Me}for(De=f(De);!lt.done;Fe++,lt=Q.next())lt=ne(De,Y,Fe,lt.value,ce),lt!==null&&(a&&lt.alternate!==null&&De.delete(lt.key===null?Fe:lt.key),F=y(lt,F,Fe),ot===null?Me=lt:ot.sibling=lt,ot=lt);return a&&De.forEach(function(p4){return s(Y,p4)}),tt&&xa(Y,Fe),Me}function St(Y,F,Q,ce){if(typeof Q=="object"&&Q!==null&&Q.type===w&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:e:{for(var Me=Q.key;F!==null;){if(F.key===Me){if(Me=Q.type,Me===w){if(F.tag===7){l(Y,F.sibling),ce=p(F,Q.props.children),ce.return=Y,Y=ce;break e}}else if(F.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===R&&Fs(Me)===F.type){l(Y,F.sibling),ce=p(F,Q.props),ul(ce,Q),ce.return=Y,Y=ce;break e}l(Y,F);break}else s(Y,F);F=F.sibling}Q.type===w?(ce=Ps(Q.props.children,Y.mode,ce,Q.key),ce.return=Y,Y=ce):(ce=gu(Q.type,Q.key,Q.props,null,Y.mode,ce),ul(ce,Q),ce.return=Y,Y=ce)}return j(Y);case S:e:{for(Me=Q.key;F!==null;){if(F.key===Me)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){l(Y,F.sibling),ce=p(F,Q.children||[]),ce.return=Y,Y=ce;break e}else{l(Y,F);break}else s(Y,F);F=F.sibling}ce=Mh(Q,Y.mode,ce),ce.return=Y,Y=ce}return j(Y);case R:return Q=Fs(Q),St(Y,F,Q,ce)}if(ge(Q))return Ee(Y,F,Q,ce);if(K(Q)){if(Me=K(Q),typeof Me!="function")throw Error(n(150));return Q=Me.call(Q),qe(Y,F,Q,ce)}if(typeof Q.then=="function")return St(Y,F,_u(Q),ce);if(Q.$$typeof===T)return St(Y,F,yu(Y,Q),ce);Su(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(l(Y,F.sibling),ce=p(F,Q),ce.return=Y,Y=ce):(l(Y,F),ce=Rh(Q,Y.mode,ce),ce.return=Y,Y=ce),j(Y)):l(Y,F)}return function(Y,F,Q,ce){try{cl=0;var Me=St(Y,F,Q,ce);return Gi=null,Me}catch(De){if(De===Ki||De===xu)throw De;var ot=en(29,De,null,Y.mode);return ot.lanes=ce,ot.return=Y,ot}finally{}}}var Ks=Aw(!0),Rw=Aw(!1),Wa=!1;function Gh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Xa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ja(a,s,l){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(dt&2)!==0){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,s=mu(a),pw(a,null,l),s}return hu(a,f,s,l),mu(a)}function dl(a,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=a.pendingLanes,l|=f,s.lanes=l,de(a,l)}}function Vh(a,s){var l=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var j={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=j:y=y.next=j,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=s:a.next=s,l.lastBaseUpdate=s}var Qh=!1;function fl(){if(Qh){var a=Hi;if(a!==null)throw a}}function hl(a,s,l,f){Qh=!1;var p=a.updateQueue;Wa=!1;var y=p.firstBaseUpdate,j=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var z=O,X=z.next;z.next=null,j===null?y=X:j.next=X,j=z;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==j&&(O===null?ie.firstBaseUpdate=X:O.next=X,ie.lastBaseUpdate=z))}if(y!==null){var ue=p.baseState;j=0,ie=X=z=null,O=y;do{var Z=O.lane&-536870913,ne=Z!==O.lane;if(ne?(Je&Z)===Z:(f&Z)===Z){Z!==0&&Z===Fi&&(Qh=!0),ie!==null&&(ie=ie.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ee=a,qe=O;Z=s;var St=l;switch(qe.tag){case 1:if(Ee=qe.payload,typeof Ee=="function"){ue=Ee.call(St,ue,Z);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=qe.payload,Z=typeof Ee=="function"?Ee.call(St,ue,Z):Ee,Z==null)break e;ue=v({},ue,Z);break e;case 2:Wa=!0}}Z=O.callback,Z!==null&&(a.flags|=64,ne&&(a.flags|=8192),ne=p.callbacks,ne===null?p.callbacks=[Z]:ne.push(Z))}else ne={lane:Z,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(X=ie=ne,z=ue):ie=ie.next=ne,j|=Z;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);ie===null&&(z=ue),p.baseState=z,p.firstBaseUpdate=X,p.lastBaseUpdate=ie,y===null&&(p.shared.lanes=0),ns|=j,a.lanes=j,a.memoizedState=ue}}function Mw(a,s){if(typeof a!="function")throw Error(n(191,a));a.call(s)}function Lw(a,s){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)Mw(l[a],s)}var Yi=M(null),ju=M(0);function qw(a,s){a=Oa,se(ju,a),se(Yi,s),Oa=a|s.baseLanes}function Wh(){se(ju,Oa),se(Yi,Yi.current)}function Xh(){Oa=ju.current,H(Yi),H(ju)}var tn=M(null),wn=null;function Za(a){var s=a.alternate;se(Yt,Yt.current&1),se(tn,a),wn===null&&(s===null||Yi.current!==null||s.memoizedState!==null)&&(wn=a)}function Jh(a){se(Yt,Yt.current),se(tn,a),wn===null&&(wn=a)}function Uw(a){a.tag===22?(se(Yt,Yt.current),se(tn,a),wn===null&&(wn=a)):es()}function es(){se(Yt,Yt.current),se(tn,tn.current)}function rn(a){H(tn),wn===a&&(wn=null),H(Yt)}var Yt=M(0);function Nu(a){for(var s=a;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ag(l)||sg(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Sa=0,Ie=null,wt=null,Zt=null,ku=!1,Vi=!1,Gs=!1,Eu=0,ml=0,Qi=null,iR=0;function zt(){throw Error(n(321))}function Zh(a,s){if(s===null)return!1;for(var l=0;l<s.length&&l<a.length;l++)if(!Zr(a[l],s[l]))return!1;return!0}function em(a,s,l,f,p,y){return Sa=y,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,P.H=a===null||a.memoizedState===null?x_:gm,Gs=!1,y=l(f,p),Gs=!1,Vi&&(y=$w(s,l,f,p)),Pw(a),y}function Pw(a){P.H=vl;var s=wt!==null&&wt.next!==null;if(Sa=0,Zt=wt=Ie=null,ku=!1,ml=0,Qi=null,s)throw Error(n(300));a===null||er||(a=a.dependencies,a!==null&&vu(a)&&(er=!0))}function $w(a,s,l,f){Ie=a;var p=0;do{if(Vi&&(Qi=null),ml=0,Vi=!1,25<=p)throw Error(n(301));if(p+=1,Zt=wt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}P.H=w_,y=s(l,f)}while(Vi);return y}function oR(){var a=P.H,s=a.useState()[0];return s=typeof s.then=="function"?gl(s):s,a=a.useState()[0],(wt!==null?wt.memoizedState:null)!==a&&(Ie.flags|=1024),s}function tm(){var a=Eu!==0;return Eu=0,a}function rm(a,s,l){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~l}function nm(a){if(ku){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}ku=!1}Sa=0,Zt=wt=Ie=null,Vi=!1,ml=Eu=0,Qi=null}function Mr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ie.memoizedState=Zt=a:Zt=Zt.next=a,Zt}function Vt(){if(wt===null){var a=Ie.alternate;a=a!==null?a.memoizedState:null}else a=wt.next;var s=Zt===null?Ie.memoizedState:Zt.next;if(s!==null)Zt=s,wt=a;else{if(a===null)throw Ie.alternate===null?Error(n(467)):Error(n(310));wt=a,a={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Zt===null?Ie.memoizedState=Zt=a:Zt=Zt.next=a}return Zt}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(a){var s=ml;return ml+=1,Qi===null&&(Qi=[]),a=Tw(Qi,a,s),s=Ie,(Zt===null?s.memoizedState:Zt.next)===null&&(s=s.alternate,P.H=s===null||s.memoizedState===null?x_:gm),a}function Tu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return gl(a);if(a.$$typeof===T)return wr(a)}throw Error(n(438,String(a)))}function am(a){var s=null,l=Ie.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=Ie.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Cu(),Ie.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(a),f=0;f<a;f++)l[f]=B;return s.index++,l}function ja(a,s){return typeof s=="function"?s(a):s}function Du(a){var s=Vt();return sm(s,wt,a)}function sm(a,s,l){var f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=l;var p=a.baseQueue,y=f.pending;if(y!==null){if(p!==null){var j=p.next;p.next=y.next,y.next=j}s.baseQueue=p=y,f.pending=null}if(y=a.baseState,p===null)a.memoizedState=y;else{s=p.next;var O=j=null,z=null,X=s,ie=!1;do{var ue=X.lane&-536870913;if(ue!==X.lane?(Je&ue)===ue:(Sa&ue)===ue){var Z=X.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ue===Fi&&(ie=!0);else if((Sa&Z)===Z){X=X.next,Z===Fi&&(ie=!0);continue}else ue={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(O=z=ue,j=y):z=z.next=ue,Ie.lanes|=Z,ns|=Z;ue=X.action,Gs&&l(y,ue),y=X.hasEagerState?X.eagerState:l(y,ue)}else Z={lane:ue,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(O=z=Z,j=y):z=z.next=Z,Ie.lanes|=ue,ns|=ue;X=X.next}while(X!==null&&X!==s);if(z===null?j=y:z.next=O,!Zr(y,a.memoizedState)&&(er=!0,ie&&(l=Hi,l!==null)))throw l;a.memoizedState=y,a.baseState=j,a.baseQueue=z,f.lastRenderedState=y}return p===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function im(a){var s=Vt(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=a;var f=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var j=p=p.next;do y=a(y,j.action),j=j.next;while(j!==p);Zr(y,s.memoizedState)||(er=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,f]}function zw(a,s,l){var f=Ie,p=Vt(),y=tt;if(y){if(l===void 0)throw Error(n(407));l=l()}else l=s();var j=!Zr((wt||p).memoizedState,l);if(j&&(p.memoizedState=l,er=!0),p=p.queue,cm(Fw.bind(null,f,p,a),[a]),p.getSnapshot!==s||j||Zt!==null&&Zt.memoizedState.tag&1){if(f.flags|=2048,Wi(9,{destroy:void 0},Iw.bind(null,f,p,l,s),null),Nt===null)throw Error(n(349));y||(Sa&127)!==0||Bw(f,s,l)}return l}function Bw(a,s,l){a.flags|=16384,a={getSnapshot:s,value:l},s=Ie.updateQueue,s===null?(s=Cu(),Ie.updateQueue=s,s.stores=[a]):(l=s.stores,l===null?s.stores=[a]:l.push(a))}function Iw(a,s,l,f){s.value=l,s.getSnapshot=f,Hw(s)&&Kw(a)}function Fw(a,s,l){return l(function(){Hw(s)&&Kw(a)})}function Hw(a){var s=a.getSnapshot;a=a.value;try{var l=s();return!Zr(a,l)}catch{return!0}}function Kw(a){var s=Us(a,2);s!==null&&Yr(s,a,2)}function om(a){var s=Mr();if(typeof a=="function"){var l=a;if(a=l(),Gs){st(!0);try{l()}finally{st(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:a},s}function Gw(a,s,l,f){return a.baseState=l,sm(a,wt,typeof f=="function"?f:ja)}function lR(a,s,l,f,p){if(Ru(a))throw Error(n(485));if(a=s.action,a!==null){var y={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){y.listeners.push(j)}};P.T!==null?l(!0):y.isTransition=!1,f(y),l=s.pending,l===null?(y.next=s.pending=y,Yw(s,y)):(y.next=l.next,s.pending=l.next=y)}}function Yw(a,s){var l=s.action,f=s.payload,p=a.state;if(s.isTransition){var y=P.T,j={};P.T=j;try{var O=l(p,f),z=P.S;z!==null&&z(j,O),Vw(a,s,O)}catch(X){lm(a,s,X)}finally{y!==null&&j.types!==null&&(y.types=j.types),P.T=y}}else try{y=l(p,f),Vw(a,s,y)}catch(X){lm(a,s,X)}}function Vw(a,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Qw(a,s,f)},function(f){return lm(a,s,f)}):Qw(a,s,l)}function Qw(a,s,l){s.status="fulfilled",s.value=l,Ww(s),a.state=l,s=a.pending,s!==null&&(l=s.next,l===s?a.pending=null:(l=l.next,s.next=l,Yw(a,l)))}function lm(a,s,l){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,Ww(s),s=s.next;while(s!==f)}a.action=null}function Ww(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Xw(a,s){return s}function Jw(a,s){if(tt){var l=Nt.formState;if(l!==null){e:{var f=Ie;if(tt){if(Dt){t:{for(var p=Dt,y=xn;p.nodeType!==8;){if(!y){p=null;break t}if(p=_n(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Dt=_n(p.nextSibling),f=p.data==="F!";break e}}Va(f)}f=!1}f&&(s=l[0])}}return l=Mr(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xw,lastRenderedState:s},l.queue=f,l=v_.bind(null,Ie,f),f.dispatch=l,f=om(!1),y=mm.bind(null,Ie,!1,f.queue),f=Mr(),p={state:s,dispatch:null,action:a,pending:null},f.queue=p,l=lR.bind(null,Ie,p,y,l),p.dispatch=l,f.memoizedState=a,[s,l,!1]}function Zw(a){var s=Vt();return e_(s,wt,a)}function e_(a,s,l){if(s=sm(a,s,Xw)[0],a=Du(ja)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=gl(s)}catch(j){throw j===Ki?xu:j}else f=s;s=Vt();var p=s.queue,y=p.dispatch;return l!==s.memoizedState&&(Ie.flags|=2048,Wi(9,{destroy:void 0},cR.bind(null,p,l),null)),[f,y,a]}function cR(a,s){a.action=s}function t_(a){var s=Vt(),l=wt;if(l!==null)return e_(s,l,a);Vt(),s=s.memoizedState,l=Vt();var f=l.queue.dispatch;return l.memoizedState=a,[s,f,!1]}function Wi(a,s,l,f){return a={tag:a,create:l,deps:f,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Cu(),Ie.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=a.next=a:(f=l.next,l.next=a,a.next=f,s.lastEffect=a),a}function r_(){return Vt().memoizedState}function Ou(a,s,l,f){var p=Mr();Ie.flags|=a,p.memoizedState=Wi(1|s,{destroy:void 0},l,f===void 0?null:f)}function Au(a,s,l,f){var p=Vt();f=f===void 0?null:f;var y=p.memoizedState.inst;wt!==null&&f!==null&&Zh(f,wt.memoizedState.deps)?p.memoizedState=Wi(s,y,l,f):(Ie.flags|=a,p.memoizedState=Wi(1|s,y,l,f))}function n_(a,s){Ou(8390656,8,a,s)}function cm(a,s){Au(2048,8,a,s)}function uR(a){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=Cu(),Ie.updateQueue=s,s.events=[a];else{var l=s.events;l===null?s.events=[a]:l.push(a)}}function a_(a){var s=Vt().memoizedState;return uR({ref:s,nextImpl:a}),function(){if((dt&2)!==0)throw Error(n(440));return s.impl.apply(void 0,arguments)}}function s_(a,s){return Au(4,2,a,s)}function i_(a,s){return Au(4,4,a,s)}function o_(a,s){if(typeof s=="function"){a=a();var l=s(a);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function l_(a,s,l){l=l!=null?l.concat([a]):null,Au(4,4,o_.bind(null,s,a),l)}function um(){}function c_(a,s){var l=Vt();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&Zh(s,f[1])?f[0]:(l.memoizedState=[a,s],a)}function u_(a,s){var l=Vt();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&Zh(s,f[1]))return f[0];if(f=a(),Gs){st(!0);try{a()}finally{st(!1)}}return l.memoizedState=[f,s],f}function dm(a,s,l){return l===void 0||(Sa&1073741824)!==0&&(Je&261930)===0?a.memoizedState=s:(a.memoizedState=l,a=d1(),Ie.lanes|=a,ns|=a,l)}function d_(a,s,l,f){return Zr(l,s)?l:Yi.current!==null?(a=dm(a,l,f),Zr(a,s)||(er=!0),a):(Sa&42)===0||(Sa&1073741824)!==0&&(Je&261930)===0?(er=!0,a.memoizedState=l):(a=d1(),Ie.lanes|=a,ns|=a,s)}function f_(a,s,l,f,p){var y=W.p;W.p=y!==0&&8>y?y:8;var j=P.T,O={};P.T=O,mm(a,!1,s,l);try{var z=p(),X=P.S;if(X!==null&&X(O,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=sR(z,f);pl(a,s,ie,sn(a))}else pl(a,s,f,sn(a))}catch(ue){pl(a,s,{then:function(){},status:"rejected",reason:ue},sn())}finally{W.p=y,j!==null&&O.types!==null&&(j.types=O.types),P.T=j}}function dR(){}function fm(a,s,l,f){if(a.tag!==5)throw Error(n(476));var p=h_(a).queue;f_(a,p,s,J,l===null?dR:function(){return m_(a),l(f)})}function h_(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:J},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:l},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function m_(a){var s=h_(a);s.next===null&&(s=a.alternate.memoizedState),pl(a,s.next.queue,{},sn())}function hm(){return wr(Rl)}function g_(){return Vt().memoizedState}function p_(){return Vt().memoizedState}function fR(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var l=sn();a=Xa(l);var f=Ja(s,a,l);f!==null&&(Yr(f,s,l),dl(f,s,l)),s={cache:Ih()},a.payload=s;return}s=s.return}}function hR(a,s,l){var f=sn();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ru(a)?y_(s,l):(l=Oh(a,s,l,f),l!==null&&(Yr(l,a,f),b_(l,s,f)))}function v_(a,s,l){var f=sn();pl(a,s,l,f)}function pl(a,s,l,f){var p={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ru(a))y_(s,p);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var j=s.lastRenderedState,O=y(j,l);if(p.hasEagerState=!0,p.eagerState=O,Zr(O,j))return hu(a,s,p,0),Nt===null&&fu(),!1}catch{}finally{}if(l=Oh(a,s,p,f),l!==null)return Yr(l,a,f),b_(l,s,f),!0}return!1}function mm(a,s,l,f){if(f={lane:2,revertLane:Gm(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Ru(a)){if(s)throw Error(n(479))}else s=Oh(a,l,f,2),s!==null&&Yr(s,a,2)}function Ru(a){var s=a.alternate;return a===Ie||s!==null&&s===Ie}function y_(a,s){Vi=ku=!0;var l=a.pending;l===null?s.next=s:(s.next=l.next,l.next=s),a.pending=s}function b_(a,s,l){if((l&4194048)!==0){var f=s.lanes;f&=a.pendingLanes,l|=f,s.lanes=l,de(a,l)}}var vl={readContext:wr,use:Tu,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};vl.useEffectEvent=zt;var x_={readContext:wr,use:Tu,useCallback:function(a,s){return Mr().memoizedState=[a,s===void 0?null:s],a},useContext:wr,useEffect:n_,useImperativeHandle:function(a,s,l){l=l!=null?l.concat([a]):null,Ou(4194308,4,o_.bind(null,s,a),l)},useLayoutEffect:function(a,s){return Ou(4194308,4,a,s)},useInsertionEffect:function(a,s){Ou(4,2,a,s)},useMemo:function(a,s){var l=Mr();s=s===void 0?null:s;var f=a();if(Gs){st(!0);try{a()}finally{st(!1)}}return l.memoizedState=[f,s],f},useReducer:function(a,s,l){var f=Mr();if(l!==void 0){var p=l(s);if(Gs){st(!0);try{l(s)}finally{st(!1)}}}else p=s;return f.memoizedState=f.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},f.queue=a,a=a.dispatch=hR.bind(null,Ie,a),[f.memoizedState,a]},useRef:function(a){var s=Mr();return a={current:a},s.memoizedState=a},useState:function(a){a=om(a);var s=a.queue,l=v_.bind(null,Ie,s);return s.dispatch=l,[a.memoizedState,l]},useDebugValue:um,useDeferredValue:function(a,s){var l=Mr();return dm(l,a,s)},useTransition:function(){var a=om(!1);return a=f_.bind(null,Ie,a.queue,!0,!1),Mr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,l){var f=Ie,p=Mr();if(tt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Nt===null)throw Error(n(349));(Je&127)!==0||Bw(f,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,n_(Fw.bind(null,f,y,a),[a]),f.flags|=2048,Wi(9,{destroy:void 0},Iw.bind(null,f,y,l,s),null),l},useId:function(){var a=Mr(),s=Nt.identifierPrefix;if(tt){var l=ea,f=Zn;l=(f&~(1<<32-it(f)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Eu++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=iR++,s="_"+s+"r_"+l.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:hm,useFormState:Jw,useActionState:Jw,useOptimistic:function(a){var s=Mr();s.memoizedState=s.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=mm.bind(null,Ie,!0,l),l.dispatch=s,[a,s]},useMemoCache:am,useCacheRefresh:function(){return Mr().memoizedState=fR.bind(null,Ie)},useEffectEvent:function(a){var s=Mr(),l={impl:a};return s.memoizedState=l,function(){if((dt&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},gm={readContext:wr,use:Tu,useCallback:c_,useContext:wr,useEffect:cm,useImperativeHandle:l_,useInsertionEffect:s_,useLayoutEffect:i_,useMemo:u_,useReducer:Du,useRef:r_,useState:function(){return Du(ja)},useDebugValue:um,useDeferredValue:function(a,s){var l=Vt();return d_(l,wt.memoizedState,a,s)},useTransition:function(){var a=Du(ja)[0],s=Vt().memoizedState;return[typeof a=="boolean"?a:gl(a),s]},useSyncExternalStore:zw,useId:g_,useHostTransitionStatus:hm,useFormState:Zw,useActionState:Zw,useOptimistic:function(a,s){var l=Vt();return Gw(l,wt,a,s)},useMemoCache:am,useCacheRefresh:p_};gm.useEffectEvent=a_;var w_={readContext:wr,use:Tu,useCallback:c_,useContext:wr,useEffect:cm,useImperativeHandle:l_,useInsertionEffect:s_,useLayoutEffect:i_,useMemo:u_,useReducer:im,useRef:r_,useState:function(){return im(ja)},useDebugValue:um,useDeferredValue:function(a,s){var l=Vt();return wt===null?dm(l,a,s):d_(l,wt.memoizedState,a,s)},useTransition:function(){var a=im(ja)[0],s=Vt().memoizedState;return[typeof a=="boolean"?a:gl(a),s]},useSyncExternalStore:zw,useId:g_,useHostTransitionStatus:hm,useFormState:t_,useActionState:t_,useOptimistic:function(a,s){var l=Vt();return wt!==null?Gw(l,wt,a,s):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:am,useCacheRefresh:p_};w_.useEffectEvent=a_;function pm(a,s,l,f){s=a.memoizedState,l=l(f,s),l=l==null?s:v({},s,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var vm={enqueueSetState:function(a,s,l){a=a._reactInternals;var f=sn(),p=Xa(f);p.payload=s,l!=null&&(p.callback=l),s=Ja(a,p,f),s!==null&&(Yr(s,a,f),dl(s,a,f))},enqueueReplaceState:function(a,s,l){a=a._reactInternals;var f=sn(),p=Xa(f);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=Ja(a,p,f),s!==null&&(Yr(s,a,f),dl(s,a,f))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var l=sn(),f=Xa(l);f.tag=2,s!=null&&(f.callback=s),s=Ja(a,f,l),s!==null&&(Yr(s,a,l),dl(s,a,l))}};function __(a,s,l,f,p,y,j){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,y,j):s.prototype&&s.prototype.isPureReactComponent?!nl(l,f)||!nl(p,y):!0}function S_(a,s,l,f){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==a&&vm.enqueueReplaceState(s,s.state,null)}function Ys(a,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(a=a.defaultProps){l===s&&(l=v({},l));for(var p in a)l[p]===void 0&&(l[p]=a[p])}return l}function j_(a){du(a)}function N_(a){console.error(a)}function k_(a){du(a)}function Mu(a,s){try{var l=a.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function E_(a,s,l){try{var f=a.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ym(a,s,l){return l=Xa(l),l.tag=3,l.payload={element:null},l.callback=function(){Mu(a,s)},l}function C_(a){return a=Xa(a),a.tag=3,a}function T_(a,s,l,f){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=f.value;a.payload=function(){return p(y)},a.callback=function(){E_(s,l,f)}}var j=l.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(a.callback=function(){E_(s,l,f),typeof p!="function"&&(as===null?as=new Set([this]):as.add(this));var O=f.stack;this.componentDidCatch(f.value,{componentStack:O!==null?O:""})})}function mR(a,s,l,f,p){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&Ii(s,l,p,!0),l=tn.current,l!==null){switch(l.tag){case 31:case 13:return wn===null?Gu():l.alternate===null&&Bt===0&&(Bt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,f===wu?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),Fm(a,f,p)),!1;case 22:return l.flags|=65536,f===wu?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),Fm(a,f,p)),!1}throw Error(n(435,l.tag))}return Fm(a,f,p),Gu(),!1}if(tt)return s=tn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,f!==Uh&&(a=Error(n(422),{cause:f}),il(vn(a,l)))):(f!==Uh&&(s=Error(n(423),{cause:f}),il(vn(s,l))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,f=vn(f,l),p=ym(a.stateNode,f,p),Vh(a,p),Bt!==4&&(Bt=2)),!1;var y=Error(n(520),{cause:f});if(y=vn(y,l),Nl===null?Nl=[y]:Nl.push(y),Bt!==4&&(Bt=2),s===null)return!0;f=vn(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,a=p&-p,l.lanes|=a,a=ym(l.stateNode,f,a),Vh(l,a),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(as===null||!as.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=C_(p),T_(p,a,l,f),Vh(l,p),!1}l=l.return}while(l!==null);return!1}var bm=Error(n(461)),er=!1;function _r(a,s,l,f){s.child=a===null?Rw(s,null,l,f):Ks(s,a.child,l,f)}function D_(a,s,l,f,p){l=l.render;var y=s.ref;if("ref"in f){var j={};for(var O in f)O!=="ref"&&(j[O]=f[O])}else j=f;return Bs(s),f=em(a,s,l,j,y,p),O=tm(),a!==null&&!er?(rm(a,s,p),Na(a,s,p)):(tt&&O&&Lh(s),s.flags|=1,_r(a,s,f,p),s.child)}function O_(a,s,l,f,p){if(a===null){var y=l.type;return typeof y=="function"&&!Ah(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,A_(a,s,y,f,p)):(a=gu(l.type,null,f,s,s.mode,p),a.ref=s.ref,a.return=s,s.child=a)}if(y=a.child,!Em(a,p)){var j=y.memoizedProps;if(l=l.compare,l=l!==null?l:nl,l(j,f)&&a.ref===s.ref)return Na(a,s,p)}return s.flags|=1,a=ba(y,f),a.ref=s.ref,a.return=s,s.child=a}function A_(a,s,l,f,p){if(a!==null){var y=a.memoizedProps;if(nl(y,f)&&a.ref===s.ref)if(er=!1,s.pendingProps=f=y,Em(a,p))(a.flags&131072)!==0&&(er=!0);else return s.lanes=a.lanes,Na(a,s,p)}return xm(a,s,l,f,p)}function R_(a,s,l,f){var p=f.children,y=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,a!==null){for(f=s.child=a.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;f=p&~y}else f=0,s.child=null;return M_(a,s,y,l,f)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&bu(s,y!==null?y.cachePool:null),y!==null?qw(s,y):Wh(),Uw(s);else return f=s.lanes=536870912,M_(a,s,y!==null?y.baseLanes|l:l,l,f)}else y!==null?(bu(s,y.cachePool),qw(s,y),es(),s.memoizedState=null):(a!==null&&bu(s,null),Wh(),es());return _r(a,s,p,l),s.child}function yl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function M_(a,s,l,f,p){var y=Hh();return y=y===null?null:{parent:Jt._currentValue,pool:y},s.memoizedState={baseLanes:l,cachePool:y},a!==null&&bu(s,null),Wh(),Uw(s),a!==null&&Ii(a,s,f,!0),s.childLanes=p,null}function Lu(a,s){return s=Uu({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function L_(a,s,l){return Ks(s,a.child,null,l),a=Lu(s,s.pendingProps),a.flags|=2,rn(s),s.memoizedState=null,a}function gR(a,s,l){var f=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(tt){if(f.mode==="hidden")return a=Lu(s,f),s.lanes=536870912,yl(null,a);if(Jh(s),(a=Dt)?(a=Y1(a,xn),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ga!==null?{id:Zn,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},l=yw(a),l.return=s,s.child=l,xr=s,Dt=null)):a=null,a===null)throw Va(s);return s.lanes=536870912,null}return Lu(s,f)}var y=a.memoizedState;if(y!==null){var j=y.dehydrated;if(Jh(s),p)if(s.flags&256)s.flags&=-257,s=L_(a,s,l);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(n(558));else if(er||Ii(a,s,l,!1),p=(l&a.childLanes)!==0,er||p){if(f=Nt,f!==null&&(j=pe(f,l),j!==0&&j!==y.retryLane))throw y.retryLane=j,Us(a,j),Yr(f,a,j),bm;Gu(),s=L_(a,s,l)}else a=y.treeContext,Dt=_n(j.nextSibling),xr=s,tt=!0,Ya=null,xn=!1,a!==null&&ww(s,a),s=Lu(s,f),s.flags|=4096;return s}return a=ba(a.child,{mode:f.mode,children:f.children}),a.ref=s.ref,s.child=a,a.return=s,a}function qu(a,s){var l=s.ref;if(l===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(a===null||a.ref!==l)&&(s.flags|=4194816)}}function xm(a,s,l,f,p){return Bs(s),l=em(a,s,l,f,void 0,p),f=tm(),a!==null&&!er?(rm(a,s,p),Na(a,s,p)):(tt&&f&&Lh(s),s.flags|=1,_r(a,s,l,p),s.child)}function q_(a,s,l,f,p,y){return Bs(s),s.updateQueue=null,l=$w(s,f,l,p),Pw(a),f=tm(),a!==null&&!er?(rm(a,s,y),Na(a,s,y)):(tt&&f&&Lh(s),s.flags|=1,_r(a,s,l,y),s.child)}function U_(a,s,l,f,p){if(Bs(s),s.stateNode===null){var y=Pi,j=l.contextType;typeof j=="object"&&j!==null&&(y=wr(j)),y=new l(f,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=vm,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=f,y.state=s.memoizedState,y.refs={},Gh(s),j=l.contextType,y.context=typeof j=="object"&&j!==null?wr(j):Pi,y.state=s.memoizedState,j=l.getDerivedStateFromProps,typeof j=="function"&&(pm(s,l,j,f),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(j=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),j!==y.state&&vm.enqueueReplaceState(y,y.state,null),hl(s,f,y,p),fl(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(a===null){y=s.stateNode;var O=s.memoizedProps,z=Ys(l,O);y.props=z;var X=y.context,ie=l.contextType;j=Pi,typeof ie=="object"&&ie!==null&&(j=wr(ie));var ue=l.getDerivedStateFromProps;ie=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||X!==j)&&S_(s,y,f,j),Wa=!1;var Z=s.memoizedState;y.state=Z,hl(s,f,y,p),fl(),X=s.memoizedState,O||Z!==X||Wa?(typeof ue=="function"&&(pm(s,l,ue,f),X=s.memoizedState),(z=Wa||__(s,l,z,f,Z,X,j))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=X),y.props=f,y.state=X,y.context=j,f=z):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{y=s.stateNode,Yh(a,s),j=s.memoizedProps,ie=Ys(l,j),y.props=ie,ue=s.pendingProps,Z=y.context,X=l.contextType,z=Pi,typeof X=="object"&&X!==null&&(z=wr(X)),O=l.getDerivedStateFromProps,(X=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j!==ue||Z!==z)&&S_(s,y,f,z),Wa=!1,Z=s.memoizedState,y.state=Z,hl(s,f,y,p),fl();var ne=s.memoizedState;j!==ue||Z!==ne||Wa||a!==null&&a.dependencies!==null&&vu(a.dependencies)?(typeof O=="function"&&(pm(s,l,O,f),ne=s.memoizedState),(ie=Wa||__(s,l,ie,f,Z,ne,z)||a!==null&&a.dependencies!==null&&vu(a.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,ne,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,ne,z)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||j===a.memoizedProps&&Z===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&Z===a.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=ne),y.props=f,y.state=ne,y.context=z,f=ie):(typeof y.componentDidUpdate!="function"||j===a.memoizedProps&&Z===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&Z===a.memoizedState||(s.flags|=1024),f=!1)}return y=f,qu(a,s),f=(s.flags&128)!==0,y||f?(y=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,a!==null&&f?(s.child=Ks(s,a.child,null,p),s.child=Ks(s,null,l,p)):_r(a,s,l,p),s.memoizedState=y.state,a=s.child):a=Na(a,s,p),a}function P_(a,s,l,f){return $s(),s.flags|=256,_r(a,s,l,f),s.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(a){return{baseLanes:a,cachePool:Ew()}}function Sm(a,s,l){return a=a!==null?a.childLanes&~l:0,s&&(a|=an),a}function $_(a,s,l){var f=s.pendingProps,p=!1,y=(s.flags&128)!==0,j;if((j=y)||(j=a!==null&&a.memoizedState===null?!1:(Yt.current&2)!==0),j&&(p=!0,s.flags&=-129),j=(s.flags&32)!==0,s.flags&=-33,a===null){if(tt){if(p?Za(s):es(),(a=Dt)?(a=Y1(a,xn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ga!==null?{id:Zn,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},l=yw(a),l.return=s,s.child=l,xr=s,Dt=null)):a=null,a===null)throw Va(s);return sg(a)?s.lanes=32:s.lanes=536870912,null}var O=f.children;return f=f.fallback,p?(es(),p=s.mode,O=Uu({mode:"hidden",children:O},p),f=Ps(f,p,l,null),O.return=s,f.return=s,O.sibling=f,s.child=O,f=s.child,f.memoizedState=_m(l),f.childLanes=Sm(a,j,l),s.memoizedState=wm,yl(null,f)):(Za(s),jm(s,O))}var z=a.memoizedState;if(z!==null&&(O=z.dehydrated,O!==null)){if(y)s.flags&256?(Za(s),s.flags&=-257,s=Nm(a,s,l)):s.memoizedState!==null?(es(),s.child=a.child,s.flags|=128,s=null):(es(),O=f.fallback,p=s.mode,f=Uu({mode:"visible",children:f.children},p),O=Ps(O,p,l,null),O.flags|=2,f.return=s,O.return=s,f.sibling=O,s.child=f,Ks(s,a.child,null,l),f=s.child,f.memoizedState=_m(l),f.childLanes=Sm(a,j,l),s.memoizedState=wm,s=yl(null,f));else if(Za(s),sg(O)){if(j=O.nextSibling&&O.nextSibling.dataset,j)var X=j.dgst;j=X,f=Error(n(419)),f.stack="",f.digest=j,il({value:f,source:null,stack:null}),s=Nm(a,s,l)}else if(er||Ii(a,s,l,!1),j=(l&a.childLanes)!==0,er||j){if(j=Nt,j!==null&&(f=pe(j,l),f!==0&&f!==z.retryLane))throw z.retryLane=f,Us(a,f),Yr(j,a,f),bm;ag(O)||Gu(),s=Nm(a,s,l)}else ag(O)?(s.flags|=192,s.child=a.child,s=null):(a=z.treeContext,Dt=_n(O.nextSibling),xr=s,tt=!0,Ya=null,xn=!1,a!==null&&ww(s,a),s=jm(s,f.children),s.flags|=4096);return s}return p?(es(),O=f.fallback,p=s.mode,z=a.child,X=z.sibling,f=ba(z,{mode:"hidden",children:f.children}),f.subtreeFlags=z.subtreeFlags&65011712,X!==null?O=ba(X,O):(O=Ps(O,p,l,null),O.flags|=2),O.return=s,f.return=s,f.sibling=O,s.child=f,yl(null,f),f=s.child,O=a.child.memoizedState,O===null?O=_m(l):(p=O.cachePool,p!==null?(z=Jt._currentValue,p=p.parent!==z?{parent:z,pool:z}:p):p=Ew(),O={baseLanes:O.baseLanes|l,cachePool:p}),f.memoizedState=O,f.childLanes=Sm(a,j,l),s.memoizedState=wm,yl(a.child,f)):(Za(s),l=a.child,a=l.sibling,l=ba(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,a!==null&&(j=s.deletions,j===null?(s.deletions=[a],s.flags|=16):j.push(a)),s.child=l,s.memoizedState=null,l)}function jm(a,s){return s=Uu({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Uu(a,s){return a=en(22,a,null,s),a.lanes=0,a}function Nm(a,s,l){return Ks(s,a.child,null,l),a=jm(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function z_(a,s,l){a.lanes|=s;var f=a.alternate;f!==null&&(f.lanes|=s),zh(a.return,s,l)}function km(a,s,l,f,p,y){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:p,treeForkCount:y}:(j.isBackwards=s,j.rendering=null,j.renderingStartTime=0,j.last=f,j.tail=l,j.tailMode=p,j.treeForkCount=y)}function B_(a,s,l){var f=s.pendingProps,p=f.revealOrder,y=f.tail;f=f.children;var j=Yt.current,O=(j&2)!==0;if(O?(j=j&1|2,s.flags|=128):j&=1,se(Yt,j),_r(a,s,f,l),f=tt?sl:0,!O&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&z_(a,l,s);else if(a.tag===19)z_(a,l,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)a=l.alternate,a!==null&&Nu(a)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),km(s,!1,p,l,y,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(a=p.alternate,a!==null&&Nu(a)===null){s.child=p;break}a=p.sibling,p.sibling=l,l=p,p=a}km(s,!0,l,null,y,f);break;case"together":km(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function Na(a,s,l){if(a!==null&&(s.dependencies=a.dependencies),ns|=s.lanes,(l&s.childLanes)===0)if(a!==null){if(Ii(a,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(n(153));if(s.child!==null){for(a=s.child,l=ba(a,a.pendingProps),s.child=l,l.return=s;a.sibling!==null;)a=a.sibling,l=l.sibling=ba(a,a.pendingProps),l.return=s;l.sibling=null}return s.child}function Em(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&vu(a)))}function pR(a,s,l){switch(s.tag){case 3:Le(s,s.stateNode.containerInfo),Qa(s,Jt,a.memoizedState.cache),$s();break;case 27:case 5:le(s);break;case 4:Le(s,s.stateNode.containerInfo);break;case 10:Qa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Jh(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Za(s),s.flags|=128,null):(l&s.child.childLanes)!==0?$_(a,s,l):(Za(s),a=Na(a,s,l),a!==null?a.sibling:null);Za(s);break;case 19:var p=(a.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(Ii(a,s,l,!1),f=(l&s.childLanes)!==0),p){if(f)return B_(a,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),se(Yt,Yt.current),f)break;return null;case 22:return s.lanes=0,R_(a,s,l,s.pendingProps);case 24:Qa(s,Jt,a.memoizedState.cache)}return Na(a,s,l)}function I_(a,s,l){if(a!==null)if(a.memoizedProps!==s.pendingProps)er=!0;else{if(!Em(a,l)&&(s.flags&128)===0)return er=!1,pR(a,s,l);er=(a.flags&131072)!==0}else er=!1,tt&&(s.flags&1048576)!==0&&xw(s,sl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(a=Fs(s.elementType),s.type=a,typeof a=="function")Ah(a)?(f=Ys(a,f),s.tag=1,s=U_(null,s,a,f,l)):(s.tag=0,s=xm(null,s,a,f,l));else{if(a!=null){var p=a.$$typeof;if(p===A){s.tag=11,s=D_(null,s,a,f,l);break e}else if(p===D){s.tag=14,s=O_(null,s,a,f,l);break e}}throw s=te(a)||a,Error(n(306,s,""))}}return s;case 0:return xm(a,s,s.type,s.pendingProps,l);case 1:return f=s.type,p=Ys(f,s.pendingProps),U_(a,s,f,p,l);case 3:e:{if(Le(s,s.stateNode.containerInfo),a===null)throw Error(n(387));f=s.pendingProps;var y=s.memoizedState;p=y.element,Yh(a,s),hl(s,f,null,l);var j=s.memoizedState;if(f=j.cache,Qa(s,Jt,f),f!==y.cache&&Bh(s,[Jt],l,!0),fl(),f=j.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:j.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=P_(a,s,f,l);break e}else if(f!==p){p=vn(Error(n(424)),s),il(p),s=P_(a,s,f,l);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Dt=_n(a.firstChild),xr=s,tt=!0,Ya=null,xn=!0,l=Rw(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if($s(),f===p){s=Na(a,s,l);break e}_r(a,s,f,l)}s=s.child}return s;case 26:return qu(a,s),a===null?(l=Z1(s.type,null,s.pendingProps,null))?s.memoizedState=l:tt||(l=s.type,a=s.pendingProps,f=Zu(xe.current).createElement(l),f[we]=s,f[Se]=a,Sr(f,l,a),Mt(f),s.stateNode=f):s.memoizedState=Z1(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return le(s),a===null&&tt&&(f=s.stateNode=W1(s.type,s.pendingProps,xe.current),xr=s,xn=!0,p=Dt,ls(s.type)?(ig=p,Dt=_n(f.firstChild)):Dt=p),_r(a,s,s.pendingProps.children,l),qu(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&tt&&((p=f=Dt)&&(f=GR(f,s.type,s.pendingProps,xn),f!==null?(s.stateNode=f,xr=s,Dt=_n(f.firstChild),xn=!1,p=!0):p=!1),p||Va(s)),le(s),p=s.type,y=s.pendingProps,j=a!==null?a.memoizedProps:null,f=y.children,tg(p,y)?f=null:j!==null&&tg(p,j)&&(s.flags|=32),s.memoizedState!==null&&(p=em(a,s,oR,null,null,l),Rl._currentValue=p),qu(a,s),_r(a,s,f,l),s.child;case 6:return a===null&&tt&&((a=l=Dt)&&(l=YR(l,s.pendingProps,xn),l!==null?(s.stateNode=l,xr=s,Dt=null,a=!0):a=!1),a||Va(s)),null;case 13:return $_(a,s,l);case 4:return Le(s,s.stateNode.containerInfo),f=s.pendingProps,a===null?s.child=Ks(s,null,f,l):_r(a,s,f,l),s.child;case 11:return D_(a,s,s.type,s.pendingProps,l);case 7:return _r(a,s,s.pendingProps,l),s.child;case 8:return _r(a,s,s.pendingProps.children,l),s.child;case 12:return _r(a,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,Qa(s,s.type,f.value),_r(a,s,f.children,l),s.child;case 9:return p=s.type._context,f=s.pendingProps.children,Bs(s),p=wr(p),f=f(p),s.flags|=1,_r(a,s,f,l),s.child;case 14:return O_(a,s,s.type,s.pendingProps,l);case 15:return A_(a,s,s.type,s.pendingProps,l);case 19:return B_(a,s,l);case 31:return gR(a,s,l);case 22:return R_(a,s,l,s.pendingProps);case 24:return Bs(s),f=wr(Jt),a===null?(p=Hh(),p===null&&(p=Nt,y=Ih(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),s.memoizedState={parent:f,cache:p},Gh(s),Qa(s,Jt,p)):((a.lanes&l)!==0&&(Yh(a,s),hl(s,null,null,l),fl()),p=a.memoizedState,y=s.memoizedState,p.parent!==f?(p={parent:f,cache:f},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Qa(s,Jt,f)):(f=y.cache,Qa(s,Jt,f),f!==p.cache&&Bh(s,[Jt],l,!0))),_r(a,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function ka(a){a.flags|=4}function Cm(a,s,l,f,p){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(p&335544128)===p)if(a.stateNode.complete)a.flags|=8192;else if(g1())a.flags|=8192;else throw Hs=wu,Kh}else a.flags&=-16777217}function F_(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!aS(s))if(g1())a.flags|=8192;else throw Hs=wu,Kh}function Pu(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?fr():536870912,a.lanes|=s,eo|=s)}function bl(a,s){if(!tt)switch(a.tailMode){case"hidden":s=a.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Ot(a){var s=a.alternate!==null&&a.alternate.child===a.child,l=0,f=0;if(s)for(var p=a.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=f,a.childLanes=l,s}function vR(a,s,l){var f=s.pendingProps;switch(qh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(s),null;case 1:return Ot(s),null;case 3:return l=s.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),_a(Jt),ae(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Bi(s)?ka(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ph())),Ot(s),null;case 26:var p=s.type,y=s.memoizedState;return a===null?(ka(s),y!==null?(Ot(s),F_(s,y)):(Ot(s),Cm(s,p,null,f,l))):y?y!==a.memoizedState?(ka(s),Ot(s),F_(s,y)):(Ot(s),s.flags&=-16777217):(a=a.memoizedProps,a!==f&&ka(s),Ot(s),Cm(s,p,a,f,l)),null;case 27:if(at(s),l=xe.current,p=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&ka(s);else{if(!f){if(s.stateNode===null)throw Error(n(166));return Ot(s),null}a=fe.current,Bi(s)?_w(s):(a=W1(p,f,l),s.stateNode=a,ka(s))}return Ot(s),null;case 5:if(at(s),p=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&ka(s);else{if(!f){if(s.stateNode===null)throw Error(n(166));return Ot(s),null}if(y=fe.current,Bi(s))_w(s);else{var j=Zu(xe.current);switch(y){case 1:y=j.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=j.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=j.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof f.is=="string"?j.createElement("select",{is:f.is}):j.createElement("select"),f.multiple?y.multiple=!0:f.size&&(y.size=f.size);break;default:y=typeof f.is=="string"?j.createElement(p,{is:f.is}):j.createElement(p)}}y[we]=s,y[Se]=f;e:for(j=s.child;j!==null;){if(j.tag===5||j.tag===6)y.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===s)break e;for(;j.sibling===null;){if(j.return===null||j.return===s)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}s.stateNode=y;e:switch(Sr(y,p,f),p){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&ka(s)}}return Ot(s),Cm(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,l),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==f&&ka(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(n(166));if(a=xe.current,Bi(s)){if(a=s.stateNode,l=s.memoizedProps,f=null,p=xr,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}a[we]=s,a=!!(a.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||$1(a.nodeValue,l)),a||Va(s,!0)}else a=Zu(a).createTextNode(f),a[we]=s,s.stateNode=a}return Ot(s),null;case 31:if(l=s.memoizedState,a===null||a.memoizedState!==null){if(f=Bi(s),l!==null){if(a===null){if(!f)throw Error(n(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[we]=s}else $s(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ot(s),a=!1}else l=Ph(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=l),a=!0;if(!a)return s.flags&256?(rn(s),s):(rn(s),null);if((s.flags&128)!==0)throw Error(n(558))}return Ot(s),null;case 13:if(f=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=Bi(s),f!==null&&f.dehydrated!==null){if(a===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[we]=s}else $s(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ot(s),p=!1}else p=Ph(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(rn(s),s):(rn(s),null)}return rn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=f!==null,a=a!==null&&a.memoizedState!==null,l&&(f=s.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==p&&(f.flags|=2048)),l!==a&&l&&(s.child.flags|=8192),Pu(s,s.updateQueue),Ot(s),null);case 4:return ae(),a===null&&Wm(s.stateNode.containerInfo),Ot(s),null;case 10:return _a(s.type),Ot(s),null;case 19:if(H(Yt),f=s.memoizedState,f===null)return Ot(s),null;if(p=(s.flags&128)!==0,y=f.rendering,y===null)if(p)bl(f,!1);else{if(Bt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(y=Nu(a),y!==null){for(s.flags|=128,bl(f,!1),a=y.updateQueue,s.updateQueue=a,Pu(s,a),s.subtreeFlags=0,a=l,l=s.child;l!==null;)vw(l,a),l=l.sibling;return se(Yt,Yt.current&1|2),tt&&xa(s,f.treeForkCount),s.child}a=a.sibling}f.tail!==null&&nt()>Fu&&(s.flags|=128,p=!0,bl(f,!1),s.lanes=4194304)}else{if(!p)if(a=Nu(y),a!==null){if(s.flags|=128,p=!0,a=a.updateQueue,s.updateQueue=a,Pu(s,a),bl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!tt)return Ot(s),null}else 2*nt()-f.renderingStartTime>Fu&&l!==536870912&&(s.flags|=128,p=!0,bl(f,!1),s.lanes=4194304);f.isBackwards?(y.sibling=s.child,s.child=y):(a=f.last,a!==null?a.sibling=y:s.child=y,f.last=y)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=nt(),a.sibling=null,l=Yt.current,se(Yt,p?l&1|2:l&1),tt&&xa(s,f.treeForkCount),a):(Ot(s),null);case 22:case 23:return rn(s),Xh(),f=s.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(Ot(s),s.subtreeFlags&6&&(s.flags|=8192)):Ot(s),l=s.updateQueue,l!==null&&Pu(s,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),a!==null&&H(Is),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),_a(Jt),Ot(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function yR(a,s){switch(qh(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return _a(Jt),ae(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return at(s),null;case 31:if(s.memoizedState!==null){if(rn(s),s.alternate===null)throw Error(n(340));$s()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(rn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(n(340));$s()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return H(Yt),null;case 4:return ae(),null;case 10:return _a(s.type),null;case 22:case 23:return rn(s),Xh(),a!==null&&H(Is),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return _a(Jt),null;case 25:return null;default:return null}}function H_(a,s){switch(qh(s),s.tag){case 3:_a(Jt),ae();break;case 26:case 27:case 5:at(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&rn(s);break;case 13:rn(s);break;case 19:H(Yt);break;case 10:_a(s.type);break;case 22:case 23:rn(s),Xh(),a!==null&&H(Is);break;case 24:_a(Jt)}}function xl(a,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&a)===a){f=void 0;var y=l.create,j=l.inst;f=y(),j.destroy=f}l=l.next}while(l!==p)}}catch(O){vt(s,s.return,O)}}function ts(a,s,l){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var y=p.next;f=y;do{if((f.tag&a)===a){var j=f.inst,O=j.destroy;if(O!==void 0){j.destroy=void 0,p=s;var z=l,X=O;try{X()}catch(ie){vt(p,z,ie)}}}f=f.next}while(f!==y)}}catch(ie){vt(s,s.return,ie)}}function K_(a){var s=a.updateQueue;if(s!==null){var l=a.stateNode;try{Lw(s,l)}catch(f){vt(a,a.return,f)}}}function G_(a,s,l){l.props=Ys(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(f){vt(a,s,f)}}function wl(a,s){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof l=="function"?a.refCleanup=l(f):l.current=f}}catch(p){vt(a,s,p)}}function ta(a,s){var l=a.ref,f=a.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(p){vt(a,s,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){vt(a,s,p)}else l.current=null}function Y_(a){var s=a.type,l=a.memoizedProps,f=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(p){vt(a,a.return,p)}}function Tm(a,s,l){try{var f=a.stateNode;zR(f,a.type,l,s),f[Se]=s}catch(p){vt(a,a.return,p)}}function V_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ls(a.type)||a.tag===4}function Dm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||V_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ls(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Om(a,s,l){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(a),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=va));else if(f!==4&&(f===27&&ls(a.type)&&(l=a.stateNode,s=null),a=a.child,a!==null))for(Om(a,s,l),a=a.sibling;a!==null;)Om(a,s,l),a=a.sibling}function $u(a,s,l){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?l.insertBefore(a,s):l.appendChild(a);else if(f!==4&&(f===27&&ls(a.type)&&(l=a.stateNode),a=a.child,a!==null))for($u(a,s,l),a=a.sibling;a!==null;)$u(a,s,l),a=a.sibling}function Q_(a){var s=a.stateNode,l=a.memoizedProps;try{for(var f=a.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Sr(s,f,l),s[we]=a,s[Se]=l}catch(y){vt(a,a.return,y)}}var Ea=!1,tr=!1,Am=!1,W_=typeof WeakSet=="function"?WeakSet:Set,mr=null;function bR(a,s){if(a=a.containerInfo,Zm=id,a=lw(a),Nh(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var j=0,O=-1,z=-1,X=0,ie=0,ue=a,Z=null;t:for(;;){for(var ne;ue!==l||p!==0&&ue.nodeType!==3||(O=j+p),ue!==y||f!==0&&ue.nodeType!==3||(z=j+f),ue.nodeType===3&&(j+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)Z=ue,ue=ne;for(;;){if(ue===a)break t;if(Z===l&&++X===p&&(O=j),Z===y&&++ie===f&&(z=j),(ne=ue.nextSibling)!==null)break;ue=Z,Z=ue.parentNode}ue=ne}l=O===-1||z===-1?null:{start:O,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(eg={focusedElem:a,selectionRange:l},id=!1,mr=s;mr!==null;)if(s=mr,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,mr=a;else for(;mr!==null;){switch(s=mr,y=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(l=0;l<a.length;l++)p=a[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,l=s,p=y.memoizedProps,y=y.memoizedState,f=l.stateNode;try{var Ee=Ys(l.type,p);a=f.getSnapshotBeforeUpdate(Ee,y),f.__reactInternalSnapshotBeforeUpdate=a}catch(qe){vt(l,l.return,qe)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,l=a.nodeType,l===9)ng(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ng(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=s.sibling,a!==null){a.return=s.return,mr=a;break}mr=s.return}}function X_(a,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Ta(a,l),f&4&&xl(5,l);break;case 1:if(Ta(a,l),f&4)if(a=l.stateNode,s===null)try{a.componentDidMount()}catch(j){vt(l,l.return,j)}else{var p=Ys(l.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(p,s,a.__reactInternalSnapshotBeforeUpdate)}catch(j){vt(l,l.return,j)}}f&64&&K_(l),f&512&&wl(l,l.return);break;case 3:if(Ta(a,l),f&64&&(a=l.updateQueue,a!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Lw(a,s)}catch(j){vt(l,l.return,j)}}break;case 27:s===null&&f&4&&Q_(l);case 26:case 5:Ta(a,l),s===null&&f&4&&Y_(l),f&512&&wl(l,l.return);break;case 12:Ta(a,l);break;case 31:Ta(a,l),f&4&&e1(a,l);break;case 13:Ta(a,l),f&4&&t1(a,l),f&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=CR.bind(null,l),VR(a,l))));break;case 22:if(f=l.memoizedState!==null||Ea,!f){s=s!==null&&s.memoizedState!==null||tr,p=Ea;var y=tr;Ea=f,(tr=s)&&!y?Da(a,l,(l.subtreeFlags&8772)!==0):Ta(a,l),Ea=p,tr=y}break;case 30:break;default:Ta(a,l)}}function J_(a){var s=a.alternate;s!==null&&(a.alternate=null,J_(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&qn(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Lt=null,Fr=!1;function Ca(a,s,l){for(l=l.child;l!==null;)Z_(a,s,l),l=l.sibling}function Z_(a,s,l){if(Ae&&typeof Ae.onCommitFiberUnmount=="function")try{Ae.onCommitFiberUnmount(Re,l)}catch{}switch(l.tag){case 26:tr||ta(l,s),Ca(a,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tr||ta(l,s);var f=Lt,p=Fr;ls(l.type)&&(Lt=l.stateNode,Fr=!1),Ca(a,s,l),Dl(l.stateNode),Lt=f,Fr=p;break;case 5:tr||ta(l,s);case 6:if(f=Lt,p=Fr,Lt=null,Ca(a,s,l),Lt=f,Fr=p,Lt!==null)if(Fr)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(l.stateNode)}catch(y){vt(l,s,y)}else try{Lt.removeChild(l.stateNode)}catch(y){vt(l,s,y)}break;case 18:Lt!==null&&(Fr?(a=Lt,K1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),lo(a)):K1(Lt,l.stateNode));break;case 4:f=Lt,p=Fr,Lt=l.stateNode.containerInfo,Fr=!0,Ca(a,s,l),Lt=f,Fr=p;break;case 0:case 11:case 14:case 15:ts(2,l,s),tr||ts(4,l,s),Ca(a,s,l);break;case 1:tr||(ta(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&G_(l,s,f)),Ca(a,s,l);break;case 21:Ca(a,s,l);break;case 22:tr=(f=tr)||l.memoizedState!==null,Ca(a,s,l),tr=f;break;default:Ca(a,s,l)}}function e1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{lo(a)}catch(l){vt(s,s.return,l)}}}function t1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{lo(a)}catch(l){vt(s,s.return,l)}}function xR(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new W_),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new W_),s;default:throw Error(n(435,a.tag))}}function zu(a,s){var l=xR(a);s.forEach(function(f){if(!l.has(f)){l.add(f);var p=TR.bind(null,a,f);f.then(p,p)}})}function Hr(a,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var p=l[f],y=a,j=s,O=j;e:for(;O!==null;){switch(O.tag){case 27:if(ls(O.type)){Lt=O.stateNode,Fr=!1;break e}break;case 5:Lt=O.stateNode,Fr=!1;break e;case 3:case 4:Lt=O.stateNode.containerInfo,Fr=!0;break e}O=O.return}if(Lt===null)throw Error(n(160));Z_(y,j,p),Lt=null,Fr=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)r1(s,a),s=s.sibling}var $n=null;function r1(a,s){var l=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Hr(s,a),Kr(a),f&4&&(ts(3,a,a.return),xl(3,a),ts(5,a,a.return));break;case 1:Hr(s,a),Kr(a),f&512&&(tr||l===null||ta(l,l.return)),f&64&&Ea&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var p=$n;if(Hr(s,a),Kr(a),f&512&&(tr||l===null||ta(l,l.return)),f&4){var y=l!==null?l.memoizedState:null;if(f=a.memoizedState,l===null)if(f===null)if(a.stateNode===null){e:{f=a.type,l=a.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":y=p.getElementsByTagName("title")[0],(!y||y[ut]||y[we]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(f),p.head.insertBefore(y,p.querySelector("head > title"))),Sr(y,f,l),y[we]=a,Mt(y),f=y;break e;case"link":var j=rS("link","href",p).get(f+(l.href||""));if(j){for(var O=0;O<j.length;O++)if(y=j[O],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){j.splice(O,1);break t}}y=p.createElement(f),Sr(y,f,l),p.head.appendChild(y);break;case"meta":if(j=rS("meta","content",p).get(f+(l.content||""))){for(O=0;O<j.length;O++)if(y=j[O],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){j.splice(O,1);break t}}y=p.createElement(f),Sr(y,f,l),p.head.appendChild(y);break;default:throw Error(n(468,f))}y[we]=a,Mt(y),f=y}a.stateNode=f}else nS(p,a.type,a.stateNode);else a.stateNode=tS(p,f,a.memoizedProps);else y!==f?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,f===null?nS(p,a.type,a.stateNode):tS(p,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Tm(a,a.memoizedProps,l.memoizedProps)}break;case 27:Hr(s,a),Kr(a),f&512&&(tr||l===null||ta(l,l.return)),l!==null&&f&4&&Tm(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Hr(s,a),Kr(a),f&512&&(tr||l===null||ta(l,l.return)),a.flags&32){p=a.stateNode;try{Oi(p,"")}catch(Ee){vt(a,a.return,Ee)}}f&4&&a.stateNode!=null&&(p=a.memoizedProps,Tm(a,p,l!==null?l.memoizedProps:p)),f&1024&&(Am=!0);break;case 6:if(Hr(s,a),Kr(a),f&4){if(a.stateNode===null)throw Error(n(162));f=a.memoizedProps,l=a.stateNode;try{l.nodeValue=f}catch(Ee){vt(a,a.return,Ee)}}break;case 3:if(rd=null,p=$n,$n=ed(s.containerInfo),Hr(s,a),$n=p,Kr(a),f&4&&l!==null&&l.memoizedState.isDehydrated)try{lo(s.containerInfo)}catch(Ee){vt(a,a.return,Ee)}Am&&(Am=!1,n1(a));break;case 4:f=$n,$n=ed(a.stateNode.containerInfo),Hr(s,a),Kr(a),$n=f;break;case 12:Hr(s,a),Kr(a);break;case 31:Hr(s,a),Kr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,zu(a,f)));break;case 13:Hr(s,a),Kr(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Iu=nt()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,zu(a,f)));break;case 22:p=a.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,X=Ea,ie=tr;if(Ea=X||p,tr=ie||z,Hr(s,a),tr=ie,Ea=X,Kr(a),f&8192)e:for(s=a.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||z||Ea||tr||Vs(a)),l=null,s=a;;){if(s.tag===5||s.tag===26){if(l===null){z=l=s;try{if(y=z.stateNode,p)j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{O=z.stateNode;var ue=z.memoizedProps.style,Z=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;O.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ee){vt(z,z.return,Ee)}}}else if(s.tag===6){if(l===null){z=s;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(Ee){vt(z,z.return,Ee)}}}else if(s.tag===18){if(l===null){z=s;try{var ne=z.stateNode;p?G1(ne,!0):G1(z.stateNode,!1)}catch(Ee){vt(z,z.return,Ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=a.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,zu(a,l))));break;case 19:Hr(s,a),Kr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,zu(a,f)));break;case 30:break;case 21:break;default:Hr(s,a),Kr(a)}}function Kr(a){var s=a.flags;if(s&2){try{for(var l,f=a.return;f!==null;){if(V_(f)){l=f;break}f=f.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var p=l.stateNode,y=Dm(a);$u(a,y,p);break;case 5:var j=l.stateNode;l.flags&32&&(Oi(j,""),l.flags&=-33);var O=Dm(a);$u(a,O,j);break;case 3:case 4:var z=l.stateNode.containerInfo,X=Dm(a);Om(a,X,z);break;default:throw Error(n(161))}}catch(ie){vt(a,a.return,ie)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function n1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;n1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Ta(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)X_(a,s.alternate,s),s=s.sibling}function Vs(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:ts(4,s,s.return),Vs(s);break;case 1:ta(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&G_(s,s.return,l),Vs(s);break;case 27:Dl(s.stateNode);case 26:case 5:ta(s,s.return),Vs(s);break;case 22:s.memoizedState===null&&Vs(s);break;case 30:Vs(s);break;default:Vs(s)}a=a.sibling}}function Da(a,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,p=a,y=s,j=y.flags;switch(y.tag){case 0:case 11:case 15:Da(p,y,l),xl(4,y);break;case 1:if(Da(p,y,l),f=y,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){vt(f,f.return,X)}if(f=y,p=f.updateQueue,p!==null){var O=f.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)Mw(z[p],O)}catch(X){vt(f,f.return,X)}}l&&j&64&&K_(y),wl(y,y.return);break;case 27:Q_(y);case 26:case 5:Da(p,y,l),l&&f===null&&j&4&&Y_(y),wl(y,y.return);break;case 12:Da(p,y,l);break;case 31:Da(p,y,l),l&&j&4&&e1(p,y);break;case 13:Da(p,y,l),l&&j&4&&t1(p,y);break;case 22:y.memoizedState===null&&Da(p,y,l),wl(y,y.return);break;case 30:break;default:Da(p,y,l)}s=s.sibling}}function Rm(a,s){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&ol(l))}function Mm(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&ol(a))}function zn(a,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)a1(a,s,l,f),s=s.sibling}function a1(a,s,l,f){var p=s.flags;switch(s.tag){case 0:case 11:case 15:zn(a,s,l,f),p&2048&&xl(9,s);break;case 1:zn(a,s,l,f);break;case 3:zn(a,s,l,f),p&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&ol(a)));break;case 12:if(p&2048){zn(a,s,l,f),a=s.stateNode;try{var y=s.memoizedProps,j=y.id,O=y.onPostCommit;typeof O=="function"&&O(j,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(z){vt(s,s.return,z)}}else zn(a,s,l,f);break;case 31:zn(a,s,l,f);break;case 13:zn(a,s,l,f);break;case 23:break;case 22:y=s.stateNode,j=s.alternate,s.memoizedState!==null?y._visibility&2?zn(a,s,l,f):_l(a,s):y._visibility&2?zn(a,s,l,f):(y._visibility|=2,Xi(a,s,l,f,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Rm(j,s);break;case 24:zn(a,s,l,f),p&2048&&Mm(s.alternate,s);break;default:zn(a,s,l,f)}}function Xi(a,s,l,f,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=a,j=s,O=l,z=f,X=j.flags;switch(j.tag){case 0:case 11:case 15:Xi(y,j,O,z,p),xl(8,j);break;case 23:break;case 22:var ie=j.stateNode;j.memoizedState!==null?ie._visibility&2?Xi(y,j,O,z,p):_l(y,j):(ie._visibility|=2,Xi(y,j,O,z,p)),p&&X&2048&&Rm(j.alternate,j);break;case 24:Xi(y,j,O,z,p),p&&X&2048&&Mm(j.alternate,j);break;default:Xi(y,j,O,z,p)}s=s.sibling}}function _l(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=a,f=s,p=f.flags;switch(f.tag){case 22:_l(l,f),p&2048&&Rm(f.alternate,f);break;case 24:_l(l,f),p&2048&&Mm(f.alternate,f);break;default:_l(l,f)}s=s.sibling}}var Sl=8192;function Ji(a,s,l){if(a.subtreeFlags&Sl)for(a=a.child;a!==null;)s1(a,s,l),a=a.sibling}function s1(a,s,l){switch(a.tag){case 26:Ji(a,s,l),a.flags&Sl&&a.memoizedState!==null&&i4(l,$n,a.memoizedState,a.memoizedProps);break;case 5:Ji(a,s,l);break;case 3:case 4:var f=$n;$n=ed(a.stateNode.containerInfo),Ji(a,s,l),$n=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=Sl,Sl=16777216,Ji(a,s,l),Sl=f):Ji(a,s,l));break;default:Ji(a,s,l)}}function i1(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function jl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];mr=f,l1(f,a)}i1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)o1(a),a=a.sibling}function o1(a){switch(a.tag){case 0:case 11:case 15:jl(a),a.flags&2048&&ts(9,a,a.return);break;case 3:jl(a);break;case 12:jl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Bu(a)):jl(a);break;default:jl(a)}}function Bu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];mr=f,l1(f,a)}i1(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:ts(8,s,s.return),Bu(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Bu(s));break;default:Bu(s)}a=a.sibling}}function l1(a,s){for(;mr!==null;){var l=mr;switch(l.tag){case 0:case 11:case 15:ts(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ol(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,mr=f;else e:for(l=a;mr!==null;){f=mr;var p=f.sibling,y=f.return;if(J_(f),f===l){mr=null;break e}if(p!==null){p.return=y,mr=p;break e}mr=y}}}var wR={getCacheForType:function(a){var s=wr(Jt),l=s.data.get(a);return l===void 0&&(l=a(),s.data.set(a,l)),l},cacheSignal:function(){return wr(Jt).controller.signal}},_R=typeof WeakMap=="function"?WeakMap:Map,dt=0,Nt=null,Qe=null,Je=0,pt=0,nn=null,rs=!1,Zi=!1,Lm=!1,Oa=0,Bt=0,ns=0,Qs=0,qm=0,an=0,eo=0,Nl=null,Gr=null,Um=!1,Iu=0,c1=0,Fu=1/0,Hu=null,as=null,sr=0,ss=null,to=null,Aa=0,Pm=0,$m=null,u1=null,kl=0,zm=null;function sn(){return(dt&2)!==0&&Je!==0?Je&-Je:P.T!==null?Gm():_e()}function d1(){if(an===0)if((Je&536870912)===0||tt){var a=Ha;Ha<<=1,(Ha&3932160)===0&&(Ha=262144),an=a}else an=536870912;return a=tn.current,a!==null&&(a.flags|=32),an}function Yr(a,s,l){(a===Nt&&(pt===2||pt===9)||a.cancelPendingCommit!==null)&&(ro(a,0),is(a,Je,an,!1)),$(a,l),((dt&2)===0||a!==Nt)&&(a===Nt&&((dt&2)===0&&(Qs|=l),Bt===4&&is(a,Je,an,!1)),ra(a))}function f1(a,s,l){if((dt&6)!==0)throw Error(n(327));var f=!l&&(s&127)===0&&(s&a.expiredLanes)===0||nr(a,s),p=f?NR(a,s):Im(a,s,!0),y=f;do{if(p===0){Zi&&!f&&is(a,s,0,!1);break}else{if(l=a.current.alternate,y&&!SR(l)){p=Im(a,s,!1),y=!1;continue}if(p===2){if(y=s,a.errorRecoveryDisabledLanes&y)var j=0;else j=a.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){s=j;e:{var O=a;p=Nl;var z=O.current.memoizedState.isDehydrated;if(z&&(ro(O,j).flags|=256),j=Im(O,j,!1),j!==2){if(Lm&&!z){O.errorRecoveryDisabledLanes|=y,Qs|=y,p=4;break e}y=Gr,Gr=p,y!==null&&(Gr===null?Gr=y:Gr.push.apply(Gr,y))}p=j}if(y=!1,p!==2)continue}}if(p===1){ro(a,0),is(a,s,0,!0);break}e:{switch(f=a,y=p,y){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:is(f,s,an,!rs);break e;case 2:Gr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(p=Iu+300-nt(),10<p)){if(is(f,s,an,!rs),Kt(f,0,!0)!==0)break e;Aa=s,f.timeoutHandle=F1(h1.bind(null,f,l,Gr,Hu,Um,s,an,Qs,eo,rs,y,"Throttled",-0,0),p);break e}h1(f,l,Gr,Hu,Um,s,an,Qs,eo,rs,y,null,-0,0)}}break}while(!0);ra(a)}function h1(a,s,l,f,p,y,j,O,z,X,ie,ue,Z,ne){if(a.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},s1(s,y,ue);var Ee=(y&62914560)===y?Iu-nt():(y&4194048)===y?c1-nt():0;if(Ee=o4(ue,Ee),Ee!==null){Aa=y,a.cancelPendingCommit=Ee(w1.bind(null,a,s,y,l,f,p,j,O,z,ie,ue,null,Z,ne)),is(a,y,j,!X);return}}w1(a,s,y,l,f,p,j,O,z)}function SR(a){for(var s=a;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var p=l[f],y=p.getSnapshot;p=p.value;try{if(!Zr(y(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function is(a,s,l,f){s&=~qm,s&=~Qs,a.suspendedLanes|=s,a.pingedLanes&=~s,f&&(a.warmLanes|=s),f=a.expirationTimes;for(var p=s;0<p;){var y=31-it(p),j=1<<y;f[y]=-1,p&=~j}l!==0&&ee(a,l,s)}function Ku(){return(dt&6)===0?(El(0),!1):!0}function Bm(){if(Qe!==null){if(pt===0)var a=Qe.return;else a=Qe,wa=zs=null,nm(a),Gi=null,cl=0,a=Qe;for(;a!==null;)H_(a.alternate,a),a=a.return;Qe=null}}function ro(a,s){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,FR(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Aa=0,Bm(),Nt=a,Qe=l=ba(a.current,null),Je=s,pt=0,nn=null,rs=!1,Zi=nr(a,s),Lm=!1,eo=an=qm=Qs=ns=Bt=0,Gr=Nl=null,Um=!1,(s&8)!==0&&(s|=s&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=s;0<f;){var p=31-it(f),y=1<<p;s|=a[p],f&=~y}return Oa=s,fu(),l}function m1(a,s){Ie=null,P.H=vl,s===Ki||s===xu?(s=Dw(),pt=3):s===Kh?(s=Dw(),pt=4):pt=s===bm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,nn=s,Qe===null&&(Bt=1,Mu(a,vn(s,a.current)))}function g1(){var a=tn.current;return a===null?!0:(Je&4194048)===Je?wn===null:(Je&62914560)===Je||(Je&536870912)!==0?a===wn:!1}function p1(){var a=P.H;return P.H=vl,a===null?vl:a}function v1(){var a=P.A;return P.A=wR,a}function Gu(){Bt=4,rs||(Je&4194048)!==Je&&tn.current!==null||(Zi=!0),(ns&134217727)===0&&(Qs&134217727)===0||Nt===null||is(Nt,Je,an,!1)}function Im(a,s,l){var f=dt;dt|=2;var p=p1(),y=v1();(Nt!==a||Je!==s)&&(Hu=null,ro(a,s)),s=!1;var j=Bt;e:do try{if(pt!==0&&Qe!==null){var O=Qe,z=nn;switch(pt){case 8:Bm(),j=6;break e;case 3:case 2:case 9:case 6:tn.current===null&&(s=!0);var X=pt;if(pt=0,nn=null,no(a,O,z,X),l&&Zi){j=0;break e}break;default:X=pt,pt=0,nn=null,no(a,O,z,X)}}jR(),j=Bt;break}catch(ie){m1(a,ie)}while(!0);return s&&a.shellSuspendCounter++,wa=zs=null,dt=f,P.H=p,P.A=y,Qe===null&&(Nt=null,Je=0,fu()),j}function jR(){for(;Qe!==null;)y1(Qe)}function NR(a,s){var l=dt;dt|=2;var f=p1(),p=v1();Nt!==a||Je!==s?(Hu=null,Fu=nt()+500,ro(a,s)):Zi=nr(a,s);e:do try{if(pt!==0&&Qe!==null){s=Qe;var y=nn;t:switch(pt){case 1:pt=0,nn=null,no(a,s,y,1);break;case 2:case 9:if(Cw(y)){pt=0,nn=null,b1(s);break}s=function(){pt!==2&&pt!==9||Nt!==a||(pt=7),ra(a)},y.then(s,s);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Cw(y)?(pt=0,nn=null,b1(s)):(pt=0,nn=null,no(a,s,y,7));break;case 5:var j=null;switch(Qe.tag){case 26:j=Qe.memoizedState;case 5:case 27:var O=Qe;if(j?aS(j):O.stateNode.complete){pt=0,nn=null;var z=O.sibling;if(z!==null)Qe=z;else{var X=O.return;X!==null?(Qe=X,Yu(X)):Qe=null}break t}}pt=0,nn=null,no(a,s,y,5);break;case 6:pt=0,nn=null,no(a,s,y,6);break;case 8:Bm(),Bt=6;break e;default:throw Error(n(462))}}kR();break}catch(ie){m1(a,ie)}while(!0);return wa=zs=null,P.H=f,P.A=p,dt=l,Qe!==null?0:(Nt=null,Je=0,fu(),Bt)}function kR(){for(;Qe!==null&&!gt();)y1(Qe)}function y1(a){var s=I_(a.alternate,a,Oa);a.memoizedProps=a.pendingProps,s===null?Yu(a):Qe=s}function b1(a){var s=a,l=s.alternate;switch(s.tag){case 15:case 0:s=q_(l,s,s.pendingProps,s.type,void 0,Je);break;case 11:s=q_(l,s,s.pendingProps,s.type.render,s.ref,Je);break;case 5:nm(s);default:H_(l,s),s=Qe=vw(s,Oa),s=I_(l,s,Oa)}a.memoizedProps=a.pendingProps,s===null?Yu(a):Qe=s}function no(a,s,l,f){wa=zs=null,nm(s),Gi=null,cl=0;var p=s.return;try{if(mR(a,p,s,l,Je)){Bt=1,Mu(a,vn(l,a.current)),Qe=null;return}}catch(y){if(p!==null)throw Qe=p,y;Bt=1,Mu(a,vn(l,a.current)),Qe=null;return}s.flags&32768?(tt||f===1?a=!0:Zi||(Je&536870912)!==0?a=!1:(rs=a=!0,(f===2||f===9||f===3||f===6)&&(f=tn.current,f!==null&&f.tag===13&&(f.flags|=16384))),x1(s,a)):Yu(s)}function Yu(a){var s=a;do{if((s.flags&32768)!==0){x1(s,rs);return}a=s.return;var l=vR(s.alternate,s,Oa);if(l!==null){Qe=l;return}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=a}while(s!==null);Bt===0&&(Bt=5)}function x1(a,s){do{var l=yR(a.alternate,a);if(l!==null){l.flags&=32767,Qe=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(a=a.sibling,a!==null)){Qe=a;return}Qe=a=l}while(a!==null);Bt=6,Qe=null}function w1(a,s,l,f,p,y,j,O,z){a.cancelPendingCommit=null;do Vu();while(sr!==0);if((dt&6)!==0)throw Error(n(327));if(s!==null){if(s===a.current)throw Error(n(177));if(y=s.lanes|s.childLanes,y|=Dh,G(a,l,y,j,O,z),a===Nt&&(Qe=Nt=null,Je=0),to=s,ss=a,Aa=l,Pm=y,$m=p,u1=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,DR(Et,function(){return k1(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=P.T,P.T=null,p=W.p,W.p=2,j=dt,dt|=4;try{bR(a,s,l)}finally{dt=j,W.p=p,P.T=f}}sr=1,_1(),S1(),j1()}}function _1(){if(sr===1){sr=0;var a=ss,s=to,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=P.T,P.T=null;var f=W.p;W.p=2;var p=dt;dt|=4;try{r1(s,a);var y=eg,j=lw(a.containerInfo),O=y.focusedElem,z=y.selectionRange;if(j!==O&&O&&O.ownerDocument&&ow(O.ownerDocument.documentElement,O)){if(z!==null&&Nh(O)){var X=z.start,ie=z.end;if(ie===void 0&&(ie=X),"selectionStart"in O)O.selectionStart=X,O.selectionEnd=Math.min(ie,O.value.length);else{var ue=O.ownerDocument||document,Z=ue&&ue.defaultView||window;if(Z.getSelection){var ne=Z.getSelection(),Ee=O.textContent.length,qe=Math.min(z.start,Ee),St=z.end===void 0?qe:Math.min(z.end,Ee);!ne.extend&&qe>St&&(j=St,St=qe,qe=j);var Y=iw(O,qe),F=iw(O,St);if(Y&&F&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==F.node||ne.focusOffset!==F.offset)){var Q=ue.createRange();Q.setStart(Y.node,Y.offset),ne.removeAllRanges(),qe>St?(ne.addRange(Q),ne.extend(F.node,F.offset)):(Q.setEnd(F.node,F.offset),ne.addRange(Q))}}}}for(ue=[],ne=O;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ue.length;O++){var ce=ue[O];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}id=!!Zm,eg=Zm=null}finally{dt=p,W.p=f,P.T=l}}a.current=s,sr=2}}function S1(){if(sr===2){sr=0;var a=ss,s=to,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=P.T,P.T=null;var f=W.p;W.p=2;var p=dt;dt|=4;try{X_(a,s.alternate,s)}finally{dt=p,W.p=f,P.T=l}}sr=3}}function j1(){if(sr===4||sr===3){sr=0,ft();var a=ss,s=to,l=Aa,f=u1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?sr=5:(sr=0,to=ss=null,N1(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(as=null),ke(l),s=s.stateNode,Ae&&typeof Ae.onCommitFiberRoot=="function")try{Ae.onCommitFiberRoot(Re,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=P.T,p=W.p,W.p=2,P.T=null;try{for(var y=a.onRecoverableError,j=0;j<f.length;j++){var O=f[j];y(O.value,{componentStack:O.stack})}}finally{P.T=s,W.p=p}}(Aa&3)!==0&&Vu(),ra(a),p=a.pendingLanes,(l&261930)!==0&&(p&42)!==0?a===zm?kl++:(kl=0,zm=a):kl=0,El(0)}}function N1(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,ol(s)))}function Vu(){return _1(),S1(),j1(),k1()}function k1(){if(sr!==5)return!1;var a=ss,s=Pm;Pm=0;var l=ke(Aa),f=P.T,p=W.p;try{W.p=32>l?32:l,P.T=null,l=$m,$m=null;var y=ss,j=Aa;if(sr=0,to=ss=null,Aa=0,(dt&6)!==0)throw Error(n(331));var O=dt;if(dt|=4,o1(y.current),a1(y,y.current,j,l),dt=O,El(0,!1),Ae&&typeof Ae.onPostCommitFiberRoot=="function")try{Ae.onPostCommitFiberRoot(Re,y)}catch{}return!0}finally{W.p=p,P.T=f,N1(a,s)}}function E1(a,s,l){s=vn(l,s),s=ym(a.stateNode,s,2),a=Ja(a,s,2),a!==null&&($(a,2),ra(a))}function vt(a,s,l){if(a.tag===3)E1(a,a,l);else for(;s!==null;){if(s.tag===3){E1(s,a,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(as===null||!as.has(f))){a=vn(l,a),l=C_(2),f=Ja(s,l,2),f!==null&&(T_(l,f,s,a),$(f,2),ra(f));break}}s=s.return}}function Fm(a,s,l){var f=a.pingCache;if(f===null){f=a.pingCache=new _R;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(l)||(Lm=!0,p.add(l),a=ER.bind(null,a,s,l),s.then(a,a))}function ER(a,s,l){var f=a.pingCache;f!==null&&f.delete(s),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,Nt===a&&(Je&l)===l&&(Bt===4||Bt===3&&(Je&62914560)===Je&&300>nt()-Iu?(dt&2)===0&&ro(a,0):qm|=l,eo===Je&&(eo=0)),ra(a)}function C1(a,s){s===0&&(s=fr()),a=Us(a,s),a!==null&&($(a,s),ra(a))}function CR(a){var s=a.memoizedState,l=0;s!==null&&(l=s.retryLane),C1(a,l)}function TR(a,s){var l=0;switch(a.tag){case 31:case 13:var f=a.stateNode,p=a.memoizedState;p!==null&&(l=p.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(s),C1(a,l)}function DR(a,s){return bt(a,s)}var Qu=null,ao=null,Hm=!1,Wu=!1,Km=!1,os=0;function ra(a){a!==ao&&a.next===null&&(ao===null?Qu=ao=a:ao=ao.next=a),Wu=!0,Hm||(Hm=!0,AR())}function El(a,s){if(!Km&&Wu){Km=!0;do for(var l=!1,f=Qu;f!==null;){if(a!==0){var p=f.pendingLanes;if(p===0)var y=0;else{var j=f.suspendedLanes,O=f.pingedLanes;y=(1<<31-it(42|a)+1)-1,y&=p&~(j&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,A1(f,y))}else y=Je,y=Kt(f,f===Nt?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||nr(f,y)||(l=!0,A1(f,y));f=f.next}while(l);Km=!1}}function OR(){T1()}function T1(){Wu=Hm=!1;var a=0;os!==0&&IR()&&(a=os);for(var s=nt(),l=null,f=Qu;f!==null;){var p=f.next,y=D1(f,s);y===0?(f.next=null,l===null?Qu=p:l.next=p,p===null&&(ao=l)):(l=f,(a!==0||(y&3)!==0)&&(Wu=!0)),f=p}sr!==0&&sr!==5||El(a),os!==0&&(os=0)}function D1(a,s){for(var l=a.suspendedLanes,f=a.pingedLanes,p=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var j=31-it(y),O=1<<j,z=p[j];z===-1?((O&l)===0||(O&f)!==0)&&(p[j]=ar(O,s)):z<=s&&(a.expiredLanes|=O),y&=~O}if(s=Nt,l=Je,l=Kt(a,a===s?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,l===0||a===s&&(pt===2||pt===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&mt(f),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||nr(a,l)){if(s=l&-l,s===a.callbackPriority)return s;switch(f!==null&&mt(f),ke(l)){case 2:case 8:l=jt;break;case 32:l=Et;break;case 268435456:l=Br;break;default:l=Et}return f=O1.bind(null,a),l=bt(l,f),a.callbackPriority=s,a.callbackNode=l,s}return f!==null&&f!==null&&mt(f),a.callbackPriority=2,a.callbackNode=null,2}function O1(a,s){if(sr!==0&&sr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(Vu()&&a.callbackNode!==l)return null;var f=Je;return f=Kt(a,a===Nt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(f1(a,f,s),D1(a,nt()),a.callbackNode!=null&&a.callbackNode===l?O1.bind(null,a):null)}function A1(a,s){if(Vu())return null;f1(a,s,!0)}function AR(){HR(function(){(dt&6)!==0?bt(Ht,OR):T1()})}function Gm(){if(os===0){var a=Fi;a===0&&(a=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),os=a}return os}function R1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:au(""+a)}function M1(a,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,a.id&&l.setAttribute("form",a.id),s.parentNode.insertBefore(l,s),a=new FormData(a),l.parentNode.removeChild(l),a}function RR(a,s,l,f,p){if(s==="submit"&&l&&l.stateNode===p){var y=R1((p[Se]||null).action),j=f.submitter;j&&(s=(s=j[Se]||null)?R1(s.formAction):j.getAttribute("formAction"),s!==null&&(y=s,j=null));var O=new lu("action","action",null,f,p);a.push({event:O,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(os!==0){var z=j?M1(p,j):new FormData(p);fm(l,{pending:!0,data:z,method:p.method,action:y},null,z)}}else typeof y=="function"&&(O.preventDefault(),z=j?M1(p,j):new FormData(p),fm(l,{pending:!0,data:z,method:p.method,action:y},y,z))},currentTarget:p}]})}}for(var Ym=0;Ym<Th.length;Ym++){var Vm=Th[Ym],MR=Vm.toLowerCase(),LR=Vm[0].toUpperCase()+Vm.slice(1);Pn(MR,"on"+LR)}Pn(dw,"onAnimationEnd"),Pn(fw,"onAnimationIteration"),Pn(hw,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(XA,"onTransitionRun"),Pn(JA,"onTransitionStart"),Pn(ZA,"onTransitionCancel"),Pn(mw,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function L1(a,s){s=(s&4)!==0;for(var l=0;l<a.length;l++){var f=a[l],p=f.event;f=f.listeners;e:{var y=void 0;if(s)for(var j=f.length-1;0<=j;j--){var O=f[j],z=O.instance,X=O.currentTarget;if(O=O.listener,z!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=X;try{y(p)}catch(ie){du(ie)}p.currentTarget=null,y=z}else for(j=0;j<f.length;j++){if(O=f[j],z=O.instance,X=O.currentTarget,O=O.listener,z!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=X;try{y(p)}catch(ie){du(ie)}p.currentTarget=null,y=z}}}}function We(a,s){var l=s[xt];l===void 0&&(l=s[xt]=new Set);var f=a+"__bubble";l.has(f)||(q1(s,a,2,!1),l.add(f))}function Qm(a,s,l){var f=0;s&&(f|=4),q1(l,a,f,s)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Wm(a){if(!a[Xu]){a[Xu]=!0,Xn.forEach(function(l){l!=="selectionchange"&&(qR.has(l)||Qm(l,!1,a),Qm(l,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Xu]||(s[Xu]=!0,Qm("selectionchange",!1,s))}}function q1(a,s,l,f){switch(dS(s)){case 2:var p=u4;break;case 8:p=d4;break;default:p=dg}l=p.bind(null,s,l,a),p=void 0,!ph||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?a.addEventListener(s,l,{capture:!0,passive:p}):a.addEventListener(s,l,!0):p!==void 0?a.addEventListener(s,l,{passive:p}):a.addEventListener(s,l,!1)}function Xm(a,s,l,f,p){var y=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var j=f.tag;if(j===3||j===4){var O=f.stateNode.containerInfo;if(O===p)break;if(j===4)for(j=f.return;j!==null;){var z=j.tag;if((z===3||z===4)&&j.stateNode.containerInfo===p)return;j=j.return}for(;O!==null;){if(j=fn(O),j===null)return;if(z=j.tag,z===5||z===6||z===26||z===27){f=y=j;continue e}O=O.parentNode}}f=f.return}Bx(function(){var X=y,ie=mh(l),ue=[];e:{var Z=gw.get(a);if(Z!==void 0){var ne=lu,Ee=a;switch(a){case"keypress":if(iu(l)===0)break e;case"keydown":case"keyup":ne=TA;break;case"focusin":Ee="focus",ne=xh;break;case"focusout":Ee="blur",ne=xh;break;case"beforeblur":case"afterblur":ne=xh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=vA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=AA;break;case dw:case fw:case hw:ne=xA;break;case mw:ne=MA;break;case"scroll":case"scrollend":ne=gA;break;case"wheel":ne=qA;break;case"copy":case"cut":case"paste":ne=_A;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Gx;break;case"toggle":case"beforetoggle":ne=PA}var qe=(s&4)!==0,St=!qe&&(a==="scroll"||a==="scrollend"),Y=qe?Z!==null?Z+"Capture":null:Z;qe=[];for(var F=X,Q;F!==null;){var ce=F;if(Q=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Q===null||Y===null||(ce=Wo(F,Y),ce!=null&&qe.push(Tl(F,ce,Q))),St)break;F=F.return}0<qe.length&&(Z=new ne(Z,Ee,null,l,ie),ue.push({event:Z,listeners:qe}))}}if((s&7)===0){e:{if(Z=a==="mouseover"||a==="pointerover",ne=a==="mouseout"||a==="pointerout",Z&&l!==hh&&(Ee=l.relatedTarget||l.fromElement)&&(fn(Ee)||Ee[He]))break e;if((ne||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,ne?(Ee=l.relatedTarget||l.toElement,ne=X,Ee=Ee?fn(Ee):null,Ee!==null&&(St=o(Ee),qe=Ee.tag,Ee!==St||qe!==5&&qe!==27&&qe!==6)&&(Ee=null)):(ne=null,Ee=X),ne!==Ee)){if(qe=Hx,ce="onMouseLeave",Y="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(qe=Gx,ce="onPointerLeave",Y="onPointerEnter",F="pointer"),St=ne==null?Z:Cr(ne),Q=Ee==null?Z:Cr(Ee),Z=new qe(ce,F+"leave",ne,l,ie),Z.target=St,Z.relatedTarget=Q,ce=null,fn(ie)===X&&(qe=new qe(Y,F+"enter",Ee,l,ie),qe.target=Q,qe.relatedTarget=St,ce=qe),St=ce,ne&&Ee)t:{for(qe=UR,Y=ne,F=Ee,Q=0,ce=Y;ce;ce=qe(ce))Q++;ce=0;for(var Me=F;Me;Me=qe(Me))ce++;for(;0<Q-ce;)Y=qe(Y),Q--;for(;0<ce-Q;)F=qe(F),ce--;for(;Q--;){if(Y===F||F!==null&&Y===F.alternate){qe=Y;break t}Y=qe(Y),F=qe(F)}qe=null}else qe=null;ne!==null&&U1(ue,Z,ne,qe,!1),Ee!==null&&St!==null&&U1(ue,St,Ee,qe,!0)}}e:{if(Z=X?Cr(X):window,ne=Z.nodeName&&Z.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Z.type==="file")var ot=ew;else if(Jx(Z))if(tw)ot=VA;else{ot=GA;var De=KA}else ne=Z.nodeName,!ne||ne.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&fh(X.elementType)&&(ot=ew):ot=YA;if(ot&&(ot=ot(a,X))){Zx(ue,ot,l,ie);break e}De&&De(a,Z,X),a==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&dh(Z,"number",Z.value)}switch(De=X?Cr(X):window,a){case"focusin":(Jx(De)||De.contentEditable==="true")&&(Li=De,kh=X,al=null);break;case"focusout":al=kh=Li=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,cw(ue,l,ie);break;case"selectionchange":if(WA)break;case"keydown":case"keyup":cw(ue,l,ie)}var Fe;if(_h)e:{switch(a){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Mi?Wx(a,l)&&(Ze="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Ze="onCompositionStart");Ze&&(Yx&&l.locale!=="ko"&&(Mi||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Mi&&(Fe=Ix()):(Ka=ie,vh="value"in Ka?Ka.value:Ka.textContent,Mi=!0)),De=Ju(X,Ze),0<De.length&&(Ze=new Kx(Ze,a,null,l,ie),ue.push({event:Ze,listeners:De}),Fe?Ze.data=Fe:(Fe=Xx(l),Fe!==null&&(Ze.data=Fe)))),(Fe=zA?BA(a,l):IA(a,l))&&(Ze=Ju(X,"onBeforeInput"),0<Ze.length&&(De=new Kx("onBeforeInput","beforeinput",null,l,ie),ue.push({event:De,listeners:Ze}),De.data=Fe)),RR(ue,a,X,l,ie)}L1(ue,s)})}function Tl(a,s,l){return{instance:a,listener:s,currentTarget:l}}function Ju(a,s){for(var l=s+"Capture",f=[];a!==null;){var p=a,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Wo(a,l),p!=null&&f.unshift(Tl(a,p,y)),p=Wo(a,s),p!=null&&f.push(Tl(a,p,y))),a.tag===3)return f;a=a.return}return[]}function UR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function U1(a,s,l,f,p){for(var y=s._reactName,j=[];l!==null&&l!==f;){var O=l,z=O.alternate,X=O.stateNode;if(O=O.tag,z!==null&&z===f)break;O!==5&&O!==26&&O!==27||X===null||(z=X,p?(X=Wo(l,y),X!=null&&j.unshift(Tl(l,X,z))):p||(X=Wo(l,y),X!=null&&j.push(Tl(l,X,z)))),l=l.return}j.length!==0&&a.push({event:s,listeners:j})}var PR=/\r\n?/g,$R=/\u0000|\uFFFD/g;function P1(a){return(typeof a=="string"?a:""+a).replace(PR,`
`).replace($R,"")}function $1(a,s){return s=P1(s),P1(a)===s}function _t(a,s,l,f,p,y){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Oi(a,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Oi(a,""+f);break;case"className":Rs(a,"class",f);break;case"tabIndex":Rs(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Rs(a,l,f);break;case"style":$x(a,f,y);break;case"data":if(s!=="object"){Rs(a,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){a.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(l);break}f=au(""+f),a.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&_t(a,s,"name",p.name,p,null),_t(a,s,"formEncType",p.formEncType,p,null),_t(a,s,"formMethod",p.formMethod,p,null),_t(a,s,"formTarget",p.formTarget,p,null)):(_t(a,s,"encType",p.encType,p,null),_t(a,s,"method",p.method,p,null),_t(a,s,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(l);break}f=au(""+f),a.setAttribute(l,f);break;case"onClick":f!=null&&(a.onclick=va);break;case"onScroll":f!=null&&We("scroll",a);break;case"onScrollEnd":f!=null&&We("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(l=f.__html,l!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}l=au(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(l,""+f):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":f===!0?a.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(l,f):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(l,f):a.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(l):a.setAttribute(l,f);break;case"popover":We("beforetoggle",a),We("toggle",a),pa(a,"popover",f);break;case"xlinkActuate":Un(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Un(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Un(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Un(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Un(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Un(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Un(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Un(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Un(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":pa(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=hA.get(l)||l,pa(a,l,f))}}function Jm(a,s,l,f,p,y){switch(l){case"style":$x(a,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(l=f.__html,l!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"children":typeof f=="string"?Oi(a,f):(typeof f=="number"||typeof f=="bigint")&&Oi(a,""+f);break;case"onScroll":f!=null&&We("scroll",a);break;case"onScrollEnd":f!=null&&We("scrollend",a);break;case"onClick":f!=null&&(a.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!As.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),y=a[Se]||null,y=y!=null?y[l]:null,typeof y=="function"&&a.removeEventListener(s,y,p),typeof f=="function")){typeof y!="function"&&y!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(s,f,p);break e}l in a?a[l]=f:f===!0?a.setAttribute(l,""):pa(a,l,f)}}}function Sr(a,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",a),We("load",a);var f=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var j=l[y];if(j!=null)switch(y){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:_t(a,s,y,j,l,null)}}p&&_t(a,s,"srcSet",l.srcSet,l,null),f&&_t(a,s,"src",l.src,l,null);return;case"input":We("invalid",a);var O=y=j=p=null,z=null,X=null;for(f in l)if(l.hasOwnProperty(f)){var ie=l[f];if(ie!=null)switch(f){case"name":p=ie;break;case"type":j=ie;break;case"checked":z=ie;break;case"defaultChecked":X=ie;break;case"value":y=ie;break;case"defaultValue":O=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,s));break;default:_t(a,s,f,ie,l,null)}}Lx(a,y,O,z,X,j,p,!1);return;case"select":We("invalid",a),f=j=y=null;for(p in l)if(l.hasOwnProperty(p)&&(O=l[p],O!=null))switch(p){case"value":y=O;break;case"defaultValue":j=O;break;case"multiple":f=O;default:_t(a,s,p,O,l,null)}s=y,l=j,a.multiple=!!f,s!=null?Di(a,!!f,s,!1):l!=null&&Di(a,!!f,l,!0);return;case"textarea":We("invalid",a),y=p=f=null;for(j in l)if(l.hasOwnProperty(j)&&(O=l[j],O!=null))switch(j){case"value":f=O;break;case"defaultValue":p=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:_t(a,s,j,O,l,null)}Ux(a,f,p,y);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(f=l[z],f!=null))switch(z){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:_t(a,s,z,f,l,null)}return;case"dialog":We("beforetoggle",a),We("toggle",a),We("cancel",a),We("close",a);break;case"iframe":case"object":We("load",a);break;case"video":case"audio":for(f=0;f<Cl.length;f++)We(Cl[f],a);break;case"image":We("error",a),We("load",a);break;case"details":We("toggle",a);break;case"embed":case"source":case"link":We("error",a),We("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(f=l[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:_t(a,s,X,f,l,null)}return;default:if(fh(s)){for(ie in l)l.hasOwnProperty(ie)&&(f=l[ie],f!==void 0&&Jm(a,s,ie,f,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(f=l[O],f!=null&&_t(a,s,O,f,l,null))}function zR(a,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,j=null,O=null,z=null,X=null,ie=null;for(ne in l){var ue=l[ne];if(l.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":z=ue;default:f.hasOwnProperty(ne)||_t(a,s,ne,null,f,ue)}}for(var Z in f){var ne=f[Z];if(ue=l[Z],f.hasOwnProperty(Z)&&(ne!=null||ue!=null))switch(Z){case"type":y=ne;break;case"name":p=ne;break;case"checked":X=ne;break;case"defaultChecked":ie=ne;break;case"value":j=ne;break;case"defaultValue":O=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,s));break;default:ne!==ue&&_t(a,s,Z,ne,f,ue)}}uh(a,j,O,z,X,ie,y,p);return;case"select":ne=j=O=Z=null;for(y in l)if(z=l[y],l.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":ne=z;default:f.hasOwnProperty(y)||_t(a,s,y,null,f,z)}for(p in f)if(y=f[p],z=l[p],f.hasOwnProperty(p)&&(y!=null||z!=null))switch(p){case"value":Z=y;break;case"defaultValue":O=y;break;case"multiple":j=y;default:y!==z&&_t(a,s,p,y,f,z)}s=O,l=j,f=ne,Z!=null?Di(a,!!l,Z,!1):!!f!=!!l&&(s!=null?Di(a,!!l,s,!0):Di(a,!!l,l?[]:"",!1));return;case"textarea":ne=Z=null;for(O in l)if(p=l[O],l.hasOwnProperty(O)&&p!=null&&!f.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:_t(a,s,O,null,f,p)}for(j in f)if(p=f[j],y=l[j],f.hasOwnProperty(j)&&(p!=null||y!=null))switch(j){case"value":Z=p;break;case"defaultValue":ne=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==y&&_t(a,s,j,p,f,y)}qx(a,Z,ne);return;case"option":for(var Ee in l)if(Z=l[Ee],l.hasOwnProperty(Ee)&&Z!=null&&!f.hasOwnProperty(Ee))switch(Ee){case"selected":a.selected=!1;break;default:_t(a,s,Ee,null,f,Z)}for(z in f)if(Z=f[z],ne=l[z],f.hasOwnProperty(z)&&Z!==ne&&(Z!=null||ne!=null))switch(z){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:_t(a,s,z,Z,f,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in l)Z=l[qe],l.hasOwnProperty(qe)&&Z!=null&&!f.hasOwnProperty(qe)&&_t(a,s,qe,null,f,Z);for(X in f)if(Z=f[X],ne=l[X],f.hasOwnProperty(X)&&Z!==ne&&(Z!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,s));break;default:_t(a,s,X,Z,f,ne)}return;default:if(fh(s)){for(var St in l)Z=l[St],l.hasOwnProperty(St)&&Z!==void 0&&!f.hasOwnProperty(St)&&Jm(a,s,St,void 0,f,Z);for(ie in f)Z=f[ie],ne=l[ie],!f.hasOwnProperty(ie)||Z===ne||Z===void 0&&ne===void 0||Jm(a,s,ie,Z,f,ne);return}}for(var Y in l)Z=l[Y],l.hasOwnProperty(Y)&&Z!=null&&!f.hasOwnProperty(Y)&&_t(a,s,Y,null,f,Z);for(ue in f)Z=f[ue],ne=l[ue],!f.hasOwnProperty(ue)||Z===ne||Z==null&&ne==null||_t(a,s,ue,Z,f,ne)}function z1(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var p=l[f],y=p.transferSize,j=p.initiatorType,O=p.duration;if(y&&O&&z1(j)){for(j=0,O=p.responseEnd,f+=1;f<l.length;f++){var z=l[f],X=z.startTime;if(X>O)break;var ie=z.transferSize,ue=z.initiatorType;ie&&z1(ue)&&(z=z.responseEnd,j+=ie*(z<O?1:(O-X)/(z-X)))}if(--f,s+=8*(y+j)/(p.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Zm=null,eg=null;function Zu(a){return a.nodeType===9?a:a.ownerDocument}function B1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I1(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function tg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rg=null;function IR(){var a=window.event;return a&&a.type==="popstate"?a===rg?!1:(rg=a,!0):(rg=null,!1)}var F1=typeof setTimeout=="function"?setTimeout:void 0,FR=typeof clearTimeout=="function"?clearTimeout:void 0,H1=typeof Promise=="function"?Promise:void 0,HR=typeof queueMicrotask=="function"?queueMicrotask:typeof H1<"u"?function(a){return H1.resolve(null).then(a).catch(KR)}:F1;function KR(a){setTimeout(function(){throw a})}function ls(a){return a==="head"}function K1(a,s){var l=s,f=0;do{var p=l.nextSibling;if(a.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(f===0){a.removeChild(p),lo(s);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")Dl(a.ownerDocument.documentElement);else if(l==="head"){l=a.ownerDocument.head,Dl(l);for(var y=l.firstChild;y;){var j=y.nextSibling,O=y.nodeName;y[ut]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=j}}else l==="body"&&Dl(a.ownerDocument.body);l=p}while(l);lo(s)}function G1(a,s){var l=a;a=0;do{var f=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(a===0)break;a--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||a++;l=f}while(l)}function ng(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ng(l),qn(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function GR(a,s,l,f){for(;a.nodeType===1;){var p=l;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[ut])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=_n(a.nextSibling),a===null)break}return null}function YR(a,s,l){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=_n(a.nextSibling),a===null))return null;return a}function Y1(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=_n(a.nextSibling),a===null))return null;return a}function ag(a){return a.data==="$?"||a.data==="$~"}function sg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function VR(a,s){var l=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||l.readyState!=="loading")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function _n(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var ig=null;function V1(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="/$"||l==="/&"){if(s===0)return _n(a.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}a=a.nextSibling}return null}function Q1(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return a;s--}else l!=="/$"&&l!=="/&"||s++}a=a.previousSibling}return null}function W1(a,s,l){switch(s=Zu(l),a){case"html":if(a=s.documentElement,!a)throw Error(n(452));return a;case"head":if(a=s.head,!a)throw Error(n(453));return a;case"body":if(a=s.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Dl(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);qn(a)}var Sn=new Map,X1=new Set;function ed(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ra=W.d;W.d={f:QR,r:WR,D:XR,C:JR,L:ZR,m:e4,X:r4,S:t4,M:n4};function QR(){var a=Ra.f(),s=Ku();return a||s}function WR(a){var s=Rr(a);s!==null&&s.tag===5&&s.type==="form"?m_(s):Ra.r(a)}var so=typeof document>"u"?null:document;function J1(a,s,l){var f=so;if(f&&typeof s=="string"&&s){var p=gn(s);p='link[rel="'+a+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),X1.has(p)||(X1.add(p),a={rel:a,crossOrigin:l,href:s},f.querySelector(p)===null&&(s=f.createElement("link"),Sr(s,"link",a),Mt(s),f.head.appendChild(s)))}}function XR(a){Ra.D(a),J1("dns-prefetch",a,null)}function JR(a,s){Ra.C(a,s),J1("preconnect",a,s)}function ZR(a,s,l){Ra.L(a,s,l);var f=so;if(f&&a&&s){var p='link[rel="preload"][as="'+gn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+gn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+gn(l.imageSizes)+'"]')):p+='[href="'+gn(a)+'"]';var y=p;switch(s){case"style":y=io(a);break;case"script":y=oo(a)}Sn.has(y)||(a=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:a,as:s},l),Sn.set(y,a),f.querySelector(p)!==null||s==="style"&&f.querySelector(Ol(y))||s==="script"&&f.querySelector(Al(y))||(s=f.createElement("link"),Sr(s,"link",a),Mt(s),f.head.appendChild(s)))}}function e4(a,s){Ra.m(a,s);var l=so;if(l&&a){var f=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+gn(f)+'"][href="'+gn(a)+'"]',y=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=oo(a)}if(!Sn.has(y)&&(a=v({rel:"modulepreload",href:a},s),Sn.set(y,a),l.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Al(y)))return}f=l.createElement("link"),Sr(f,"link",a),Mt(f),l.head.appendChild(f)}}}function t4(a,s,l){Ra.S(a,s,l);var f=so;if(f&&a){var p=Wn(f).hoistableStyles,y=io(a);s=s||"default";var j=p.get(y);if(!j){var O={loading:0,preload:null};if(j=f.querySelector(Ol(y)))O.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":s},l),(l=Sn.get(y))&&og(a,l);var z=j=f.createElement("link");Mt(z),Sr(z,"link",a),z._p=new Promise(function(X,ie){z.onload=X,z.onerror=ie}),z.addEventListener("load",function(){O.loading|=1}),z.addEventListener("error",function(){O.loading|=2}),O.loading|=4,td(j,s,f)}j={type:"stylesheet",instance:j,count:1,state:O},p.set(y,j)}}}function r4(a,s){Ra.X(a,s);var l=so;if(l&&a){var f=Wn(l).hoistableScripts,p=oo(a),y=f.get(p);y||(y=l.querySelector(Al(p)),y||(a=v({src:a,async:!0},s),(s=Sn.get(p))&&lg(a,s),y=l.createElement("script"),Mt(y),Sr(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function n4(a,s){Ra.M(a,s);var l=so;if(l&&a){var f=Wn(l).hoistableScripts,p=oo(a),y=f.get(p);y||(y=l.querySelector(Al(p)),y||(a=v({src:a,async:!0,type:"module"},s),(s=Sn.get(p))&&lg(a,s),y=l.createElement("script"),Mt(y),Sr(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function Z1(a,s,l,f){var p=(p=xe.current)?ed(p):null;if(!p)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=io(l.href),l=Wn(p).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=io(l.href);var y=Wn(p).hoistableStyles,j=y.get(a);if(j||(p=p.ownerDocument||p,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,j),(y=p.querySelector(Ol(a)))&&!y._p&&(j.instance=y,j.state.loading=5),Sn.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Sn.set(a,l),y||a4(p,a,l,j.state))),s&&f===null)throw Error(n(528,""));return j}if(s&&f!==null)throw Error(n(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=oo(l),l=Wn(p).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function io(a){return'href="'+gn(a)+'"'}function Ol(a){return'link[rel="stylesheet"]['+a+"]"}function eS(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function a4(a,s,l,f){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=a.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Sr(s,"link",l),Mt(s),a.head.appendChild(s))}function oo(a){return'[src="'+gn(a)+'"]'}function Al(a){return"script[async]"+a}function tS(a,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=a.querySelector('style[data-href~="'+gn(l.href)+'"]');if(f)return s.instance=f,Mt(f),f;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Mt(f),Sr(f,"style",p),td(f,l.precedence,a),s.instance=f;case"stylesheet":p=io(l.href);var y=a.querySelector(Ol(p));if(y)return s.state.loading|=4,s.instance=y,Mt(y),y;f=eS(l),(p=Sn.get(p))&&og(f,p),y=(a.ownerDocument||a).createElement("link"),Mt(y);var j=y;return j._p=new Promise(function(O,z){j.onload=O,j.onerror=z}),Sr(y,"link",f),s.state.loading|=4,td(y,l.precedence,a),s.instance=y;case"script":return y=oo(l.src),(p=a.querySelector(Al(y)))?(s.instance=p,Mt(p),p):(f=l,(p=Sn.get(y))&&(f=v({},l),lg(f,p)),a=a.ownerDocument||a,p=a.createElement("script"),Mt(p),Sr(p,"link",f),a.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,td(f,l.precedence,a));return s.instance}function td(a,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,y=p,j=0;j<f.length;j++){var O=f[j];if(O.dataset.precedence===s)y=O;else if(y!==p)break}y?y.parentNode.insertBefore(a,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(a,s.firstChild))}function og(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function lg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var rd=null;function rS(a,s,l){if(rd===null){var f=new Map,p=rd=new Map;p.set(l,f)}else p=rd,f=p.get(l),f||(f=new Map,p.set(l,f));if(f.has(a))return f;for(f.set(a,null),l=l.getElementsByTagName(a),p=0;p<l.length;p++){var y=l[p];if(!(y[ut]||y[we]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var j=y.getAttribute(s)||"";j=a+j;var O=f.get(j);O?O.push(y):f.set(j,[y])}}return f}function nS(a,s,l){a=a.ownerDocument||a,a.head.insertBefore(l,s==="title"?a.querySelector("head > title"):null)}function s4(a,s,l){if(l===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function aS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function i4(a,s,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=io(f.href),y=s.querySelector(Ol(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=nd.bind(a),s.then(a,a)),l.state.loading|=4,l.instance=y,Mt(y);return}y=s.ownerDocument||s,f=eS(f),(p=Sn.get(p))&&og(f,p),y=y.createElement("link"),Mt(y);var j=y;j._p=new Promise(function(O,z){j.onload=O,j.onerror=z}),Sr(y,"link",f),l.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(a.count++,l=nd.bind(a),s.addEventListener("load",l),s.addEventListener("error",l))}}var cg=0;function o4(a,s){return a.stylesheets&&a.count===0&&sd(a,a.stylesheets),0<a.count||0<a.imgCount?function(l){var f=setTimeout(function(){if(a.stylesheets&&sd(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+s);0<a.imgBytes&&cg===0&&(cg=62500*BR());var p=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&sd(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>cg?50:800)+s);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(p)}}:null}function nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ad=null;function sd(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ad=new Map,s.forEach(l4,a),ad=null,nd.call(a))}function l4(a,s){if(!(s.state.loading&4)){var l=ad.get(a);if(l)var f=l.get(null);else{l=new Map,ad.set(a,l);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var j=p[y];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(l.set(j.dataset.precedence,j),f=j)}f&&l.set(null,f)}p=s.instance,j=p.getAttribute("data-precedence"),y=l.get(j)||f,y===f&&l.set(null,p),l.set(j,p),this.count++,f=nd.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),y?y.parentNode.insertBefore(p,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),s.state.loading|=4}}var Rl={$$typeof:T,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function c4(a,s,l,f,p,y,j,O,z){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.hiddenUpdates=Er(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function sS(a,s,l,f,p,y,j,O,z,X,ie,ue){return a=new c4(a,s,l,j,z,X,ie,ue,O),s=1,y===!0&&(s|=24),y=en(3,null,null,s),a.current=y,y.stateNode=a,s=Ih(),s.refCount++,a.pooledCache=s,s.refCount++,y.memoizedState={element:f,isDehydrated:l,cache:s},Gh(y),a}function iS(a){return a?(a=Pi,a):Pi}function oS(a,s,l,f,p,y){p=iS(p),f.context===null?f.context=p:f.pendingContext=p,f=Xa(s),f.payload={element:l},y=y===void 0?null:y,y!==null&&(f.callback=y),l=Ja(a,f,s),l!==null&&(Yr(l,a,s),dl(l,a,s))}function lS(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<s?l:s}}function ug(a,s){lS(a,s),(a=a.alternate)&&lS(a,s)}function cS(a){if(a.tag===13||a.tag===31){var s=Us(a,67108864);s!==null&&Yr(s,a,67108864),ug(a,67108864)}}function uS(a){if(a.tag===13||a.tag===31){var s=sn();s=Ne(s);var l=Us(a,s);l!==null&&Yr(l,a,s),ug(a,s)}}var id=!0;function u4(a,s,l,f){var p=P.T;P.T=null;var y=W.p;try{W.p=2,dg(a,s,l,f)}finally{W.p=y,P.T=p}}function d4(a,s,l,f){var p=P.T;P.T=null;var y=W.p;try{W.p=8,dg(a,s,l,f)}finally{W.p=y,P.T=p}}function dg(a,s,l,f){if(id){var p=fg(f);if(p===null)Xm(a,s,f,od,l),fS(a,f);else if(h4(p,a,s,l,f))f.stopPropagation();else if(fS(a,f),s&4&&-1<f4.indexOf(a)){for(;p!==null;){var y=Rr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var j=Pt(y.pendingLanes);if(j!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;j;){var z=1<<31-it(j);O.entanglements[1]|=z,j&=~z}ra(y),(dt&6)===0&&(Fu=nt()+500,El(0))}}break;case 31:case 13:O=Us(y,2),O!==null&&Yr(O,y,2),Ku(),ug(y,2)}if(y=fg(f),y===null&&Xm(a,s,f,od,l),y===p)break;p=y}p!==null&&f.stopPropagation()}else Xm(a,s,f,null,l)}}function fg(a){return a=mh(a),hg(a)}var od=null;function hg(a){if(od=null,a=fn(a),a!==null){var s=o(a);if(s===null)a=null;else{var l=s.tag;if(l===13){if(a=c(s),a!==null)return a;a=null}else if(l===31){if(a=d(s),a!==null)return a;a=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return od=a,null}function dS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case Ht:return 2;case jt:return 8;case Et:case zr:return 32;case Br:return 268435456;default:return 32}default:return 32}}var mg=!1,cs=null,us=null,ds=null,Ml=new Map,Ll=new Map,fs=[],f4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fS(a,s){switch(a){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Ml.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(s.pointerId)}}function ql(a,s,l,f,p,y){return a===null||a.nativeEvent!==y?(a={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Rr(s),s!==null&&cS(s)),a):(a.eventSystemFlags|=f,s=a.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),a)}function h4(a,s,l,f,p){switch(s){case"focusin":return cs=ql(cs,a,s,l,f,p),!0;case"dragenter":return us=ql(us,a,s,l,f,p),!0;case"mouseover":return ds=ql(ds,a,s,l,f,p),!0;case"pointerover":var y=p.pointerId;return Ml.set(y,ql(Ml.get(y)||null,a,s,l,f,p)),!0;case"gotpointercapture":return y=p.pointerId,Ll.set(y,ql(Ll.get(y)||null,a,s,l,f,p)),!0}return!1}function hS(a){var s=fn(a.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){a.blockedOn=s,Ce(a.priority,function(){uS(l)});return}}else if(s===31){if(s=d(l),s!==null){a.blockedOn=s,Ce(a.priority,function(){uS(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ld(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var l=fg(a.nativeEvent);if(l===null){l=a.nativeEvent;var f=new l.constructor(l.type,l);hh=f,l.target.dispatchEvent(f),hh=null}else return s=Rr(l),s!==null&&cS(s),a.blockedOn=l,!1;s.shift()}return!0}function mS(a,s,l){ld(a)&&l.delete(s)}function m4(){mg=!1,cs!==null&&ld(cs)&&(cs=null),us!==null&&ld(us)&&(us=null),ds!==null&&ld(ds)&&(ds=null),Ml.forEach(mS),Ll.forEach(mS)}function cd(a,s){a.blockedOn===s&&(a.blockedOn=null,mg||(mg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,m4)))}var ud=null;function gS(a){ud!==a&&(ud=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ud===a&&(ud=null);for(var s=0;s<a.length;s+=3){var l=a[s],f=a[s+1],p=a[s+2];if(typeof f!="function"){if(hg(f||l)===null)continue;break}var y=Rr(l);y!==null&&(a.splice(s,3),s-=3,fm(y,{pending:!0,data:p,method:l.method,action:f},f,p))}}))}function lo(a){function s(z){return cd(z,a)}cs!==null&&cd(cs,a),us!==null&&cd(us,a),ds!==null&&cd(ds,a),Ml.forEach(s),Ll.forEach(s);for(var l=0;l<fs.length;l++){var f=fs[l];f.blockedOn===a&&(f.blockedOn=null)}for(;0<fs.length&&(l=fs[0],l.blockedOn===null);)hS(l),l.blockedOn===null&&fs.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var p=l[f],y=l[f+1],j=p[Se]||null;if(typeof y=="function")j||gS(l);else if(j){var O=null;if(y&&y.hasAttribute("formAction")){if(p=y,j=y[Se]||null)O=j.formAction;else if(hg(p)!==null)continue}else O=j.action;typeof O=="function"?l[f+1]=O:(l.splice(f,3),f-=3),gS(l)}}}function pS(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(j){return p=j})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,p=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function gg(a){this._internalRoot=a}dd.prototype.render=gg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(n(409));var l=s.current,f=sn();oS(l,f,a,s,null,null)},dd.prototype.unmount=gg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;oS(a.current,2,null,a,null,null),Ku(),s[He]=null}};function dd(a){this._internalRoot=a}dd.prototype.unstable_scheduleHydration=function(a){if(a){var s=_e();a={blockedOn:null,target:a,priority:s};for(var l=0;l<fs.length&&s!==0&&s<fs[l].priority;l++);fs.splice(l,0,a),l===0&&hS(a)}};var vS=t.version;if(vS!=="19.2.0")throw Error(n(527,vS,"19.2.0"));W.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=m(s),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var g4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{Re=fd.inject(g4),Ae=fd}catch{}}return Pl.createRoot=function(a,s){if(!i(a))throw Error(n(299));var l=!1,f="",p=j_,y=N_,j=k_;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(j=s.onRecoverableError)),s=sS(a,1,!1,null,null,l,f,null,p,y,j,pS),a[He]=s.current,Wm(a),new gg(s)},Pl.hydrateRoot=function(a,s,l){if(!i(a))throw Error(n(299));var f=!1,p="",y=j_,j=N_,O=k_,z=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.formState!==void 0&&(z=l.formState)),s=sS(a,1,!0,s,l??null,f,p,z,y,j,O,pS),s.context=iS(null),l=s.current,f=sn(),f=Ne(f),p=Xa(f),p.callback=null,Ja(l,p,f),l=f,s.current.lanes=l,$(s,l),ra(s),a[He]=s.current,Wm(a),new dd(s)},Pl.version="19.2.0",Pl}var ES;function N4(){if(ES)return yg.exports;ES=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yg.exports=j4(),yg.exports}var k4=N4();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var EC=e=>{throw TypeError(e)},E4=(e,t,r)=>t.has(e)||EC("Cannot "+r),_g=(e,t,r)=>(E4(e,t,"read from private field"),r?r.call(e):t.get(e)),C4=(e,t,r)=>t.has(e)?EC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),CS="popstate";function T4(e={}){function t(n,i){let{pathname:o,search:c,hash:d}=n.location;return uc("",{pathname:o,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:_s(i)}return O4(t,r,null,e)}function Ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function D4(){return Math.random().toString(36).substring(2,10)}function TS(e,t){return{usr:e.state,key:e.key,idx:t}}function uc(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Es(t):t,state:r,key:t&&t.key||n||D4()}}function _s({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Es(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function O4(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,c=i.history,d="POP",h=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let _=g(),N=_==null?null:_-m;m=_,h&&h({action:d,location:w.location,delta:N})}function b(_,N){d="PUSH";let C=uc(w.location,_,N);m=g()+1;let T=TS(C,m),A=w.createHref(C);try{c.pushState(T,"",A)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(A)}o&&h&&h({action:d,location:w.location,delta:1})}function x(_,N){d="REPLACE";let C=uc(w.location,_,N);m=g();let T=TS(C,m),A=w.createHref(C);c.replaceState(T,"",A),o&&h&&h({action:d,location:w.location,delta:0})}function S(_){return CC(_)}let w={get action(){return d},get location(){return e(i,c)},listen(_){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(CS,v),h=_,()=>{i.removeEventListener(CS,v),h=null}},createHref(_){return t(i,_)},createURL:S,encodeLocation(_){let N=S(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:x,go(_){return c.go(_)}};return w}function CC(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:_s(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var Yl,DS=class{constructor(e){if(C4(this,Yl,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(_g(this,Yl).has(e))return _g(this,Yl).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){_g(this,Yl).set(e,t)}};Yl=new WeakMap;var A4=new Set(["lazy","caseSensitive","path","id","index","children"]);function R4(e){return A4.has(e)}var M4=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function L4(e){return M4.has(e)}function q4(e){return e.index===!0}function dc(e,t,r=[],n={},i=!1){return e.map((o,c)=>{let d=[...r,String(c)],h=typeof o.id=="string"?o.id:d.join("-");if(Ve(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ve(i||!n[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),q4(o)){let m={...o,...t(o),id:h};return n[h]=m,m}else{let m={...o,...t(o),id:h,children:void 0};return n[h]=m,o.children&&(m.children=dc(o.children,t,d,n,i)),m}})}function ys(e,t,r="/"){return Dd(e,t,r,!1)}function Dd(e,t,r,n){let i=typeof t=="string"?Es(t):t,o=Dn(i.pathname||"/",r);if(o==null)return null;let c=TC(e);P4(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let m=Q4(o);d=Y4(c[h],m,n)}return d}function U4(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function TC(e,t=[],r=[],n="",i=!1){let o=(c,d,h=i,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&h)return;Ve(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let v=ia([n,g.relativePath]),b=r.concat(g);c.children&&c.children.length>0&&(Ve(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),TC(c.children,t,b,v,h)),!(c.path==null&&!c.index)&&t.push({path:v,score:K4(v,c.index),routesMeta:b})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let h of DC(c.path))o(c,d,!0,h)}),t}function DC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let c=DC(n.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),i&&d.push(...c),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function P4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:G4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var $4=/^:[\w-]+$/,z4=3,B4=2,I4=1,F4=10,H4=-2,OS=e=>e==="*";function K4(e,t){let r=e.split("/"),n=r.length;return r.some(OS)&&(n+=H4),t&&(n+=B4),r.filter(i=>!OS(i)).reduce((i,o)=>i+($4.test(o)?z4:o===""?I4:F4),n)}function G4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Y4(e,t,r=!1){let{routesMeta:n}=e,i={},o="/",c=[];for(let d=0;d<n.length;++d){let h=n[d],m=d===n.length-1,g=o==="/"?t:t.slice(o.length)||"/",v=Wd({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),b=h.route;if(!v&&m&&r&&!n[n.length-1].route.index&&(v=Wd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:ia([o,v.pathname]),pathnameBase:Z4(ia([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=ia([o,v.pathnameBase]))}return c}function Wd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=V4(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:n.reduce((m,{paramName:g,isOptional:v},b)=>{if(g==="*"){let S=d[b]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const x=d[b];return v&&!x?m[g]=void 0:m[g]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:e}}function V4(e,t=!1,r=!0){Qt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(n.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Q4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Dn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function W4({basename:e,pathname:t}){return t==="/"?e:ia([e,t])}function X4(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Es(e):e;return{pathname:r?r.startsWith("/")?r:J4(r,t):t,search:eM(n),hash:tM(i)}}function J4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Sg(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Sf(e){let t=OC(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function jf(e,t,r,n=!1){let i;typeof e=="string"?i=Es(e):(i={...e},Ve(!i.pathname||!i.pathname.includes("?"),Sg("?","pathname","search",i)),Ve(!i.pathname||!i.pathname.includes("#"),Sg("#","pathname","hash",i)),Ve(!i.search||!i.search.includes("#"),Sg("#","search","hash",i)));let o=e===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=r;else{let v=t.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}d=v>=0?t[v]:"/"}let h=X4(i,d),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var ia=e=>e.join("/").replace(/\/\/+/g,"/"),Z4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Xd=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function fc(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var AC=["POST","PUT","PATCH","DELETE"],rM=new Set(AC),nM=["GET",...AC],aM=new Set(nM),sM=new Set([301,302,303,307,308]),iM=new Set([307,308]),jg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$l={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},lM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lb=e=>lM.test(e),cM=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),RC="remix-router-transitions",MC=Symbol("ResetLoaderData");function uM(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Ve(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],i=e.mapRouteProperties||cM,o={},c=dc(e.routes,i,void 0,o),d,h=e.basename||"/";h.startsWith("/")||(h=`/${h}`);let m=e.dataStrategy||gM,g={...e.future},v=null,b=new Set,x=null,S=null,w=null,_=e.hydrationData!=null,N=ys(c,e.history.location,h),C=!1,T=null,A;if(N==null&&!e.patchRoutesOnNavigation){let $=Nn(404,{pathname:e.history.location.pathname}),{matches:G,route:ee}=md(c);A=!0,N=G,T={[ee.id]:$}}else if(N&&!e.hydrationData&&nr(N,c,e.history.location.pathname).active&&(N=null),N)if(N.some($=>$.route.lazy))A=!1;else if(!N.some($=>cb($.route)))A=!0;else{let $=e.hydrationData?e.hydrationData.loaderData:null,G=e.hydrationData?e.hydrationData.errors:null;if(G){let ee=N.findIndex(de=>G[de.route.id]!==void 0);A=N.slice(0,ee+1).every(de=>!N0(de.route,$,G))}else A=N.every(ee=>!N0(ee.route,$,G))}else{A=!1,N=[];let $=nr(null,c,e.history.location.pathname);$.active&&$.matches&&(C=!0,N=$.matches)}let L,E={historyAction:e.history.action,location:e.history.location,matches:N,initialized:A,navigation:jg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||T,fetchers:new Map,blockers:new Map},D="POP",R=!1,q,B=!1,U=new Map,K=null,V=!1,te=!1,ge=new Set,P=new Map,W=0,J=-1,me=new Map,oe=new Set,M=new Map,H=new Map,se=new Set,fe=new Map,be,xe=null;function Oe(){if(v=e.history.listen(({action:$,location:G,delta:ee})=>{if(be){be(),be=void 0;return}Qt(fe.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=Ti({currentLocation:E.location,nextLocation:G,historyAction:$});if(de&&ee!=null){let pe=new Promise(Ne=>{be=Ne});e.history.go(ee*-1),ma(de,{state:"blocked",location:G,proceed(){ma(de,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),pe.then(()=>e.history.go(ee))},reset(){let Ne=new Map(E.blockers);Ne.set(de,$l),le({blockers:Ne})}});return}return et($,G)}),r){DM(t,U);let $=()=>OM(t,U);t.addEventListener("pagehide",$),K=()=>t.removeEventListener("pagehide",$)}return E.initialized||et("POP",E.location,{initialHydration:!0}),L}function Le(){v&&v(),K&&K(),b.clear(),q&&q.abort(),E.fetchers.forEach(($,G)=>Br(G)),E.blockers.forEach(($,G)=>Ci(G))}function ae($){return b.add($),()=>b.delete($)}function le($,G={}){$.matches&&($.matches=$.matches.map(pe=>{let Ne=o[pe.route.id],ke=pe.route;return ke.element!==Ne.element||ke.errorElement!==Ne.errorElement||ke.hydrateFallbackElement!==Ne.hydrateFallbackElement?{...pe,route:Ne}:pe})),E={...E,...$};let ee=[],de=[];E.fetchers.forEach((pe,Ne)=>{pe.state==="idle"&&(se.has(Ne)?ee.push(Ne):de.push(Ne))}),se.forEach(pe=>{!E.fetchers.has(pe)&&!P.has(pe)&&ee.push(pe)}),[...b].forEach(pe=>pe(E,{deletedFetchers:ee,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),ee.forEach(pe=>Br(pe)),de.forEach(pe=>E.fetchers.delete(pe))}function at($,G,{flushSync:ee}={}){let de=E.actionData!=null&&E.navigation.formMethod!=null&&Qr(E.navigation.formMethod)&&E.navigation.state==="loading"&&$.state?._isRedirect!==!0,pe;G.actionData?Object.keys(G.actionData).length>0?pe=G.actionData:pe=null:de?pe=E.actionData:pe=null;let Ne=G.loaderData?BS(E.loaderData,G.loaderData,G.matches||[],G.errors):E.loaderData,ke=E.blockers;ke.size>0&&(ke=new Map(ke),ke.forEach((we,Se)=>ke.set(Se,$l)));let _e=V?!1:Kt($,G.matches||E.matches),Ce=R===!0||E.navigation.formMethod!=null&&Qr(E.navigation.formMethod)&&$.state?._isRedirect!==!0;d&&(c=d,d=void 0),V||D==="POP"||(D==="PUSH"?e.history.push($,$.state):D==="REPLACE"&&e.history.replace($,$.state));let Te;if(D==="POP"){let we=U.get(E.location.pathname);we&&we.has($.pathname)?Te={currentLocation:E.location,nextLocation:$}:U.has($.pathname)&&(Te={currentLocation:$,nextLocation:E.location})}else if(B){let we=U.get(E.location.pathname);we?we.add($.pathname):(we=new Set([$.pathname]),U.set(E.location.pathname,we)),Te={currentLocation:E.location,nextLocation:$}}le({...G,actionData:pe,loaderData:Ne,historyAction:D,location:$,initialized:!0,navigation:jg,revalidation:"idle",restoreScrollPosition:_e,preventScrollReset:Ce,blockers:ke},{viewTransitionOpts:Te,flushSync:ee===!0}),D="POP",R=!1,B=!1,V=!1,te=!1,xe?.resolve(),xe=null}async function Pe($,G){if(typeof $=="number"){e.history.go($);return}let ee=j0(E.location,E.matches,h,$,G?.fromRouteId,G?.relative),{path:de,submission:pe,error:Ne}=AS(!1,ee,G),ke=E.location,_e=uc(E.location,de,G&&G.state);_e={..._e,...e.history.encodeLocation(_e)};let Ce=G&&G.replace!=null?G.replace:void 0,Te="PUSH";Ce===!0?Te="REPLACE":Ce===!1||pe!=null&&Qr(pe.formMethod)&&pe.formAction===E.location.pathname+E.location.search&&(Te="REPLACE");let we=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,Se=(G&&G.flushSync)===!0,He=Ti({currentLocation:ke,nextLocation:_e,historyAction:Te});if(He){ma(He,{state:"blocked",location:_e,proceed(){ma(He,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),Pe($,G)},reset(){let xt=new Map(E.blockers);xt.set(He,$l),le({blockers:xt})}});return}await et(Te,_e,{submission:pe,pendingError:Ne,preventScrollReset:we,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:Se})}function Xe(){xe||(xe=AM()),yr(),le({revalidation:"loading"});let $=xe.promise;return E.navigation.state==="submitting"?$:E.navigation.state==="idle"?(et(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),$):(et(D||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:B===!0}),$)}async function et($,G,ee){q&&q.abort(),q=null,D=$,V=(ee&&ee.startUninterruptedRevalidation)===!0,Pt(E.location,E.matches),R=(ee&&ee.preventScrollReset)===!0,B=(ee&&ee.enableViewTransition)===!0;let de=d||c,pe=ee&&ee.overrideNavigation,Ne=ee?.initialHydration&&E.matches&&E.matches.length>0&&!C?E.matches:ys(de,G,h),ke=(ee&&ee.flushSync)===!0;if(Ne&&E.initialized&&!te&&SM(E.location,G)&&!(ee&&ee.submission&&Qr(ee.submission.formMethod))){at(G,{matches:Ne},{flushSync:ke});return}let _e=nr(Ne,de,G.pathname);if(_e.active&&_e.matches&&(Ne=_e.matches),!Ne){let{error:br,notFoundMatches:Ct,route:ut}=Qn(G.pathname);at(G,{matches:Ct,loaderData:{},errors:{[ut.id]:br}},{flushSync:ke});return}q=new AbortController;let Ce=wo(e.history,G,q.signal,ee&&ee.submission),Te=e.getContext?await e.getContext():new DS,we;if(ee&&ee.pendingError)we=[bs(Ne).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Qr(ee.submission.formMethod)){let br=await Ue(Ce,G,ee.submission,Ne,Te,_e.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:ke});if(br.shortCircuited)return;if(br.pendingActionResult){let[Ct,ut]=br.pendingActionResult;if(ln(ut)&&fc(ut.error)&&ut.error.status===404){q=null,at(G,{matches:br.matches,loaderData:{},errors:{[Ct]:ut.error}});return}}Ne=br.matches||Ne,we=br.pendingActionResult,pe=Ng(G,ee.submission),ke=!1,_e.active=!1,Ce=wo(e.history,Ce.url,Ce.signal)}let{shortCircuited:Se,matches:He,loaderData:xt,errors:Xt}=await ht(Ce,G,Ne,Te,_e.active,pe,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,ke,we);Se||(q=null,at(G,{matches:He||Ne,...IS(we),loaderData:xt,errors:Xt}))}async function Ue($,G,ee,de,pe,Ne,ke,_e={}){yr();let Ce=CM(G,ee);if(le({navigation:Ce},{flushSync:_e.flushSync===!0}),Ne){let Se=await ar(de,G.pathname,$.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){if(Se.partialMatches.length===0){let{matches:xt,route:Xt}=md(c);return{matches:xt,pendingActionResult:[Xt.id,{type:"error",error:Se.error}]}}let He=bs(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[He,{type:"error",error:Se.error}]}}else if(Se.matches)de=Se.matches;else{let{notFoundMatches:He,error:xt,route:Xt}=Qn(G.pathname);return{matches:He,pendingActionResult:[Xt.id,{type:"error",error:xt}]}}}let Te,we=Od(de,G);if(!we.route.action&&!we.route.lazy)Te={type:"error",error:Nn(405,{method:$.method,pathname:G.pathname,routeId:we.route.id})};else{let Se=No(i,o,$,de,we,ke?[]:n,pe),He=await ft($,Se,pe,null);if(Te=He[we.route.id],!Te){for(let xt of de)if(He[xt.route.id]){Te=He[xt.route.id];break}}if($.signal.aborted)return{shortCircuited:!0}}if(ii(Te)){let Se;return _e&&_e.replace!=null?Se=_e.replace:Se=PS(Te.response.headers.get("Location"),new URL($.url),h)===E.location.pathname+E.location.search,await gt($,Te,!0,{submission:ee,replace:Se}),{shortCircuited:!0}}if(ln(Te)){let Se=bs(de,we.route.id);return(_e&&_e.replace)!==!0&&(D="PUSH"),{matches:de,pendingActionResult:[Se.route.id,Te,we.route.id]}}return{matches:de,pendingActionResult:[we.route.id,Te]}}async function ht($,G,ee,de,pe,Ne,ke,_e,Ce,Te,we,Se){let He=Ne||Ng(G,ke),xt=ke||_e||HS(He),Xt=!V&&!Te;if(pe){if(Xt){let hr=Be(Se);le({navigation:He,...hr!==void 0?{actionData:hr}:{}},{flushSync:we})}let Ke=await ar(ee,G.pathname,$.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){if(Ke.partialMatches.length===0){let{matches:ga,route:Jn}=md(c);return{matches:ga,loaderData:{},errors:{[Jn.id]:Ke.error}}}let hr=bs(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[hr]:Ke.error}}}else if(Ke.matches)ee=Ke.matches;else{let{error:hr,notFoundMatches:ga,route:Jn}=Qn(G.pathname);return{matches:ga,loaderData:{},errors:{[Jn.id]:hr}}}}let br=d||c,{dsMatches:Ct,revalidatingFetchers:ut}=RS($,de,i,o,e.history,E,ee,xt,G,Te?[]:n,Te===!0,te,ge,se,M,oe,br,h,e.patchRoutesOnNavigation!=null,Se);if(J=++W,!e.dataStrategy&&!Ct.some(Ke=>Ke.shouldLoad)&&!Ct.some(Ke=>Ke.route.middleware&&Ke.route.middleware.length>0)&&ut.length===0){let Ke=Ae();return at(G,{matches:ee,loaderData:{},errors:Se&&ln(Se[1])?{[Se[0]]:Se[1].error}:null,...IS(Se),...Ke?{fetchers:new Map(E.fetchers)}:{}},{flushSync:we}),{shortCircuited:!0}}if(Xt){let Ke={};if(!pe){Ke.navigation=He;let hr=Be(Se);hr!==void 0&&(Ke.actionData=hr)}ut.length>0&&(Ke.fetchers=dr(ut)),le(Ke,{flushSync:we})}ut.forEach(Ke=>{ve(Ke.key),Ke.controller&&P.set(Ke.key,Ke.controller)});let qn=()=>ut.forEach(Ke=>ve(Ke.key));q&&q.signal.addEventListener("abort",qn);let{loaderResults:fn,fetcherResults:Rr}=await nt(Ct,ut,$,de);if($.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",qn),ut.forEach(Ke=>P.delete(Ke.key));let Cr=gd(fn);if(Cr)return await gt($,Cr.result,!0,{replace:Ce}),{shortCircuited:!0};if(Cr=gd(Rr),Cr)return oe.add(Cr.key),await gt($,Cr.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:Wn,errors:Mt}=zS(E,ee,fn,Se,ut,Rr);Te&&E.errors&&(Mt={...E.errors,...Mt});let Xn=Ae(),As=st(J),hn=Xn||As||ut.length>0;return{matches:ee,loaderData:Wn,errors:Mt,...hn?{fetchers:new Map(E.fetchers)}:{}}}function Be($){if($&&!ln($[1]))return{[$[0]]:$[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function dr($){return $.forEach(G=>{let ee=E.fetchers.get(G.key),de=zl(void 0,ee?ee.data:void 0);E.fetchers.set(G.key,de)}),new Map(E.fetchers)}async function Wt($,G,ee,de){ve($);let pe=(de&&de.flushSync)===!0,Ne=d||c,ke=j0(E.location,E.matches,h,ee,G,de?.relative),_e=ys(Ne,ke,h),Ce=nr(_e,Ne,ke);if(Ce.active&&Ce.matches&&(_e=Ce.matches),!_e){jt($,G,Nn(404,{pathname:ke}),{flushSync:pe});return}let{path:Te,submission:we,error:Se}=AS(!0,ke,de);if(Se){jt($,G,Se,{flushSync:pe});return}let He=e.getContext?await e.getContext():new DS,xt=(de&&de.preventScrollReset)===!0;if(we&&Qr(we.formMethod)){await bt($,G,Te,_e,He,Ce.active,pe,xt,we);return}M.set($,{routeId:G,path:Te}),await mt($,G,Te,_e,He,Ce.active,pe,xt,we)}async function bt($,G,ee,de,pe,Ne,ke,_e,Ce){yr(),M.delete($);let Te=E.fetchers.get($);Ht($,TM(Ce,Te),{flushSync:ke});let we=new AbortController,Se=wo(e.history,ee,we.signal,Ce);if(Ne){let Gt=await ar(de,new URL(Se.url).pathname,Se.signal,$);if(Gt.type==="aborted")return;if(Gt.type==="error"){jt($,G,Gt.error,{flushSync:ke});return}else if(Gt.matches)de=Gt.matches;else{jt($,G,Nn(404,{pathname:ee}),{flushSync:ke});return}}let He=Od(de,ee);if(!He.route.action&&!He.route.lazy){let Gt=Nn(405,{method:Ce.formMethod,pathname:ee,routeId:G});jt($,G,Gt,{flushSync:ke});return}P.set($,we);let xt=W,Xt=No(i,o,Se,de,He,n,pe),Ct=(await ft(Se,Xt,pe,$))[He.route.id];if(Se.signal.aborted){P.get($)===we&&P.delete($);return}if(se.has($)){if(ii(Ct)||ln(Ct)){Ht($,La(void 0));return}}else{if(ii(Ct))if(P.delete($),J>xt){Ht($,La(void 0));return}else return oe.add($),Ht($,zl(Ce)),gt(Se,Ct,!1,{fetcherSubmission:Ce,preventScrollReset:_e});if(ln(Ct)){jt($,G,Ct.error);return}}let ut=E.navigation.location||E.location,qn=wo(e.history,ut,we.signal),fn=d||c,Rr=E.navigation.state!=="idle"?ys(fn,E.navigation.location,h):E.matches;Ve(Rr,"Didn't find any matches after fetcher action");let Cr=++W;me.set($,Cr);let Wn=zl(Ce,Ct.data);E.fetchers.set($,Wn);let{dsMatches:Mt,revalidatingFetchers:Xn}=RS(qn,pe,i,o,e.history,E,Rr,Ce,ut,n,!1,te,ge,se,M,oe,fn,h,e.patchRoutesOnNavigation!=null,[He.route.id,Ct]);Xn.filter(Gt=>Gt.key!==$).forEach(Gt=>{let pa=Gt.key,Rs=E.fetchers.get(pa),Un=zl(void 0,Rs?Rs.data:void 0);E.fetchers.set(pa,Un),ve(pa),Gt.controller&&P.set(pa,Gt.controller)}),le({fetchers:new Map(E.fetchers)});let As=()=>Xn.forEach(Gt=>ve(Gt.key));we.signal.addEventListener("abort",As);let{loaderResults:hn,fetcherResults:Ke}=await nt(Mt,Xn,qn,pe);if(we.signal.aborted)return;if(we.signal.removeEventListener("abort",As),me.delete($),P.delete($),Xn.forEach(Gt=>P.delete(Gt.key)),E.fetchers.has($)){let Gt=La(Ct.data);E.fetchers.set($,Gt)}let hr=gd(hn);if(hr)return gt(qn,hr.result,!1,{preventScrollReset:_e});if(hr=gd(Ke),hr)return oe.add(hr.key),gt(qn,hr.result,!1,{preventScrollReset:_e});let{loaderData:ga,errors:Jn}=zS(E,Rr,hn,void 0,Xn,Ke);st(Cr),E.navigation.state==="loading"&&Cr>J?(Ve(D,"Expected pending action"),q&&q.abort(),at(E.navigation.location,{matches:Rr,loaderData:ga,errors:Jn,fetchers:new Map(E.fetchers)})):(le({errors:Jn,loaderData:BS(E.loaderData,ga,Rr,Jn),fetchers:new Map(E.fetchers)}),te=!1)}async function mt($,G,ee,de,pe,Ne,ke,_e,Ce){let Te=E.fetchers.get($);Ht($,zl(Ce,Te?Te.data:void 0),{flushSync:ke});let we=new AbortController,Se=wo(e.history,ee,we.signal);if(Ne){let ut=await ar(de,new URL(Se.url).pathname,Se.signal,$);if(ut.type==="aborted")return;if(ut.type==="error"){jt($,G,ut.error,{flushSync:ke});return}else if(ut.matches)de=ut.matches;else{jt($,G,Nn(404,{pathname:ee}),{flushSync:ke});return}}let He=Od(de,ee);P.set($,we);let xt=W,Xt=No(i,o,Se,de,He,n,pe),Ct=(await ft(Se,Xt,pe,$))[He.route.id];if(P.get($)===we&&P.delete($),!Se.signal.aborted){if(se.has($)){Ht($,La(void 0));return}if(ii(Ct))if(J>xt){Ht($,La(void 0));return}else{oe.add($),await gt(Se,Ct,!1,{preventScrollReset:_e});return}if(ln(Ct)){jt($,G,Ct.error);return}Ht($,La(Ct.data))}}async function gt($,G,ee,{submission:de,fetcherSubmission:pe,preventScrollReset:Ne,replace:ke}={}){G.response.headers.has("X-Remix-Revalidate")&&(te=!0);let _e=G.response.headers.get("Location");Ve(_e,"Expected a Location header on the redirect Response"),_e=PS(_e,new URL($.url),h);let Ce=uc(E.location,_e,{_isRedirect:!0});if(r){let Xt=!1;if(G.response.headers.has("X-Remix-Reload-Document"))Xt=!0;else if(lb(_e)){const br=CC(_e,!0);Xt=br.origin!==t.location.origin||Dn(br.pathname,h)==null}if(Xt){ke?t.location.replace(_e):t.location.assign(_e);return}}q=null;let Te=ke===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:we,formAction:Se,formEncType:He}=E.navigation;!de&&!pe&&we&&Se&&He&&(de=HS(E.navigation));let xt=de||pe;if(iM.has(G.response.status)&&xt&&Qr(xt.formMethod))await et(Te,Ce,{submission:{...xt,formAction:_e},preventScrollReset:Ne||R,enableViewTransition:ee?B:void 0});else{let Xt=Ng(Ce,de);await et(Te,Ce,{overrideNavigation:Xt,fetcherSubmission:pe,preventScrollReset:Ne||R,enableViewTransition:ee?B:void 0})}}async function ft($,G,ee,de){let pe,Ne={};try{pe=await vM(m,$,G,de,ee,!1)}catch(ke){return G.filter(_e=>_e.shouldLoad).forEach(_e=>{Ne[_e.route.id]={type:"error",error:ke}}),Ne}if($.signal.aborted)return Ne;for(let[ke,_e]of Object.entries(pe))if(kM(_e)){let Ce=_e.result;Ne[ke]={type:"redirect",response:wM(Ce,$,ke,G,h)}}else Ne[ke]=await xM(_e);return Ne}async function nt($,G,ee,de){let pe=ft(ee,$,de,null),Ne=Promise.all(G.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let we=(await ft(Ce.request,Ce.matches,de,Ce.key))[Ce.match.route.id];return{[Ce.key]:we}}else return Promise.resolve({[Ce.key]:{type:"error",error:Nn(404,{pathname:Ce.path})}})})),ke=await pe,_e=(await Ne).reduce((Ce,Te)=>Object.assign(Ce,Te),{});return{loaderResults:ke,fetcherResults:_e}}function yr(){te=!0,M.forEach(($,G)=>{P.has(G)&&ge.add(G),ve(G)})}function Ht($,G,ee={}){E.fetchers.set($,G),le({fetchers:new Map(E.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function jt($,G,ee,de={}){let pe=bs(E.matches,G);Br($),le({errors:{[pe.route.id]:ee},fetchers:new Map(E.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function Et($){return H.set($,(H.get($)||0)+1),se.has($)&&se.delete($),E.fetchers.get($)||oM}function zr($,G){ve($,G?.reason),Ht($,La(null))}function Br($){let G=E.fetchers.get($);P.has($)&&!(G&&G.state==="loading"&&me.has($))&&ve($),M.delete($),me.delete($),oe.delete($),se.delete($),ge.delete($),E.fetchers.delete($)}function re($){let G=(H.get($)||0)-1;G<=0?(H.delete($),se.add($)):H.set($,G),le({fetchers:new Map(E.fetchers)})}function ve($,G){let ee=P.get($);ee&&(ee.abort(G),P.delete($))}function Re($){for(let G of $){let ee=Et(G),de=La(ee.data);E.fetchers.set(G,de)}}function Ae(){let $=[],G=!1;for(let ee of oe){let de=E.fetchers.get(ee);Ve(de,`Expected fetcher: ${ee}`),de.state==="loading"&&(oe.delete(ee),$.push(ee),G=!0)}return Re($),G}function st($){let G=[];for(let[ee,de]of me)if(de<$){let pe=E.fetchers.get(ee);Ve(pe,`Expected fetcher: ${ee}`),pe.state==="loading"&&(ve(ee),me.delete(ee),G.push(ee))}return Re(G),G.length>0}function it($,G){let ee=E.blockers.get($)||$l;return fe.get($)!==G&&fe.set($,G),ee}function Ci($){E.blockers.delete($),fe.delete($)}function ma($,G){let ee=E.blockers.get($)||$l;Ve(ee.state==="unblocked"&&G.state==="blocked"||ee.state==="blocked"&&G.state==="blocked"||ee.state==="blocked"&&G.state==="proceeding"||ee.state==="blocked"&&G.state==="unblocked"||ee.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${G.state}`);let de=new Map(E.blockers);de.set($,G),le({blockers:de})}function Ti({currentLocation:$,nextLocation:G,historyAction:ee}){if(fe.size===0)return;fe.size>1&&Qt(!1,"A router only supports one blocker at a time");let de=Array.from(fe.entries()),[pe,Ne]=de[de.length-1],ke=E.blockers.get(pe);if(!(ke&&ke.state==="proceeding")&&Ne({currentLocation:$,nextLocation:G,historyAction:ee}))return pe}function Qn($){let G=Nn(404,{pathname:$}),ee=d||c,{matches:de,route:pe}=md(ee);return{notFoundMatches:de,route:pe,error:G}}function Ha($,G,ee){if(x=$,w=G,S=ee||null,!_&&E.navigation===jg){_=!0;let de=Kt(E.location,E.matches);de!=null&&le({restoreScrollPosition:de})}return()=>{x=null,w=null,S=null}}function Rt($,G){return S&&S($,G.map(de=>U4(de,E.loaderData)))||$.key}function Pt($,G){if(x&&w){let ee=Rt($,G);x[ee]=w()}}function Kt($,G){if(x){let ee=Rt($,G),de=x[ee];if(typeof de=="number")return de}return null}function nr($,G,ee){if(e.patchRoutesOnNavigation)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:Dd(G,ee,h,!0)}}else return{active:!0,matches:Dd(G,ee,h,!0)||[]};return{active:!1,matches:null}}async function ar($,G,ee,de){if(!e.patchRoutesOnNavigation)return{type:"success",matches:$};let pe=$;for(;;){let Ne=d==null,ke=d||c,_e=o;try{await e.patchRoutesOnNavigation({signal:ee,path:G,matches:pe,fetcherKey:de,patch:(we,Se)=>{ee.aborted||MS(we,Se,ke,_e,i,!1)}})}catch(we){return{type:"error",error:we,partialMatches:pe}}finally{Ne&&!ee.aborted&&(c=[...c])}if(ee.aborted)return{type:"aborted"};let Ce=ys(ke,G,h);if(Ce)return{type:"success",matches:Ce};let Te=Dd(ke,G,h,!0);if(!Te||pe.length===Te.length&&pe.every((we,Se)=>we.route.id===Te[Se].route.id))return{type:"success",matches:null};pe=Te}}function fr($){o={},d=dc($,i,void 0,o)}function Er($,G,ee=!1){let de=d==null;MS($,G,d||c,o,i,ee),de&&(c=[...c],le({}))}return L={get basename(){return h},get future(){return g},get state(){return E},get routes(){return c},get window(){return t},initialize:Oe,subscribe:ae,enableScrollRestoration:Ha,navigate:Pe,fetch:Wt,revalidate:Xe,createHref:$=>e.history.createHref($),encodeLocation:$=>e.history.encodeLocation($),getFetcher:Et,resetFetcher:zr,deleteFetcher:re,dispose:Le,getBlocker:it,deleteBlocker:Ci,patchRoutes:Er,_internalFetchControllers:P,_internalSetRoutes:fr,_internalSetStateDoNotUseOrYouWillBreakYourApp($){le($)}},L}function dM(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function j0(e,t,r,n,i,o){let c,d;if(i){c=[];for(let m of t)if(c.push(m),m.route.id===i){d=m;break}}else c=t,d=t[t.length-1];let h=jf(n||".",Sf(c),Dn(e.pathname,r)||e.pathname,o==="path");if(n==null&&(h.search=e.search,h.hash=e.hash),(n==null||n===""||n===".")&&d){let m=ub(h.search);if(d.route.index&&!m)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let g=new URLSearchParams(h.search),v=g.getAll("index");g.delete("index"),v.filter(x=>x).forEach(x=>g.append("index",x));let b=g.toString();h.search=b?`?${b}`:""}}return r!=="/"&&(h.pathname=W4({basename:r,pathname:h.pathname})),_s(h)}function AS(e,t,r){if(!r||!dM(r))return{path:t};if(r.formMethod&&!EM(r.formMethod))return{path:t,error:Nn(405,{method:r.formMethod})};let n=()=>({path:t,error:Nn(400,{type:"invalid-body"})}),o=(r.formMethod||"get").toUpperCase(),c=zC(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Qr(o))return n();let v=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,[x,S])=>`${b}${x}=${S}
`,""):String(r.body);return{path:t,submission:{formMethod:o,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:v}}}else if(r.formEncType==="application/json"){if(!Qr(o))return n();try{let v=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:o,formAction:c,formEncType:r.formEncType,formData:void 0,json:v,text:void 0}}}catch{return n()}}}Ve(typeof FormData=="function","FormData is not available in this environment");let d,h;if(r.formData)d=E0(r.formData),h=r.formData;else if(r.body instanceof FormData)d=E0(r.body),h=r.body;else if(r.body instanceof URLSearchParams)d=r.body,h=$S(d);else if(r.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(r.body),h=$S(d)}catch{return n()}let m={formMethod:o,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Qr(m.formMethod))return{path:t,submission:m};let g=Es(t);return e&&g.search&&ub(g.search)&&d.append("index",""),g.search=`?${d}`,{path:_s(g),submission:m}}function RS(e,t,r,n,i,o,c,d,h,m,g,v,b,x,S,w,_,N,C,T){let A=T?ln(T[1])?T[1].error:T[1].data:void 0,L=i.createURL(o.location),E=i.createURL(h),D;if(g&&o.errors){let V=Object.keys(o.errors)[0];D=c.findIndex(te=>te.route.id===V)}else if(T&&ln(T[1])){let V=T[0];D=c.findIndex(te=>te.route.id===V)-1}let R=T?T[1].statusCode:void 0,q=R&&R>=400,B={currentUrl:L,currentParams:o.matches[0]?.params||{},nextUrl:E,nextParams:c[0].params,...d,actionResult:A,actionStatus:R},U=c.map((V,te)=>{let{route:ge}=V,P=null;if(D!=null&&te>D?P=!1:ge.lazy?P=!0:cb(ge)?g?P=N0(ge,o.loaderData,o.errors):fM(o.loaderData,o.matches[te],V)&&(P=!0):P=!1,P!==null)return k0(r,n,e,V,m,t,P);let W=q?!1:v||L.pathname+L.search===E.pathname+E.search||L.search!==E.search||hM(o.matches[te],V),J={...B,defaultShouldRevalidate:W},me=Jd(V,J);return k0(r,n,e,V,m,t,me,J)}),K=[];return S.forEach((V,te)=>{if(g||!c.some(H=>H.route.id===V.routeId)||x.has(te))return;let ge=o.fetchers.get(te),P=ge&&ge.state!=="idle"&&ge.data===void 0,W=ys(_,V.path,N);if(!W){if(C&&P)return;K.push({key:te,routeId:V.routeId,path:V.path,matches:null,match:null,request:null,controller:null});return}if(w.has(te))return;let J=Od(W,V.path),me=new AbortController,oe=wo(i,V.path,me.signal),M=null;if(b.has(te))b.delete(te),M=No(r,n,oe,W,J,m,t);else if(P)v&&(M=No(r,n,oe,W,J,m,t));else{let H={...B,defaultShouldRevalidate:q?!1:v};Jd(J,H)&&(M=No(r,n,oe,W,J,m,t,H))}M&&K.push({key:te,routeId:V.routeId,path:V.path,matches:M,match:J,request:oe,controller:me})}),{dsMatches:U,revalidatingFetchers:K}}function cb(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function N0(e,t,r){if(e.lazy)return!0;if(!cb(e))return!1;let n=t!=null&&e.id in t,i=r!=null&&r[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function fM(e,t,r){let n=!t||r.route.id!==t.route.id,i=!e.hasOwnProperty(r.route.id);return n||i}function hM(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Jd(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function MS(e,t,r,n,i,o){let c;if(e){let m=n[e];Ve(m,`No route found to patch children into: routeId = ${e}`),m.children||(m.children=[]),c=m.children}else c=r;let d=[],h=[];if(t.forEach(m=>{let g=c.find(v=>LC(m,v));g?h.push({existingRoute:g,newRoute:m}):d.push(m)}),d.length>0){let m=dc(d,i,[e||"_","patch",String(c?.length||"0")],n);c.push(...m)}if(o&&h.length>0)for(let m=0;m<h.length;m++){let{existingRoute:g,newRoute:v}=h[m],b=g,[x]=dc([v],i,[],{},!0);Object.assign(b,{element:x.element?x.element:b.element,errorElement:x.errorElement?x.errorElement:b.errorElement,hydrateFallbackElement:x.hydrateFallbackElement?x.hydrateFallbackElement:b.hydrateFallbackElement})}}function LC(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>t.children?.some(i=>LC(r,i))):!1}var LS=new WeakMap,qC=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let i=r[t.id];if(Ve(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[e];if(!o)return;let c=LS.get(i);c||(c={},LS.set(i,c));let d=c[e];if(d)return d;let h=(async()=>{let m=R4(e),v=i[e]!==void 0&&e!=="hasErrorBoundary";if(m)Qt(!m,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(v)Qt(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=await o();b!=null&&(Object.assign(i,{[e]:b}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(b=>b===void 0)&&(i.lazy=void 0))})();return c[e]=h,h},qS=new WeakMap;function mM(e,t,r,n,i){let o=r[e.id];if(Ve(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let g=qS.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let v=(async()=>{Ve(typeof e.lazy=="function","No lazy route function found");let b=await e.lazy(),x={};for(let S in b){let w=b[S];if(w===void 0)continue;let _=L4(S),C=o[S]!==void 0&&S!=="hasErrorBoundary";_?Qt(!_,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):C?Qt(!C,`Route "${o.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):x[S]=w}Object.assign(o,x),Object.assign(o,{...n(o),lazy:void 0})})();return qS.set(o,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let c=Object.keys(e.lazy),d=[],h;for(let g of c){if(i&&i.includes(g))continue;let v=qC({key:g,route:e,manifest:r,mapRouteProperties:n});v&&(d.push(v),g===t&&(h=v))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m?.catch(()=>{}),h?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:h}}async function US(e){let t=e.matches.filter(i=>i.shouldLoad),r={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,o)=>{r[t[o].route.id]=i}),r}async function gM(e){return e.matches.some(t=>t.route.middleware)?UC(e,()=>US(e)):US(e)}function UC(e,t){return pM(e,t,n=>n,jM,r);function r(n,i,o){if(o)return Promise.resolve(Object.assign(o.value,{[i]:{type:"error",result:n}}));{let{matches:c}=e,d=Math.min(Math.max(c.findIndex(m=>m.route.id===i),0),Math.max(c.findIndex(m=>m.unstable_shouldCallHandler()),0)),h=bs(c,c[d].route.id).route.id;return Promise.resolve({[h]:{type:"error",result:n}})}}}async function pM(e,t,r,n,i){let{matches:o,request:c,params:d,context:h}=e,m=o.flatMap(v=>v.route.middleware?v.route.middleware.map(b=>[v.route.id,b]):[]);return await PC({request:c,params:d,context:h},m,t,r,n,i)}async function PC(e,t,r,n,i,o,c=0){let{request:d}=e;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let h=t[c];if(!h)return await r();let[m,g]=h,v,b=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");try{return v={value:await PC(e,t,r,n,i,o,c+1)},v.value}catch(x){return v={value:await o(x,m,v)},v.value}};try{let x=await g(e,b),S=x!=null?n(x):void 0;return i(S)?S:v?S??v.value:(v={value:await b()},v.value)}catch(x){return await o(x,m,v)}}function $C(e,t,r,n,i){let o=qC({key:"middleware",route:n.route,manifest:t,mapRouteProperties:e}),c=mM(n.route,Qr(r.method)?"action":"loader",t,e,i);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function k0(e,t,r,n,i,o,c,d=null){let h=!1,m=$C(e,t,r,n,i);return{...n,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(g){return h=!0,d?typeof g=="boolean"?Jd(n,{...d,defaultShouldRevalidate:g}):Jd(n,d):c},resolve(g){let{lazy:v,loader:b,middleware:x}=n.route,S=h||c||g&&!Qr(r.method)&&(v||b),w=x&&x.length>0&&!b&&!v;return S&&!w?yM({request:r,match:n,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function No(e,t,r,n,i,o,c,d=null){return n.map(h=>h.route.id!==i.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:$C(e,t,r,h,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:k0(e,t,r,h,o,c,!0,d))}async function vM(e,t,r,n,i,o){r.some(m=>m._lazyPromises?.middleware)&&await Promise.all(r.map(m=>m._lazyPromises?.middleware));let c={request:t,params:r[0].params,context:i,matches:r},h=await e({...c,fetcherKey:n,runClientMiddleware:m=>{let g=c;return UC(g,()=>m({...g,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return h}async function yM({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:i,scopedContext:o}){let c,d,h=Qr(e.method),m=h?"action":"loader",g=v=>{let b,x=new Promise((_,N)=>b=N);d=()=>b(),e.signal.addEventListener("abort",d);let S=_=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${t.route.id}]`)):v({request:e,params:t.params,context:o},..._!==void 0?[_]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(N=>S(N)):S())}}catch(_){return{type:"error",result:_}}})();return Promise.race([w,x])};try{let v=h?t.route.action:t.route.loader;if(r||n)if(v){let b,[x]=await Promise.all([g(v).catch(S=>{b=S}),r,n]);if(b!==void 0)throw b;c=x}else{await r;let b=h?t.route.action:t.route.loader;if(b)[c]=await Promise.all([g(b),n]);else if(m==="action"){let x=new URL(e.url),S=x.pathname+x.search;throw Nn(405,{method:e.method,pathname:S,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(v)c=await g(v);else{let b=new URL(e.url),x=b.pathname+b.search;throw Nn(404,{pathname:x})}}catch(v){return{type:"error",result:v}}finally{d&&e.signal.removeEventListener("abort",d)}return c}async function bM(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function xM(e){let{result:t,type:r}=e;if(BC(t)){let n;try{n=await bM(t)}catch(i){return{type:"error",error:i}}return r==="error"?{type:"error",error:new Xd(t.status,t.statusText,n),statusCode:t.status,headers:t.headers}:{type:"data",data:n,statusCode:t.status,headers:t.headers}}return r==="error"?FS(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Xd(t.init?.status||500,void 0,t.data),statusCode:fc(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:fc(t)?t.status:void 0}:FS(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function wM(e,t,r,n,i){let o=e.headers.get("Location");if(Ve(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!lb(o)){let c=n.slice(0,n.findIndex(d=>d.route.id===r)+1);o=j0(new URL(t.url),c,i,o),e.headers.set("Location",o)}return e}function PS(e,t,r){if(lb(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),o=Dn(i.pathname,r)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function wo(e,t,r,n){let i=e.createURL(zC(t)).toString(),o={signal:r};if(n&&Qr(n.formMethod)){let{formMethod:c,formEncType:d}=n;o.method=c.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(n.json)):d==="text/plain"?o.body=n.text:d==="application/x-www-form-urlencoded"&&n.formData?o.body=E0(n.formData):o.body=n.formData}return new Request(i,o)}function E0(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function $S(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function _M(e,t,r,n=!1,i=!1){let o={},c=null,d,h=!1,m={},g=r&&ln(r[1])?r[1].error:void 0;return e.forEach(v=>{if(!(v.route.id in t))return;let b=v.route.id,x=t[b];if(Ve(!ii(x),"Cannot handle redirect results in processLoaderData"),ln(x)){let S=x.error;if(g!==void 0&&(S=g,g=void 0),c=c||{},i)c[b]=S;else{let w=bs(e,b);c[w.route.id]==null&&(c[w.route.id]=S)}n||(o[b]=MC),h||(h=!0,d=fc(x.error)?x.error.status:500),x.headers&&(m[b]=x.headers)}else o[b]=x.data,x.statusCode&&x.statusCode!==200&&!h&&(d=x.statusCode),x.headers&&(m[b]=x.headers)}),g!==void 0&&r&&(c={[r[0]]:g},r[2]&&(o[r[2]]=void 0)),{loaderData:o,errors:c,statusCode:d||200,loaderHeaders:m}}function zS(e,t,r,n,i,o){let{loaderData:c,errors:d}=_M(t,r,n);return i.filter(h=>!h.matches||h.matches.some(m=>m.shouldLoad)).forEach(h=>{let{key:m,match:g,controller:v}=h;if(v&&v.signal.aborted)return;let b=o[m];if(Ve(b,"Did not find corresponding fetcher result"),ln(b)){let x=bs(e.matches,g?.route.id);d&&d[x.route.id]||(d={...d,[x.route.id]:b.error}),e.fetchers.delete(m)}else if(ii(b))Ve(!1,"Unhandled fetcher revalidation redirect");else{let x=La(b.data);e.fetchers.set(m,x)}}),{loaderData:c,errors:d}}function BS(e,t,r,n){let i=Object.entries(t).filter(([,o])=>o!==MC).reduce((o,[c,d])=>(o[c]=d,o),{});for(let o of r){let c=o.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&o.route.loader&&(i[c]=e[c]),n&&n.hasOwnProperty(c))break}return i}function IS(e){return e?ln(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function bs(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function md(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Nn(e,{pathname:t,routeId:r,method:n,type:i,message:o}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(c="Bad Request",n&&t&&r?d=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:i==="invalid-body"&&(d="Unable to encode submission body")):e===403?(c="Forbidden",d=`Route "${r}" does not match URL "${t}"`):e===404?(c="Not Found",d=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",n&&t&&r?d=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(d=`Invalid request method "${n.toUpperCase()}"`)),new Xd(e||500,c,new Error(d),!0)}function gd(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,i]=t[r];if(ii(i))return{key:n,result:i}}}function zC(e){let t=typeof e=="string"?Es(e):e;return _s({...t,hash:""})}function SM(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function jM(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&NM(r))}function NM(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function kM(e){return BC(e.result)&&sM.has(e.result.status)}function ln(e){return e.type==="error"}function ii(e){return(e&&e.type)==="redirect"}function FS(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function BC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function EM(e){return aM.has(e.toUpperCase())}function Qr(e){return rM.has(e.toUpperCase())}function ub(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Od(e,t){let r=typeof t=="string"?Es(t).search:t.search;if(e[e.length-1].route.index&&ub(r||""))return e[e.length-1];let n=OC(e);return n[n.length-1]}function HS(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:o,json:c}=e;if(!(!t||!r||!n)){if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:c,text:void 0}}}function Ng(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function CM(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function zl(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function TM(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function La(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function DM(e,t){try{let r=e.sessionStorage.getItem(RC);if(r){let n=JSON.parse(r);for(let[i,o]of Object.entries(n||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function OM(e,t){if(t.size>0){let r={};for(let[n,i]of t)r[n]=[...i];try{e.sessionStorage.setItem(RC,JSON.stringify(r))}catch(n){Qt(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function AM(){let e,t,r=new Promise((n,i)=>{e=async o=>{n(o);try{await r}catch{}},t=async o=>{i(o);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var ji=k.createContext(null);ji.displayName="DataRouter";var Mc=k.createContext(null);Mc.displayName="DataRouterState";k.createContext(!1);var db=k.createContext({isTransitioning:!1});db.displayName="ViewTransition";var IC=k.createContext(new Map);IC.displayName="Fetchers";var RM=k.createContext(null);RM.displayName="Await";var Vn=k.createContext(null);Vn.displayName="Navigation";var Nf=k.createContext(null);Nf.displayName="Location";var Rn=k.createContext({outlet:null,matches:[],isDataRoute:!1});Rn.displayName="Route";var fb=k.createContext(null);fb.displayName="RouteError";function MM(e,{relative:t}={}){Ve(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=k.useContext(Vn),{hash:i,pathname:o,search:c}=qc(e,{relative:t}),d=o;return r!=="/"&&(d=o==="/"?r:ia([r,o])),n.createHref({pathname:d,search:c,hash:i})}function Po(){return k.useContext(Nf)!=null}function ua(){return Ve(Po(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Nf).location}var FC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HC(e){k.useContext(Vn).static||k.useLayoutEffect(e)}function Lc(){let{isDataRoute:e}=k.useContext(Rn);return e?QM():LM()}function LM(){Ve(Po(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(ji),{basename:t,navigator:r}=k.useContext(Vn),{matches:n}=k.useContext(Rn),{pathname:i}=ua(),o=JSON.stringify(Sf(n)),c=k.useRef(!1);return HC(()=>{c.current=!0}),k.useCallback((h,m={})=>{if(Qt(c.current,FC),!c.current)return;if(typeof h=="number"){r.go(h);return}let g=jf(h,JSON.parse(o),i,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ia([t,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[t,r,o,i,e])}var qM=k.createContext(null);function UM(e){let t=k.useContext(Rn).outlet;return k.useMemo(()=>t&&k.createElement(qM.Provider,{value:e},t),[t,e])}function Ia(){let{matches:e}=k.useContext(Rn),t=e[e.length-1];return t?t.params:{}}function qc(e,{relative:t}={}){let{matches:r}=k.useContext(Rn),{pathname:n}=ua(),i=JSON.stringify(Sf(r));return k.useMemo(()=>jf(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function PM(e,t,r,n,i){Ve(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(Vn),{matches:c}=k.useContext(Rn),d=c[c.length-1],h=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let C=v&&v.path||"";KC(m,!v||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=ua(),x;x=b;let S=x.pathname||"/",w=S;if(g!=="/"){let C=g.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=ys(e,{pathname:w});return Qt(v||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Qt(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),FM(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:ia([g,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:ia([g,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),c,r,n,i)}function $M(){let e=VM(),t=fc(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:i},r):null,c)}var zM=k.createElement($M,null),BM=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(Rn.Provider,{value:this.props.routeContext},k.createElement(fb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IM({routeContext:e,match:t,children:r}){let n=k.useContext(ji);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Rn.Provider,{value:e},r)}function FM(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=r?.errors;if(c!=null){let m=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Ve(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,h=-1;if(r)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:v,errors:b}=r,x=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||x){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let b,x=!1,S=null,w=null;r&&(b=c&&g.route.id?c[g.route.id]:void 0,S=g.route.errorElement||zM,d&&(h<0&&v===0?(KC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):h===v&&(x=!0,w=g.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,v+1)),N=()=>{let C;return b?C=S:x?C=w:g.route.Component?C=k.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=m,k.createElement(IM,{match:g,routeContext:{outlet:m,matches:_,isDataRoute:r!=null},children:C})};return r&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?k.createElement(BM,{location:r.location,revalidation:r.revalidation,component:S,error:b,children:N(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):N()},null)}function hb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HM(e){let t=k.useContext(ji);return Ve(t,hb(e)),t}function KM(e){let t=k.useContext(Mc);return Ve(t,hb(e)),t}function GM(e){let t=k.useContext(Rn);return Ve(t,hb(e)),t}function mb(e){let t=GM(e),r=t.matches[t.matches.length-1];return Ve(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function YM(){return mb("useRouteId")}function VM(){let e=k.useContext(fb),t=KM("useRouteError"),r=mb("useRouteError");return e!==void 0?e:t.errors?.[r]}function QM(){let{router:e}=HM("useNavigate"),t=mb("useNavigate"),r=k.useRef(!1);return HC(()=>{r.current=!0}),k.useCallback(async(i,o={})=>{Qt(r.current,FC),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var KS={};function KC(e,t,r){!t&&!KS[e]&&(KS[e]=!0,Qt(!1,r))}var GS={};function YS(e,t){!e&&!GS[t]&&(GS[t]=!0,console.warn(t))}function WM(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:k.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:k.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:k.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var XM=["HydrateFallback","hydrateFallbackElement"],JM=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function ZM({router:e,flushSync:t,unstable_onError:r}){let[n,i]=k.useState(e.state),[o,c]=k.useState(),[d,h]=k.useState({isTransitioning:!1}),[m,g]=k.useState(),[v,b]=k.useState(),[x,S]=k.useState(),w=k.useRef(new Map),_=k.useCallback(L=>{i(E=>(L.errors&&r&&Object.entries(L.errors).forEach(([D,R])=>{E.errors?.[D]!==R&&r(R)}),L))},[r]),N=k.useCallback((L,{deletedFetchers:E,flushSync:D,viewTransitionOpts:R})=>{L.fetchers.forEach((B,U)=>{B.data!==void 0&&w.current.set(U,B.data)}),E.forEach(B=>w.current.delete(B)),YS(D===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let q=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(YS(R==null||q,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!q){t&&D?t(()=>_(L)):k.startTransition(()=>_(L));return}if(t&&D){t(()=>{v&&(m&&m.resolve(),v.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let B=e.window.document.startViewTransition(()=>{t(()=>_(L))});B.finished.finally(()=>{t(()=>{g(void 0),b(void 0),c(void 0),h({isTransitioning:!1})})}),t(()=>b(B));return}v?(m&&m.resolve(),v.skipTransition(),S({state:L,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(c(L),h({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[e.window,t,v,m,_]);k.useLayoutEffect(()=>e.subscribe(N),[e,N]),k.useEffect(()=>{d.isTransitioning&&!d.flushSync&&g(new JM)},[d]),k.useEffect(()=>{if(m&&o&&e.window){let L=o,E=m.promise,D=e.window.document.startViewTransition(async()=>{k.startTransition(()=>_(L)),await E});D.finished.finally(()=>{g(void 0),b(void 0),c(void 0),h({isTransitioning:!1})}),b(D)}},[o,m,e.window,_]),k.useEffect(()=>{m&&o&&n.location.key===o.location.key&&m.resolve()},[m,v,n.location,o]),k.useEffect(()=>{!d.isTransitioning&&x&&(c(x.state),h({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),S(void 0))},[d.isTransitioning,x]);let C=k.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:L=>e.navigate(L),push:(L,E,D)=>e.navigate(L,{state:E,preventScrollReset:D?.preventScrollReset}),replace:(L,E,D)=>e.navigate(L,{replace:!0,state:E,preventScrollReset:D?.preventScrollReset})}),[e]),T=e.basename||"/",A=k.useMemo(()=>({router:e,navigator:C,static:!1,basename:T,unstable_onError:r}),[e,C,T,r]);return k.createElement(k.Fragment,null,k.createElement(ji.Provider,{value:A},k.createElement(Mc.Provider,{value:n},k.createElement(IC.Provider,{value:w.current},k.createElement(db.Provider,{value:d},k.createElement(r3,{basename:T,location:n.location,navigationType:n.historyAction,navigator:C},k.createElement(e3,{routes:e.routes,future:e.future,state:n,unstable_onError:r})))))),null)}var e3=k.memo(t3);function t3({routes:e,future:t,state:r,unstable_onError:n}){return PM(e,void 0,r,n,t)}function GC({to:e,replace:t,state:r,relative:n}){Ve(Po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=k.useContext(Vn);Qt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=k.useContext(Rn),{pathname:c}=ua(),d=Lc(),h=jf(e,Sf(o),c,n==="path"),m=JSON.stringify(h);return k.useEffect(()=>{d(JSON.parse(m),{replace:t,state:r,relative:n})},[d,m,n,t,r]),null}function YC(e){return UM(e.context)}function r3({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:o=!1}){Ve(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof r=="string"&&(r=Es(r));let{pathname:h="/",search:m="",hash:g="",state:v=null,key:b="default"}=r,x=k.useMemo(()=>{let S=Dn(h,c);return S==null?null:{location:{pathname:S,search:m,hash:g,state:v,key:b},navigationType:n}},[c,h,m,g,v,b,n]);return Qt(x!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:k.createElement(Vn.Provider,{value:d},k.createElement(Nf.Provider,{children:t,value:x}))}var Ad="get",Rd="application/x-www-form-urlencoded";function kf(e){return e!=null&&typeof e.tagName=="string"}function n3(e){return kf(e)&&e.tagName.toLowerCase()==="button"}function a3(e){return kf(e)&&e.tagName.toLowerCase()==="form"}function s3(e){return kf(e)&&e.tagName.toLowerCase()==="input"}function i3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function o3(e,t){return e.button===0&&(!t||t==="_self")&&!i3(e)}var pd=null;function l3(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var c3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kg(e){return e!=null&&!c3.has(e)?(Qt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rd}"`),null):e}function u3(e,t){let r,n,i,o,c;if(a3(e)){let d=e.getAttribute("action");n=d?Dn(d,t):null,r=e.getAttribute("method")||Ad,i=kg(e.getAttribute("enctype"))||Rd,o=new FormData(e)}else if(n3(e)||s3(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(n=h?Dn(h,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||Ad,i=kg(e.getAttribute("formenctype"))||kg(d.getAttribute("enctype"))||Rd,o=new FormData(d,e),!l3()){let{name:m,type:g,value:v}=e;if(g==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,v)}}else{if(kf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ad,n=null,i=Rd,c=e}return o&&i==="text/plain"&&(c=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function d3(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Dn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function f3(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function m3(e,t,r){let n=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let c=await f3(o,r);return c.links?c.links():[]}return[]}));return y3(n.flat(1).filter(h3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function VS(e,t,r,n,i,o){let c=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,d=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return o==="assets"?t.filter((h,m)=>c(h,m)||d(h,m)):o==="data"?t.filter((h,m)=>{let g=n.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function g3(e,t,{includeHydrateFallback:r}={}){return p3(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function p3(e){return[...new Set(e)]}function v3(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function y3(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let o=JSON.stringify(v3(i));return r.has(o)||(r.add(o),n.push({key:o,link:i})),n},[])}function VC(){let e=k.useContext(ji);return gb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function b3(){let e=k.useContext(Mc);return gb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var pb=k.createContext(void 0);pb.displayName="FrameworkContext";function QC(){let e=k.useContext(pb);return gb(e,"You must render this element inside a <HydratedRouter> element"),e}function x3(e,t){let r=k.useContext(pb),[n,i]=k.useState(!1),[o,c]=k.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=t,b=k.useRef(null);k.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=N=>{N.forEach(C=>{c(C.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[e]),k.useEffect(()=>{if(n){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[n]);let x=()=>{i(!0)},S=()=>{i(!1),c(!1)};return r?e!=="intent"?[o,b,{}]:[o,b,{onFocus:Bl(d,x),onBlur:Bl(h,S),onMouseEnter:Bl(m,x),onMouseLeave:Bl(g,S),onTouchStart:Bl(v,x)}]:[!1,b,{}]}function Bl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function w3({page:e,...t}){let{router:r}=VC(),n=k.useMemo(()=>ys(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?k.createElement(S3,{page:e,matches:n,...t}):null}function _3(e){let{manifest:t,routeModules:r}=QC(),[n,i]=k.useState([]);return k.useEffect(()=>{let o=!1;return m3(e,t,r).then(c=>{o||i(c)}),()=>{o=!0}},[e,t,r]),n}function S3({page:e,matches:t,...r}){let n=ua(),{manifest:i,routeModules:o}=QC(),{basename:c}=VC(),{loaderData:d,matches:h}=b3(),m=k.useMemo(()=>VS(e,t,h,i,n,"data"),[e,t,h,i,n]),g=k.useMemo(()=>VS(e,t,h,i,n,"assets"),[e,t,h,i,n]),v=k.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,w=!1;if(t.forEach(N=>{let C=i.routes[N.route.id];!C||!C.hasLoader||(!m.some(T=>T.route.id===N.route.id)&&N.route.id in d&&o[N.route.id]?.shouldRevalidate||C.hasClientLoader?w=!0:S.add(N.route.id))}),S.size===0)return[];let _=d3(e,c,"data");return w&&S.size>0&&_.searchParams.set("_routes",t.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[_.pathname+_.search]},[c,d,n,i,m,t,e,o]),b=k.useMemo(()=>g3(g,i),[g,i]),x=_3(g);return k.createElement(k.Fragment,null,v.map(S=>k.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),b.map(S=>k.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),x.map(({key:S,link:w})=>k.createElement("link",{key:S,nonce:r.nonce,...w})))}function j3(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var WC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WC&&(window.__reactRouterVersion="7.9.3")}catch{}function N3(e,t){return uM({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:T4({window:t?.window}),hydrationData:t?.hydrationData||k3(),routes:e,mapRouteProperties:WM,hydrationRouteProperties:XM,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function k3(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:E3(e.errors)}),e}function E3(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new Xd(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let c=new o(i.message);c.stack="",r[n]=c}catch{}}if(r[n]==null){let o=new Error(i.message);o.stack="",r[n]=o}}else r[n]=i;return r}var XC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=k.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:c,state:d,target:h,to:m,preventScrollReset:g,viewTransition:v,...b},x){let{basename:S}=k.useContext(Vn),w=typeof m=="string"&&XC.test(m),_,N=!1;if(typeof m=="string"&&w&&(_=m,WC))try{let q=new URL(window.location.href),B=m.startsWith("//")?new URL(q.protocol+m):new URL(m),U=Dn(B.pathname,S);B.origin===q.origin&&U!=null?m=U+B.search+B.hash:N=!0}catch{Qt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=MM(m,{relative:i}),[T,A,L]=x3(n,b),E=O3(m,{replace:c,state:d,target:h,preventScrollReset:g,relative:i,viewTransition:v});function D(q){t&&t(q),q.defaultPrevented||E(q)}let R=k.createElement("a",{...b,...L,href:_||C,onClick:N||o?t:D,ref:j3(x,A),target:h,"data-discover":!w&&r==="render"?"true":void 0});return T&&!w?k.createElement(k.Fragment,null,R,k.createElement(w3,{page:C})):R});on.displayName="Link";var C3=k.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:c,viewTransition:d,children:h,...m},g){let v=qc(c,{relative:m.relative}),b=ua(),x=k.useContext(Mc),{navigator:S,basename:w}=k.useContext(Vn),_=x!=null&&q3(v)&&d===!0,N=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,C=b.pathname,T=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(C=C.toLowerCase(),T=T?T.toLowerCase():null,N=N.toLowerCase()),T&&w&&(T=Dn(T,w)||T);const A=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let L=C===N||!i&&C.startsWith(N)&&C.charAt(A)==="/",E=T!=null&&(T===N||!i&&T.startsWith(N)&&T.charAt(N.length)==="/"),D={isActive:L,isPending:E,isTransitioning:_},R=L?t:void 0,q;typeof n=="function"?q=n(D):q=[n,L?"active":null,E?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(D):o;return k.createElement(on,{...m,"aria-current":R,className:q,ref:g,style:B,to:c,viewTransition:d},typeof h=="function"?h(D):h)});C3.displayName="NavLink";var T3=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:o,method:c=Ad,action:d,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:v,...b},x)=>{let S=M3(),w=L3(d,{relative:m}),_=c.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&XC.test(d),C=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let A=T.nativeEvent.submitter,L=A?.getAttribute("formmethod")||c;S(A||T.currentTarget,{fetcherKey:t,method:L,navigate:r,replace:i,state:o,relative:m,preventScrollReset:g,viewTransition:v})};return k.createElement("form",{ref:x,method:_,action:w,onSubmit:n?h:C,...b,"data-discover":!N&&e==="render"?"true":void 0})});T3.displayName="Form";function D3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JC(e){let t=k.useContext(ji);return Ve(t,D3(e)),t}function O3(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:c}={}){let d=Lc(),h=ua(),m=qc(e,{relative:o});return k.useCallback(g=>{if(o3(g,t)){g.preventDefault();let v=r!==void 0?r:_s(h)===_s(m);d(e,{replace:v,state:n,preventScrollReset:i,relative:o,viewTransition:c})}},[h,d,m,r,n,t,e,i,o,c])}var A3=0,R3=()=>`__${String(++A3)}__`;function M3(){let{router:e}=JC("useSubmit"),{basename:t}=k.useContext(Vn),r=YM();return k.useCallback(async(n,i={})=>{let{action:o,method:c,encType:d,formData:h,body:m}=u3(n,t);if(i.navigate===!1){let g=i.fetcherKey||R3();await e.fetch(g,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function L3(e,{relative:t}={}){let{basename:r}=k.useContext(Vn),n=k.useContext(Rn);Ve(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...qc(e||".",{relative:t})},c=ua();if(e==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:ia([r,o.pathname])),_s(o)}function q3(e,{relative:t}={}){let r=k.useContext(db);Ve(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=JC("useViewTransitionState"),i=qc(e,{relative:t});if(!r.isTransitioning)return!1;let o=Dn(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Dn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Wd(i.pathname,c)!=null||Wd(i.pathname,o)!=null}var oi=kC();const ZC=Pr(oi);function U3(e){return k.createElement(ZM,{flushSync:oi.flushSync,...e})}var $o=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},P3={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},$3=class{#e=P3;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},li=new $3;function z3(e){setTimeout(e,0)}var fi=typeof window>"u"||"Deno"in globalThis;function Lr(){}function B3(e,t){return typeof e=="function"?e(t):e}function C0(e){return typeof e=="number"&&e>=0&&e!==1/0}function eT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ws(e,t){return typeof e=="function"?e(t):e}function kn(e,t){return typeof e=="function"?e(t):e}function QS(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:c,stale:d}=e;if(c){if(n){if(t.queryHash!==vb(c,t.options))return!1}else if(!hc(t.queryKey,c))return!1}if(r!=="all"){const h=t.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||i&&i!==t.state.fetchStatus||o&&!o(t))}function WS(e,t){const{exact:r,status:n,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(hi(t.options.mutationKey)!==hi(o))return!1}else if(!hc(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function vb(e,t){return(t?.queryKeyHashFn||hi)(e)}function hi(e){return JSON.stringify(e,(t,r)=>T0(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function hc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>hc(e[r],t[r])):!1}var I3=Object.prototype.hasOwnProperty;function tT(e,t){if(e===t)return e;const r=XS(e)&&XS(t);if(!r&&!(T0(e)&&T0(t)))return t;const i=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),c=o.length,d=r?new Array(c):{};let h=0;for(let m=0;m<c;m++){const g=r?m:o[m],v=e[g],b=t[g];if(v===b){d[g]=v,(r?m<i:I3.call(e,g))&&h++;continue}if(v===null||b===null||typeof v!="object"||typeof b!="object"){d[g]=b;continue}const x=tT(v,b);d[g]=x,x===v&&h++}return i===c&&h===i?e:d}function Zd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function XS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function T0(e){if(!JS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!JS(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function JS(e){return Object.prototype.toString.call(e)==="[object Object]"}function F3(e){return new Promise(t=>{li.setTimeout(t,e)})}function D0(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?tT(e,t):t}function H3(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function K3(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var yb=Symbol();function rT(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===yb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function nT(e,t){return typeof e=="function"?e(...t):!!e}var G3=class extends $o{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!fi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},bb=new G3;function O0(){let e,t;const r=new Promise((i,o)=>{e=i,t=o});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var Y3=z3;function V3(){let e=[],t=0,r=d=>{d()},n=d=>{d()},i=Y3;const o=d=>{t?e.push(d):i(()=>{r(d)})},c=()=>{const d=e;e=[],d.length&&i(()=>{n(()=>{d.forEach(h=>{r(h)})})})};return{batch:d=>{let h;t++;try{h=d()}finally{t--,t||c()}return h},batchCalls:d=>(...h)=>{o(()=>{d(...h)})},schedule:o,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{i=d}}}var lr=V3(),Q3=class extends $o{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!fi&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},ef=new Q3;function W3(e){return Math.min(1e3*2**e,3e4)}function aT(e){return(e??"online")==="online"?ef.isOnline():!0}var A0=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function sT(e){let t=!1,r=0,n;const i=O0(),o=()=>i.status!=="pending",c=w=>{if(!o()){const _=new A0(w);b(_),e.onCancel?.(_)}},d=()=>{t=!0},h=()=>{t=!1},m=()=>bb.isFocused()&&(e.networkMode==="always"||ef.isOnline())&&e.canRun(),g=()=>aT(e.networkMode)&&e.canRun(),v=w=>{o()||(n?.(),i.resolve(w))},b=w=>{o()||(n?.(),i.reject(w))},x=()=>new Promise(w=>{n=_=>{(o()||m())&&w(_)},e.onPause?.()}).then(()=>{n=void 0,o()||e.onContinue?.()}),S=()=>{if(o())return;let w;const _=r===0?e.initialPromise:void 0;try{w=_??e.fn()}catch(N){w=Promise.reject(N)}Promise.resolve(w).then(v).catch(N=>{if(o())return;const C=e.retry??(fi?0:3),T=e.retryDelay??W3,A=typeof T=="function"?T(r,N):T,L=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,N);if(t||!L){b(N);return}r++,e.onFail?.(r,N),F3(A).then(()=>m()?void 0:x()).then(()=>{t?b(N):S()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(n?.(),i),cancelRetry:d,continueRetry:h,canStart:g,start:()=>(g()?S():x().then(S),i)}}var iT=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),C0(this.gcTime)&&(this.#e=li.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(fi?1/0:300*1e3))}clearGcTimeout(){this.#e&&(li.clearTimeout(this.#e),this.#e=void 0)}},X3=class extends iT{#e;#t;#r;#a;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=ZS(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=ZS(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=D0(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Lr).catch(Lr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>kn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ws(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!eT(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const d=rT(this.options,t),m=(()=>{const g={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(g),g})();return this.#o=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:i};return n(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#s({type:"fetch",meta:c.fetchOptions?.meta}),this.#n=sT({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof A0&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,h)=>{this.#s({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#n.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#r.config.onSuccess?.(d,this),this.#r.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof A0){if(d.silent)return this.#n.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#s({type:"error",error:d}),this.#r.config.onError?.(d,this),this.#r.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...oT(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),lr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function oT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ZS(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var J3=class extends $o{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#o=O0(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#i;#o;#s;#g;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),ej(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return R0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return R0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof kn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),t._defaulted&&!Zd(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&tj(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==r||kn(this.options.enabled,this.#t)!==kn(t.enabled,this.#t)||ws(this.options.staleTime,this.#t)!==ws(t.staleTime,this.#t))&&this.#p();const i=this.#v();n&&(this.#t!==r||kn(this.options.enabled,this.#t)!==kn(t.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return e5(this,r)&&(this.#a=r,this.#i=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#_();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Lr)),t}#p(){this.#x();const e=ws(this.options.staleTime,this.#t);if(fi||this.#a.isStale||!C0(e))return;const r=eT(this.#a.dataUpdatedAt,e)+1;this.#c=li.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(fi||kn(this.options.enabled,this.#t)===!1||!C0(this.#l)||this.#l===0)&&(this.#u=li.setInterval(()=>{(this.options.refetchIntervalInBackground||bb.isFocused())&&this.#d()},this.#l))}#b(){this.#p(),this.#y(this.#v())}#x(){this.#c&&(li.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(li.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,i=this.#a,o=this.#n,c=this.#i,h=e!==r?e.state:this.#r,{state:m}=e;let g={...m},v=!1,b;if(t._optimisticResults){const R=this.hasListeners(),q=!R&&ej(e,t),B=R&&tj(e,r,t,n);(q||B)&&(g={...g,...oT(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:x,errorUpdatedAt:S,status:w}=g;b=g.data;let _=!1;if(t.placeholderData!==void 0&&b===void 0&&w==="pending"){let R;i?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(R=i.data,_=!0):R=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,R!==void 0&&(w="success",b=D0(i?.data,R,t),v=!0)}if(t.select&&b!==void 0&&!_)if(i&&b===o?.data&&t.select===this.#g)b=this.#f;else try{this.#g=t.select,b=t.select(b),b=D0(i?.data,b,t),this.#f=b,this.#s=null}catch(R){this.#s=R}this.#s&&(x=this.#s,b=this.#f,S=Date.now(),w="error");const N=g.fetchStatus==="fetching",C=w==="pending",T=w==="error",A=C&&N,L=b!==void 0,D={status:w,fetchStatus:g.fetchStatus,isPending:C,isSuccess:w==="success",isError:T,isInitialLoading:A,isLoading:A,data:b,dataUpdatedAt:g.dataUpdatedAt,error:x,errorUpdatedAt:S,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:N,isRefetching:N&&!C,isLoadingError:T&&!L,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:T&&L,isStale:xb(e,t),refetch:this.refetch,promise:this.#o,isEnabled:kn(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=U=>{D.status==="error"?U.reject(D.error):D.data!==void 0&&U.resolve(D.data)},q=()=>{const U=this.#o=D.promise=O0();R(U)},B=this.#o;switch(B.status){case"pending":e.queryHash===r.queryHash&&R(B);break;case"fulfilled":(D.status==="error"||D.data!==B.value)&&q();break;case"rejected":(D.status!=="error"||D.error!==B.reason)&&q();break}}return D}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#i=this.options,this.#n.data!==void 0&&(this.#h=this.#t),Zd(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#m.size)return!0;const o=new Set(i??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#a).some(c=>{const d=c;return this.#a[d]!==e[d]&&o.has(d)})};this.#S({listeners:r()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){lr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Z3(e,t){return kn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ej(e,t){return Z3(e,t)||e.state.data!==void 0&&R0(e,t,t.refetchOnMount)}function R0(e,t,r){if(kn(t.enabled,e)!==!1&&ws(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&xb(e,t)}return!1}function tj(e,t,r,n){return(e!==t||kn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&xb(e,r)}function xb(e,t){return kn(t.enabled,e)!==!1&&e.isStaleByTime(ws(t.staleTime,e))}function e5(e,t){return!Zd(e.getCurrentResult(),t)}function rj(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const m=async()=>{let g=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=rT(t.options,t.fetchOptions),x=async(S,w,_)=>{if(g)return Promise.reject();if(w==null&&S.pages.length)return Promise.resolve(S);const C=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:w,direction:_?"backward":"forward",meta:t.options.meta};return v(E),E})(),T=await b(C),{maxPages:A}=t.options,L=_?K3:H3;return{pages:L(S.pages,T,A),pageParams:L(S.pageParams,w,A)}};if(i&&o.length){const S=i==="backward",w=S?t5:nj,_={pages:o,pageParams:c},N=w(n,_);d=await x(_,N,S)}else{const S=e??o.length;do{const w=h===0?c[0]??n.initialPageParam:nj(n,d);if(h>0&&w==null)break;d=await x(d,w),h++}while(h<S)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=m}}}function nj(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function t5(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var r5=class extends iT{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||lT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=sT({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{this.#n({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",i=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:i}),await this.#r.config.onMutate?.(e,this,r);const c=await this.options.onMutate?.(e,r);c!==this.state.context&&this.#n({type:"pending",context:c,variables:e,isPaused:i})}const o=await this.#a.start();return await this.#r.config.onSuccess?.(o,e,this.state.context,this,r),await this.options.onSuccess?.(o,e,this.state.context,r),await this.#r.config.onSettled?.(o,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(o,null,e,this.state.context,r),this.#n({type:"success",data:o}),o}catch(o){try{throw await this.#r.config.onError?.(o,e,this.state.context,this,r),await this.options.onError?.(o,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,o,e,this.state.context,r),o}finally{this.#n({type:"error",error:o})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),lr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function lT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var n5=class extends $o{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new r5({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=vd(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=vd(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=vd(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=vd(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){lr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>WS(t,r))}findAll(e={}){return this.getAll().filter(t=>WS(e,t))}notify(e){lr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return lr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Lr))))}};function vd(e){return e.options.scope?.id}var a5=class extends $o{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Zd(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&hi(r.mutationKey)!==hi(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#i()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??lT();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){lr.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,i),this.#a.onSettled?.(t.data,null,r,n,i)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,i),this.#a.onSettled?.(void 0,t.error,r,n,i))}this.listeners.forEach(r=>{r(this.#t)})})}},s5=class extends $o{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,i=t.queryHash??vb(n,t);let o=this.get(i);return o||(o=new X3({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>QS(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>QS(e,r)):t}notify(e){lr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){lr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},i5=class{#e;#t;#r;#a;#n;#i;#o;#s;constructor(e={}){this.#e=e.queryCache||new s5,this.#t=e.mutationCache||new n5,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=bb.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=ef.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ws(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(n.queryHash)?.state.data,c=B3(t,o);if(c!==void 0)return this.#e.build(this,n).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return lr.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;lr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return lr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=lr.batch(()=>this.#e.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Lr).catch(Lr)}invalidateQueries(e,t={}){return lr.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=lr.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(Lr)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Lr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(ws(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Lr).catch(Lr)}fetchInfiniteQuery(e){return e.behavior=rj(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Lr).catch(Lr)}ensureInfiniteQueryData(e){return e.behavior=rj(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ef.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(hi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{hc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(hi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{hc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=vb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===yb&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},cT=k.createContext(void 0),kr=e=>{const t=k.useContext(cT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},o5=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(cT.Provider,{value:e,children:t})),uT=k.createContext(!1),l5=()=>k.useContext(uT);uT.Provider;function c5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var u5=k.createContext(c5()),d5=()=>k.useContext(u5),f5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},h5=e=>{k.useEffect(()=>{e.clearReset()},[e])},m5=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||nT(r,[e.error,n])),g5=e=>{if(e.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},p5=(e,t)=>e.isLoading&&e.isFetching&&!t,v5=(e,t)=>e?.suspense&&t.isPending,aj=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function y5(e,t,r){const n=l5(),i=d5(),o=kr(),c=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=n?"isRestoring":"optimistic",g5(c),f5(c,i),h5(i);const d=!o.getQueryCache().get(c.queryHash),[h]=k.useState(()=>new t(o,c)),m=h.getOptimisticResult(c),g=!n&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(v=>{const b=g?h.subscribe(lr.batchCalls(v)):Lr;return h.updateResult(),b},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),k.useEffect(()=>{h.setOptions(c)},[c,h]),v5(c,m))throw aj(c,h,i);if(m5({result:m,errorResetBoundary:i,throwOnError:c.throwOnError,query:o.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,m),c.experimental_prefetchInRender&&!fi&&p5(m,n)&&(d?aj(c,h,i):o.getQueryCache().get(c.queryHash)?.promise)?.catch(Lr).finally(()=>{h.updateResult()}),c.notifyOnChangeProps?m:h.trackResult(m)}function ct(e,t){return y5(e,J3)}function Ge(e,t){const r=kr(),[n]=k.useState(()=>new a5(r,e));k.useEffect(()=>{n.setOptions(e)},[n,e]);const i=k.useSyncExternalStore(k.useCallback(c=>n.subscribe(lr.batchCalls(c)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=k.useCallback((c,d)=>{n.mutate(c,d).catch(Lr)},[n]);if(i.error&&nT(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}const b5="modulepreload",x5=function(e){return"/todo-app/"+e},sj={},Uc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let m=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");i=m(r.map(g=>{if(g=x5(g),g in sj)return;sj[g]=!0;const v=g.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":b5,v||(x.as="script"),x.crossOrigin="",x.href=g,h&&x.setAttribute("nonce",h),document.head.appendChild(x),v)return new Promise((S,w)=>{x.addEventListener("load",S),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return i.then(d=>{for(const h of d||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})},w5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>zo);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class wb extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ij extends wb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class oj extends wb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lj extends wb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var M0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(M0||(M0={}));var _5=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class S5{constructor(t,{headers:r={},customFetch:n,region:i=M0.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=w5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return _5(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:c,signal:d}=r;let h={},{region:m}=r;m||(m=this.region);const g=new URL(`${this.url}/${t}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let v;c&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(h["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(h["Content-Type"]="application/json",v=JSON.stringify(c)));const b=yield this.fetch(g.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),i),body:v,signal:d}).catch(_=>{throw _.name==="AbortError"?_:new ij(_)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new oj(b);if(!b.ok)throw new lj(b);let S=((n=b.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return S==="application/json"?w=yield b.json():S==="application/octet-stream"?w=yield b.blob():S==="text/event-stream"?w=b:S==="multipart/form-data"?w=yield b.formData():w=yield b.text(),{data:w,error:null,response:b}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new ij(i)}:{data:null,error:i,response:i instanceof lj||i instanceof oj?i.context:void 0}}})}}var gr={},co={},uo={},fo={},ho={},mo={},j5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Eo=j5();const N5=Eo.fetch,dT=Eo.fetch.bind(Eo),fT=Eo.Headers,k5=Eo.Request,E5=Eo.Response,zo=Object.freeze(Object.defineProperty({__proto__:null,Headers:fT,Request:k5,Response:E5,default:dT,fetch:N5},Symbol.toStringTag,{value:"Module"})),C5=v4(zo);var yd={},cj;function hT(){if(cj)return yd;cj=1,Object.defineProperty(yd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yd.default=e,yd}var uj;function mT(){if(uj)return mo;uj=1;var e=mo&&mo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(mo,"__esModule",{value:!0});const t=e(C5),r=e(hT());class n{constructor(o){var c,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(c=o.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=new Headers(this.headers),this.headers.set(o,c),this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,v,b,x;let S=null,w=null,_=null,N=m.status,C=m.statusText;if(m.ok){if(this.method!=="HEAD"){const E=await m.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?w=E:w=JSON.parse(E))}const A=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),L=(b=m.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");A&&L&&L.length>1&&(_=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(S={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,N=406,C="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const A=await m.text();try{S=JSON.parse(A),Array.isArray(S)&&m.status===404&&(w=[],S=null,N=200,C="OK")}catch{m.status===404&&A===""?(N=204,C="No Content"):S={message:A}}if(S&&this.isMaybeSingle&&(!((x=S?.details)===null||x===void 0)&&x.includes("0 rows"))&&(S=null,N=200,C="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:w,count:_,status:N,statusText:C}});return this.shouldThrowOnError||(h=h.catch(m=>{var g,v,b;return{error:{message:`${(g=m?.name)!==null&&g!==void 0?g:"FetchError"}: ${m?.message}`,details:`${(v=m?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(b=m?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,c)}returns(){return this}overrideTypes(){return this}}return mo.default=n,mo}var dj;function gT(){if(dj)return ho;dj=1;var e=ho&&ho.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ho,"__esModule",{value:!0});const t=e(mT());class r extends t.default{select(i){let o=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${i}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,o,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(m,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var g;const v=[i?"analyze":null,o?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${v};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return ho.default=r,ho}var fj;function _b(){if(fj)return fo;fj=1;var e=fo&&fo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(fo,"__esModule",{value:!0});const t=e(gT());class r extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const c=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:c,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${h}fts${m}.${o}`),this}match(i){return Object.entries(i).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(i,o,c){return this.url.searchParams.append(i,`not.${o}.${c}`),this}or(i,{foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,o,c){return this.url.searchParams.append(i,`${o}.${c}`),this}}return fo.default=r,fo}var hj;function pT(){if(hj)return uo;hj=1;var e=uo&&uo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(uo,"__esModule",{value:!0});const t=e(_b());class r{constructor(i,{headers:o={},schema:c,fetch:d}){this.url=i,this.headers=new Headers(o),this.schema=c,this.fetch=d}select(i,{head:o=!1,count:c}={}){const d=o?"HEAD":"GET";let h=!1;const m=(i??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:c=!0}={}){var d;const h="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(v.length>0){const b=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:o}={}){var c;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var o;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return uo.default=r,uo}var mj;function T5(){if(mj)return co;mj=1;var e=co&&co.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(co,"__esModule",{value:!0});const t=e(pT()),r=e(_b());class n{constructor(o,{headers:c={},schema:d,fetch:h}={}){this.url=o,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(o){const c=new URL(`${this.url}/${o}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:d=!1,get:h=!1,count:m}={}){var g;let v;const b=new URL(`${this.url}/rpc/${o}`);let x;d||h?(v=d?"HEAD":"GET",Object.entries(c).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{b.searchParams.append(w,_)})):(v="POST",x=c);const S=new Headers(this.headers);return m&&S.set("Prefer",`count=${m}`),new r.default({method:v,url:b,headers:S,schema:this.schemaName,body:x,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return co.default=n,co}var gj;function D5(){if(gj)return gr;gj=1;var e=gr&&gr.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(gr,"__esModule",{value:!0}),gr.PostgrestError=gr.PostgrestBuilder=gr.PostgrestTransformBuilder=gr.PostgrestFilterBuilder=gr.PostgrestQueryBuilder=gr.PostgrestClient=void 0;const t=e(T5());gr.PostgrestClient=t.default;const r=e(pT());gr.PostgrestQueryBuilder=r.default;const n=e(_b());gr.PostgrestFilterBuilder=n.default;const i=e(gT());gr.PostgrestTransformBuilder=i.default;const o=e(mT());gr.PostgrestBuilder=o.default;const c=e(hT());return gr.PostgrestError=c.default,gr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:c.default},gr}var O5=D5();const A5=Pr(O5),{PostgrestClient:R5,PostgrestQueryBuilder:eG,PostgrestFilterBuilder:tG,PostgrestTransformBuilder:rG,PostgrestBuilder:nG,PostgrestError:aG}=A5;class M5{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const L5="2.15.5",q5=`realtime-js/${L5}`,U5="1.0.0",L0=1e4,P5=1e3,$5=100;var Zl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Zl||(Zl={}));var ir;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ir||(ir={}));var Bn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Bn||(Bn={}));var q0;(function(e){e.websocket="websocket"})(q0||(q0={}));var ai;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ai||(ai={}));class z5{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),o=r.getUint8(2);let c=this.HEADER_LENGTH+2;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+o));c=c+o;const m=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class vT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tt||(Tt={}));const pj=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,c)=>(o[c]=B5(c,e,t,i),o),{})},B5=(e,t,r,n)=>{const i=t.find(d=>d.name===e),o=i?.type,c=r[e];return o&&!n.includes(o)?yT(o,c):U0(c)},yT=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return K5(t,r)}switch(e){case Tt.bool:return I5(t);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return F5(t);case Tt.json:case Tt.jsonb:return H5(t);case Tt.timestamp:return G5(t);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return U0(t);default:return U0(t)}},U0=e=>e,I5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},H5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},K5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const c=e.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(d=>yT(t,d))}return e},G5=e=>typeof e=="string"?e.replace(" ","T"):e,bT=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Eg{constructor(t,r,n={},i=L0){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vj||(vj={}));class ec{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ec.syncState(this.state,i,o,c),this.pendingDiffs.forEach(h=>{this.state=ec.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ec.syncDiff(this.state,i,o,c),d())}),this.onJoin((i,o,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:c})}),this.onLeave((i,o,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const o=this.cloneDeep(t),c=this.transformState(r),d={},h={};return this.map(o,(m,g)=>{c[m]||(h[m]=g)}),this.map(c,(m,g)=>{const v=o[m];if(v){const b=g.map(_=>_.presence_ref),x=v.map(_=>_.presence_ref),S=g.filter(_=>x.indexOf(_.presence_ref)<0),w=v.filter(_=>b.indexOf(_.presence_ref)<0);S.length>0&&(d[m]=S),w.length>0&&(h[m]=w)}else d[m]=g}),this.syncDiff(o,{joins:d,leaves:h},n,i)}static syncDiff(t,r,n,i){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(d,h)=>{var m;const g=(m=t[d])!==null&&m!==void 0?m:[];if(t[d]=this.cloneDeep(h),g.length>0){const v=t[d].map(x=>x.presence_ref),b=g.filter(x=>v.indexOf(x.presence_ref)<0);t[d].unshift(...b)}n(d,g,h)}),this.map(c,(d,h)=>{let m=t[d];if(!m)return;const g=h.map(v=>v.presence_ref);m=m.filter(v=>g.indexOf(v.presence_ref)<0),t[d]=m,i(d,m,h),m.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yj||(yj={}));var tc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(tc||(tc={}));var qa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(qa||(qa={}));class Sb{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Eg(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new vT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ir.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new ec(this),this.broadcastEndpointURL=bT(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ir.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[tc.PRESENCE]&&this.bindings[tc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},b={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(qa.CHANNEL_ERROR,x)),this._onClose(()=>t?.(qa.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket.setAuth(),x===void 0){t?.(qa.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(S=w?.length)!==null&&S!==void 0?S:0,N=[];for(let C=0;C<_;C++){const T=w[C],{filter:{event:A,schema:L,table:E,filter:D}}=T,R=x&&x[C];if(R&&R.event===A&&R.schema===L&&R.table===E&&R.filter===D)N.push(Object.assign(Object.assign({},T),{id:R.id}));else{this.unsubscribe(),this.state=ir.errored,t?.(qa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(qa.SUBSCRIBED);return}}).receive("error",x=>{this.state=ir.errored,t?.(qa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(qa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ir.joined&&t===tc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:c}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,d,h;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ir.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Eg(this,Bn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ir.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Eg(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,o;const c=t.toLocaleLowerCase(),{close:d,error:h,leave:m,join:g}=Bn;if(n&&[d,h,m,g].indexOf(c)>=0&&n!==this._joinRef())return;let b=this._onMessage(c,r,n);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var S,w,_;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(w=x.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(x=>x.callback(b,n)):(o=this.bindings[c])===null||o===void 0||o.filter(x=>{var S,w,_,N,C,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const A=x.id,L=(S=x.filter)===null||S===void 0?void 0:S.event;return A&&((w=r.ids)===null||w===void 0?void 0:w.includes(A))&&(L==="*"||L?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const A=(C=(N=x?.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return A==="*"||A===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:w,table:_,commit_timestamp:N,type:C,errors:T}=S;b=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:N,eventType:C,new:{},old:{},errors:T}),this._getPayloadRecords(S))}x.callback(b,n)})}_isClosed(){return this.state===ir.closed}_isJoined(){return this.state===ir.joined}_isJoining(){return this.state===ir.joining}_isLeaving(){return this.state===ir.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Sb.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Bn.close,{},t)}_onError(t){this._on(Bn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ir.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=pj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=pj(t.columns,t.old_record)),r}}const Cg=()=>{},bd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Y5=[1e3,2e3,5e3,1e4],V5=1e4,Q5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class W5{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=L0,this.transport=null,this.heartbeatIntervalMs=bd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cg,this.ref=0,this.reconnectTimer=null,this.logger=Cg,this.conn=null,this.sendBuffer=[],this.serializer=new z5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...c)=>Uc(async()=>{const{default:d}=await Promise.resolve().then(()=>zo);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...c)=>o(...c)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${q0.websocket}`,this.httpEndpoint=bT(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=M5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:U5}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zl.connecting:return ai.Connecting;case Zl.open:return ai.Open;case Zl.closing:return ai.Closing;default:return ai.Closed}}isConnected(){return this.connectionState()===ai.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new Sb(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:i,ref:o}=t,c=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(P5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:c}=r,d=c?`(${c})`:"",h=o.status||"";this.log("receive",`${h} ${n} ${i} ${d}`.trim(),o),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Bn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Q5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:q5};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Bn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new vT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,o,c,d,h,m,g;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:L0,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:bd.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:Cg,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(v=>Y5[v-1]||V5),this.encode=(m=t?.encode)!==null&&m!==void 0?m:((v,b)=>b(JSON.stringify(v))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class jb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function rr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class X5 extends jb{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class P0 extends jb{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var J5=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const xT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>zo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Z5=()=>J5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Uc(()=>Promise.resolve().then(()=>zo),void 0)).Response:Response}),$0=e=>{if(Array.isArray(e))return e.map(r=>$0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=$0(n)}),t},e6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ni=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const Tg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t6=(e,t,r)=>Ni(void 0,void 0,void 0,function*(){const n=yield Z5();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const o=e.status||500,c=i?.statusCode||o+"";t(new X5(Tg(i),o,c))}).catch(i=>{t(new P0(Tg(i),i))}):t(new P0(Tg(e),e))}),r6=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(e6(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Pc(e,t,r,n,i,o){return Ni(this,void 0,void 0,function*(){return new Promise((c,d)=>{e(r,r6(t,n,i,o)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>t6(h,d,n))})})}function tf(e,t,r,n){return Ni(this,void 0,void 0,function*(){return Pc(e,"GET",t,r,n)})}function aa(e,t,r,n,i){return Ni(this,void 0,void 0,function*(){return Pc(e,"POST",t,n,i,r)})}function z0(e,t,r,n,i){return Ni(this,void 0,void 0,function*(){return Pc(e,"PUT",t,n,i,r)})}function n6(e,t,r,n){return Ni(this,void 0,void 0,function*(){return Pc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wT(e,t,r,n,i){return Ni(this,void 0,void 0,function*(){return Pc(e,"DELETE",t,n,i,r)})}var a6=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class s6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return a6(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rr(t))return{data:null,error:t};throw t}})}}var i6=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class o6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new s6(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return i6(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rr(t))return{data:null,error:t};throw t}})}}var Vr=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const l6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class c6{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=xT(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Vr(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},bj),i);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const m=this._removeEmptyFolders(r),g=this._getFinalPath(m),v=yield(t=="PUT"?z0:aa)(this.fetch,`${this.url}/object/${g}`,o,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rr(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Vr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),c=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:bj.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const v=yield z0(this.fetch,d.toString(),h,{headers:g});return{data:{path:o,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(rr(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,r){return Vr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const o=yield aa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+o.url),d=c.searchParams.get("token");if(!d)throw new jb("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Vr(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Vr(this,void 0,void 0,function*(){try{return{data:{path:(yield aa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Vr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield aa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Vr(this,void 0,void 0,function*(){try{const i=yield aa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),c=o?`?${o}`:"",d=this._getFinalPath(t),h=()=>tf(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new o6(h,this.shouldThrowOnError)}info(t){return Vr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield tf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:$0(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}exists(t){return Vr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield n6(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n)&&n instanceof P0){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&i.push(o);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&i.push(h);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${m}`)}}}remove(t){return Vr(this,void 0,void 0,function*(){try{return{data:yield wT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Vr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},l6),r),{prefix:t||""});return{data:yield aa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}listV2(t,r){return Vr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield aa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const u6="2.12.2",d6={"X-Client-Info":`storage-js/${u6}`};var go=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class f6{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},d6),r),this.fetch=xT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return go(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rr(t))return{data:null,error:t};throw t}})}getBucket(t){return go(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return go(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return go(this,void 0,void 0,function*(){try{return{data:yield z0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return go(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return go(this,void 0,void 0,function*(){try{return{data:yield wT(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}}class h6 extends f6{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new c6(this.url,this.headers,t,this.fetch)}}const m6="2.58.0";let Vl="";typeof Deno<"u"?Vl="deno":typeof document<"u"?Vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vl="react-native":Vl="node";const g6={"X-Client-Info":`supabase-js-${Vl}/${m6}`},p6={headers:g6},v6={schema:"public"},y6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},b6={};var x6=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const w6=e=>{let t;return e?t=e:typeof fetch>"u"?t=dT:t=fetch,(...r)=>t(...r)},_6=()=>typeof Headers>"u"?fT:Headers,S6=(e,t,r)=>{const n=w6(r),i=_6();return(o,c)=>x6(void 0,void 0,void 0,function*(){var d;const h=(d=yield t())!==null&&d!==void 0?d:e;let m=new i(c?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),n(o,Object.assign(Object.assign({},c),{headers:m}))})};var j6=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};function N6(e){return e.endsWith("/")?e:e+"/"}function k6(e,t){var r,n;const{db:i,auth:o,realtime:c,global:d}=e,{db:h,auth:m,realtime:g,global:v}=t,b={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},g),c),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>j6(this,void 0,void 0,function*(){return""})};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function E6(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(N6(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const _T="2.72.0",_o=30*1e3,B0=3,Dg=B0*_o,C6="http://localhost:9999",T6="supabase.auth.token",D6={"X-Client-Info":`gotrue-js/${_T}`},I0="X-Supabase-Api-Version",ST={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},O6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A6=600*1e3;class Nb extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class R6 extends Nb{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function M6(e){return ze(e)&&e.name==="AuthApiError"}class jT extends Nb{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Cs extends Nb{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class ps extends Cs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L6(e){return ze(e)&&e.name==="AuthSessionMissingError"}class Il extends Cs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xd extends Cs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wd extends Cs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function q6(e){return ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class xj extends Cs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class F0 extends Cs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Og(e){return ze(e)&&e.name==="AuthRetryableFetchError"}class wj extends Cs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class H0 extends Cs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_j=` 	
\r=`.split(""),U6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_j.length;t+=1)e[_j[t].charCodeAt(0)]=-2;for(let t=0;t<rf.length;t+=1)e[rf[t].charCodeAt(0)]=t;return e})();function Sj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(rf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(rf[n]),t.queuedBits-=6}}function NT(e,t,r){const n=U6[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jj(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=c=>{z6(c,n,r)};for(let c=0;c<e.length;c+=1)NT(e.charCodeAt(c),i,o);return t.join("")}function P6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}P6(n,t)}}function z6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function B6(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)NT(e.charCodeAt(i),r,n);return new Uint8Array(t)}function I6(e){const t=[];return $6(e,r=>t.push(r)),new Uint8Array(t)}function F6(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Sj(i,r,n)),Sj(null,r,n),t.join("")}function H6(e){return Math.round(Date.now()/1e3)+e}function K6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const jn=()=>typeof window<"u"&&typeof document<"u",Ws={tested:!1,writable:!1},kT=()=>{if(!jn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ws.tested)return Ws.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ws.tested=!0,Ws.writable=!0}catch{Ws.tested=!0,Ws.writable=!1}return Ws.writable};function G6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const ET=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>zo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Y6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",So=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Xs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ms=async(e,t)=>{await e.removeItem(t)};class Ef{constructor(){this.promise=new Ef.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ef.promiseConstructor=Promise;function Ag(e){const t=e.split(".");if(t.length!==3)throw new H0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!O6.test(t[n]))throw new H0("JWT not in base64url format");return{header:JSON.parse(jj(t[0])),payload:JSON.parse(jj(t[1])),signature:B6(t[2]),raw:{header:t[0],payload:t[1]}}}async function V6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Q6(e,t){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await e(o);if(!t(o,null,c)){n(c);return}}catch(c){if(!t(o,c)){i(c);return}}})()})}function W6(e){return("0"+e.toString(16)).substr(-2)}function X6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,W6).join("")}async function J6(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Z6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await J6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function po(e,t,r=!1){const n=X6();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await So(e,`${t}-code-verifier`,i);const o=await Z6(n);return[o,n===o?"plain":"s256"]}const eL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tL(e){const t=e.headers.get(I0);if(!t||!t.match(eL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function nL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vo(e){if(!aL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nj(e){return JSON.parse(JSON.stringify(e))}var sL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iL=[502,503,504];async function kj(e){var t;if(!Y6(e))throw new F0(ri(e),0);if(iL.includes(e.status))throw new F0(ri(e),e.status);let r;try{r=await e.json()}catch(o){throw new jT(ri(o),o)}let n;const i=tL(e);if(i&&i.getTime()>=ST["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new wj(ri(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ps}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new wj(ri(r),e.status,r.weak_password.reasons);throw new R6(ri(r),e.status||500,n)}const oL=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ye(e,t,r,n){var i;const o=Object.assign({},n?.headers);o[I0]||(o[I0]=ST["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await lL(e,t,r+d,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function lL(e,t,r,n,i,o){const c=oL(t,n,i,o);let d;try{d=await e(r,Object.assign({},c))}catch(h){throw console.error(h),new F0(ri(h),0)}if(d.ok||await kj(d),n?.noResolveJson)return d;try{return await d.json()}catch(h){await kj(h)}}function na(e){var t;let r=null;fL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=H6(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ej(e){const t=na(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function cL(e){return{data:e,error:null}}function uL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=e,c=sL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function dL(e){return e}function fL(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mg=["global","local","others"];var hL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class mL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=ET(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Mg[0]){if(Mg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mg.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:xs})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=hL(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:uL,redirectTo:r?.redirectTo})}catch(r){if(ze(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xs})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,o,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:dL});if(g.error)throw g.error;const v=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);m[`${_}Page`]=w}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(ze(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){vo(t);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xs})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){vo(t);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:xs})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){vo(t);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:xs})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){vo(t.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _deleteFactor(t){vo(t.userId),vo(t.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}}function Cj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function gL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yo={debug:!!(globalThis&&kT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class CT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pL extends CT{}async function vL(e,t,r){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),yo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(yo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function TT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function yL(e){return parseInt(e,16)}function bL(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function xL(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:c,notBefore:d,requestId:h,resources:m,scheme:g,uri:v,version:b}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=TT(e.address),S=g?`${g}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${x}

${w}`;let N=`URI: ${v}
Version: ${b}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),h&&(N+=`
Request ID: ${h}`),m){let C=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);C+=`
- ${T}`}N+=C}return`${_}
${N}`}gL();const wL={url:C6,storageKey:T6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:D6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Tj(e,t,r){return await r()}const bo={};class mc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mc.nextInstanceID,mc.nextInstanceID+=1,this.instanceID>0&&jn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},wL),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new mL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ET(i.fetch),this.lock=i.lock||Tj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:jn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=vL:this.lock=Tj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:kT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Cj(this.memoryStorage)),jn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=bo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=bo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_T}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=G6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),jn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),q6(o)){const h=(t=o.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ze(r)?{error:r}:{error:new jT("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const o=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:na}),{data:c,error:d}=o;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(ze(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,i;try{let o;if("email"in t){const{email:g,password:v,options:b}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await po(this.storage,this.storageKey)),o=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:g,password:v,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:x,code_challenge_method:S},xform:na})}else if("phone"in t){const{phone:g,password:v,options:b}=t;o=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(n=b?.data)!==null&&n!==void 0?n:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:na})}else throw new xd("You must provide either an email or phone number and a password");const{data:c,error:d}=o;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(ze(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:c,options:d}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ej})}else if("phone"in t){const{phone:o,password:c,options:d}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ej})}else throw new xd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Il}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,o,c,d,h,m,g,v,b;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:w,wallet:_,statement:N,options:C}=t;let T;if(jn())if(typeof _=="object")T=_;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")T=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const A=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),L=await T.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=TT(L[0]);let D=(n=C?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const q=await T.request({method:"eth_chainId"});D=yL(q)}const R={domain:A.host,address:E,statement:N,uri:A.href,version:"1",chainId:D,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=C?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=C?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=C?.signInWithEthereum)===null||g===void 0?void 0:g.resources};x=xL(R),S=await T.request({method:"personal_sign",params:[bL(x),E]})}try{const{data:w,error:_}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:na});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Il}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(ze(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(t){var r,n,i,o,c,d,h,m,g,v,b,x;let S,w;if("message"in t)S=t.message,w=t.signature;else{const{chain:_,wallet:N,statement:C,options:T}=t;let A;if(jn())if(typeof N=="object")A=N;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))A=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=N}const L=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const E=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),C?{statement:C}:null));let D;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")D=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)D=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)S=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),w=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${L.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(i=(n=T?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=T?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((v=(g=T?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...T.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const E=await A.signMessage(new TextEncoder().encode(S),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:_,error:N}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:F6(w)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:na});if(N)throw N;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Il}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:N})}catch(_){if(ze(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await Xs(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:o,error:c}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:na});if(await ms(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Il}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:c})}catch(o){if(ze(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:o,nonce:c}=t,d=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:na}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Il}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,o,c;try{if("email"in t){const{email:d,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await po(this.storage,this.storageKey));const{error:v}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:d,options:h}=t,{data:m,error:g}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:g}}throw new xd("You must provide either an email or phone number.")}catch(d){if(ze(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var r,n;try{let i,o;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:na});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let o=null,c=null;return this.flowType==="pkce"&&([o,c]=await po(this.storage,this.storageKey)),await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:cL})}catch(o){if(ze(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ps;const{error:i}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:o}=t,{error:c}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:i,options:o}=t,{data:c,error:d}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new xd("You must provide either an email or phone number and a type")}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Dg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await Xs(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Rg()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,m,g)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,g))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xs}):await this._useSession(async r=>{var n,i,o;const{data:c,error:d}=r;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ps}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:xs})})}catch(r){if(ze(r))return L6(r)&&(await this._removeSession(),await ms(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new ps;const c=i.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await po(this.storage,this.storageKey));const{data:m,error:g}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:xs});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ps;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:c}=Ag(t.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{session:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;o={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ze(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:d}=r;if(d)throw d;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new ps;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!jn())throw new wd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xj("No code detected.");const{data:C,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:c,expires_in:d,expires_at:h,token_type:m}=t;if(!o||!d||!c||!m)throw new wd("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(d);let b=g+v;h&&(b=parseInt(h));const x=b-g;x*1e3<=_o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const S=b-v;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,g);const{data:w,error:_}=await this._getUser(o);if(_)throw _;const N={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:v,expires_at:b,refresh_token:c,token_type:m,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(n){if(ze(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Xs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{error:o};const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(M6(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await ms(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=K6(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await po(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ze(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var c,d,h,m,g;const{data:v,error:b}=o;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",x,{headers:this.headers,jwt:(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return jn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(ze(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:c}=r;if(c)throw c;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Q6(async i=>(i>0&&await V6(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:na})),(i,o)=>{const c=200*Math.pow(2,i);return o&&Og(o)&&Date.now()+c-n<_o})}catch(n){if(this._debug(r,"error",n),ze(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),jn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Xs(this.storage,this.storageKey);if(i&&this.userStorage){let c=await Xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await So(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c?.user)!==null&&t!==void 0?t:Rg()}else if(i&&!i.user&&!i.user){const c=await Xs(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await ms(this.storage,this.storageKey+"-user"),await So(this.storage,this.storageKey,i)):i.user=Rg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Dg;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Dg}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Og(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ef;const{data:o,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!o.session)throw new ps;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={session:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(i,"error",o),ze(o)){const c={session:null,error:o};return Og(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(h){o.push(h)}});if(await Promise.all(c),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await So(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=Nj(i);await So(this.storage,this.storageKey,o)}else{const i=Nj(r);await So(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ms(this.storage,this.storageKey),await ms(this.storage,this.storageKey+"-code-verifier"),await ms(this.storage,this.storageKey+"-user"),this.userStorage&&await ms(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_o);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/_o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_o}ms, refresh threshold is ${B0} ticks`),i<=B0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof CT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,c]=await po(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await Ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:m}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:c,error:d}=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(r){if(ze(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ze(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],i=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),o=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Ag(i.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const g=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+A6>i)return n;const{data:o,error:c}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:S}=await this.getSession();if(S||!x.session)return{data:null,error:S};n=x.session.access_token}const{header:i,payload:o,signature:c,raw:{header:d,payload:h}}=Ag(n);r?.allowExpired||rL(o.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:o,header:i,signature:c},error:null}}const g=nL(i.alg),v=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,c,I6(`${d}.${h}`)))throw new H0("Invalid JWT signature");return{data:{claims:o,header:i,signature:c},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}}mc.nextInstanceID=0;const _L=mc;class SL extends _L{constructor(t){super(t)}}var jL=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class NL{constructor(t,r,n){var i,o,c;this.supabaseUrl=t,this.supabaseKey=r;const d=E6(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:v6,realtime:b6,auth:Object.assign(Object.assign({},y6),{storageKey:h}),global:p6},g=k6(n??{},m);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=S6(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new R5(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new h6(this.storageUrl.href,this.headers,this.fetch,n?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new S5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return jL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:c,flowType:d,lock:h,debug:m},g,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SL({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),g),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,flowType:d,lock:h,debug:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new W5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kL=(e,t,r)=>new NL(e,t,r);function EL(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}EL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const CL="https://btiyyxmiwngikpuygpsq.supabase.co",TL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ0aXl5eG1pd25naWtwdXlncHNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxNzA0MDUsImV4cCI6MjA3NDc0NjQwNX0.4tt9SZ0VRsCObhvTKJzqb1IEkfGwi8IL_yI8PHjMvdo",$t=kL(CL,TL,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),DT=()=>$t,DL={facebook:{primaryText:{max:125,recommended:90},headline:{max:27,recommended:25},description:{max:30,recommended:27},graphicsCopy:{max:20,recommended:15}},instagram:{primaryText:{max:125,recommended:90},headline:{max:27,recommended:25},description:{max:30,recommended:27},graphicsCopy:{max:20,recommended:15}},google:{primaryText:{max:90,recommended:80},headline:{max:30,recommended:25},description:{max:90,recommended:80},graphicsCopy:{max:25,recommended:20}},linkedin:{primaryText:{max:150,recommended:120},headline:{max:200,recommended:150},description:{max:300,recommended:250},graphicsCopy:{max:30,recommended:25}},twitter:{primaryText:{max:280,recommended:250},headline:{max:100,recommended:80},description:{max:280,recommended:250},graphicsCopy:{max:15,recommended:12}},tiktok:{primaryText:{max:100,recommended:80},headline:{max:100,recommended:80},description:{max:100,recommended:80},graphicsCopy:{max:10,recommended:8}},custom:{primaryText:{max:200,recommended:150},headline:{max:100,recommended:80},description:{max:200,recommended:150},graphicsCopy:{max:30,recommended:25}}};async function OL(e){const t=DL[e.platform],{cardTitle:r,cardDescription:n,platform:i,tone:o="professional",objective:c="conversion"}=e;return await new Promise(h=>setTimeout(h,2e3)),{facebook:{graphics_copy:Js(r,t.graphicsCopy.recommended),subheadline:Zs(r,o,t.headline.recommended),description:ei(n,c,t.description.recommended),primary_text:ti(r,n,o,c,t.primaryText.recommended)},instagram:{graphics_copy:Js(r,t.graphicsCopy.recommended,!0),subheadline:Zs(r,o,t.headline.recommended,!0),description:ei(n,c,t.description.recommended,!0),primary_text:ti(r,n,o,c,t.primaryText.recommended,!0)},google:{graphics_copy:Js(r,t.graphicsCopy.recommended),subheadline:Zs(r,"professional",t.headline.recommended),description:ei(n,c,t.description.recommended),primary_text:ti(r,n,"professional",c,t.primaryText.recommended)},linkedin:{graphics_copy:Js(r,t.graphicsCopy.recommended),subheadline:Zs(r,"professional",t.headline.recommended),description:ei(n,"leads",t.description.recommended),primary_text:ti(r,n,"professional","leads",t.primaryText.recommended)},twitter:{graphics_copy:Js(r,t.graphicsCopy.recommended,!1,!0),subheadline:Zs(r,o,t.headline.recommended,!1,!0),description:ei(n,c,t.description.recommended,!1,!0),primary_text:ti(r,n,o,c,t.primaryText.recommended,!1,!0)},tiktok:{graphics_copy:Js(r,t.graphicsCopy.recommended,!0,!1,!0),subheadline:Zs(r,"playful",t.headline.recommended,!0,!1,!0),description:ei(n,"engagement",t.description.recommended,!0,!1,!0),primary_text:ti(r,n,"playful","engagement",t.primaryText.recommended,!0,!1,!0)},custom:{graphics_copy:Js(r,t.graphicsCopy.recommended),subheadline:Zs(r,o,t.headline.recommended),description:ei(n,c,t.description.recommended),primary_text:ti(r,n,o,c,t.primaryText.recommended)}}[i]}function Js(e,t,r=!1,n=!1,i=!1){const o=e.substring(0,t-2);return i?`${o} `:r?`${o} `:n?o:`${o}!`}function Zs(e,t,r,n=!1,i=!1,o=!1){let d=`${{professional:"Discover",casual:"Check out",playful:"Get ready for",urgent:"Don't miss",informative:"Learn about"}[t]} ${e}`;return o&&(d+=" - viral content"),n&&(d+=" in style"),d.substring(0,r)}function ei(e,t,r,n=!1,i=!1,o=!1){const c={awareness:"Learn more",conversion:"Get started today",engagement:"Join the conversation",traffic:"Visit our site",leads:"Contact us now"};let d=e||"Transform your experience with our solution";i&&(d=d.substring(0,r-15));const h=c[t];let m=`${d}. ${h}`;return o&&(m+=" [Trending]"),n&&(m+=" [Visual]"),m.substring(0,r)}function ti(e,t,r,n,i,o=!1,c=!1,d=!1){const h={professional:"Experience the difference with",casual:"Ready to try something amazing?",playful:"Get excited about",urgent:"Limited time:",informative:"Here's what you need to know about"},m={awareness:"Discover more today.",conversion:"Start your journey now!",engagement:"Join thousands of satisfied users.",traffic:"Visit us to learn more.",leads:"Contact our team for details."};let g=`${h[r]} ${e}. ${t||"Transform your experience with our innovative solution."} ${m[n]}`;return d&&(g+=" #trending #viral"),o&&(g+=" [Visual Content]"),g.substring(0,i)}const AL=()=>`activity_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,RL=()=>{const e=localStorage.getItem("currentUser");if(e)try{return JSON.parse(e)}catch(t){console.warn("Failed to parse stored user:",t)}return{id:"demo-user-id",name:"Demo User"}},ML=e=>{localStorage.setItem("currentUser",JSON.stringify({id:e.id,name:e.name||e.email?.split("@")[0]||"User"}))},vr=(e,t={},r,n)=>{const i=RL();return{id:AL(),type:e,meta:t,actor_id:i.id,actor_name:i.name,created_at:new Date().toISOString()}},dn=(e,t)=>{const r={...e};r.activity||(r.activity=[]),r.activity.unshift(t);const n=AT(),i=n.findIndex(o=>o.id===e.id);return i!==-1&&(n[i]=r,Ut(n),he=n),r},LL=[{id:"demo-card-1",list_id:"demo-list-1",title:"Welcome! Try editing this card",description:"This card demonstrates all features. Click to edit and add labels, checklists, comments, and more!",position:1e3,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:null,workspace_id:"guest-workspace",board_id:"demo-board-1",created_by:"guest-user",card_labels:[{label_id:"label-1",labels:{id:"label-1",name:"Priority",color:"#ef4444"}}],checklists:[{id:"checklist-1",title:"Getting Started",position:1,checklist_items:[{id:"item-1",text:"Click to edit this card",done:!1,position:1},{id:"item-2",text:"Try adding a new checklist item",done:!1,position:2},{id:"item-3",text:"Check off completed items",done:!0,position:3}]}],comments:[{id:"comment-1",author_id:"guest-user",created_at:new Date().toISOString()}]},{id:"demo-card-2",list_id:"demo-list-2",title:"Drag cards between lists",description:"You can drag and drop cards to reorganize them!",position:1e3,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:"2025-01-15",workspace_id:"guest-workspace",board_id:"demo-board-1",created_by:"guest-user"},{id:"card-1",list_id:"list-1",title:"Welcome to the Demo!",description:"This is a sample card to show how the app works. Click to edit!",position:1e3,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:null,workspace_id:"guest-workspace",board_id:"board-1",created_by:"guest-user"},{id:"card-2",list_id:"list-1",title:"Try dragging cards between lists",description:"Drag and drop functionality is fully working!",position:2e3,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:"2025-01-15",workspace_id:"guest-workspace",board_id:"board-1",created_by:"guest-user"},{id:"card-3",list_id:"list-2",title:"Sample card in progress",description:'This card is in the "In Progress" list',position:1e3,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:null,workspace_id:"guest-workspace",board_id:"board-1",created_by:"guest-user"},{id:"card-4",list_id:"list-3",title:"Completed task example",description:"This task has been completed!",position:1e3,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:null,workspace_id:"guest-workspace",board_id:"board-1",created_by:"guest-user"}],OT="todo-app-cards";function AT(){try{const e=localStorage.getItem(OT);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to load cards from localStorage:",e)}return[...LL]}function Ut(e){try{localStorage.setItem(OT,JSON.stringify(e))}catch(t){console.warn("Failed to save cards to localStorage:",t)}}let he=AT();async function ki(e){return he.filter(r=>r.board_id===e)}async function RT(e,t){let r="guest-board";try{const o=localStorage.getItem("todo-app-lists");if(o){const d=JSON.parse(o).find(h=>h.id===e);d&&(r=d.board_id)}}catch{console.warn("Could not find board ID for list:",e)}const n=Date.now(),i={id:`card-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,list_id:e,title:t,description:null,position:n,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:null,workspace_id:"guest-workspace",board_id:r,created_by:"guest-user"};return he.push(i),Ut(he),i}async function MT(e,t){const r=he.findIndex(c=>c.id===e);if(r===-1)throw new Error("Card not found");const n=he[r],i={...n,...t,updated_at:new Date().toISOString()},o=[];return t.title!==void 0&&t.title!==n.title&&o.push(vr("title_changed",{field_name:"title",old_value:n.title,new_value:t.title})),t.description!==void 0&&t.description!==n.description&&o.push(vr("description_changed",{field_name:"description",old_value:n.description,new_value:t.description})),t.date_start!==void 0&&t.date_start!==n.date_start&&o.push(vr("date_start_changed",{field_name:"date_start",old_value:n.date_start,new_value:t.date_start})),t.date_end!==void 0&&t.date_end!==n.date_end&&o.push(vr("date_end_changed",{field_name:"date_end",old_value:n.date_end,new_value:t.date_end})),(t.location_address!==void 0&&t.location_address!==n.location_address||t.location_lat!==void 0&&t.location_lat!==n.location_lat||t.location_lng!==void 0&&t.location_lng!==n.location_lng)&&o.push(vr("location_changed",{field_name:"location",old_value:{address:n.location_address,lat:n.location_lat,lng:n.location_lng},new_value:{address:t.location_address??n.location_address,lat:t.location_lat??n.location_lat,lng:t.location_lng??n.location_lng}})),o.length>0&&(i.activity||(i.activity=[]),i.activity.unshift(...o)),he[r]=i,Ut(he),i}async function qL(e,t,r){const n=he.findIndex(i=>i.id===e);n!==-1&&(he[n]={...he[n],list_id:t,position:r,updated_at:new Date().toISOString()},Ut(he))}async function UL(e){const t=he.findIndex(r=>r.id===e);if(t!==-1)if(he[t].board_id==="archive-board")he.splice(t,1),Ut(he);else throw new Error("Cards must be archived before they can be deleted")}async function kb(e,t,r){const n=he.findIndex(i=>i.id===e);if(n!==-1){let i=r;if(!i){try{const o=localStorage.getItem("todo-app-lists");if(o){const d=JSON.parse(o).filter(h=>h.board_id===t);d.length>0&&(i=d[0].id)}}catch{console.warn("Could not find lists for target board:",t)}i||(i=`${t}-list-1`)}he[n]={...he[n],board_id:t,list_id:i,position:Date.now(),updated_at:new Date().toISOString()},Ut(he)}}async function PL(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=t.id||`label-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,i=he[r];i.card_labels||(i.card_labels=[]),i.card_labels.find(c=>c.labels?.name===t.name)||(i.card_labels.push({label_id:n,labels:{id:n,name:t.name,color:t.color}}),he[r]={...i,updated_at:new Date().toISOString()},Ut(he))}}async function $L(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=`checklist-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,i=he[r];i.checklists||(i.checklists=[]),i.checklists.push({id:n,title:t,position:i.checklists.length+1,checklist_items:[]});const o=vr("checklist_added",{target_id:n,target_name:t,details:`Added checklist "${t}"`}),c={...i,updated_at:new Date().toISOString()};return he[r]=dn(c,o),n}throw new Error("Card not found")}async function zL(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=he[r];if(n.checklists){const i=n.checklists.find(o=>o.id===t);if(n.checklists=n.checklists.filter(o=>o.id!==t),i){const o=vr("checklist_removed",{target_id:t,target_name:i.title||"Untitled checklist",details:`Removed checklist "${i.title||"Untitled checklist"}"`}),c={...n,updated_at:new Date().toISOString()};he[r]=dn(c,o)}else he[r]={...n,updated_at:new Date().toISOString()},Ut(he)}}}async function BL(e,t,r){const n=he.findIndex(i=>i.id===e);if(n!==-1){const i=he[n],o=i.checklists?.find(c=>c.id===t);if(o){const c=`item-${Date.now()}-${Math.random().toString(36).substring(2,8)}`;o.checklist_items||(o.checklist_items=[]),o.checklist_items.push({id:c,text:r,done:!1,position:o.checklist_items.length+1});const d=vr("checklist_item_added",{target_id:c,target_name:r,details:`Added task "${r}" to checklist "${o.title||"Untitled checklist"}"`}),h={...i,updated_at:new Date().toISOString()};return he[n]=dn(h,d),Ut(he),c}}throw new Error("Card or checklist not found")}async function IL(e,t,r){const n=he.findIndex(i=>i.id===e);if(n!==-1){const i=he[n],c=i.checklists?.find(d=>d.id===t)?.checklist_items?.find(d=>d.id===r);if(c){c.done=!c.done,c.done?c.completed_at=new Date().toISOString():c.completed_at=null;const d=c.done?"checklist_item_completed":"checklist_item_uncompleted",h=vr(d,{target_id:r,target_name:c.text||"Untitled task",details:c.done?`Completed task "${c.text}"`:`Uncompleted task "${c.text}"`}),m={...i,updated_at:new Date().toISOString()};he[n]=dn(m,h),Ut(he)}}}async function FL(e,t,r){const n=he.findIndex(i=>i.id===e);if(n!==-1){const i=he[n],o=i.checklists?.find(c=>c.id===t);if(o&&o.checklist_items){const c=o.checklist_items.find(d=>d.id===r);if(o.checklist_items=o.checklist_items.filter(d=>d.id!==r),c){const d=vr("checklist_item_removed",{target_id:r,target_name:c.text||"Untitled task",details:`Removed task "${c.text}" from checklist "${o.title||"Untitled checklist"}"`}),h={...i,updated_at:new Date().toISOString()};he[n]=dn(h,d),Ut(he)}else he[n]={...i,updated_at:new Date().toISOString()},Ut(he)}}}async function HL(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=`attachment-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,i=he[r];i.attachments||(i.attachments=[]),i.attachments.push({id:n,name:t.name,url:t.url,mime:t.mime,size:t.size,created_at:new Date().toISOString()});const o=vr("attachment_added",{target_id:n,target_name:t.name,details:`Added attachment "${t.name}" (${(t.size/1024).toFixed(1)} KB)`}),c={...i,updated_at:new Date().toISOString()};return he[r]=dn(c,o),n}throw new Error("Card not found")}async function KL(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=he[r];if(n.attachments){const i=n.attachments.find(o=>o.id===t);if(n.attachments=n.attachments.filter(o=>o.id!==t),i){const o=vr("attachment_removed",{target_id:t,target_name:i.name,details:`Removed attachment "${i.name}"`}),c={...n,updated_at:new Date().toISOString()};he[r]=dn(c,o)}else he[r]={...n,updated_at:new Date().toISOString()},Ut(he)}}}async function GL(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=`member-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,i=he[r];if(i.assigned_members||(i.assigned_members=[]),!i.assigned_members.find(c=>c.email===t.email||c.name===t.name)){i.assigned_members.push({id:n,name:t.name,email:t.email,avatar:t.avatar,assigned_at:new Date().toISOString()});const c=vr("member_assigned",{target_id:n,target_name:t.name,details:`Assigned ${t.name} to card`}),d={...i,updated_at:new Date().toISOString()};he[r]=dn(d,c)}return n}throw new Error("Card not found")}async function YL(e,t,r,n){const i=he.findIndex(o=>o.id===e);if(i!==-1){const o=he[i],d=o.checklists?.find(m=>m.id===t)?.checklist_items?.find(m=>m.id===r),h=o.assigned_members?.find(m=>m.id===n);if(d&&h){const m=d.assigned_member_name;d.assigned_to=n,d.assigned_member_name=h.name;const g=vr("checklist_item_assigned",{target_id:r,target_name:d.text||"Untitled task",details:m?`Reassigned task "${d.text}" from ${m} to ${h.name}`:`Assigned ${h.name} to task "${d.text}"`}),v={...o,updated_at:new Date().toISOString()};he[i]=dn(v,g),Ut(he)}}}async function VL(e,t,r,n){const i=he.findIndex(o=>o.id===e);if(i!==-1){const o=he[i],d=o.checklists?.find(h=>h.id===t)?.checklist_items?.find(h=>h.id===r);if(d){const h=d.due_date;d.due_date=n;const g=vr(n?"checklist_item_due_date_set":"checklist_item_due_date_removed",{target_id:r,target_name:d.text||"Untitled task",old_value:h,new_value:n,details:n?`Set due date for task "${d.text}" to ${new Date(n).toLocaleDateString()}`:`Removed due date from task "${d.text}"`}),v={...o,updated_at:new Date().toISOString()};he[i]=dn(v,g),Ut(he)}}}async function QL(e,t,r,n){const i=he.findIndex(o=>o.id===e);if(i!==-1){const o=he[i],d=o.checklists?.find(h=>h.id===t)?.checklist_items?.find(h=>h.id===r);if(d){const h=d.start_date;d.start_date=n;const g=vr(n?"checklist_item_start_date_set":"checklist_item_start_date_removed",{target_id:r,target_name:d.text||"Untitled task",old_value:h,new_value:n,details:n?`Set start date for task "${d.text}" to ${new Date(n).toLocaleDateString()}`:`Removed start date from task "${d.text}"`}),v={...o,updated_at:new Date().toISOString()};he[i]=dn(v,g),Ut(he)}}}async function WL(e,t,r,n){const i=he.findIndex(o=>o.id===e);if(i!==-1){const o=he[i],d=o.checklists?.find(h=>h.id===t)?.checklist_items?.find(h=>h.id===r);if(d){const m=[{id:"urgent",name:"Urgent",color:"#ef4444"},{id:"feature",name:"Feature",color:"#3b82f6"},{id:"bug",name:"Bug",color:"#f59e0b"},{id:"enhancement",name:"Enhancement",color:"#10b981"},{id:"documentation",name:"Documentation",color:"#8b5cf6"},{id:"research",name:"Research",color:"#ec4899"}].find(g=>g.id===n);if(m&&(d.labels||(d.labels=[]),!d.labels.some(g=>g.id===n))){d.labels.push(m);const g=vr("checklist_item_label_added",{target_id:r,target_name:d.text||"Untitled task",details:`Added label "${m.name}" to task "${d.text}"`}),v={...o,updated_at:new Date().toISOString()};he[i]=dn(v,g),Ut(he)}}}}async function XL(e,t,r,n){const i=he.findIndex(o=>o.id===e);if(i!==-1){const o=he[i],d=o.checklists?.find(h=>h.id===t)?.checklist_items?.find(h=>h.id===r);if(d&&d.labels){const h=d.labels.find(m=>m.id===n);if(d.labels=d.labels.filter(m=>m.id!==n),h){const m=vr("checklist_item_label_removed",{target_id:r,target_name:d.text||"Untitled task",details:`Removed label "${h.name}" from task "${d.text}"`}),g={...o,updated_at:new Date().toISOString()};he[i]=dn(g,m),Ut(he)}}}}async function JL(){return[{id:"urgent",name:"Urgent",color:"#ef4444"},{id:"feature",name:"Feature",color:"#3b82f6"},{id:"bug",name:"Bug",color:"#f59e0b"},{id:"enhancement",name:"Enhancement",color:"#10b981"},{id:"documentation",name:"Documentation",color:"#8b5cf6"},{id:"research",name:"Research",color:"#ec4899"}]}async function ZL(e,t,r){const n=he.find(o=>o.id===e);if(!n)throw new Error("Card not found");const i={cardTitle:n.title,cardDescription:typeof n.description=="string"?n.description:"",platform:t,targetAudience:r?.targetAudience,tone:r?.tone||"professional",objective:r?.objective||"conversion"};try{const o=await OL(i),c=`ad-copy-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,d=he.findIndex(h=>h.id===e);if(d!==-1){he[d].ad_copies||(he[d].ad_copies=[]);const h={id:c,title:`${t.charAt(0).toUpperCase()+t.slice(1)} Ad Copy`,platform:t,graphics_copy:o.graphics_copy,subheadline:o.subheadline,description:o.description,primary_text:o.primary_text,generated_at:new Date().toISOString(),ai_model_used:"Mock AI Service",is_approved:!1,position:he[d].ad_copies.length+1};return he[d].ad_copies.push(h),he[d].updated_at=new Date().toISOString(),Ut(he),c}throw new Error("Failed to save ad copy")}catch(o){throw console.error("Failed to generate ad copy:",o),o}}async function LT(e,t,r){const n=he.findIndex(i=>i.id===e);if(n!==-1){const i=he[n],o=i.ad_copies?.findIndex(c=>c.id===t);o!==void 0&&o!==-1&&i.ad_copies&&(i.ad_copies[o]={...i.ad_copies[o],...r},he[n].updated_at=new Date().toISOString(),Ut(he))}}async function eq(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=he[r];n.ad_copies&&(n.ad_copies=n.ad_copies.filter(i=>i.id!==t),he[r].updated_at=new Date().toISOString(),Ut(he))}}async function tq(e,t){await LT(e,t,{is_approved:!0})}const qT="todo-app-labels",rq=[{id:"label-1",name:"Final Form",color:"#22C55E",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-2",name:"Viking Customers",color:"#A3A833",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-3",name:"Dealer Order Form",color:"#D2691E",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-4",name:"",color:"#CD853F",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-5",name:"",color:"#DC143C",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-6",name:"",color:"#8A2BE2",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-7",name:"QMC Customers",color:"#4169E1",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-8",name:"",color:"#1E90FF",workspace_id:"guest-workspace",created_at:new Date().toISOString()}];function nq(){try{const e=localStorage.getItem(qT);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to load labels from localStorage:",e)}return[...rq]}function Eb(e){try{localStorage.setItem(qT,JSON.stringify(e))}catch(t){console.warn("Failed to save labels to localStorage:",t)}}let In=nq();async function aq(e="guest-workspace"){return In.filter(r=>r.workspace_id===e).map(r=>({...r,card_count:he.filter(n=>n.card_labels?.some(i=>i.label_id===r.id)).length}))}async function sq(e){const t={id:`label-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,name:e.name,color:e.color,workspace_id:e.workspace_id||"guest-workspace",created_at:new Date().toISOString()};return In.push(t),Eb(In),t}async function iq(e,t){const r=In.findIndex(n=>n.id===e);r!==-1&&(In[r]={...In[r],...t},Eb(In))}async function oq(e){he.forEach(t=>{t.card_labels&&(t.card_labels=t.card_labels.filter(r=>r.label_id!==e))}),Ut(he),In=In.filter(t=>t.id!==e),Eb(In)}async function lq(e,t){const r=he.findIndex(i=>i.id===e),n=In.find(i=>i.id===t);if(r!==-1&&n){const i=he[r];i.card_labels||(i.card_labels=[]),i.card_labels.find(c=>c.label_id===t)||(i.card_labels.push({label_id:t,labels:{id:t,name:n.name,color:n.color}}),he[r]={...i,updated_at:new Date().toISOString()},Ut(he))}}async function UT(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=he[r];n.card_labels&&(n.card_labels=n.card_labels.filter(i=>i.label_id!==t),he[r]={...n,updated_at:new Date().toISOString()},Ut(he))}}const PT=k.createContext(void 0);function cq({children:e}){const[t,r]=k.useState(null),[n,i]=k.useState(!0),[o,c]=k.useState(!1),d=DT();k.useEffect(()=>{if(t){const b=t.user_metadata?.full_name||t.user_metadata?.name||t.email?.split("@")[0]||"User";ML({id:t.id,name:b,email:t.email})}},[t]),k.useEffect(()=>{d.auth.getSession().then(({data:{session:x},error:S})=>{if(S){console.warn("Auth session error, enabling demo mode:",S.message),c(!0);const w={id:"demo-user-"+Date.now(),email:"demo@example.com",user_metadata:{full_name:"Demo User"},app_metadata:{},aud:"authenticated",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};r(w)}else r(x?.user??null);i(!1)}).catch(x=>{console.warn("Auth initialization failed, enabling demo mode:",x),c(!0);const S={id:"demo-user-"+Date.now(),email:"demo@example.com",user_metadata:{full_name:"Demo User"},app_metadata:{},aud:"authenticated",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};r(S),i(!1)});const{data:{subscription:b}}=d.auth.onAuthStateChange((x,S)=>{r(S?.user??null),i(!1)});return()=>b.unsubscribe()},[d.auth]);const v={user:t,loading:n,signIn:async(b,x)=>{const{error:S}=await d.auth.signInWithPassword({email:b,password:x});if(S)throw S},signUp:async(b,x)=>{const{error:S}=await d.auth.signUp({email:b,password:x});if(S)throw S},signOut:async()=>{const{error:b}=await d.auth.signOut();if(b)throw b},isDemoMode:o};return u.jsx(PT.Provider,{value:v,children:e})}function da(){const e=k.useContext(PT);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const uq=k.createContext(void 0);function dq({children:e}){const[t,r]=k.useState({}),[n,i]=k.useState({enableAssignee:!1,enableLabels:!1,enableDueDate:!1,enableStatus:!1}),o=()=>{r({})},c=Object.values(t).some(h=>h!==void 0&&h!==""&&h!==null),d={filters:t,filterOptions:n,setFilters:r,setFilterOptions:i,clearFilters:o,isFilterActive:c};return u.jsx(uq.Provider,{value:d,children:e})}const qt={name:"Default",description:"Default theme for the application",is_default:!0,is_active:!0,colors:{primary:"#3b82f6",secondary:"#6b7280",accent:"#10b981",background:"#ffffff",cardBackground:"#f9fafb",listBackground:"#f3f4f6",text:"#111827",textSecondary:"#6b7280",textMuted:"#9ca3af",textInverted:"#ffffff",border:"#d1d5db",borderLight:"#e5e7eb",borderDark:"#9ca3af",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6",hover:"#f3f4f6",focus:"#dbeafe",disabled:"#f3f4f6",shadow:"rgba(0, 0, 0, 0.1)",overlay:"rgba(0, 0, 0, 0.5)",cardText:"#111827",cardTitle:"#1f2937",cardSubtitle:"#6b7280",cardBorder:"#e5e7eb",listText:"#111827",listTitle:"#1f2937",listBorder:"#d1d5db",boardBackground:"#f9fafb",boardText:"#111827",boardTitle:"#1f2937",navBackground:"#ffffff",navText:"#374151",navHover:"#f3f4f6",navActive:"#3b82f6",buttonPrimary:"#3b82f6",buttonPrimaryText:"#ffffff",buttonSecondary:"#f3f4f6",buttonSecondaryText:"#374151",buttonDanger:"#ef4444",buttonDangerText:"#ffffff"},typography:{fontFamily:"Inter, system-ui, sans-serif",fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"}},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem"},borderRadius:{sm:"0.25rem",md:"0.5rem",lg:"0.75rem",full:"9999px"},shadows:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)"}},$T="todo-app-themes";function fq(){try{const e=localStorage.getItem($T);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to load themes from localStorage:",e)}return[{id:"1",...qt,created_by:"admin",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",name:"Dark",description:"Dark theme for low-light environments",is_default:!1,is_active:!0,created_by:"admin",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),colors:{primary:"#6366f1",secondary:"#8b5cf6",accent:"#06b6d4",background:"#1f2937",cardBackground:"#374151",listBackground:"#2d3748",text:"#f9fafb",textSecondary:"#d1d5db",textMuted:"#9ca3af",textInverted:"#1f2937",border:"#4b5563",borderLight:"#6b7280",borderDark:"#374151",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#6366f1",hover:"#4b5563",focus:"#6366f1",disabled:"#4b5563",shadow:"rgba(0, 0, 0, 0.5)",overlay:"rgba(0, 0, 0, 0.7)",cardText:"#f9fafb",cardTitle:"#ffffff",cardSubtitle:"#d1d5db",cardBorder:"#4b5563",listText:"#f9fafb",listTitle:"#ffffff",listBorder:"#4b5563",boardBackground:"#1f2937",boardText:"#f9fafb",boardTitle:"#ffffff",navBackground:"#374151",navText:"#f9fafb",navHover:"#4b5563",navActive:"#6366f1",buttonPrimary:"#6366f1",buttonPrimaryText:"#ffffff",buttonSecondary:"#4b5563",buttonSecondaryText:"#f9fafb",buttonDanger:"#ef4444",buttonDangerText:"#ffffff"},typography:qt.typography,spacing:qt.spacing,borderRadius:qt.borderRadius,shadows:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.3)",md:"0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.3), 0 8px 10px -6px rgb(0 0 0 / 0.3)"}},{id:"3",name:"Ocean",description:"Ocean-inspired blue theme",is_default:!1,is_active:!0,created_by:"admin",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),colors:{primary:"#0891b2",secondary:"#06b6d4",accent:"#0284c7",background:"#f0f9ff",cardBackground:"#ffffff",listBackground:"#e0f2fe",text:"#0c4a6e",textSecondary:"#0369a1",textMuted:"#0891b2",textInverted:"#ffffff",border:"#bae6fd",borderLight:"#e0f2fe",borderDark:"#7dd3fc",success:"#059669",warning:"#d97706",error:"#dc2626",info:"#0891b2",hover:"#e0f2fe",focus:"#0891b2",disabled:"#f0f9ff",shadow:"rgba(8, 145, 178, 0.2)",overlay:"rgba(12, 74, 110, 0.5)",cardText:"#0c4a6e",cardTitle:"#164e63",cardSubtitle:"#0369a1",cardBorder:"#bae6fd",listText:"#0c4a6e",listTitle:"#164e63",listBorder:"#7dd3fc",boardBackground:"#f0f9ff",boardText:"#0c4a6e",boardTitle:"#164e63",navBackground:"#ffffff",navText:"#0c4a6e",navHover:"#e0f2fe",navActive:"#0891b2",buttonPrimary:"#0891b2",buttonPrimaryText:"#ffffff",buttonSecondary:"#e0f2fe",buttonSecondaryText:"#0c4a6e",buttonDanger:"#dc2626",buttonDangerText:"#ffffff"},typography:qt.typography,spacing:qt.spacing,borderRadius:qt.borderRadius,shadows:qt.shadows}]}function Cb(e){try{localStorage.setItem($T,JSON.stringify(e))}catch(t){console.warn("Failed to save themes to localStorage:",t)}}let cn=fq();const Cf=async()=>{try{return cn}catch(e){throw console.error("Error fetching themes:",e),e}},zT=async e=>{try{const t={id:Date.now().toString(),...e,created_by:"current-user",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_default:!1,is_active:!0,typography:{...qt.typography,...e.typography},spacing:{...qt.spacing,...e.spacing},borderRadius:{...qt.borderRadius,...e.borderRadius},shadows:{...qt.shadows,...e.shadows}};return cn.push(t),Cb(cn),t}catch(t){throw console.error("Error creating theme:",t),t}},hq=async e=>{try{const t=cn.find(i=>i.id===e.id);if(!t)throw new Error("Theme not found");const r={...t,...e,typography:e.typography?{...t.typography,...e.typography}:t.typography,spacing:e.spacing?{...t.spacing,...e.spacing}:t.spacing,borderRadius:e.borderRadius?{...t.borderRadius,...e.borderRadius}:t.borderRadius,shadows:e.shadows?{...t.shadows,...e.shadows}:t.shadows,updated_at:new Date().toISOString()},n=cn.findIndex(i=>i.id===e.id);return cn[n]=r,Cb(cn),r}catch(t){throw console.error("Error updating theme:",t),t}},mq=async e=>{try{const t=cn.find(r=>r.id===e);if(!t)throw new Error("Theme not found");if(t.is_default)throw new Error("Cannot delete default theme");cn=cn.filter(r=>r.id!==e)}catch(t){throw console.error("Error deleting theme:",t),t}},Tb=async e=>{try{cn=cn.map(t=>({...t,is_default:t.id===e})),Cb(cn)}catch(t){throw console.error("Error setting default theme:",t),t}},BT=k.createContext(void 0),IT=()=>{const e=k.useContext(BT);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},gq=({children:e})=>{const[t,r]=k.useState(null),{data:n=[],isLoading:i}=ct({queryKey:["themes"],queryFn:Cf}),o=n.find(h=>h.is_default)||n[0]||null;k.useEffect(()=>{if(o)_d(o),r(o);else if(!i&&n.length===0){const h={...qt,id:"default",created_by:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};_d(h),r(h)}},[o,i,n.length]),k.useEffect(()=>{const h={...qt,id:"default",created_by:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};_d(h)},[]);const d={currentTheme:o,setActiveTheme:async h=>{try{await Tb(h);const m=n.find(g=>g.id===h);m&&(_d(m),r(m))}catch(m){console.error("Failed to set active theme:",m)}},isLoading:i,appliedTheme:t};return u.jsx(BT.Provider,{value:d,children:e})};function _d(e){const t=document.documentElement;e.colors&&Object.entries(e.colors).forEach(([n,i])=>{t.style.setProperty(`--color-${n}`,i)}),e.typography&&(e.typography.fontFamily&&(t.style.setProperty("--typography-fontFamily",e.typography.fontFamily),document.body.style.fontFamily=e.typography.fontFamily),e.typography.fontSize&&Object.entries(e.typography.fontSize).forEach(([n,i])=>{t.style.setProperty(`--typography-fontSize-${n}`,i)}),e.typography.fontWeight&&Object.entries(e.typography.fontWeight).forEach(([n,i])=>{t.style.setProperty(`--typography-fontWeight-${n}`,i)})),e.spacing&&Object.entries(e.spacing).forEach(([n,i])=>{t.style.setProperty(`--spacing-${n}`,i)}),e.borderRadius&&Object.entries(e.borderRadius).forEach(([n,i])=>{t.style.setProperty(`--border-radius-${n}`,i)}),e.shadows&&Object.entries(e.shadows).forEach(([n,i])=>{t.style.setProperty(`--shadow-${n}`,i)}),document.body.style.backgroundColor=e.colors.background,document.body.style.color=e.colors.text,document.body.style.fontFamily=e.typography.fontFamily;const r=document.createElement("div");r.style.display="none",document.body.appendChild(r),document.body.removeChild(r),t.setAttribute("data-theme",e.name),t.setAttribute("data-theme-id",e.id),window.dispatchEvent(new CustomEvent("themeChanged",{detail:{theme:e}}))}const pq=new i5({defaultOptions:{queries:{staleTime:300*1e3,retry:1}}});function vq(){return u.jsx(o5,{client:pq,children:u.jsx(cq,{children:u.jsx(gq,{children:u.jsx(dq,{children:u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:u.jsx(YC,{})})})})})})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Dj=e=>{const t=bq(e);return t.charAt(0).toUpperCase()+t.slice(1)},FT=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),xq=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:c,...d},h)=>k.createElement("svg",{ref:h,...wq,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:FT("lucide",i),...!o&&!xq(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,g])=>k.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t)=>{const r=k.forwardRef(({className:n,...i},o)=>k.createElement(_q,{ref:o,iconNode:t,className:FT(`lucide-${yq(Dj(e))}`,`lucide-${e}`,n),...i}));return r.displayName=Dj(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Db=je("activity",Sq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Tn=je("archive",jq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kq=je("arrow-left",Nq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ua=je("calendar",Eq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Tq=je("chart-column",Cq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pa=je("check",Dq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ob=je("chevron-down",Oq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Rq=je("chevron-left",Aq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],HT=je("chevron-right",Mq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ab=je("circle-alert",Lq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],KT=je("circle-check-big",qq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],K0=je("circle-x",Uq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Co=je("clock",Pq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ci=je("copy",$q);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Oj=je("database",zq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rc=je("download",Bq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Rb=je("ellipsis",Iq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Hq=je("external-link",Fq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Mb=je("eye-off",Kq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],To=je("eye",Gq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],nf=je("facebook",Yq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Do=je("file-text",Vq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Wq=je("grip-vertical",Qq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Jq=je("house",Xq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],eU=je("info",Zq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],rU=je("instagram",tU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],aU=je("linkedin",nU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],iU=je("mail",sU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Md=je("map-pin",oU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Aj=je("message-circle",lU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],uU=je("message-square",cU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M5 12h14",key:"1ays0h"}]],GT=je("minus",dU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Tf=je("move",fU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],mU=je("music",hU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ss=je("palette",gU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],nc=je("paperclip",pU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],yU=je("panels-top-left",vU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xU=je("pen-line",bU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gc=je("pen",wU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],SU=je("play",_U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fn=je("plus",jU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],YT=je("refresh-cw",NU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],EU=je("rotate-ccw",kU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Lb=je("save",CU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],VT=je("search",TU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],af=je("settings",DU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],QT=je("shield",OU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ac=je("sparkles",AU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pc=je("square-check-big",RU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],mi=je("square-pen",MU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qU=je("star",LU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],sf=je("tag",UU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$U=je("target",PU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Rj=je("terminal",zU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$a=je("trash-2",BU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],FU=je("trending-up",IU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],WT=je("triangle-alert",HU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],GU=je("twitter",KU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],VU=je("type",YU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],XT=je("upload",QU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],XU=je("user-check",WU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Mj=je("user-minus",JU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Lj=je("user-plus",ZU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],t8=je("user-x",e8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],JT=je("user",r8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Oo=je("users",n8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ur=je("x",a8),of={id:"archive-board",workspace_id:"guest-workspace",name:"Archive",created_at:new Date().toISOString()};async function fa(e){try{console.log(" Fetching boards from Supabase for user:",e);const{data:t,error:r}=await $t.from("boards").select("*").eq("workspace_id",e).order("position",{ascending:!0});if(r)throw console.error(" Error fetching boards:",r),r;return console.log(" Fetched",t?.length||0,"boards from Supabase"),[...t||[],{...of,workspace_id:e}]}catch(t){return console.error(" Failed to fetch boards:",t),[{...of,workspace_id:e}]}}async function qb(e){if(e==="archive-board")return of;try{const{data:t,error:r}=await $t.from("boards").select("*").eq("id",e).single();return r?(console.error("Error fetching board:",r),null):t}catch(t){return console.error("Failed to fetch board:",t),null}}async function Ub(e,t){try{console.log(" Creating board:",t,"for user:",e);const{data:r}=await $t.from("boards").select("position").eq("workspace_id",e).order("position",{ascending:!1}).limit(1),n=r&&r.length>0?(r[0].position||0)+1e3:1e3,{data:i,error:o}=await $t.from("boards").insert({workspace_id:e,name:t,position:n,archived:!1}).select().single();if(o)throw console.error(" Error creating board:",o),o;return console.log(" Board created successfully:",i.id),i}catch(r){throw console.error(" Failed to create board:",r),r}}async function s8(e){if(e===of.id){console.warn("Cannot delete the Archive board");return}try{console.log(" Deleting board:",e);const{error:t}=await $t.from("boards").delete().eq("id",e);if(t)throw console.error(" Error deleting board:",t),t;console.log(" Board deleted successfully")}catch(t){throw console.error(" Failed to delete board:",t),t}}async function i8(e){return s8(e)}async function o8(e,t){try{const{error:r}=await $t.from("boards").update({name:t,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw console.error("Error updating board name:",r),r;console.log(" Board name updated")}catch(r){throw console.error("Failed to update board name:",r),r}}async function l8(e,t){try{const{error:r}=await $t.from("boards").update({position:t,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw console.error("Error updating board position:",r),r}catch(r){throw console.error("Failed to update board position:",r),r}}async function c8(e){return fa(e)}function u8(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return k.useMemo(()=>n=>{t.forEach(i=>i(n))},t)}const Df=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Pb(e){return"nodeType"in e}function $r(e){var t,r;return e?Bo(e)?e:Pb(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function $b(e){const{Document:t}=$r(e);return e instanceof t}function $c(e){return Bo(e)?!1:e instanceof $r(e).HTMLElement}function ZT(e){return e instanceof $r(e).SVGElement}function Io(e){return e?Bo(e)?e.document:Pb(e)?$b(e)?e:$c(e)||ZT(e)?e.ownerDocument:document:document:document}const Hn=Df?k.useLayoutEffect:k.useEffect;function Of(e){const t=k.useRef(e);return Hn(()=>{t.current=e}),k.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function d8(){const e=k.useRef(null),t=k.useCallback((n,i)=>{e.current=setInterval(n,i)},[]),r=k.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function vc(e,t){t===void 0&&(t=[e]);const r=k.useRef(e);return Hn(()=>{r.current!==e&&(r.current=e)},t),r}function zc(e,t){const r=k.useRef();return k.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function lf(e){const t=Of(e),r=k.useRef(null),n=k.useCallback(i=>{i!==r.current&&t?.(i,r.current),r.current=i},[]);return[r,n]}function cf(e){const t=k.useRef();return k.useEffect(()=>{t.current=e},[e]),t.current}let Lg={};function Bc(e,t){return k.useMemo(()=>{if(t)return t;const r=Lg[e]==null?0:Lg[e]+1;return Lg[e]=r,e+"-"+r},[e,t])}function eD(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((o,c)=>{const d=Object.entries(c);for(const[h,m]of d){const g=o[h];g!=null&&(o[h]=g+e*m)}return o},{...t})}}const ko=eD(1),yc=eD(-1);function f8(e){return"clientX"in e&&"clientY"in e}function Af(e){if(!e)return!1;const{KeyboardEvent:t}=$r(e.target);return t&&e instanceof t}function h8(e){if(!e)return!1;const{TouchEvent:t}=$r(e.target);return t&&e instanceof t}function uf(e){if(h8(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return f8(e)?{x:e.clientX,y:e.clientY}:null}const Kn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Kn.Translate.toString(e),Kn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),qj="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function m8(e){return e.matches(qj)?e:e.querySelector(qj)}const g8={display:"none"};function p8(e){let{id:t,value:r}=e;return I.createElement("div",{id:t,style:g8},r)}function v8(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return I.createElement("div",{id:t,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function y8(){const[e,t]=k.useState("");return{announce:k.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const tD=k.createContext(null);function b8(e){const t=k.useContext(tD);k.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function x8(){const[e]=k.useState(()=>new Set),t=k.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[k.useCallback(n=>{let{type:i,event:o}=n;e.forEach(c=>{var d;return(d=c[i])==null?void 0:d.call(c,o)})},[e]),t]}const w8={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},_8={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function S8(e){let{announcements:t=_8,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=w8}=e;const{announce:o,announcement:c}=y8(),d=Bc("DndLiveRegion"),[h,m]=k.useState(!1);if(k.useEffect(()=>{m(!0)},[]),b8(k.useMemo(()=>({onDragStart(v){let{active:b}=v;o(t.onDragStart({active:b}))},onDragMove(v){let{active:b,over:x}=v;t.onDragMove&&o(t.onDragMove({active:b,over:x}))},onDragOver(v){let{active:b,over:x}=v;o(t.onDragOver({active:b,over:x}))},onDragEnd(v){let{active:b,over:x}=v;o(t.onDragEnd({active:b,over:x}))},onDragCancel(v){let{active:b,over:x}=v;o(t.onDragCancel({active:b,over:x}))}}),[o,t])),!h)return null;const g=I.createElement(I.Fragment,null,I.createElement(p8,{id:n,value:i.draggable}),I.createElement(v8,{id:d,announcement:c}));return r?oi.createPortal(g,r):g}var or;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(or||(or={}));function df(){}function ff(e,t){return k.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function zb(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return k.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Gn=Object.freeze({x:0,y:0});function rD(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function j8(e,t){const r=uf(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function nD(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function N8(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function Uj(e){let{left:t,top:r,height:n,width:i}=e;return[{x:t,y:r},{x:t+i,y:r},{x:t,y:r+n},{x:t+i,y:r+n}]}function aD(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function Pj(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const sD=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=Pj(t,t.left,t.top),o=[];for(const c of n){const{id:d}=c,h=r.get(d);if(h){const m=rD(Pj(h),i);o.push({id:d,data:{droppableContainer:c,value:m}})}}return o.sort(nD)},k8=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=Uj(t),o=[];for(const c of n){const{id:d}=c,h=r.get(d);if(h){const m=Uj(h),g=i.reduce((b,x,S)=>b+rD(m[S],x),0),v=Number((g/4).toFixed(4));o.push({id:d,data:{droppableContainer:c,value:v}})}}return o.sort(nD)};function E8(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),c=i-n,d=o-r;if(n<i&&r<o){const h=t.width*t.height,m=e.width*e.height,g=c*d,v=g/(h+m-g);return Number(v.toFixed(4))}return 0}const C8=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=[];for(const o of n){const{id:c}=o,d=r.get(c);if(d){const h=E8(d,t);h>0&&i.push({id:c,data:{droppableContainer:o,value:h}})}}return i.sort(N8)};function T8(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function iD(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Gn}function D8(e){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.reduce((c,d)=>({...c,top:c.top+e*d.y,bottom:c.bottom+e*d.y,left:c.left+e*d.x,right:c.right+e*d.x}),{...r})}}const O8=D8(1);function oD(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function A8(e,t,r){const n=oD(t);if(!n)return e;const{scaleX:i,scaleY:o,x:c,y:d}=n,h=e.left-c-(1-i)*parseFloat(r),m=e.top-d-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),g=i?e.width/i:e.width,v=o?e.height/o:e.height;return{width:g,height:v,top:m,right:h+g,bottom:m+v,left:h}}const R8={ignoreTransform:!1};function Fo(e,t){t===void 0&&(t=R8);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:m,transformOrigin:g}=$r(e).getComputedStyle(e);m&&(r=A8(r,m,g))}const{top:n,left:i,width:o,height:c,bottom:d,right:h}=r;return{top:n,left:i,width:o,height:c,bottom:d,right:h}}function $j(e){return Fo(e,{ignoreTransform:!0})}function M8(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function L8(e,t){return t===void 0&&(t=$r(e).getComputedStyle(e)),t.position==="fixed"}function q8(e,t){t===void 0&&(t=$r(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?r.test(o):!1})}function Rf(e,t){const r=[];function n(i){if(t!=null&&r.length>=t||!i)return r;if($b(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!$c(i)||ZT(i)||r.includes(i))return r;const o=$r(e).getComputedStyle(i);return i!==e&&q8(i,o)&&r.push(i),L8(i,o)?r:n(i.parentNode)}return e?n(e):r}function lD(e){const[t]=Rf(e,1);return t??null}function qg(e){return!Df||!e?null:Bo(e)?e:Pb(e)?$b(e)||e===Io(e).scrollingElement?window:$c(e)?e:null:null}function cD(e){return Bo(e)?e.scrollX:e.scrollLeft}function uD(e){return Bo(e)?e.scrollY:e.scrollTop}function G0(e){return{x:cD(e),y:uD(e)}}var pr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(pr||(pr={}));function dD(e){return!Df||!e?!1:e===document.scrollingElement}function fD(e){const t={x:0,y:0},r=dD(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,c=e.scrollTop>=n.y,d=e.scrollLeft>=n.x;return{isTop:i,isLeft:o,isBottom:c,isRight:d,maxScroll:n,minScroll:t}}const U8={x:.2,y:.2};function P8(e,t,r,n,i){let{top:o,left:c,right:d,bottom:h}=r;n===void 0&&(n=10),i===void 0&&(i=U8);const{isTop:m,isBottom:g,isLeft:v,isRight:b}=fD(e),x={x:0,y:0},S={x:0,y:0},w={height:t.height*i.y,width:t.width*i.x};return!m&&o<=t.top+w.height?(x.y=pr.Backward,S.y=n*Math.abs((t.top+w.height-o)/w.height)):!g&&h>=t.bottom-w.height&&(x.y=pr.Forward,S.y=n*Math.abs((t.bottom-w.height-h)/w.height)),!b&&d>=t.right-w.width?(x.x=pr.Forward,S.x=n*Math.abs((t.right-w.width-d)/w.width)):!v&&c<=t.left+w.width&&(x.x=pr.Backward,S.x=n*Math.abs((t.left+w.width-c)/w.width)),{direction:x,speed:S}}function $8(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:c}=window;return{top:0,left:0,right:o,bottom:c,width:o,height:c}}const{top:t,left:r,right:n,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:i,width:e.clientWidth,height:e.clientHeight}}function hD(e){return e.reduce((t,r)=>ko(t,G0(r)),Gn)}function z8(e){return e.reduce((t,r)=>t+cD(r),0)}function B8(e){return e.reduce((t,r)=>t+uD(r),0)}function mD(e,t){if(t===void 0&&(t=Fo),!e)return;const{top:r,left:n,bottom:i,right:o}=t(e);lD(e)&&(i<=0||o<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const I8=[["x",["left","right"],z8],["y",["top","bottom"],B8]];class Bb{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Rf(r),i=hD(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,c,d]of I8)for(const h of c)Object.defineProperty(this,h,{get:()=>{const m=d(n),g=i[o]-m;return this.rect[h]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class sc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var i;(i=this.target)==null||i.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function F8(e){const{EventTarget:t}=$r(e);return e instanceof t?e:Io(e)}function Ug(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var En;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(En||(En={}));function zj(e){e.preventDefault()}function H8(e){e.stopPropagation()}var rt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(rt||(rt={}));const gD={start:[rt.Space,rt.Enter],cancel:[rt.Esc],end:[rt.Space,rt.Enter,rt.Tab]},K8=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case rt.Right:return{...r,x:r.x+25};case rt.Left:return{...r,x:r.x-25};case rt.Down:return{...r,y:r.y+25};case rt.Up:return{...r,y:r.y-25}}};class Ib{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new sc(Io(r)),this.windowListeners=new sc($r(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(En.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&mD(n),r(Gn)}handleKeyDown(t){if(Af(t)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:o=gD,coordinateGetter:c=K8,scrollBehavior:d="smooth"}=i,{code:h}=t;if(o.end.includes(h)){this.handleEnd(t);return}if(o.cancel.includes(h)){this.handleCancel(t);return}const{collisionRect:m}=n.current,g=m?{x:m.left,y:m.top}:Gn;this.referenceCoordinates||(this.referenceCoordinates=g);const v=c(t,{active:r,context:n.current,currentCoordinates:g});if(v){const b=yc(v,g),x={x:0,y:0},{scrollableAncestors:S}=n.current;for(const w of S){const _=t.code,{isTop:N,isRight:C,isLeft:T,isBottom:A,maxScroll:L,minScroll:E}=fD(w),D=$8(w),R={x:Math.min(_===rt.Right?D.right-D.width/2:D.right,Math.max(_===rt.Right?D.left:D.left+D.width/2,v.x)),y:Math.min(_===rt.Down?D.bottom-D.height/2:D.bottom,Math.max(_===rt.Down?D.top:D.top+D.height/2,v.y))},q=_===rt.Right&&!C||_===rt.Left&&!T,B=_===rt.Down&&!A||_===rt.Up&&!N;if(q&&R.x!==v.x){const U=w.scrollLeft+b.x,K=_===rt.Right&&U<=L.x||_===rt.Left&&U>=E.x;if(K&&!b.y){w.scrollTo({left:U,behavior:d});return}K?x.x=w.scrollLeft-U:x.x=_===rt.Right?w.scrollLeft-L.x:w.scrollLeft-E.x,x.x&&w.scrollBy({left:-x.x,behavior:d});break}else if(B&&R.y!==v.y){const U=w.scrollTop+b.y,K=_===rt.Down&&U<=L.y||_===rt.Up&&U>=E.y;if(K&&!b.x){w.scrollTo({top:U,behavior:d});return}K?x.y=w.scrollTop-U:x.y=_===rt.Down?w.scrollTop-L.y:w.scrollTop-E.y,x.y&&w.scrollBy({top:-x.y,behavior:d});break}}this.handleMove(t,ko(yc(v,this.referenceCoordinates),x))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ib.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=gD,onActivation:i}=t,{active:o}=r;const{code:c}=e.nativeEvent;if(n.start.includes(c)){const d=o.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Bj(e){return!!(e&&"distance"in e)}function Ij(e){return!!(e&&"delay"in e)}class Fb{constructor(t,r,n){var i;n===void 0&&(n=F8(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:o}=t,{target:c}=o;this.props=t,this.events=r,this.document=Io(c),this.documentListeners=new sc(this.document),this.listeners=new sc(n),this.windowListeners=new sc($r(c)),this.initialCoordinates=(i=uf(o))!=null?i:Gn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.DragStart,zj),this.windowListeners.add(En.VisibilityChange,this.handleCancel),this.windowListeners.add(En.ContextMenu,zj),this.documentListeners.add(En.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ij(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Bj(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:i}=this.props;i(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(En.Click,H8,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(En.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:i,props:o}=this,{onMove:c,options:{activationConstraint:d}}=o;if(!i)return;const h=(r=uf(t))!=null?r:Gn,m=yc(i,h);if(!n&&d){if(Bj(d)){if(d.tolerance!=null&&Ug(m,d.tolerance))return this.handleCancel();if(Ug(m,d.distance))return this.handleStart()}if(Ij(d)&&Ug(m,d.tolerance))return this.handleCancel();this.handlePending(d,m);return}t.cancelable&&t.preventDefault(),c(h)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===rt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const G8={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ic extends Fb{constructor(t){const{event:r}=t,n=Io(r.target);super(t,G8,n)}}Ic.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const Y8={move:{name:"mousemove"},end:{name:"mouseup"}};var Y0;(function(e){e[e.RightClick=2]="RightClick"})(Y0||(Y0={}));class V8 extends Fb{constructor(t){super(t,Y8,Io(t.event.target))}}V8.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===Y0.RightClick?!1:(n?.({event:r}),!0)}}];const Pg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Q8 extends Fb{constructor(t){super(t,Pg)}static setup(){return window.addEventListener(Pg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Pg.move.name,t)};function t(){}}}Q8.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var ic;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ic||(ic={}));var hf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(hf||(hf={}));function W8(e){let{acceleration:t,activator:r=ic.Pointer,canScroll:n,draggingRect:i,enabled:o,interval:c=5,order:d=hf.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:g,delta:v,threshold:b}=e;const x=J8({delta:v,disabled:!o}),[S,w]=d8(),_=k.useRef({x:0,y:0}),N=k.useRef({x:0,y:0}),C=k.useMemo(()=>{switch(r){case ic.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case ic.DraggableRect:return i}},[r,i,h]),T=k.useRef(null),A=k.useCallback(()=>{const E=T.current;if(!E)return;const D=_.current.x*N.current.x,R=_.current.y*N.current.y;E.scrollBy(D,R)},[]),L=k.useMemo(()=>d===hf.TreeOrder?[...m].reverse():m,[d,m]);k.useEffect(()=>{if(!o||!m.length||!C){w();return}for(const E of L){if(n?.(E)===!1)continue;const D=m.indexOf(E),R=g[D];if(!R)continue;const{direction:q,speed:B}=P8(E,R,C,t,b);for(const U of["x","y"])x[U][q[U]]||(B[U]=0,q[U]=0);if(B.x>0||B.y>0){w(),T.current=E,S(A,c),_.current=B,N.current=q;return}}_.current={x:0,y:0},N.current={x:0,y:0},w()},[t,A,n,w,o,c,JSON.stringify(C),JSON.stringify(x),S,m,L,g,JSON.stringify(b)])}const X8={x:{[pr.Backward]:!1,[pr.Forward]:!1},y:{[pr.Backward]:!1,[pr.Forward]:!1}};function J8(e){let{delta:t,disabled:r}=e;const n=cf(t);return zc(i=>{if(r||!n||!i)return X8;const o={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[pr.Backward]:i.x[pr.Backward]||o.x===-1,[pr.Forward]:i.x[pr.Forward]||o.x===1},y:{[pr.Backward]:i.y[pr.Backward]||o.y===-1,[pr.Forward]:i.y[pr.Forward]||o.y===1}}},[r,t,n])}function Z8(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return zc(i=>{var o;return t==null?null:(o=n??i)!=null?o:null},[n,t])}function eP(e,t){return k.useMemo(()=>e.reduce((r,n)=>{const{sensor:i}=n,o=i.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,n)}));return[...r,...o]},[]),[e,t])}var bc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(bc||(bc={}));var V0;(function(e){e.Optimized="optimized"})(V0||(V0={}));const Fj=new Map;function tP(e,t){let{dragging:r,dependencies:n,config:i}=t;const[o,c]=k.useState(null),{frequency:d,measure:h,strategy:m}=i,g=k.useRef(e),v=_(),b=vc(v),x=k.useCallback(function(N){N===void 0&&(N=[]),!b.current&&c(C=>C===null?N:C.concat(N.filter(T=>!C.includes(T))))},[b]),S=k.useRef(null),w=zc(N=>{if(v&&!r)return Fj;if(!N||N===Fj||g.current!==e||o!=null){const C=new Map;for(let T of e){if(!T)continue;if(o&&o.length>0&&!o.includes(T.id)&&T.rect.current){C.set(T.id,T.rect.current);continue}const A=T.node.current,L=A?new Bb(h(A),A):null;T.rect.current=L,L&&C.set(T.id,L)}return C}return N},[e,o,r,v,h]);return k.useEffect(()=>{g.current=e},[e]),k.useEffect(()=>{v||x()},[r,v]),k.useEffect(()=>{o&&o.length>0&&c(null)},[JSON.stringify(o)]),k.useEffect(()=>{v||typeof d!="number"||S.current!==null||(S.current=setTimeout(()=>{x(),S.current=null},d))},[d,v,x,...n]),{droppableRects:w,measureDroppableContainers:x,measuringScheduled:o!=null};function _(){switch(m){case bc.Always:return!1;case bc.BeforeDragging:return r;default:return!r}}}function Hb(e,t){return zc(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function rP(e,t){return Hb(e,t)}function nP(e){let{callback:t,disabled:r}=e;const n=Of(t),i=k.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,r]);return k.useEffect(()=>()=>i?.disconnect(),[i]),i}function Mf(e){let{callback:t,disabled:r}=e;const n=Of(t),i=k.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[r]);return k.useEffect(()=>()=>i?.disconnect(),[i]),i}function aP(e){return new Bb(Fo(e),e)}function Hj(e,t,r){t===void 0&&(t=aP);const[n,i]=k.useState(null);function o(){i(h=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=h??r)!=null?m:null}const g=t(e);return JSON.stringify(h)===JSON.stringify(g)?h:g})}const c=nP({callback(h){if(e)for(const m of h){const{type:g,target:v}=m;if(g==="childList"&&v instanceof HTMLElement&&v.contains(e)){o();break}}}}),d=Mf({callback:o});return Hn(()=>{o(),e?(d?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[e]),n}function sP(e){const t=Hb(e);return iD(e,t)}const Kj=[];function iP(e){const t=k.useRef(e),r=zc(n=>e?n&&n!==Kj&&e&&t.current&&e.parentNode===t.current.parentNode?n:Rf(e):Kj,[e]);return k.useEffect(()=>{t.current=e},[e]),r}function oP(e){const[t,r]=k.useState(null),n=k.useRef(e),i=k.useCallback(o=>{const c=qg(o.target);c&&r(d=>d?(d.set(c,G0(c)),new Map(d)):null)},[]);return k.useEffect(()=>{const o=n.current;if(e!==o){c(o);const d=e.map(h=>{const m=qg(h);return m?(m.addEventListener("scroll",i,{passive:!0}),[m,G0(m)]):null}).filter(h=>h!=null);r(d.length?new Map(d):null),n.current=e}return()=>{c(e),c(o)};function c(d){d.forEach(h=>{const m=qg(h);m?.removeEventListener("scroll",i)})}},[i,e]),k.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,c)=>ko(o,c),Gn):hD(e):Gn,[e,t])}function Gj(e,t){t===void 0&&(t=[]);const r=k.useRef(null);return k.useEffect(()=>{r.current=null},t),k.useEffect(()=>{const n=e!==Gn;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?yc(e,r.current):Gn}function lP(e){k.useEffect(()=>{if(!Df)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function cP(e,t){return k.useMemo(()=>e.reduce((r,n)=>{let{eventName:i,handler:o}=n;return r[i]=c=>{o(c,t)},r},{}),[e,t])}function pD(e){return k.useMemo(()=>e?M8(e):null,[e])}const Yj=[];function uP(e,t){t===void 0&&(t=Fo);const[r]=e,n=pD(r?$r(r):null),[i,o]=k.useState(Yj);function c(){o(()=>e.length?e.map(h=>dD(h)?n:new Bb(t(h),h)):Yj)}const d=Mf({callback:c});return Hn(()=>{d?.disconnect(),c(),e.forEach(h=>d?.observe(h))},[e]),i}function vD(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return $c(t)?t:e}function dP(e){let{measure:t}=e;const[r,n]=k.useState(null),i=k.useCallback(m=>{for(const{target:g}of m)if($c(g)){n(v=>{const b=t(g);return v?{...v,width:b.width,height:b.height}:b});break}},[t]),o=Mf({callback:i}),c=k.useCallback(m=>{const g=vD(m);o?.disconnect(),g&&o?.observe(g),n(g?t(g):null)},[t,o]),[d,h]=lf(c);return k.useMemo(()=>({nodeRef:d,rect:r,setRef:h}),[r,d,h])}const fP=[{sensor:Ic,options:{}},{sensor:Ib,options:{}}],hP={current:{}},Ld={draggable:{measure:$j},droppable:{measure:$j,strategy:bc.WhileDragging,frequency:V0.Optimized},dragOverlay:{measure:Fo}};class oc extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const mP={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new oc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:df},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ld,measureDroppableContainers:df,windowRect:null,measuringScheduled:!1},yD={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:df,draggableNodes:new Map,over:null,measureDroppableContainers:df},Fc=k.createContext(yD),bD=k.createContext(mP);function gP(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new oc}}}function pP(e,t){switch(t.type){case or.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case or.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case or.DragEnd:case or.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case or.RegisterDroppable:{const{element:r}=t,{id:n}=r,i=new oc(e.droppable.containers);return i.set(n,r),{...e,droppable:{...e.droppable,containers:i}}}case or.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const c=new oc(e.droppable.containers);return c.set(r,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:c}}}case or.UnregisterDroppable:{const{id:r,key:n}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const o=new oc(e.droppable.containers);return o.delete(r),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function vP(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:i}=k.useContext(Fc),o=cf(n),c=cf(r?.id);return k.useEffect(()=>{if(!t&&!n&&o&&c!=null){if(!Af(o)||document.activeElement===o.target)return;const d=i.get(c);if(!d)return;const{activatorNode:h,node:m}=d;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[h.current,m.current]){if(!g)continue;const v=m8(g);if(v){v.focus();break}}})}},[n,t,i,c,o]),null}function xD(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...n}),r):r}function yP(e){return k.useMemo(()=>({draggable:{...Ld.draggable,...e?.draggable},droppable:{...Ld.droppable,...e?.droppable},dragOverlay:{...Ld.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function bP(e){let{activeNode:t,measure:r,initialRect:n,config:i=!0}=e;const o=k.useRef(!1),{x:c,y:d}=typeof i=="boolean"?{x:i,y:i}:i;Hn(()=>{if(!c&&!d||!t){o.current=!1;return}if(o.current||!n)return;const m=t?.node.current;if(!m||m.isConnected===!1)return;const g=r(m),v=iD(g,n);if(c||(v.x=0),d||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const b=lD(m);b&&b.scrollBy({top:v.y,left:v.x})}},[t,c,d,n,r])}const Lf=k.createContext({...Gn,scaleX:1,scaleY:1});var vs;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(vs||(vs={}));const Kb=k.memo(function(t){var r,n,i,o;let{id:c,accessibility:d,autoScroll:h=!0,children:m,sensors:g=fP,collisionDetection:v=C8,measuring:b,modifiers:x,...S}=t;const w=k.useReducer(pP,void 0,gP),[_,N]=w,[C,T]=x8(),[A,L]=k.useState(vs.Uninitialized),E=A===vs.Initialized,{draggable:{active:D,nodes:R,translate:q},droppable:{containers:B}}=_,U=D!=null?R.get(D):null,K=k.useRef({initial:null,translated:null}),V=k.useMemo(()=>{var Rt;return D!=null?{id:D,data:(Rt=U?.data)!=null?Rt:hP,rect:K}:null},[D,U]),te=k.useRef(null),[ge,P]=k.useState(null),[W,J]=k.useState(null),me=vc(S,Object.values(S)),oe=Bc("DndDescribedBy",c),M=k.useMemo(()=>B.getEnabled(),[B]),H=yP(b),{droppableRects:se,measureDroppableContainers:fe,measuringScheduled:be}=tP(M,{dragging:E,dependencies:[q.x,q.y],config:H.droppable}),xe=Z8(R,D),Oe=k.useMemo(()=>W?uf(W):null,[W]),Le=Ha(),ae=rP(xe,H.draggable.measure);bP({activeNode:D!=null?R.get(D):null,config:Le.layoutShiftCompensation,initialRect:ae,measure:H.draggable.measure});const le=Hj(xe,H.draggable.measure,ae),at=Hj(xe?xe.parentElement:null),Pe=k.useRef({activatorEvent:null,active:null,activeNode:xe,collisionRect:null,collisions:null,droppableRects:se,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Xe=B.getNodeFor((r=Pe.current.over)==null?void 0:r.id),et=dP({measure:H.dragOverlay.measure}),Ue=(n=et.nodeRef.current)!=null?n:xe,ht=E?(i=et.rect)!=null?i:le:null,Be=!!(et.nodeRef.current&&et.rect),dr=sP(Be?null:le),Wt=pD(Ue?$r(Ue):null),bt=iP(E?Xe??xe:null),mt=uP(bt),gt=xD(x,{transform:{x:q.x-dr.x,y:q.y-dr.y,scaleX:1,scaleY:1},activatorEvent:W,active:V,activeNodeRect:le,containerNodeRect:at,draggingNodeRect:ht,over:Pe.current.over,overlayNodeRect:et.rect,scrollableAncestors:bt,scrollableAncestorRects:mt,windowRect:Wt}),ft=Oe?ko(Oe,q):null,nt=oP(bt),yr=Gj(nt),Ht=Gj(nt,[le]),jt=ko(gt,yr),Et=ht?O8(ht,gt):null,zr=V&&Et?v({active:V,collisionRect:Et,droppableRects:se,droppableContainers:M,pointerCoordinates:ft}):null,Br=aD(zr,"id"),[re,ve]=k.useState(null),Re=Be?gt:ko(gt,Ht),Ae=T8(Re,(o=re?.rect)!=null?o:null,le),st=k.useRef(null),it=k.useCallback((Rt,Pt)=>{let{sensor:Kt,options:nr}=Pt;if(te.current==null)return;const ar=R.get(te.current);if(!ar)return;const fr=Rt.nativeEvent,Er=new Kt({active:te.current,activeNode:ar,event:fr,options:nr,context:Pe,onAbort(G){if(!R.get(G))return;const{onDragAbort:de}=me.current,pe={id:G};de?.(pe),C({type:"onDragAbort",event:pe})},onPending(G,ee,de,pe){if(!R.get(G))return;const{onDragPending:ke}=me.current,_e={id:G,constraint:ee,initialCoordinates:de,offset:pe};ke?.(_e),C({type:"onDragPending",event:_e})},onStart(G){const ee=te.current;if(ee==null)return;const de=R.get(ee);if(!de)return;const{onDragStart:pe}=me.current,Ne={activatorEvent:fr,active:{id:ee,data:de.data,rect:K}};oi.unstable_batchedUpdates(()=>{pe?.(Ne),L(vs.Initializing),N({type:or.DragStart,initialCoordinates:G,active:ee}),C({type:"onDragStart",event:Ne}),P(st.current),J(fr)})},onMove(G){N({type:or.DragMove,coordinates:G})},onEnd:$(or.DragEnd),onCancel:$(or.DragCancel)});st.current=Er;function $(G){return async function(){const{active:de,collisions:pe,over:Ne,scrollAdjustedTranslate:ke}=Pe.current;let _e=null;if(de&&ke){const{cancelDrop:Ce}=me.current;_e={activatorEvent:fr,active:de,collisions:pe,delta:ke,over:Ne},G===or.DragEnd&&typeof Ce=="function"&&await Promise.resolve(Ce(_e))&&(G=or.DragCancel)}te.current=null,oi.unstable_batchedUpdates(()=>{N({type:G}),L(vs.Uninitialized),ve(null),P(null),J(null),st.current=null;const Ce=G===or.DragEnd?"onDragEnd":"onDragCancel";if(_e){const Te=me.current[Ce];Te?.(_e),C({type:Ce,event:_e})}})}}},[R]),Ci=k.useCallback((Rt,Pt)=>(Kt,nr)=>{const ar=Kt.nativeEvent,fr=R.get(nr);if(te.current!==null||!fr||ar.dndKit||ar.defaultPrevented)return;const Er={active:fr};Rt(Kt,Pt.options,Er)===!0&&(ar.dndKit={capturedBy:Pt.sensor},te.current=nr,it(Kt,Pt))},[R,it]),ma=eP(g,Ci);lP(g),Hn(()=>{le&&A===vs.Initializing&&L(vs.Initialized)},[le,A]),k.useEffect(()=>{const{onDragMove:Rt}=me.current,{active:Pt,activatorEvent:Kt,collisions:nr,over:ar}=Pe.current;if(!Pt||!Kt)return;const fr={active:Pt,activatorEvent:Kt,collisions:nr,delta:{x:jt.x,y:jt.y},over:ar};oi.unstable_batchedUpdates(()=>{Rt?.(fr),C({type:"onDragMove",event:fr})})},[jt.x,jt.y]),k.useEffect(()=>{const{active:Rt,activatorEvent:Pt,collisions:Kt,droppableContainers:nr,scrollAdjustedTranslate:ar}=Pe.current;if(!Rt||te.current==null||!Pt||!ar)return;const{onDragOver:fr}=me.current,Er=nr.get(Br),$=Er&&Er.rect.current?{id:Er.id,rect:Er.rect.current,data:Er.data,disabled:Er.disabled}:null,G={active:Rt,activatorEvent:Pt,collisions:Kt,delta:{x:ar.x,y:ar.y},over:$};oi.unstable_batchedUpdates(()=>{ve($),fr?.(G),C({type:"onDragOver",event:G})})},[Br]),Hn(()=>{Pe.current={activatorEvent:W,active:V,activeNode:xe,collisionRect:Et,collisions:zr,droppableRects:se,draggableNodes:R,draggingNode:Ue,draggingNodeRect:ht,droppableContainers:B,over:re,scrollableAncestors:bt,scrollAdjustedTranslate:jt},K.current={initial:ht,translated:Et}},[V,xe,zr,Et,R,Ue,ht,se,B,re,bt,jt]),W8({...Le,delta:q,draggingRect:Et,pointerCoordinates:ft,scrollableAncestors:bt,scrollableAncestorRects:mt});const Ti=k.useMemo(()=>({active:V,activeNode:xe,activeNodeRect:le,activatorEvent:W,collisions:zr,containerNodeRect:at,dragOverlay:et,draggableNodes:R,droppableContainers:B,droppableRects:se,over:re,measureDroppableContainers:fe,scrollableAncestors:bt,scrollableAncestorRects:mt,measuringConfiguration:H,measuringScheduled:be,windowRect:Wt}),[V,xe,le,W,zr,at,et,R,B,se,re,fe,bt,mt,H,be,Wt]),Qn=k.useMemo(()=>({activatorEvent:W,activators:ma,active:V,activeNodeRect:le,ariaDescribedById:{draggable:oe},dispatch:N,draggableNodes:R,over:re,measureDroppableContainers:fe}),[W,ma,V,le,N,oe,R,re,fe]);return I.createElement(tD.Provider,{value:T},I.createElement(Fc.Provider,{value:Qn},I.createElement(bD.Provider,{value:Ti},I.createElement(Lf.Provider,{value:Ae},m)),I.createElement(vP,{disabled:d?.restoreFocus===!1})),I.createElement(S8,{...d,hiddenTextDescribedById:oe}));function Ha(){const Rt=ge?.autoScrollEnabled===!1,Pt=typeof h=="object"?h.enabled===!1:h===!1,Kt=E&&!Rt&&!Pt;return typeof h=="object"?{...h,enabled:Kt}:{enabled:Kt}}}),xP=k.createContext(null),Vj="button",wP="Draggable";function _P(e){let{id:t,data:r,disabled:n=!1,attributes:i}=e;const o=Bc(wP),{activators:c,activatorEvent:d,active:h,activeNodeRect:m,ariaDescribedById:g,draggableNodes:v,over:b}=k.useContext(Fc),{role:x=Vj,roleDescription:S="draggable",tabIndex:w=0}=i??{},_=h?.id===t,N=k.useContext(_?Lf:xP),[C,T]=lf(),[A,L]=lf(),E=cP(c,t),D=vc(r);Hn(()=>(v.set(t,{id:t,key:o,node:C,activatorNode:A,data:D}),()=>{const q=v.get(t);q&&q.key===o&&v.delete(t)}),[v,t]);const R=k.useMemo(()=>({role:x,tabIndex:w,"aria-disabled":n,"aria-pressed":_&&x===Vj?!0:void 0,"aria-roledescription":S,"aria-describedby":g.draggable}),[n,x,w,_,S,g.draggable]);return{active:h,activatorEvent:d,activeNodeRect:m,attributes:R,isDragging:_,listeners:n?void 0:E,node:C,over:b,setNodeRef:T,setActivatorNodeRef:L,transform:N}}function wD(){return k.useContext(bD)}const SP="Droppable",jP={timeout:25};function _D(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:i}=e;const o=Bc(SP),{active:c,dispatch:d,over:h,measureDroppableContainers:m}=k.useContext(Fc),g=k.useRef({disabled:r}),v=k.useRef(!1),b=k.useRef(null),x=k.useRef(null),{disabled:S,updateMeasurementsFor:w,timeout:_}={...jP,...i},N=vc(w??n),C=k.useCallback(()=>{if(!v.current){v.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{m(Array.isArray(N.current)?N.current:[N.current]),x.current=null},_)},[_]),T=Mf({callback:C,disabled:S||!c}),A=k.useCallback((R,q)=>{T&&(q&&(T.unobserve(q),v.current=!1),R&&T.observe(R))},[T]),[L,E]=lf(A),D=vc(t);return k.useEffect(()=>{!T||!L.current||(T.disconnect(),v.current=!1,T.observe(L.current))},[L,T]),k.useEffect(()=>(d({type:or.RegisterDroppable,element:{id:n,key:o,disabled:r,node:L,rect:b,data:D}}),()=>d({type:or.UnregisterDroppable,key:o,id:n})),[n]),k.useEffect(()=>{r!==g.current.disabled&&(d({type:or.SetDroppableDisabled,id:n,key:o,disabled:r}),g.current.disabled=r)},[n,o,r,d]),{active:c,rect:b,isOver:h?.id===n,node:L,over:h,setNodeRef:E}}function NP(e){let{animation:t,children:r}=e;const[n,i]=k.useState(null),[o,c]=k.useState(null),d=cf(r);return!r&&!n&&d&&i(d),Hn(()=>{if(!o)return;const h=n?.key,m=n?.props.id;if(h==null||m==null){i(null);return}Promise.resolve(t(m,o)).then(()=>{i(null)})},[t,n,o]),I.createElement(I.Fragment,null,r,n?k.cloneElement(n,{ref:c}):null)}const kP={x:0,y:0,scaleX:1,scaleY:1};function EP(e){let{children:t}=e;return I.createElement(Fc.Provider,{value:yD},I.createElement(Lf.Provider,{value:kP},t))}const CP={position:"fixed",touchAction:"none"},TP=e=>Af(e)?"transform 250ms ease":void 0,DP=k.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:i,children:o,className:c,rect:d,style:h,transform:m,transition:g=TP}=e;if(!d)return null;const v=i?m:{...m,scaleX:1,scaleY:1},b={...CP,width:d.width,height:d.height,top:d.top,left:d.left,transform:Kn.Transform.toString(v),transformOrigin:i&&n?j8(n,d):void 0,transition:typeof g=="function"?g(n):g,...h};return I.createElement(r,{className:c,style:b,ref:t},o)}),OP=e=>t=>{let{active:r,dragOverlay:n}=t;const i={},{styles:o,className:c}=e;if(o!=null&&o.active)for(const[d,h]of Object.entries(o.active))h!==void 0&&(i[d]=r.node.style.getPropertyValue(d),r.node.style.setProperty(d,h));if(o!=null&&o.dragOverlay)for(const[d,h]of Object.entries(o.dragOverlay))h!==void 0&&n.node.style.setProperty(d,h);return c!=null&&c.active&&r.node.classList.add(c.active),c!=null&&c.dragOverlay&&n.node.classList.add(c.dragOverlay),function(){for(const[h,m]of Object.entries(i))r.node.style.setProperty(h,m);c!=null&&c.active&&r.node.classList.remove(c.active)}},AP=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:Kn.Transform.toString(t)},{transform:Kn.Transform.toString(r)}]},RP={duration:250,easing:"ease",keyframes:AP,sideEffects:OP({styles:{active:{opacity:"0"}}})};function MP(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=e;return Of((o,c)=>{if(t===null)return;const d=r.get(o);if(!d)return;const h=d.node.current;if(!h)return;const m=vD(c);if(!m)return;const{transform:g}=$r(c).getComputedStyle(c),v=oD(g);if(!v)return;const b=typeof t=="function"?t:LP(t);return mD(h,i.draggable.measure),b({active:{id:o,data:d.data,node:h,rect:i.draggable.measure(h)},draggableNodes:r,dragOverlay:{node:c,rect:i.dragOverlay.measure(m)},droppableContainers:n,measuringConfiguration:i,transform:v})})}function LP(e){const{duration:t,easing:r,sideEffects:n,keyframes:i}={...RP,...e};return o=>{let{active:c,dragOverlay:d,transform:h,...m}=o;if(!t)return;const g={x:d.rect.left-c.rect.left,y:d.rect.top-c.rect.top},v={scaleX:h.scaleX!==1?c.rect.width*h.scaleX/d.rect.width:1,scaleY:h.scaleY!==1?c.rect.height*h.scaleY/d.rect.height:1},b={x:h.x-g.x,y:h.y-g.y,...v},x=i({...m,active:c,dragOverlay:d,transform:{initial:h,final:b}}),[S]=x,w=x[x.length-1];if(JSON.stringify(S)===JSON.stringify(w))return;const _=n?.({active:c,dragOverlay:d,...m}),N=d.node.animate(x,{duration:t,easing:r,fill:"forwards"});return new Promise(C=>{N.onfinish=()=>{_?.(),C()}})}}let Qj=0;function qP(e){return k.useMemo(()=>{if(e!=null)return Qj++,Qj},[e])}const UP=I.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:i,transition:o,modifiers:c,wrapperElement:d="div",className:h,zIndex:m=999}=e;const{activatorEvent:g,active:v,activeNodeRect:b,containerNodeRect:x,draggableNodes:S,droppableContainers:w,dragOverlay:_,over:N,measuringConfiguration:C,scrollableAncestors:T,scrollableAncestorRects:A,windowRect:L}=wD(),E=k.useContext(Lf),D=qP(v?.id),R=xD(c,{activatorEvent:g,active:v,activeNodeRect:b,containerNodeRect:x,draggingNodeRect:_.rect,over:N,overlayNodeRect:_.rect,scrollableAncestors:T,scrollableAncestorRects:A,transform:E,windowRect:L}),q=Hb(b),B=MP({config:n,draggableNodes:S,droppableContainers:w,measuringConfiguration:C}),U=q?_.setRef:void 0;return I.createElement(EP,null,I.createElement(NP,{animation:B},v&&D?I.createElement(DP,{key:D,id:v.id,ref:U,as:d,activatorEvent:g,adjustScale:t,className:h,transition:o,rect:q,style:{zIndex:m,...i},transform:R},r):null))});function qf(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function PP(e,t){return e.reduce((r,n,i)=>{const o=t.get(n);return o&&(r[i]=o),r},Array(e.length))}function Sd(e){return e!==null&&e>=0}function $P(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function zP(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const jd={scaleX:1,scaleY:1},BP=e=>{var t;let{rects:r,activeNodeRect:n,activeIndex:i,overIndex:o,index:c}=e;const d=(t=r[i])!=null?t:n;if(!d)return null;const h=IP(r,c,i);if(c===i){const m=r[o];return m?{x:i<o?m.left+m.width-(d.left+d.width):m.left-d.left,y:0,...jd}:null}return c>i&&c<=o?{x:-d.width-h,y:0,...jd}:c<i&&c>=o?{x:d.width+h,y:0,...jd}:{x:0,y:0,...jd}};function IP(e,t,r){const n=e[t],i=e[t-1],o=e[t+1];return!n||!i&&!o?0:r<t?i?n.left-(i.left+i.width):o.left-(n.left+n.width):o?o.left-(n.left+n.width):n.left-(i.left+i.width)}const SD=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e;const o=qf(t,n,r),c=t[i],d=o[i];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},Nd={scaleX:1,scaleY:1},Gb=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:i,rects:o,overIndex:c}=e;const d=(t=o[r])!=null?t:n;if(!d)return null;if(i===r){const m=o[c];return m?{x:0,y:r<c?m.top+m.height-(d.top+d.height):m.top-d.top,...Nd}:null}const h=FP(o,i,r);return i>r&&i<=c?{x:0,y:-d.height-h,...Nd}:i<r&&i>=c?{x:0,y:d.height+h,...Nd}:{x:0,y:0,...Nd}};function FP(e,t,r){const n=e[t],i=e[t-1],o=e[t+1];return n?r<t?i?n.top-(i.top+i.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const jD="Sortable",ND=I.createContext({activeIndex:-1,containerId:jD,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:SD,disabled:{draggable:!1,droppable:!1}});function Uf(e){let{children:t,id:r,items:n,strategy:i=SD,disabled:o=!1}=e;const{active:c,dragOverlay:d,droppableRects:h,over:m,measureDroppableContainers:g}=wD(),v=Bc(jD,r),b=d.rect!==null,x=k.useMemo(()=>n.map(E=>typeof E=="object"&&"id"in E?E.id:E),[n]),S=c!=null,w=c?x.indexOf(c.id):-1,_=m?x.indexOf(m.id):-1,N=k.useRef(x),C=!$P(x,N.current),T=_!==-1&&w===-1||C,A=zP(o);Hn(()=>{C&&S&&g(x)},[C,x,S,g]),k.useEffect(()=>{N.current=x},[x]);const L=k.useMemo(()=>({activeIndex:w,containerId:v,disabled:A,disableTransforms:T,items:x,overIndex:_,useDragOverlay:b,sortedRects:PP(x,h),strategy:i}),[w,v,A.draggable,A.droppable,T,x,_,h,b,i]);return I.createElement(ND.Provider,{value:L},t)}const HP=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return qf(r,n,i).indexOf(t)},KP=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:o,newIndex:c,previousItems:d,previousContainerId:h,transition:m}=e;return!m||!n||d!==o&&i===c?!1:r?!0:c!==i&&t===h},GP={duration:200,easing:"ease"},kD="transform",YP=Kn.Transition.toString({property:kD,duration:0,easing:"linear"}),VP={roleDescription:"sortable"};function QP(e){let{disabled:t,index:r,node:n,rect:i}=e;const[o,c]=k.useState(null),d=k.useRef(r);return Hn(()=>{if(!t&&r!==d.current&&n.current){const h=i.current;if(h){const m=Fo(n.current,{ignoreTransform:!0}),g={x:h.left-m.left,y:h.top-m.top,scaleX:h.width/m.width,scaleY:h.height/m.height};(g.x||g.y)&&c(g)}}r!==d.current&&(d.current=r)},[t,r,n,i]),k.useEffect(()=>{o&&c(null)},[o]),o}function Pf(e){let{animateLayoutChanges:t=KP,attributes:r,disabled:n,data:i,getNewIndex:o=HP,id:c,strategy:d,resizeObserverConfig:h,transition:m=GP}=e;const{items:g,containerId:v,activeIndex:b,disabled:x,disableTransforms:S,sortedRects:w,overIndex:_,useDragOverlay:N,strategy:C}=k.useContext(ND),T=WP(n,x),A=g.indexOf(c),L=k.useMemo(()=>({sortable:{containerId:v,index:A,items:g},...i}),[v,i,A,g]),E=k.useMemo(()=>g.slice(g.indexOf(c)),[g,c]),{rect:D,node:R,isOver:q,setNodeRef:B}=_D({id:c,data:L,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...h}}),{active:U,activatorEvent:K,activeNodeRect:V,attributes:te,setNodeRef:ge,listeners:P,isDragging:W,over:J,setActivatorNodeRef:me,transform:oe}=_P({id:c,data:L,attributes:{...VP,...r},disabled:T.draggable}),M=u8(B,ge),H=!!U,se=H&&!S&&Sd(b)&&Sd(_),fe=!N&&W,be=fe&&se?oe:null,Oe=se?be??(d??C)({rects:w,activeNodeRect:V,activeIndex:b,overIndex:_,index:A}):null,Le=Sd(b)&&Sd(_)?o({id:c,items:g,activeIndex:b,overIndex:_}):A,ae=U?.id,le=k.useRef({activeId:ae,items:g,newIndex:Le,containerId:v}),at=g!==le.current.items,Pe=t({active:U,containerId:v,isDragging:W,isSorting:H,id:c,index:A,items:g,newIndex:le.current.newIndex,previousItems:le.current.items,previousContainerId:le.current.containerId,transition:m,wasDragging:le.current.activeId!=null}),Xe=QP({disabled:!Pe,index:A,node:R,rect:D});return k.useEffect(()=>{H&&le.current.newIndex!==Le&&(le.current.newIndex=Le),v!==le.current.containerId&&(le.current.containerId=v),g!==le.current.items&&(le.current.items=g)},[H,Le,v,g]),k.useEffect(()=>{if(ae===le.current.activeId)return;if(ae!=null&&le.current.activeId==null){le.current.activeId=ae;return}const Ue=setTimeout(()=>{le.current.activeId=ae},50);return()=>clearTimeout(Ue)},[ae]),{active:U,activeIndex:b,attributes:te,data:L,rect:D,index:A,newIndex:Le,items:g,isOver:q,isSorting:H,isDragging:W,listeners:P,node:R,overIndex:_,over:J,setNodeRef:M,setActivatorNodeRef:me,setDroppableNodeRef:B,setDraggableNodeRef:ge,transform:Xe??Oe,transition:et()};function et(){if(Xe||at&&le.current.newIndex===A)return YP;if(!(fe&&!Af(K)||!m)&&(H||Pe))return Kn.Transition.toString({...m,property:kD})}}function WP(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}function mf(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const XP=[rt.Down,rt.Right,rt.Up,rt.Left],JP=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:i,droppableContainers:o,over:c,scrollableAncestors:d}}=t;if(XP.includes(e.code)){if(e.preventDefault(),!r||!n)return;const h=[];o.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const b=i.get(v.id);if(b)switch(e.code){case rt.Down:n.top<b.top&&h.push(v);break;case rt.Up:n.top>b.top&&h.push(v);break;case rt.Left:n.left>b.left&&h.push(v);break;case rt.Right:n.left<b.left&&h.push(v);break}});const m=k8({collisionRect:n,droppableRects:i,droppableContainers:h});let g=aD(m,"id");if(g===c?.id&&m.length>1&&(g=m[1].id),g!=null){const v=o.get(r.id),b=o.get(g),x=b?i.get(b.id):null,S=b?.node.current;if(S&&x&&v&&b){const _=Rf(S).some((E,D)=>d[D]!==E),N=ED(v,b),C=ZP(v,b),T=_||!N?{x:0,y:0}:{x:C?n.width-x.width:0,y:C?n.height-x.height:0},A={x:x.left,y:x.top};return T.x&&T.y?A:yc(A,T)}}}};function ED(e,t){return!mf(e)||!mf(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function ZP(e,t){return!mf(e)||!mf(t)||!ED(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function e$({board:e,isEditing:t,editName:r,onStartEdit:n,onSaveEdit:i,onEditNameChange:o,onArchiveBoard:c}){const{boardId:d}=Ia(),{attributes:h,listeners:m,setNodeRef:g,transform:v,transition:b,isDragging:x}=Pf({id:e.id}),S={transform:Kn.Transform.toString(v),transition:b,opacity:x?.5:1},w=()=>{i(e.id)};return t?u.jsx("div",{ref:g,style:S,className:"group relative",children:u.jsxs("form",{onSubmit:_=>{_.preventDefault(),i(e.id)},className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",value:r,onChange:_=>o(_.target.value),className:"flex-1 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0}),u.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"}),u.jsx("button",{type:"button",onClick:w,className:"px-2 py-1 text-xs bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"})]})}):u.jsx("div",{ref:g,style:S,className:"group relative",children:u.jsxs("div",{className:`flex items-center px-3 py-2 rounded-lg transition-colors ${d===e.id?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[u.jsx(on,{to:`/b/${e.id}/board`,className:"flex-1 text-sm font-medium truncate",...h,...m,children:e.name}),u.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center space-x-1 ml-2",children:[u.jsx("button",{onClick:_=>{_.preventDefault(),_.stopPropagation(),n(e)},className:`p-1 rounded ${d===e.id?"hover:bg-blue-700":"hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:"Edit board name",children:u.jsx(mi,{className:"w-3 h-3"})}),c&&u.jsx("button",{onClick:_=>{_.preventDefault(),_.stopPropagation(),console.log(" Delete button clicked for board:",e.id),c(e.id)},className:`p-1 rounded hover:bg-red-500 hover:text-white ${d===e.id?"text-white hover:bg-red-700":"text-red-600 dark:text-red-400"}`,title:"Delete board",children:u.jsx(Tn,{className:"w-3 h-3"})})]})]})})}function t$({isCollapsed:e,onToggle:t}){const{user:r}=da(),{boardId:n}=Ia(),i=ua(),o=kr(),[c,d]=k.useState(""),[h,m]=k.useState(!1),[g,v]=k.useState(null),[b,x]=k.useState(""),S=zb(ff(Ic),ff(Ib,{coordinateGetter:JP})),{data:w=[],isLoading:_}=ct({queryKey:["boards",r?.id],queryFn:()=>r?.id?fa(r.id):Promise.resolve([]),enabled:!!r?.id}),N=w.filter(U=>U.name!=="Archive").sort((U,K)=>(U.position||0)-(K.position||0)),C=w.find(U=>U.name==="Archive"),T=Ge({mutationFn:async U=>{console.log(" Starting delete mutation for board:",U),await i8(U),console.log(" Delete mutation completed for board:",U)},onSuccess:()=>{console.log(" Delete mutation onSuccess called - invalidating queries"),o.invalidateQueries({queryKey:["boards",r?.id]}),o.invalidateQueries({queryKey:["my-boards"]}),console.log(" All queries invalidated")},onError:U=>{console.error(" Delete mutation failed:",U)}}),A=Ge({mutationFn:({name:U,userId:K})=>Ub(K,U),onSuccess:()=>{o.invalidateQueries({queryKey:["boards",r?.id]}),o.invalidateQueries({queryKey:["my-boards"]}),d(""),m(!1)}}),L=Ge({mutationFn:({id:U,data:K})=>K.name!==void 0?o8(U,K.name):K.position!==void 0?l8(U,K.position):Promise.resolve(),onSuccess:()=>{o.invalidateQueries({queryKey:["boards",r?.id]}),o.invalidateQueries({queryKey:["my-boards"]})}}),E=U=>{U.preventDefault(),c.trim()&&r?.id&&A.mutate({name:c.trim(),userId:r.id})},D=U=>{v(U.id),x(U.name)},R=U=>{b.trim()&&L.mutate({id:U,data:{name:b.trim()}}),v(null),x("")},q=U=>{console.log(" handleDeleteBoard called with boardId:",U);const K=w.find(V=>V.id===U);console.log(" Board to delete:",K),confirm(`Are you sure you want to delete "${K?.name}"? This action cannot be undone.`)?(console.log(" User confirmed delete"),T.mutate(U)):console.log(" User cancelled delete")};function B(U){const{active:K,over:V}=U;if(K.id!==V.id){const te=N.findIndex(W=>W.id===K.id),ge=N.findIndex(W=>W.id===V.id);qf(N,te,ge).forEach((W,J)=>{const me=(J+1)*1e3;W.position!==me&&L.mutate({id:W.id,data:{position:me}})})}}return e?u.jsxs("div",{className:"w-16 bg-gray-100 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[u.jsx("button",{onClick:t,className:"p-4 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:u.jsx(HT,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),u.jsxs("div",{className:"flex flex-col items-center space-y-3 mt-4",children:[N.slice(0,3).map(U=>u.jsx(on,{to:`/b/${U.id}/board`,className:`w-10 h-10 rounded-lg flex items-center justify-center text-sm font-medium transition-colors ${n===U.id?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:U.name,children:U.name.charAt(0).toUpperCase()},U.id)),C&&u.jsx(on,{to:`/b/${C.id}/board`,className:`w-10 h-10 rounded-lg flex items-center justify-center transition-colors ${n===C.id?"bg-red-600 text-white":"bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30"}`,title:"Archive",children:u.jsx(Tn,{className:"w-4 h-4"})})]})]}):u.jsxs("div",{className:"w-80 bg-gray-100 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[u.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:"Boards"}),u.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",children:u.jsx(Rq,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),u.jsxs("div",{className:"p-4 space-y-2 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs(on,{to:"/",className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${i.pathname==="/"?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[u.jsx(Jq,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Home"})]}),u.jsxs(on,{to:"/calendar",className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${i.pathname==="/calendar"?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[u.jsx(Ua,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Calendar"})]}),u.jsxs(on,{to:"/archive",className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${i.pathname==="/archive"?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[u.jsx(Tn,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Archive"})]}),u.jsxs(on,{to:"/themes",className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${i.pathname==="/themes"?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[u.jsx(af,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Themes"})]}),(r?.email?.includes("admin")||r?.id==="ad146555-19f4-4eb7-8d22-9ccdedd6a917")&&u.jsxs(on,{to:"/admin",className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${i.pathname==="/admin"?"bg-red-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[u.jsx(QT,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Admin"})]})]}),u.jsxs("div",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[_?u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading boards..."}):u.jsxs(u.Fragment,{children:[u.jsx(Kb,{sensors:S,collisionDetection:sD,onDragEnd:B,children:u.jsx(Uf,{items:N.map(U=>U.id),strategy:Gb,children:u.jsx("div",{className:"space-y-1",children:N.map(U=>u.jsx(e$,{board:U,isEditing:g===U.id,editName:b,onStartEdit:D,onSaveEdit:R,onEditNameChange:x,onArchiveBoard:q},U.id))})})}),C&&u.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Archive"}),u.jsxs(on,{to:`/b/${C.id}/board`,className:`flex items-center px-3 py-2 rounded-lg transition-colors ${n===C.id?"bg-red-600 text-white":"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"}`,children:[u.jsx(Tn,{className:"w-4 h-4 mr-3"}),u.jsx("span",{className:"text-sm font-medium",children:C.name})]})]})]}),u.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:h?u.jsxs("form",{onSubmit:E,className:"space-y-2",children:[u.jsx("input",{type:"text",value:c,onChange:U=>d(U.target.value),placeholder:"Board name",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",autoFocus:!0}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{type:"submit",disabled:!c.trim()||A.isPending,className:"flex-1 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:A.isPending?"Creating...":"Create Board"}),u.jsx("button",{type:"button",onClick:()=>{m(!1),d("")},className:"px-3 py-2 text-sm bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Cancel"})]})]}):u.jsxs("button",{onClick:()=>m(!0),className:"w-full flex items-center px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[u.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Create new board"]})})]})]})}function r$({onToggleViews:e}){const t=Lc(),r=kr(),{user:n,signOut:i}=da(),[o,c]=k.useState(!1),[d,h]=k.useState(!1),[m,g]=k.useState(!1),v=n?.id||"2a8f10d6-4368-43db-ab1d-ab783ec6e935",{data:b}=ct({queryKey:["boards",n?.id],queryFn:()=>fa(v),enabled:!!n?.id}),x=async()=>{const w=prompt("Enter board name:");if(w?.trim())try{const _=await Ub(v,w.trim());await r.invalidateQueries({queryKey:["boards",n?.id]}),t(`/b/${_.id}/board`)}catch(_){console.error("Error creating board:",_)}},S=()=>{const w=document.documentElement,_=w.style.getPropertyValue("--color-background")==="#1f2937";_?(Object.entries({primary:"#3b82f6",secondary:"#6b7280",background:"#ffffff",cardBackground:"#f8fafc",text:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb"}).forEach(([C,T])=>{w.style.setProperty(`--color-${C}`,T)}),document.body.style.backgroundColor="#ffffff",document.body.style.color="#1f2937"):(Object.entries({primary:"#3b82f6",secondary:"#6b7280",background:"#1f2937",cardBackground:"#374151",text:"#f9fafb",textSecondary:"#d1d5db",border:"#4b5563"}).forEach(([C,T])=>{w.style.setProperty(`--color-${C}`,T)}),document.body.style.backgroundColor="#1f2937",document.body.style.color="#f9fafb"),window.dispatchEvent(new CustomEvent("themeChanged")),console.log("Theme toggled!",_?"Light":"Dark")};return u.jsxs("div",{className:"h-16 bg-white dark:bg-gray-800 border-b dark:border-gray-700 flex items-center justify-between px-4",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white cursor-pointer",onClick:()=>t("/"),children:"Todo"}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>h(!d),className:"flex items-center space-x-1 px-3 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:[u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Boards"}),u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&u.jsx("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"p-2",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Your boards"}),u.jsx("div",{className:"space-y-1",children:b&&b.length>0?b.map(w=>u.jsx("button",{onClick:()=>{t(`/b/${w.id}/board`),h(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:w.name},w.id)):u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 px-3 py-2",children:"No boards yet"})})]})})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>g(!m),className:"flex items-center space-x-1 px-3 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:[u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Create"}),u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})]}),m&&u.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-lg z-50",children:u.jsx("div",{className:"p-2",children:u.jsx("button",{onClick:()=>{x(),g(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:"Create Board"})})})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[e&&u.jsx("button",{onClick:e,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:"Toggle Views Panel",children:u.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),u.jsx("button",{onClick:S,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:"Test Theme Toggle",children:u.jsx(Ss,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),n&&u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>c(!o),className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:n.email?.[0]?.toUpperCase()}),u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:n.email})]}),o&&u.jsx("div",{className:"absolute top-full right-0 mt-1 w-48 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"p-2",children:[u.jsx("button",{onClick:()=>{t("/admin"),c(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:"Admin"}),u.jsx("button",{onClick:()=>{i(),c(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:"Sign Out"})]})})]})]})]})}function n$({isOpen:e,onClose:t}){const r=ua(),n=Lc(),o=Ia().boardId,c=[{id:"board",name:"Board",icon:"",path:o?`/b/${o}/board`:"/"},{id:"table",name:"Table",icon:"",path:o?`/b/${o}/table`:"/table"},{id:"calendar",name:"Calendar",icon:"",path:o?`/b/${o}/calendar`:"/calendar"},{id:"timeline",name:"Timeline",icon:"",path:o?`/b/${o}/timeline`:"/timeline"},{id:"map",name:"Map",icon:"",path:o?`/b/${o}/map`:"/map"}],d=[{id:"master-calendar",name:"Master Calendar",icon:"",path:"/master-calendar",description:"View all boards in one calendar"},{id:"all-maps",name:"All Maps",icon:"",path:"/all-maps",description:"View all pinned locations from all boards"}],h=c.find(g=>r.pathname===g.path)||d.find(g=>r.pathname===g.path),m=g=>{n(g),t()};return u.jsxs(u.Fragment,{children:[e&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:t}),u.jsxs("div",{className:`fixed top-0 right-0 h-full w-80 bg-white dark:bg-gray-800 shadow-xl z-50 transform transition-transform duration-300 ${e?"translate-x-0":"translate-x-full"}`,children:[u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Views"}),u.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:u.jsx("span",{className:"text-xl",children:""})})]})}),u.jsxs("div",{className:"p-4 space-y-6",children:[o&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Board Views"}),u.jsx("div",{className:"space-y-1",children:c.map(g=>u.jsxs("button",{onClick:()=>m(g.path),className:`w-full flex items-center gap-3 px-3 py-2 rounded-md text-left transition-colors ${h?.id===g.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[u.jsx("span",{className:"text-lg",children:g.icon}),u.jsx("span",{className:"font-medium",children:g.name}),h?.id===g.id&&u.jsx("span",{className:"ml-auto text-blue-500",children:""})]},g.id))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Workspace Views"}),u.jsx("div",{className:"space-y-1",children:d.map(g=>u.jsxs("button",{onClick:()=>m(g.path),className:`w-full flex items-start gap-3 px-3 py-3 rounded-md text-left transition-colors ${h?.id===g.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[u.jsx("span",{className:"text-lg mt-0.5",children:g.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:g.name}),u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:g.description})]}),h?.id===g.id&&u.jsx("span",{className:"text-blue-500 mt-1",children:""})]},g.id))})]})]})]})]})}function a$(){const[e,t]=k.useState(!1),[r,n]=k.useState(!1);return u.jsxs("div",{className:"h-screen flex bg-gray-50 dark:bg-gray-900",children:[u.jsx(t$,{isCollapsed:e,onToggle:()=>t(!e)}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx(r$,{onToggleViews:()=>n(!r)}),u.jsx("main",{className:"flex-1 overflow-auto",children:u.jsx(YC,{})})]}),u.jsx(n$,{isOpen:r,onClose:()=>n(!1)})]})}function s$({children:e}){const{user:t,loading:r,isGuest:n}=da();return r?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."})]})}):!t&&!n?u.jsx(GC,{to:"/login",replace:!0}):u.jsx(u.Fragment,{children:e})}function i$(){const e=Lc(),t=kr(),{user:r}=da(),[n,i]=k.useState(!1),o=r?.id||"2a8f10d6-4368-43db-ab1d-ab783ec6e935",{data:c,isLoading:d,error:h}=ct({queryKey:["boards",r?.id],queryFn:()=>fa(o),enabled:!!r?.id}),m=async g=>{g.preventDefault();const b=new FormData(g.currentTarget).get("name");if(b?.trim())try{const x=await Ub(o,b.trim());await t.invalidateQueries({queryKey:["boards",r?.id]}),await t.invalidateQueries({queryKey:["my-boards"]}),e(`/b/${x.id}/board`),i(!1)}catch(x){console.error("Failed to create board",x),alert("Failed to create board. Check console for details.")}};return u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Your boards"}),u.jsx("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"+ Create Board"})]}),d?u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading"}):h?u.jsx("div",{className:"text-red-500",children:"Failed to load boards."}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:(c??[]).map(g=>u.jsxs("button",{className:"p-4 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 text-left shadow-sm hover:shadow-md transition-shadow",onClick:()=>e(`/b/${g.id}/board`),children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:g.name}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Click to open"})]},g.id))}),n&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Create New Board"}),u.jsxs("form",{onSubmit:m,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Board Name"}),u.jsx("input",{type:"text",id:"name",name:"name",required:!0,autoFocus:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter board name..."})]}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Board"})]})]})]})})]})})}function o$(){const[e,t]=k.useState(""),[r,n]=k.useState(""),[i,o]=k.useState(!1),[c,d]=k.useState(""),[h,m]=k.useState(!1),{signIn:g,signUp:v,signInAsGuest:b,user:x}=da();if(x)return u.jsx(GC,{to:"/b/board-1/board",replace:!0});const S=async _=>{_.preventDefault(),d(""),m(!0);try{i?(await v(e,r),d("Please check your email for verification link")):await g(e,r)}catch(N){d(N.message||"Authentication failed")}finally{m(!1)}},w=async()=>{m(!0),d("");try{await g("demo@example.com","demo123456")}catch{d("Demo login failed. Please create an account or use your own credentials.")}finally{m(!1)}};return u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:i?"Create your account":"Sign in to your account"}),u.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Project Management App"})]}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:S,children:[u.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-800 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:_=>t(_.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-800 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:_=>n(_.target.value)})]})]}),c&&u.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:c}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Loading...":i?"Sign up":"Sign in"})}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("button",{type:"button",onClick:()=>o(!i),className:"text-blue-600 hover:text-blue-500 text-sm",children:i?"Already have an account? Sign in":"Don't have an account? Sign up"})}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-gray-50 dark:bg-gray-900 text-gray-500 dark:text-gray-400",children:"Or"})})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("button",{type:"button",onClick:w,disabled:h,className:"w-full flex justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed mb-3",children:"Try Demo Account"}),u.jsx("button",{type:"button",onClick:b,disabled:h,className:"w-full flex justify-center py-2 px-4 border border-green-300 dark:border-green-600 rounded-md shadow-sm text-sm font-medium text-green-700 dark:text-green-300 bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue as Guest (No Sign-up Required)"})]})]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"This is a demo app. In production, ensure proper security measures."})})]})})}function l$(){return u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-900 dark:text-white",children:"Pricing"}),u.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"Pricing plans will be displayed here."})]})})}const c$=[{id:"demo-list-1",board_id:"demo-board-1",name:"To Do",position:1e3,created_at:new Date().toISOString()},{id:"demo-list-2",board_id:"demo-board-1",name:"In Progress",position:2e3,created_at:new Date().toISOString()},{id:"demo-list-3",board_id:"demo-board-1",name:"Done",position:3e3,created_at:new Date().toISOString()},{id:"list-1",board_id:"board-1",name:"To Do",position:1e3,created_at:new Date().toISOString()},{id:"list-2",board_id:"board-1",name:"In Progress",position:2e3,created_at:new Date().toISOString()},{id:"list-3",board_id:"board-1",name:"Done",position:3e3,created_at:new Date().toISOString()},{id:"archive-list-1",board_id:"archive-board",name:"Archived Cards",position:1e3,created_at:new Date().toISOString()},{id:"archive-list-2",board_id:"archive-board",name:"Archived Lists",position:2e3,created_at:new Date().toISOString()},{id:"archive-list-3",board_id:"archive-board",name:"Archived Boards",position:3e3,created_at:new Date().toISOString()}],CD="todo-app-lists";function u$(){try{const e=localStorage.getItem(CD);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to load lists from localStorage:",e)}return[...c$]}function Hc(e){try{localStorage.setItem(CD,JSON.stringify(e))}catch(t){console.warn("Failed to save lists to localStorage:",t)}}let jr=u$();async function $f(e){return jr.filter(r=>r.board_id===e)}async function d$(e,t){const r=Math.max(...jr.map(i=>i.position),0)+1e3,n={id:`list-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,board_id:e,name:t,position:r,created_at:new Date().toISOString()};return jr.push(n),Hc(jr),n}async function TD(e,t){const r=jr.findIndex(n=>n.id===e);r>=0&&(jr[r].board_id=t,Hc(jr))}async function Wj(e,t){const r=jr.findIndex(n=>n.id===e);r>=0&&(jr[r].position=t,Hc(jr))}async function DD(e){const t=jr.findIndex(r=>r.id===e);if(t>=0)if(jr[t].board_id==="archive-board")jr.splice(t,1),Hc(jr);else throw new Error("Lists must be archived before they can be deleted")}async function f$(e,t){const r=jr.findIndex(n=>n.id===e);r>=0&&(jr[r].name=t,Hc(jr))}function h$({card:e,onClose:t,isOpen:r,onEdit:n}){const[i,o]=k.useState(!1),c=kr(),d=e.workspace_id,h=ct({queryKey:["boards",d],queryFn:()=>fa(d),enabled:r}),m=Ge({mutationFn:({targetBoardId:_})=>kb(e.id,_),onSuccess:()=>{c.invalidateQueries({queryKey:["cards"]}),c.invalidateQueries({queryKey:["lists"]}),t()},onError:_=>{console.error("Failed to move card:",_),alert("Failed to move card. Please try again.")}}),g=Ge({mutationFn:()=>UL(e.id),onSuccess:()=>{c.invalidateQueries({queryKey:["cards",e.board_id]}),t()},onError:_=>{console.error("Failed to delete card:",_),alert("Failed to delete card. Please try again.")}}),v=h.data||[],x=v.find(_=>_.id===e.board_id)?.name==="Archive",S=v.find(_=>_.name==="Archive"),w=v.filter(_=>_.id!==e.board_id);return r?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{o(!1),t()}}),u.jsxs("div",{className:"absolute right-0 top-6 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 py-2 min-w-48 relative",children:[n&&u.jsxs("button",{onClick:()=>{n(),t()},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[u.jsx(mi,{className:"w-4 h-4"}),"Edit"]}),w.length>0&&u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>o(!i),className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Tf,{className:"w-4 h-4"}),"Move"]}),u.jsx(Ob,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&u.jsxs("div",{className:"absolute left-0 top-full z-60 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 py-1 min-w-48 max-h-60 overflow-y-auto",children:[u.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-600",children:"Select Board"}),w.map(_=>u.jsx("button",{onClick:()=>{m.mutate({targetBoardId:_.id}),o(!1),t()},disabled:m.isPending,className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-600 last:border-b-0 disabled:opacity-50",children:m.isPending?"Moving...":_.name},_.id))]})]}),!x&&S&&u.jsxs("button",{onClick:()=>{m.mutate({targetBoardId:S.id}),t()},disabled:m.isPending,className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2 disabled:opacity-50",children:[u.jsx(Tn,{className:"w-4 h-4"}),m.isPending?"Archiving...":"Archive"]}),x&&u.jsxs("button",{onClick:()=>{g.mutate(),t()},disabled:g.isPending,className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 disabled:opacity-50",children:[u.jsx($a,{className:"w-4 h-4"}),g.isPending?"Deleting...":"Delete Permanently"]})]})]}):null}function m$({card:e}){const[t,r]=k.useState(1),[n,i]=k.useState(""),[o,c]=k.useState("professional"),[d,h]=k.useState("conversion"),[m,g]=k.useState(""),[v,b]=k.useState([]),[x,S]=k.useState(null),[w,_]=k.useState(!1),N=(E,D)=>{const R=[`Transform Your ${e.title} Experience`,`Discover Amazing ${e.title} Solutions`,`Get Started with ${e.title} Today`,`${e.title} Made Simple`,`Unlock the Power of ${e.title}`],q=[`Experience the difference with our innovative ${e.title} solution. Join thousands of satisfied customers.`,`Ready to take your ${e.title} to the next level? Get started now and see results fast.`];return{id:`graphic-${E}-${D}`,headlines:R.map(B=>o==="playful"?` ${B}`:o==="urgent"?` ${B} - Limited Time!`:o==="casual"?`Hey! ${B}`:B),descriptions:q.map(B=>o==="urgent"?`${B} Don't miss out!`:o==="casual"?`${B} It's that easy!`:B)}},C=E=>{const D=[];for(let R=0;R<3;R++)D.push(N(E,R));return{id:`adset-${E}`,name:`Ad Set ${E+1}`,graphicTexts:D}},T=()=>{_(!0),setTimeout(()=>{const E=[];for(let R=0;R<t;R++)E.push(C(R));const D={id:`campaign-${Date.now()}`,campaignName:n||`${e.title} Campaign`,adSets:E,platform:"facebook",tone:o,objective:d,targetAudience:m,created_at:new Date().toISOString()};b(R=>[D,...R]),S(D.id),_(!1)},2e3)},A=E=>{navigator.clipboard.writeText(E)},L=E=>{b(D=>D.filter(R=>R.id!==E))};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx(nf,{className:"w-5 h-5 text-blue-600"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Facebook Ads Campaign Generator"})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg space-y-4",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Campaign Setup"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Campaign Name"}),u.jsx("input",{type:"text",value:n,onChange:E=>i(E.target.value),placeholder:`${e.title} Campaign`,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Number of Ad Sets"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>r(Math.max(1,t-1)),className:"p-1 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600",children:u.jsx(GT,{className:"w-4 h-4"})}),u.jsx("input",{type:"number",value:t,onChange:E=>r(Math.max(1,parseInt(E.target.value)||1)),min:"1",max:"10",className:"w-20 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-center"}),u.jsx("button",{onClick:()=>r(Math.min(10,t+1)),className:"p-1 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600",children:u.jsx(Fn,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tone"}),u.jsxs("select",{value:o,onChange:E=>c(E.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"professional",children:"Professional"}),u.jsx("option",{value:"casual",children:"Casual"}),u.jsx("option",{value:"playful",children:"Playful"}),u.jsx("option",{value:"urgent",children:"Urgent"}),u.jsx("option",{value:"informative",children:"Informative"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Campaign Objective"}),u.jsxs("select",{value:d,onChange:E=>h(E.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"awareness",children:"Brand Awareness"}),u.jsx("option",{value:"conversion",children:"Conversion"}),u.jsx("option",{value:"engagement",children:"Engagement"}),u.jsx("option",{value:"traffic",children:"Traffic"}),u.jsx("option",{value:"leads",children:"Lead Generation"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target Audience"}),u.jsx("input",{type:"text",value:m,onChange:E=>g(E.target.value),placeholder:"e.g., 25-35 professionals interested in technology",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),u.jsxs("button",{onClick:T,disabled:w,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-4 py-2 rounded-md transition-colors",children:[w?u.jsx(YT,{className:"w-4 h-4 animate-spin"}):u.jsx(ac,{className:"w-4 h-4"}),u.jsx("span",{children:w?"Generating Campaign...":"Generate Facebook Campaign"})]})]}),v.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Generated Campaigns"}),v.map(E=>u.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(nf,{className:"w-5 h-5 text-blue-600"}),u.jsxs("div",{children:[u.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:E.campaignName}),u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[E.adSets.length," Ad Sets  ",E.tone,"  ",E.objective]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>S(x===E.id?null:E.id),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-800 rounded",children:x===E.id?u.jsx(Mb,{className:"w-4 h-4"}):u.jsx(To,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>L(E.id),className:"p-1 hover:bg-red-100 dark:hover:bg-red-800 rounded text-red-600",children:u.jsx($a,{className:"w-4 h-4"})})]})]}),x===E.id&&u.jsx("div",{className:"p-4 space-y-6",children:E.adSets.map(D=>u.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[u.jsx("h6",{className:"font-medium text-gray-900 dark:text-white mb-4",children:D.name}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:D.graphicTexts.map((R,q)=>u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[u.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Graphic Text ",q+1]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Headlines (5)"}),u.jsx("div",{className:"space-y-2",children:R.headlines.map((B,U)=>u.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-700 p-2 rounded text-sm",children:[u.jsx("span",{className:"flex-1",children:B}),u.jsx("button",{onClick:()=>A(B),className:"ml-2 p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:u.jsx(ci,{className:"w-3 h-3"})})]},U))})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Descriptions (2)"}),u.jsx("div",{className:"space-y-2",children:R.descriptions.map((B,U)=>u.jsxs("div",{className:"flex items-start justify-between bg-white dark:bg-gray-700 p-2 rounded text-sm",children:[u.jsx("span",{className:"flex-1",children:B}),u.jsx("button",{onClick:()=>A(B),className:"ml-2 p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:u.jsx(ci,{className:"w-3 h-3"})})]},U))})]})]},R.id))})]},D.id))})]},E.id))]})]})}const g$=e=>{switch(e){case"facebook":return u.jsx(nf,{className:"w-4 h-4"});case"instagram":return u.jsx(rU,{className:"w-4 h-4"});case"linkedin":return u.jsx(aU,{className:"w-4 h-4"});case"twitter":return u.jsx(GU,{className:"w-4 h-4"});case"google":return u.jsx(VT,{className:"w-4 h-4"});case"tiktok":return u.jsx(mU,{className:"w-4 h-4"});case"custom":return u.jsx(Do,{className:"w-4 h-4"});default:return u.jsx(Do,{className:"w-4 h-4"})}},p$={facebook:"bg-blue-500",instagram:"bg-pink-500",linkedin:"bg-blue-700",twitter:"bg-sky-500",google:"bg-red-500",tiktok:"bg-black",custom:"bg-gray-500"};function v$({card:e}){const[t,r]=k.useState("general"),[n,i]=k.useState("facebook"),[o,c]=k.useState("professional"),[d,h]=k.useState("conversion"),[m,g]=k.useState(""),[v,b]=k.useState(null),[x,S]=k.useState({}),[w,_]=k.useState(new Set),N=kr(),C=Ge({mutationFn:()=>ZL(e.id,n,{targetAudience:m||void 0,tone:o,objective:d}),onSuccess:()=>{N.invalidateQueries({queryKey:["cards",e.board_id]})},onError:K=>{console.error("Failed to generate ad copy:",K),alert("Failed to generate ad copy. Please try again.")}}),T=Ge({mutationFn:({adCopyId:K,updates:V})=>LT(e.id,K,V),onSuccess:()=>{N.invalidateQueries({queryKey:["cards",e.board_id]}),b(null),S({})}}),A=Ge({mutationFn:K=>eq(e.id,K),onSuccess:()=>{N.invalidateQueries({queryKey:["cards",e.board_id]})}}),L=Ge({mutationFn:K=>tq(e.id,K),onSuccess:()=>{N.invalidateQueries({queryKey:["cards",e.board_id]})}}),E=K=>{b(K.id),S({graphics_copy:K.graphics_copy,subheadline:K.subheadline,description:K.description,primary_text:K.primary_text})},D=()=>{v&&T.mutate({adCopyId:v,updates:x})},R=()=>{b(null),S({})},q=K=>{navigator.clipboard.writeText(K)},B=K=>{const V=new Set(w);V.has(K)?V.delete(K):V.add(K),_(V)},U=e.ad_copies||[];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ac,{className:"w-5 h-5 text-purple-500"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"AI Ad Copy Generator"})]}),u.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:u.jsxs("nav",{className:"-mb-px flex space-x-8",children:[u.jsx("button",{onClick:()=>r("general"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="general"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"General Ad Copy"}),u.jsxs("button",{onClick:()=>r("facebook"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t==="facebook"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[u.jsx(nf,{className:"w-4 h-4"}),u.jsx("span",{children:"Facebook Campaigns"})]})]})}),t==="general"?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Platform"}),u.jsxs("select",{value:n,onChange:K=>i(K.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"facebook",children:"Facebook"}),u.jsx("option",{value:"instagram",children:"Instagram"}),u.jsx("option",{value:"linkedin",children:"LinkedIn"}),u.jsx("option",{value:"twitter",children:"Twitter"}),u.jsx("option",{value:"google",children:"Google Ads"}),u.jsx("option",{value:"tiktok",children:"TikTok"}),u.jsx("option",{value:"custom",children:"Custom"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tone"}),u.jsxs("select",{value:o,onChange:K=>c(K.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"professional",children:"Professional"}),u.jsx("option",{value:"casual",children:"Casual"}),u.jsx("option",{value:"playful",children:"Playful"}),u.jsx("option",{value:"urgent",children:"Urgent"}),u.jsx("option",{value:"informative",children:"Informative"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Objective"}),u.jsxs("select",{value:d,onChange:K=>h(K.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"awareness",children:"Brand Awareness"}),u.jsx("option",{value:"conversion",children:"Conversion"}),u.jsx("option",{value:"engagement",children:"Engagement"}),u.jsx("option",{value:"traffic",children:"Traffic"}),u.jsx("option",{value:"leads",children:"Lead Generation"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target Audience (Optional)"}),u.jsx("input",{type:"text",value:m,onChange:K=>g(K.target.value),placeholder:"e.g., 25-35 professionals",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),u.jsxs("button",{onClick:()=>C.mutate(),disabled:C.isPending,className:"w-full flex items-center justify-center space-x-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-4 py-2 rounded-md transition-colors",children:[C.isPending?u.jsx(YT,{className:"w-4 h-4 animate-spin"}):u.jsx(ac,{className:"w-4 h-4"}),u.jsx("span",{children:C.isPending?"Generating...":"Generate Ad Copy"})]})]}),U.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"text-md font-medium text-gray-900 dark:text-gray-100",children:["Generated Ad Copies (",U.length,")"]}),U.map(K=>{const V=w.has(K.id),te=v===K.id;return u.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-gray-800",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white ${p$[K.platform]}`,children:[u.jsx("span",{className:"mr-1",children:g$(K.platform)})," ",K.title]}),K.is_approved&&u.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[u.jsx(Pa,{className:"w-3 h-3 mr-1"}),"Approved"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>B(K.id),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:V?u.jsx(Mb,{className:"w-4 h-4"}):u.jsx(To,{className:"w-4 h-4"})}),!te&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>E(K),className:"p-1 text-blue-500 hover:text-blue-700",children:u.jsx(xU,{className:"w-4 h-4"})}),!K.is_approved&&u.jsx("button",{onClick:()=>L.mutate(K.id),className:"p-1 text-green-500 hover:text-green-700",children:u.jsx(Pa,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>A.mutate(K.id),className:"p-1 text-red-500 hover:text-red-700",children:u.jsx($a,{className:"w-4 h-4"})})]})]})]}),V&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Graphics Copy"}),u.jsx("button",{onClick:()=>q(te?x.graphics_copy:K.graphics_copy),className:"p-1 text-gray-400 hover:text-gray-600",children:u.jsx(ci,{className:"w-3 h-3"})})]}),te?u.jsx("input",{type:"text",value:x.graphics_copy,onChange:ge=>S({...x,graphics_copy:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}):u.jsx("p",{className:"text-sm bg-gray-100 dark:bg-gray-700 p-2 rounded font-mono",children:K.graphics_copy})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Subheadline"}),u.jsx("button",{onClick:()=>q(te?x.subheadline:K.subheadline),className:"p-1 text-gray-400 hover:text-gray-600",children:u.jsx(ci,{className:"w-3 h-3"})})]}),te?u.jsx("input",{type:"text",value:x.subheadline,onChange:ge=>S({...x,subheadline:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}):u.jsx("p",{className:"text-sm bg-gray-100 dark:bg-gray-700 p-2 rounded",children:K.subheadline})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),u.jsx("button",{onClick:()=>q(te?x.description:K.description),className:"p-1 text-gray-400 hover:text-gray-600",children:u.jsx(ci,{className:"w-3 h-3"})})]}),te?u.jsx("textarea",{value:x.description,onChange:ge=>S({...x,description:ge.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}):u.jsx("p",{className:"text-sm bg-gray-100 dark:bg-gray-700 p-2 rounded",children:K.description})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Primary Text"}),u.jsx("button",{onClick:()=>q(te?x.primary_text:K.primary_text),className:"p-1 text-gray-400 hover:text-gray-600",children:u.jsx(ci,{className:"w-3 h-3"})})]}),te?u.jsx("textarea",{value:x.primary_text,onChange:ge=>S({...x,primary_text:ge.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}):u.jsx("p",{className:"text-sm bg-gray-100 dark:bg-gray-700 p-2 rounded",children:K.primary_text})]}),te&&u.jsxs("div",{className:"flex space-x-2 pt-2",children:[u.jsxs("button",{onClick:D,disabled:T.isPending,className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:[u.jsx(Pa,{className:"w-3 h-3"}),u.jsx("span",{children:"Save"})]}),u.jsx("button",{onClick:R,className:"flex items-center space-x-1 bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm",children:u.jsx("span",{children:"Cancel"})})]}),u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:["Generated ",new Date(K.generated_at).toLocaleString(),K.ai_model_used&&`  ${K.ai_model_used}`]})]})]},K.id)})]}),U.length===0&&u.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[u.jsx(ac,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{children:"No ad copies generated yet."}),u.jsx("p",{className:"text-sm",children:"Use the generator above to create AI-powered ad copy!"})]})]}):u.jsx(m$,{card:e})]})}const y$={card_created:Fn,card_updated:mi,card_moved:Tf,card_archived:Tn,card_restored:Tn,title_changed:mi,description_changed:Do,date_start_changed:Ua,date_end_changed:Ua,location_changed:Md,member_assigned:Lj,member_removed:Mj,label_added:sf,label_removed:sf,attachment_added:nc,attachment_removed:nc,checklist_added:pc,checklist_removed:pc,checklist_item_added:Fn,checklist_item_removed:GT,checklist_item_completed:Pa,checklist_item_uncompleted:Ur,checklist_item_due_date_set:Ua,checklist_item_due_date_removed:Ua,checklist_item_assigned:Lj,checklist_item_unassigned:Mj,checklist_item_priority_changed:Ab,comment_added:uU,comment_removed:$a},b$={card_created:"text-blue-500 bg-blue-50",card_updated:"text-blue-500 bg-blue-50",card_moved:"text-blue-500 bg-blue-50",card_archived:"text-gray-500 bg-gray-50",card_restored:"text-green-500 bg-green-50",title_changed:"text-purple-500 bg-purple-50",description_changed:"text-purple-500 bg-purple-50",date_start_changed:"text-indigo-500 bg-indigo-50",date_end_changed:"text-indigo-500 bg-indigo-50",location_changed:"text-emerald-500 bg-emerald-50",member_assigned:"text-orange-500 bg-orange-50",member_removed:"text-red-500 bg-red-50",label_added:"text-pink-500 bg-pink-50",label_removed:"text-red-500 bg-red-50",attachment_added:"text-green-500 bg-green-50",attachment_removed:"text-red-500 bg-red-50",checklist_added:"text-cyan-500 bg-cyan-50",checklist_removed:"text-red-500 bg-red-50",checklist_item_added:"text-cyan-500 bg-cyan-50",checklist_item_removed:"text-red-500 bg-red-50",checklist_item_completed:"text-green-500 bg-green-50",checklist_item_uncompleted:"text-yellow-500 bg-yellow-50",checklist_item_due_date_set:"text-indigo-500 bg-indigo-50",checklist_item_due_date_removed:"text-gray-500 bg-gray-50",checklist_item_assigned:"text-orange-500 bg-orange-50",checklist_item_unassigned:"text-red-500 bg-red-50",checklist_item_priority_changed:"text-amber-500 bg-amber-50",comment_added:"text-teal-500 bg-teal-50",comment_removed:"text-red-500 bg-red-50"};function x$(e){const{type:t,meta:r}=e;switch(t){case"title_changed":return`changed title from "${r.old_value}" to "${r.new_value}"`;case"description_changed":return r.new_value?"updated description":"removed description";case"date_start_changed":return r.new_value?`set start date to ${new Date(r.new_value).toLocaleDateString()}`:"removed start date";case"date_end_changed":return r.new_value?`set end date to ${new Date(r.new_value).toLocaleDateString()}`:"removed end date";case"location_changed":return r.new_value?.address?`set location to "${r.new_value.address}"`:"updated location";case"member_assigned":return`assigned ${r.target_name} to this card`;case"member_removed":return`removed ${r.target_name} from this card`;case"label_added":return`added label "${r.target_name}"`;case"label_removed":return`removed label "${r.target_name}"`;case"attachment_added":return`added attachment "${r.target_name}"`;case"attachment_removed":return`removed attachment "${r.target_name}"`;case"checklist_added":return`added checklist "${r.target_name}"`;case"checklist_removed":return`removed checklist "${r.target_name}"`;case"checklist_item_added":return`added task "${r.target_name}"`;case"checklist_item_removed":return`removed task "${r.target_name}"`;case"checklist_item_completed":return`completed task "${r.target_name}"`;case"checklist_item_uncompleted":return`uncompleted task "${r.target_name}"`;case"checklist_item_due_date_set":return`set due date for "${r.target_name}" to ${new Date(r.new_value).toLocaleDateString()}`;case"checklist_item_due_date_removed":return`removed due date from "${r.target_name}"`;case"checklist_item_assigned":return r.details||`assigned task "${r.target_name}"`;case"checklist_item_unassigned":return`unassigned task "${r.target_name}"`;case"checklist_item_priority_changed":return`changed priority of "${r.target_name}" to ${r.new_value}`;case"comment_added":return"added a comment";case"comment_removed":return"removed a comment";default:return r.details||`performed ${t.replace(/_/g," ")}`}}function Xj(e){const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/1e3);return n<60?"just now":n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:n<604800?`${Math.floor(n/86400)}d ago`:t.toLocaleDateString()}function w$({card:e,showLimit:t=10,showActorNames:r=!0,compact:n=!1}){const[i,o]=k.useState(!1),c=e.activity||[],d=i?c:c.slice(0,t),h=c.length>t;return c.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[u.jsx(Co,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),u.jsx("p",{className:"text-sm",children:"No activity yet"})]}):u.jsxs("div",{className:"space-y-3",children:[d.map(m=>{const g=y$[m.type]||mi,v=b$[m.type]||"text-gray-500 bg-gray-50";return u.jsxs("div",{className:`flex items-start space-x-3 ${n?"py-1":"py-2"}`,children:[u.jsx("div",{className:`p-1.5 rounded-full ${v}`,children:u.jsx(g,{className:"w-3 h-3"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:`text-sm ${n?"leading-tight":""}`,children:u.jsxs("span",{className:"text-gray-900 dark:text-gray-100",children:[r&&m.actor_name&&u.jsxs("span",{className:"font-medium",children:[m.actor_name," "]}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:x$(m)})]})}),!n&&u.jsxs("div",{className:"flex items-center space-x-2 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[u.jsx(Co,{className:"w-3 h-3"}),u.jsx("span",{children:Xj(m.created_at)})]})]}),n&&u.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 shrink-0",children:Xj(m.created_at)})]},m.id)}),h&&!i&&u.jsxs("button",{onClick:()=>o(!0),className:"w-full py-2 px-3 text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",children:["Show ",c.length-t," more activities"]}),i&&h&&u.jsx("button",{onClick:()=>o(!1),className:"w-full py-2 px-3 text-sm text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900/20 rounded-md transition-colors",children:"Show less"})]})}function _$({isOpen:e,onClose:t,cardId:r,selectedLabelIds:n=[],onLabelsChange:i}){const[o,c]=k.useState(""),[d,h]=k.useState(n),[m,g]=k.useState(!1),[v,b]=k.useState(""),[x,S]=k.useState("#3B82F6"),[w,_]=k.useState(null),[N,C]=k.useState(""),[T,A]=k.useState(!1),L=kr(),E=ct({queryKey:["labels"],queryFn:()=>aq(),enabled:e}),D=Ge({mutationFn:sq,onSuccess:()=>{L.invalidateQueries({queryKey:["labels"]}),g(!1),b(""),S("#3B82F6")}}),R=Ge({mutationFn:({id:oe,name:M})=>iq(oe,{name:M}),onSuccess:()=>{L.invalidateQueries({queryKey:["labels"]}),_(null),C("")}}),q=Ge({mutationFn:oq,onSuccess:()=>{L.invalidateQueries({queryKey:["labels"]})}}),B=Ge({mutationFn:({labelId:oe})=>r?lq(r,oe):Promise.resolve(),onSuccess:()=>{r&&L.invalidateQueries({queryKey:["cards"]})}}),U=Ge({mutationFn:({labelId:oe})=>r?UT(r,oe):Promise.resolve(),onSuccess:()=>{r&&L.invalidateQueries({queryKey:["cards"]})}});k.useEffect(()=>{h(n)},[n]);const V=(E.data||[]).filter(oe=>oe.name.toLowerCase().includes(o.toLowerCase())),te=oe=>{const M=d.includes(oe)?d.filter(H=>H!==oe):[...d,oe];h(M),i?.(M),r&&(d.includes(oe)?U.mutate({labelId:oe}):B.mutate({labelId:oe}))},ge=()=>{v.trim()&&D.mutate({name:v,color:x})},P=(oe,M)=>{_(oe),C(M)},W=()=>{w&&N.trim()&&R.mutate({id:w,name:N})},J=oe=>{if(confirm("Are you sure you want to delete this label? This action cannot be undone.")&&(q.mutate(oe),d.includes(oe))){const M=d.filter(H=>H!==oe);h(M),i?.(M)}},me=["#22C55E","#A3A833","#D2691E","#CD853F","#DC143C","#8A2BE2","#4169E1","#1E90FF","#20B2AA","#FFD700","#FF6347","#DDA0DD"];return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-gray-800 text-white rounded-lg w-96 max-w-90vw max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Labels"}),u.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-700 rounded",children:u.jsx(Ur,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-4 border-b border-gray-700",children:u.jsxs("div",{className:"relative",children:[u.jsx(VT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",value:o,onChange:oe=>c(oe.target.value),placeholder:"Search labels...",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsxs("div",{className:"p-2",children:[u.jsx("div",{className:"text-sm font-medium text-gray-300 mb-2 px-2",children:"Labels"}),V.map(oe=>u.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-700 rounded-md group",children:[u.jsx("div",{className:`w-4 h-4 border border-gray-500 rounded flex items-center justify-center cursor-pointer ${d.includes(oe.id)?"bg-blue-500 border-blue-500":""}`,onClick:()=>te(oe.id),children:d.includes(oe.id)&&u.jsx(Pa,{className:"w-3 h-3 text-white"})}),u.jsxs("div",{className:`flex-1 px-3 py-2 rounded-md text-white font-medium flex items-center justify-between cursor-pointer ${oe.name?"":"opacity-80"}`,style:{backgroundColor:oe.color},onClick:()=>te(oe.id),children:[w===oe.id?u.jsx("input",{type:"text",value:N,onChange:M=>C(M.target.value),onKeyDown:M=>{M.key==="Enter"&&W(),M.key==="Escape"&&_(null)},onBlur:W,className:"bg-transparent border-none outline-none text-white placeholder-gray-200",placeholder:"Enter label name",autoFocus:!0,onClick:M=>M.stopPropagation()}):u.jsxs("span",{children:[oe.name||(T?`Color: ${oe.color}`:""),!oe.name&&!T&&u.jsxs("span",{className:"text-xs opacity-70",children:["Color: ",oe.color.toUpperCase()]})]}),u.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100",children:[u.jsx("button",{onClick:M=>{M.stopPropagation(),P(oe.id,oe.name)},className:"p-1 hover:bg-black hover:bg-opacity-20 rounded",title:"Edit label",children:u.jsx(gc,{className:"w-3 h-3"})}),u.jsx("button",{onClick:M=>{M.stopPropagation(),J(oe.id)},className:"p-1 hover:bg-black hover:bg-opacity-20 rounded text-red-300 hover:text-red-200",title:"Delete label",children:u.jsx($a,{className:"w-3 h-3"})})]})]})]},oe.id))]})}),u.jsxs("div",{className:"border-t border-gray-700 p-4 space-y-3",children:[m?u.jsxs("div",{className:"space-y-3",children:[u.jsx("input",{type:"text",value:v,onChange:oe=>b(oe.target.value),placeholder:"Enter label name",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.jsx("div",{className:"w-full h-12 rounded-md border-2 border-gray-600 cursor-pointer",style:{backgroundColor:x},onClick:()=>{const M=(me.indexOf(x)+1)%me.length;S(me[M])}}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:ge,disabled:!v.trim()||D.isPending,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white py-2 px-4 rounded-md text-sm font-medium",children:"Create"}),u.jsx("button",{onClick:()=>{g(!1),b(""),S("#3B82F6")},className:"px-4 py-2 text-gray-300 hover:text-white text-sm",children:"Cancel"})]})]}):u.jsx("button",{onClick:()=>g(!0),className:"w-full text-left text-gray-300 hover:text-white py-2 text-sm",children:"Create a new label"}),u.jsx("button",{onClick:()=>{},className:"w-full text-left text-gray-300 hover:text-white py-2 text-sm",children:"Show more labels"}),u.jsxs("button",{onClick:()=>A(!T),className:"w-full text-left text-gray-300 hover:text-white py-2 text-sm",children:[T?"Disable":"Enable"," colorblind friendly mode"]})]})]})}):null}function S$({isOpen:e,onClose:t,initialName:r="",initialColor:n="#3B82F6",onLabelCreated:i}){const[o,c]=k.useState(r),[d,h]=k.useState(n),m=kr(),g=["#22C55E","#16A34A","#15803D","#166534","#EAB308","#CA8A04","#A16207","#92400E","#F97316","#EA580C","#DC2626","#B91C1C","#EF4444","#DC2626","#B91C1C","#991B1B","#8B5CF6","#7C3AED","#6D28D9","#5B21B6","#3B82F6","#2563EB","#1D4ED8","#1E40AF","#06B6D4","#0891B2","#0E7490","#155E75","#0EA5E9","#0284C7","#0369A1","#075985","#84CC16","#65A30D","#4D7C0F","#365314","#EC4899","#DB2777","#BE185D","#9D174D","#10B981","#059669","#047857","#065F46"],v=Ge({mutationFn:async w=>{const _={id:`label-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,name:w.name,color:w.color,workspace_id:"ws-1",created_at:new Date().toISOString()};return await new Promise(N=>setTimeout(N,500)),_},onSuccess:w=>{m.invalidateQueries({queryKey:["labels"]}),i?.(w),b()}}),b=()=>{c(r),h(n),t()},x=()=>{o.trim()&&v.mutate({name:o.trim(),color:d})},S=()=>{h("#6B7280")};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-gray-800 text-white rounded-lg w-96 max-w-90vw max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-700 rounded",children:u.jsx(kq,{className:"w-5 h-5"})}),u.jsx("h2",{className:"text-lg font-semibold",children:"Create label"})]}),u.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-700 rounded",children:u.jsx(Ur,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-4",children:u.jsx("div",{className:"w-full h-16 rounded-md flex items-center justify-center text-white font-medium",style:{backgroundColor:d},children:o||"Label preview"})}),u.jsxs("div",{className:"px-4 pb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),u.jsx("input",{type:"text",value:o,onChange:w=>c(w.target.value),placeholder:"Enter label title",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:50})]}),u.jsxs("div",{className:"px-4 pb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Select a color"}),u.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:g.map(w=>u.jsx("button",{onClick:()=>h(w),className:`w-12 h-12 rounded-md border-2 hover:scale-105 transition-transform ${d===w?"border-white border-4":"border-gray-600 hover:border-gray-400"}`,style:{backgroundColor:w},title:w},w))}),u.jsxs("button",{onClick:S,className:"w-full text-left text-red-400 hover:text-red-300 py-2 text-sm flex items-center space-x-2",children:[u.jsx(Ur,{className:"w-4 h-4"}),u.jsx("span",{children:"Remove color"})]})]}),u.jsx("div",{className:"border-t border-gray-700 p-4",children:u.jsx("button",{onClick:x,disabled:!o.trim()||v.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-2 px-4 rounded-md font-medium transition-colors",children:v.isPending?"Creating...":"Create"})})]})}):null}function OD({selectedUsers:e=[],onUsersChange:t,placeholder:r="Select users...",maxUsers:n=10,compact:i=!1}){const[o,c]=k.useState(!1),[d,h]=k.useState(""),[m,g]=k.useState([]),[v,b]=k.useState(!1),[x,S]=k.useState(null),w=k.useRef(null),_=k.useRef(null);k.useEffect(()=>{(async()=>{b(!0),S(null);try{const{data:{user:D}}=await $t.auth.getUser();let R=[{id:"user-1",email:"john.doe@example.com",user_metadata:{full_name:"John Doe",avatar_url:""},created_at:new Date().toISOString()},{id:"user-2",email:"jane.smith@example.com",user_metadata:{full_name:"Jane Smith",avatar_url:""},created_at:new Date().toISOString()},{id:"user-3",email:"mike.wilson@example.com",user_metadata:{full_name:"Mike Wilson",avatar_url:""},created_at:new Date().toISOString()},{id:"user-4",email:"sarah.brown@example.com",user_metadata:{full_name:"Sarah Brown",avatar_url:""},created_at:new Date().toISOString()},{id:"user-5",email:"david.clark@example.com",user_metadata:{full_name:"David Clark",avatar_url:""},created_at:new Date().toISOString()}];D&&R.findIndex(B=>B.id===D.id)===-1&&R.unshift({id:D.id,email:D.email||"",user_metadata:{full_name:D.user_metadata?.full_name||D.email?.split("@")[0]||"Current User",avatar_url:D.user_metadata?.avatar_url||""},created_at:D.created_at||new Date().toISOString()}),g(R)}catch(D){console.error("Error in user management:",D),S("Failed to load users"),g([{id:"user-1",email:"john.doe@example.com",user_metadata:{full_name:"John Doe",avatar_url:""},created_at:new Date().toISOString()},{id:"user-2",email:"jane.smith@example.com",user_metadata:{full_name:"Jane Smith",avatar_url:""},created_at:new Date().toISOString()}])}finally{b(!1)}})()},[]),k.useEffect(()=>{const E=D=>{w.current&&!w.current.contains(D.target)&&(c(!1),h(""))};if(o)return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[o]);const N=m.filter(E=>{const D=E.user_metadata?.full_name||E.user_metadata?.name||"",R=E.email||"",q=d.toLowerCase();return D.toLowerCase().includes(q)||R.toLowerCase().includes(q)}),C=E=>e.some(D=>D.id===E),T=E=>{if(C(E.id)||e.length>=n)return;const D={id:E.id,name:E.user_metadata?.full_name||E.user_metadata?.name||E.email?.split("@")[0]||"Unknown User",email:E.email,avatar:E.user_metadata?.avatar_url};t([...e,D]),h(""),i||c(!1)},A=E=>{t(e.filter(D=>D.id!==E))},L=E=>E.split(" ").map(D=>D[0]).join("").toUpperCase().slice(0,2);return u.jsxs("div",{ref:w,className:"relative",children:[e.length>0&&u.jsx("div",{className:`flex flex-wrap gap-1 mb-2 ${i?"max-w-32":""}`,children:e.map(E=>u.jsxs("div",{className:`flex items-center gap-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full text-xs ${i?"max-w-20":""}`,children:[E.avatar?u.jsx("img",{src:E.avatar,alt:E.name,className:"w-4 h-4 rounded-full"}):u.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs",children:L(E.name)}),u.jsx("span",{className:`truncate ${i?"max-w-12":""}`,children:i?E.name.split(" ")[0]:E.name}),u.jsx("button",{onClick:()=>A(E.id),className:"text-blue-600 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-100",children:u.jsx(Ur,{className:"w-3 h-3"})})]},E.id))}),u.jsxs("div",{className:`flex items-center justify-between p-2 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer hover:border-gray-400 dark:hover:border-gray-500 bg-white dark:bg-gray-700 ${i?"text-xs":"text-sm"}`,onClick:()=>c(!o),children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(JT,{className:`text-gray-400 ${i?"w-3 h-3":"w-4 h-4"}`}),u.jsx("input",{ref:_,type:"text",value:d,onChange:E=>h(E.target.value),onFocus:()=>c(!0),placeholder:e.length===0?r:"Add more users...",className:`flex-1 bg-transparent outline-none text-gray-900 dark:text-gray-100 ${i?"text-xs":"text-sm"}`})]}),u.jsx(Ob,{className:`text-gray-400 transition-transform ${o?"rotate-180":""} ${i?"w-3 h-3":"w-4 h-4"}`})]}),o&&u.jsxs("div",{className:`absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg z-50 max-h-60 overflow-y-auto ${i?"text-xs":"text-sm"}`,children:[v&&u.jsx("div",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"Loading users..."}),x&&u.jsx("div",{className:"p-3 text-center text-red-500",children:x}),!v&&!x&&N.length===0&&u.jsx("div",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:d?"No users found":"No users available"}),!v&&!x&&N.map(E=>{const D=C(E.id),R=E.user_metadata?.full_name||E.user_metadata?.name||E.email?.split("@")[0]||"Unknown User";return u.jsxs("div",{className:`flex items-center gap-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer ${D?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-900 dark:text-gray-100"}`,onClick:()=>T(E),children:[E.user_metadata?.avatar_url?u.jsx("img",{src:E.user_metadata.avatar_url,alt:R,className:`rounded-full ${i?"w-6 h-6":"w-8 h-8"}`}):u.jsx("div",{className:`bg-gray-500 rounded-full flex items-center justify-center text-white font-medium ${i?"w-6 h-6 text-xs":"w-8 h-8 text-sm"}`,children:L(R)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:`font-medium truncate ${i?"text-xs":"text-sm"}`,children:R}),E.email&&u.jsx("div",{className:"text-gray-500 dark:text-gray-400 truncate text-xs",children:E.email})]}),D&&u.jsx("div",{className:"text-blue-500",children:""})]},E.id)})]})]})}function j$({checklist:e,cardAssignedMembers:t=[],availableLabels:r=[],onChecklistUpdate:n,onChecklistDelete:i,onItemToggle:o,onItemUpdate:c,onItemAdd:d,onItemDelete:h,onItemAssign:m,onItemDueDateSet:g,onItemStartDateSet:v,onItemLabelAdd:b,onItemLabelRemove:x}){const[S,w]=k.useState(!1),[_,N]=k.useState(!1),[C,T]=k.useState(e.title||""),[A,L]=k.useState(""),[E,D]=k.useState(!1),[R,q]=k.useState(null),[B,U]=k.useState(""),[K,V]=k.useState(null),te=k.useRef(null),ge=k.useRef(null),P=k.useRef(null),W=k.useRef(null),J=e.checklist_items||[],me=J.filter(ae=>ae.done).length,oe=J.length,M=oe>0?me/oe*100:0;k.useEffect(()=>{const ae=le=>{W.current&&!W.current.contains(le.target)&&V(null)};return document.addEventListener("mousedown",ae),()=>document.removeEventListener("mousedown",ae)},[]),k.useEffect(()=>{_&&te.current&&(te.current.focus(),te.current.select())},[_]),k.useEffect(()=>{E&&ge.current&&ge.current.focus()},[E]),k.useEffect(()=>{R&&P.current&&(P.current.focus(),P.current.select())},[R]);const H=()=>{C.trim()!==e.title&&n({...e,title:C.trim()}),N(!1)},se=()=>{A.trim()&&(d(e.id,A.trim()),L(""),D(!1))},fe=ae=>{q(ae.id),U(ae.text||""),V(null)},be=()=>{R&&B.trim()&&c(R,{text:B.trim()}),q(null),U("")},xe=ae=>{switch(ae){case"high":return"text-red-500 bg-red-50";case"medium":return"text-yellow-500 bg-yellow-50";case"low":return"text-green-500 bg-green-50";default:return"text-gray-500 bg-gray-50"}},Oe=ae=>{switch(ae){case"high":return"";case"medium":return"";case"low":return"";default:return""}},Le=ae=>ae?new Date(ae)<new Date&&!J.find(le=>le.due_date===ae)?.done:!1;return u.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800 overflow-hidden",children:[u.jsx("div",{className:"p-3 bg-white dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx("button",{onClick:()=>w(!S),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:S?u.jsx(HT,{className:"w-4 h-4 text-gray-500"}):u.jsx(Ob,{className:"w-4 h-4 text-gray-500"})}),u.jsx(pc,{className:"w-4 h-4 text-gray-500"}),_?u.jsx("input",{ref:te,value:C,onChange:ae=>T(ae.target.value),onBlur:H,onKeyDown:ae=>{ae.key==="Enter"&&H(),ae.key==="Escape"&&(T(e.title||""),N(!1))},className:"flex-1 px-2 py-1 text-sm font-medium bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded"}):u.jsx("button",{onClick:()=>N(!0),className:"flex-1 text-left text-sm font-medium text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400",children:e.title||"Untitled Checklist"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[u.jsxs("span",{children:[me,"/",oe]}),u.jsx("div",{className:"w-16 h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${M}%`}})})]}),u.jsx("button",{onClick:()=>i(e.id),className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",title:"Delete checklist",children:u.jsx($a,{className:"w-4 h-4"})})]})]})}),!S&&u.jsxs("div",{className:"p-3 space-y-2",children:[J.map(ae=>u.jsxs("div",{className:`group flex items-start gap-3 p-2 rounded-md hover:bg-white dark:hover:bg-gray-700 ${ae.done?"opacity-60":""}`,children:[u.jsx("button",{onClick:()=>o(ae.id),className:`mt-0.5 w-4 h-4 rounded border-2 flex items-center justify-center transition-colors ${ae.done?"bg-green-500 border-green-500 text-white":"border-gray-300 dark:border-gray-500 hover:border-green-400"}`,children:ae.done&&u.jsx(Pa,{className:"w-3 h-3"})}),u.jsx("div",{className:"flex-1 min-w-0",children:R===ae.id?u.jsx("input",{ref:P,value:B,onChange:le=>U(le.target.value),onBlur:be,onKeyDown:le=>{le.key==="Enter"&&be(),le.key==="Escape"&&(q(null),U(""))},className:"w-full px-2 py-1 text-sm bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded"}):u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:`text-sm ${ae.done?"line-through text-gray-500":"text-gray-900 dark:text-gray-100"}`,children:ae.text||""}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[ae.priority&&u.jsxs("span",{className:`px-1.5 py-0.5 rounded-full text-xs ${xe(ae.priority)}`,children:[Oe(ae.priority)," ",ae.priority]}),ae.assigned_member_name&&u.jsxs("span",{className:"px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full",children:[" ",ae.assigned_member_name]}),ae.start_date&&u.jsxs("span",{className:"px-1.5 py-0.5 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded-full",children:[" ",new Date(ae.start_date).toLocaleDateString()]}),ae.due_date&&u.jsxs("span",{className:`px-1.5 py-0.5 rounded-full ${Le(ae.due_date)?"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:[" ",new Date(ae.due_date).toLocaleDateString()]}),ae.labels&&ae.labels.length>0&&u.jsx("div",{className:"flex flex-wrap gap-1",children:ae.labels.map(le=>u.jsx("span",{className:"px-1.5 py-0.5 rounded-full text-xs text-white",style:{backgroundColor:le.color},children:le.name},le.id))})]})]})}),u.jsxs("div",{className:"relative",ref:W,children:[u.jsx("button",{onClick:()=>V(K===ae.id?null:ae.id),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Rb,{className:"w-4 h-4"})}),K===ae.id&&u.jsx("div",{className:"fixed bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-md shadow-lg z-[60] max-h-96 overflow-y-auto min-w-[280px]",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",maxWidth:"90vw",maxHeight:"80vh"},children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"px-3 py-2 border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-600 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Task Options"}),u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-300 truncate",children:['"',ae.text||"Untitled task",'"']})]}),u.jsx("button",{onClick:()=>V(null),className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:u.jsx(Ur,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"p-2 border-t border-gray-200 dark:border-gray-600",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Priority:"}),u.jsx("div",{className:"flex gap-1",children:["high","medium","low",null].map(le=>u.jsx("button",{onClick:()=>{c(ae.id,{priority:le})},className:`px-2 py-1 text-xs rounded ${ae.priority===le?le==="high"?"bg-red-500 text-white":le==="medium"?"bg-yellow-500 text-white":le==="low"?"bg-green-500 text-white":"bg-gray-500 text-white":le==="high"?"bg-red-100 text-red-700 hover:bg-red-200":le==="medium"?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":le==="low"?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:le==="high"?"High":le==="medium"?"Medium":le==="low"?"Low":"None"},le||"none"))})]}),u.jsxs("button",{onClick:()=>fe(ae),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 border-t border-gray-200 dark:border-gray-600",children:[u.jsx(gc,{className:"w-4 h-4"}),"Edit text"]}),u.jsxs("div",{className:"p-2 border-t border-gray-200 dark:border-gray-600",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Start Date:"}),u.jsx("input",{type:"date",value:ae.start_date?ae.start_date.split("T")[0]:"",onChange:le=>{v(ae.id,le.target.value||null)},className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-500 rounded bg-white dark:bg-gray-600 text-gray-900 dark:text-white"}),ae.start_date&&u.jsx("button",{onClick:()=>{v(ae.id,null)},className:"mt-2 text-xs text-red-600 dark:text-red-400 hover:underline",children:"Clear"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Due Date:"}),u.jsx("input",{type:"date",value:ae.due_date?ae.due_date.split("T")[0]:"",onChange:le=>{g(ae.id,le.target.value||null)},className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-500 rounded bg-white dark:bg-gray-600 text-gray-900 dark:text-white"}),ae.due_date&&u.jsx("button",{onClick:()=>{g(ae.id,null)},className:"mt-2 text-xs text-red-600 dark:text-red-400 hover:underline",children:"Clear"})]})]}),u.jsxs("div",{className:"flex gap-1 mt-3",children:[u.jsx("button",{onClick:()=>{const le=new Date().toISOString().split("T")[0];g(ae.id,le)},className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 hover:bg-blue-200 rounded",children:"Today"}),u.jsx("button",{onClick:()=>{const le=new Date;le.setDate(le.getDate()+1),g(ae.id,le.toISOString().split("T")[0])},className:"px-2 py-1 text-xs bg-green-100 text-green-700 hover:bg-green-200 rounded",children:"Tomorrow"}),u.jsx("button",{onClick:()=>{const le=new Date;le.setDate(le.getDate()+7),g(ae.id,le.toISOString().split("T")[0])},className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 hover:bg-purple-200 rounded",children:"Next Week"})]})]}),u.jsxs("button",{onClick:()=>fe(ae),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 border-t border-gray-200 dark:border-gray-600",children:[u.jsx(gc,{className:"w-4 h-4"}),"Edit text"]}),u.jsxs("div",{className:"p-2 border-t border-gray-200 dark:border-gray-600",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Labels:"}),u.jsxs("div",{className:"space-y-2",children:[ae.labels&&ae.labels.length>0&&u.jsx("div",{className:"flex flex-wrap gap-1",children:ae.labels.map(le=>u.jsxs("button",{onClick:()=>x(ae.id,le.id),className:"group px-2 py-1 rounded-full text-xs text-white hover:opacity-80 flex items-center gap-1",style:{backgroundColor:le.color},title:"Click to remove",children:[le.name,u.jsx(Ur,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]},le.id))}),r.length>0&&u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-xs text-gray-400",children:"Add label:"}),u.jsx("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:r.filter(le=>!ae.labels?.some(at=>at.id===le.id)).map(le=>u.jsx("button",{onClick:()=>b(ae.id,le.id),className:"px-2 py-1 rounded-full text-xs text-white hover:opacity-80",style:{backgroundColor:le.color},children:le.name},le.id))})]})]})]}),u.jsxs("div",{className:"p-2 border-t border-gray-200 dark:border-gray-600",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Assign to:"}),u.jsx(OD,{selectedUsers:ae.assigned_to?t.filter(le=>le.id===ae.assigned_to):[],onUsersChange:le=>{le.length>0?m(ae.id,le[0].id):c(ae.id,{assigned_to:null,assigned_member_name:null})},placeholder:"Select member",maxUsers:1,compact:!0})]}),u.jsxs("button",{onClick:()=>{h(ae.id),V(null)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 border-t border-gray-200 dark:border-gray-600",children:[u.jsx($a,{className:"w-4 h-4"}),"Delete item"]})]})})]})]},ae.id)),E?u.jsxs("div",{className:"flex items-center gap-2 p-2",children:[u.jsx("div",{className:"w-4 h-4"})," ",u.jsx("input",{ref:ge,value:A,onChange:ae=>L(ae.target.value),onBlur:()=>{A.trim()||D(!1)},onKeyDown:ae=>{ae.key==="Enter"&&se(),ae.key==="Escape"&&(L(""),D(!1))},placeholder:"Add an item...",className:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded"}),u.jsx("button",{onClick:se,disabled:!A.trim(),className:"p-1 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded disabled:opacity-50",children:u.jsx(Pa,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>{L(""),D(!1)},className:"p-1 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:u.jsx(Ur,{className:"w-4 h-4"})})]}):u.jsxs("button",{onClick:()=>D(!0),className:"flex items-center gap-2 p-2 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-white dark:hover:bg-gray-700 rounded-md w-full",children:[u.jsx(Fn,{className:"w-4 h-4"}),"Add an item"]})]})]})}function N$({file:e,isOpen:t,onClose:r}){const[n,i]=k.useState(!0),[o,c]=k.useState(!1);if(!t)return null;const d=e.mime.startsWith("image/"),h=e.mime==="application/pdf",m=e.mime.startsWith("video/"),g=e.mime.startsWith("audio/"),v=e.mime.startsWith("text/")||e.mime==="application/json"||e.mime==="application/javascript",b=S=>{S.target===S.currentTarget&&r()},x=()=>d?u.jsx("img",{src:e.url,alt:e.name,className:"max-w-full max-h-full object-contain",onLoad:()=>i(!1),onError:()=>{i(!1),c(!0)}}):h?u.jsx("iframe",{src:e.url,className:"w-full h-full border-0",title:e.name,onLoad:()=>i(!1),onError:()=>{i(!1),c(!0)}}):m?u.jsx("video",{src:e.url,controls:!0,className:"max-w-full max-h-full",onLoadedData:()=>i(!1),onError:()=>{i(!1),c(!0)},children:"Your browser does not support video playback."}):g?u.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[u.jsx("audio",{src:e.url,controls:!0,className:"w-full max-w-md",onLoadedData:()=>i(!1),onError:()=>{i(!1),c(!0)},children:"Your browser does not support audio playback."}),u.jsx("p",{className:"mt-4 text-gray-600 text-center",children:e.name})]}):v?u.jsx("iframe",{src:e.url,className:"w-full h-full border-0 bg-white",title:e.name,onLoad:()=>i(!1),onError:()=>{i(!1),c(!0)}}):u.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:u.jsx(Hq,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.name}),u.jsx("p",{className:"text-gray-600 mb-4",children:"This file type cannot be previewed in the browser."}),u.jsxs("button",{onClick:()=>window.open(e.url,"_blank"),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:[u.jsx(rc,{className:"w-4 h-4"}),"Download File"]})]});return u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[70] p-4",onClick:b,children:u.jsxs("div",{className:"relative bg-white rounded-lg max-w-6xl max-h-[90vh] w-full h-full flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-white rounded-t-lg",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:e.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[e.mime," ",e.size&&` ${k$(e.size)}`]})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[u.jsxs("button",{onClick:()=>window.open(e.url,"_blank"),className:"flex items-center gap-2 px-3 py-1 text-sm bg-blue-100 text-blue-700 hover:bg-blue-200 rounded",children:[u.jsx(rc,{className:"w-4 h-4"}),"Download"]}),u.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:u.jsx(Ur,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"flex-1 flex items-center justify-center p-4 bg-gray-50",children:[n&&u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"ml-2 text-gray-600",children:"Loading preview..."})]}),o&&u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-lg flex items-center justify-center mb-4 mx-auto",children:u.jsx(Ur,{className:"w-8 h-8 text-red-500"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Preview Error"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to preview this file."}),u.jsxs("button",{onClick:()=>window.open(e.url,"_blank"),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 mx-auto",children:[u.jsx(rc,{className:"w-4 h-4"}),"Download File"]})]}),!n&&!o&&x()]})]})})}function k$(e){if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]}function E$({card:e,isOpen:t,onClose:r,onSave:n}){const[i,o]=k.useState({...e,title:e.title||"",description:e.description||"",date_start:e.date_start||"",date_end:e.date_end||""}),[c,d]=k.useState(e.card_labels?.map(re=>re.label_id)||[]),[h,m]=k.useState([{id:"1",text:"Great progress on this task! The mockups look good.",author:"John Doe",createdAt:"2025-01-05T09:15:00Z"}]),[g,v]=k.useState(""),[b,x]=k.useState("details"),[S,w]=k.useState(!1),[_,N]=k.useState(!1),[C,T]=k.useState(!1),[A,L]=k.useState(!1),[E,D]=k.useState(!1),[R,q]=k.useState(!1),[B,U]=k.useState(!1),[K,V]=k.useState(!1),[te,ge]=k.useState(!1),[P,W]=k.useState(null),[J,me]=k.useState({name:"",email:""}),[oe,M]=k.useState({title:""}),[H,se]=k.useState({start_date:i.date_start||"",end_date:i.date_end||""}),[fe,be]=k.useState({name:"",url:"",file:null}),[xe,Oe]=k.useState({address:e.location_address||"",coordinates:e.location_lat&&e.location_lng?`${e.location_lat}, ${e.location_lng}`:""}),[Le,ae]=k.useState(!1),[le,at]=k.useState([]),Pe=kr(),Xe=Ge({mutationFn:re=>MT(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),et=Ge({mutationFn:re=>PL(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),Ue=Ge({mutationFn:re=>UT(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),ht=Ge({mutationFn:re=>HL(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),Be=Ge({mutationFn:re=>KL(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),dr=Ge({mutationFn:re=>GL(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),Wt=ct({queryKey:["boards",e.workspace_id],queryFn:()=>fa(e.workspace_id),enabled:t}),bt=Ge({mutationFn:({targetBoardId:re})=>kb(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards"]}),Pe.invalidateQueries({queryKey:["lists"]}),r()},onError:re=>{console.error("Failed to move card:",re),alert("Failed to move card. Please try again.")}}),[mt,gt]=k.useState(!1);k.useEffect(()=>{(async()=>{try{const ve=await JL();at(ve)}catch(ve){console.error("Failed to load available checklist labels:",ve)}})()},[]),k.useEffect(()=>{const re=ve=>{ve.key==="Escape"&&!mt&&r()};if(t)return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[t,mt,r]),k.useEffect(()=>{B&&Oe({address:e.location_address||"",coordinates:e.location_lat&&e.location_lng?`${e.location_lat}, ${e.location_lng}`:""})},[B,e.location_address,e.location_lat,e.location_lng]);const ft=async()=>{try{gt(!0),await n(i),r()}catch(re){console.error("Failed to save card:",re)}finally{gt(!1)}},nt=(re,ve)=>{o({...i,[re]:ve})},yr=()=>{g.trim()&&(m(re=>[...re,{id:Date.now().toString(),text:g.trim(),author:"You",createdAt:new Date().toISOString()}]),v(""))},Ht=re=>{if(re===0)return"0 Bytes";const ve=1024,Re=["Bytes","KB","MB","GB"],Ae=Math.floor(Math.log(re)/Math.log(ve));return parseFloat((re/Math.pow(ve,Ae)).toFixed(2))+" "+Re[Ae]},jt=re=>{re.target===re.currentTarget&&!mt&&r()},Et=re=>{re.preventDefault(),ae(!0)},zr=re=>{re.preventDefault(),ae(!1)},Br=re=>{re.preventDefault(),ae(!1);const ve=Array.from(re.dataTransfer.files);if(ve.length>0){const Re=ve[0],Ae=URL.createObjectURL(Re);ht.mutate({name:Re.name,url:Ae,mime:Re.type||"application/octet-stream",size:Re.size})}};return t?u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:jt,onDragOver:Et,onDragLeave:zr,onDrop:Br,children:[u.jsxs("div",{className:`bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden relative
          ${Le?"ring-2 ring-blue-500 ring-opacity-50":""}`,onClick:re=>re.stopPropagation(),children:[Le&&u.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-10 flex items-center justify-center z-10 rounded-lg",children:u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border-2 border-dashed border-blue-500",children:[u.jsx(XT,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),u.jsx("p",{className:"text-blue-600 font-medium",children:"Drop file to upload"})]})}),u.jsxs("div",{className:"sticky top-0 bg-white text-gray-900 border-b px-6 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Card Details"}),u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("button",{onClick:()=>x("details"),className:`px-3 py-1 rounded-md text-sm font-medium ${b==="details"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Details"}),u.jsxs("button",{onClick:()=>x("activity"),className:`px-3 py-1 rounded-md text-sm font-medium ${b==="activity"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:["Activity (",(e.activity?.length||0)+h.length,")"]}),u.jsxs("button",{onClick:()=>x("ai-copy"),className:`flex items-center space-x-1 px-3 py-1 rounded-md text-sm font-medium ${b==="ai-copy"?"bg-purple-100 text-purple-700":"text-gray-500 hover:text-gray-700"}`,children:[u.jsx(ac,{className:"w-3 h-3"}),u.jsx("span",{children:"AI Copy"})]})]})]}),u.jsx("button",{onClick:r,disabled:mt,className:"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:u.jsx(Ur,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-1 p-6",children:b==="details"?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[u.jsx(gc,{className:"w-4 h-4"}),u.jsx("span",{children:"Title"})]}),u.jsx("input",{type:"text",value:i.title,onChange:re=>nt("title",re.target.value),className:"w-full p-3 border rounded-lg font-medium text-lg text-gray-900",placeholder:"Enter card title"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[u.jsx(sf,{className:"w-4 h-4"}),u.jsx("span",{children:"Labels"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.card_labels?.map(re=>{const ve=re.labels;return ve?u.jsxs("div",{className:"px-3 py-1 rounded-full text-sm font-medium text-white flex items-center space-x-2",style:{backgroundColor:ve.color},children:[u.jsx("span",{children:ve.name}),u.jsx("button",{onClick:()=>Ue.mutate(ve.id),className:"hover:bg-black hover:bg-opacity-20 rounded-full p-0.5",children:u.jsx(Ur,{className:"w-3 h-3"})})]},ve.id):null}),(!e.card_labels||e.card_labels.length===0)&&u.jsx("p",{className:"text-gray-500 text-sm",children:'No labels assigned. Click "Labels" in the sidebar to add some.'})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[u.jsx(Do,{className:"w-4 h-4"}),u.jsx("span",{children:"Description"})]}),u.jsx("textarea",{value:i.description,onChange:re=>nt("description",re.target.value),className:"w-full p-3 border rounded-lg resize-none text-gray-900",rows:4,placeholder:"Add a more detailed description..."})]}),u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[u.jsx(Oo,{className:"w-4 h-4"}),u.jsx("span",{children:"Assigned Members"})]})}),u.jsx(OD,{selectedUsers:e.assigned_members?.map(({assigned_at:re,...ve})=>ve)||[],onUsersChange:re=>{const ve=re.map(Re=>({...Re,assigned_at:new Date().toISOString()}));Xe.mutate({assigned_members:ve})},placeholder:"Assign team members...",maxUsers:10,compact:!1})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[u.jsx(Ua,{className:"w-4 h-4"}),u.jsx("span",{children:"Start Date"})]}),u.jsx("input",{type:"date",value:i.date_start,onChange:re=>nt("date_start",re.target.value),className:"w-full p-3 border rounded-lg text-gray-900"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[u.jsx(Ua,{className:"w-4 h-4"}),u.jsx("span",{children:"Due Date"})]}),u.jsx("input",{type:"date",value:i.date_end,onChange:re=>nt("date_end",re.target.value),className:"w-full p-3 border rounded-lg text-gray-900"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[u.jsx(Pa,{className:"w-4 h-4"}),u.jsx("span",{children:"Checklists"})]}),u.jsx("button",{onClick:()=>L(!0),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ Add Checklist"})]}),u.jsx("div",{className:"space-y-3",children:e.checklists?.map(re=>u.jsx(j$,{checklist:re,cardAssignedMembers:e.assigned_members||[],availableLabels:le,onChecklistUpdate:ve=>{const Re=e.checklists?.map(Ae=>Ae.id===ve.id?ve:Ae);Xe.mutate({checklists:Re})},onChecklistDelete:ve=>{zL(e.id,ve),Pe.invalidateQueries({queryKey:["cards",e.board_id]})},onItemToggle:ve=>{const Re=e.checklists?.find(Ae=>Ae.checklist_items?.some(st=>st.id===ve));Re&&(IL(e.id,Re.id,ve),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))},onItemUpdate:(ve,Re)=>{const Ae=e.checklists?.map(st=>({...st,checklist_items:st.checklist_items?.map(it=>it.id===ve?{...it,...Re}:it)}));Xe.mutate({checklists:Ae})},onItemAdd:(ve,Re)=>{BL(e.id,ve,Re),Pe.invalidateQueries({queryKey:["cards",e.board_id]})},onItemDelete:ve=>{const Re=e.checklists?.find(Ae=>Ae.checklist_items?.some(st=>st.id===ve));Re&&(FL(e.id,Re.id,ve),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))},onItemAssign:(ve,Re)=>{const Ae=e.checklists?.find(st=>st.checklist_items?.some(it=>it.id===ve));Ae&&(YL(e.id,Ae.id,ve,Re),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))},onItemDueDateSet:(ve,Re)=>{const Ae=e.checklists?.find(st=>st.checklist_items?.some(it=>it.id===ve));Ae&&(VL(e.id,Ae.id,ve,Re),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))},onItemStartDateSet:(ve,Re)=>{const Ae=e.checklists?.find(st=>st.checklist_items?.some(it=>it.id===ve));Ae&&(QL(e.id,Ae.id,ve,Re),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))},onItemLabelAdd:(ve,Re)=>{const Ae=e.checklists?.find(st=>st.checklist_items?.some(it=>it.id===ve));Ae&&(WL(e.id,Ae.id,ve,Re),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))},onItemLabelRemove:(ve,Re)=>{const Ae=e.checklists?.find(st=>st.checklist_items?.some(it=>it.id===ve));Ae&&(XL(e.id,Ae.id,ve,Re),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))}},re.id))}),(!e.checklists||e.checklists.length===0)&&u.jsx("p",{className:"text-gray-500 text-sm",children:'No checklists yet. Click "Add Checklist" to create one.'})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[u.jsx(nc,{className:"w-4 h-4"}),u.jsxs("span",{children:["Attachments (",e.attachments?.length||0,")"]})]}),u.jsx("button",{onClick:()=>q(!0),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ Add Attachment"})]}),u.jsxs("div",{className:"space-y-2",children:[e.attachments?.map(re=>u.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[u.jsx(nc,{className:"w-4 h-4 text-gray-400"}),u.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>W({id:re.id,name:re.name||"Untitled",url:re.url,mime:re.mime,size:re.size}),children:[u.jsx("div",{className:"font-medium text-sm text-blue-600 hover:text-blue-800",children:re.name}),u.jsxs("div",{className:"text-xs text-gray-500",children:[re.size?Ht(re.size):"Unknown size","  Added ",new Date(re.created_at).toLocaleDateString(),"  Click to preview"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:ve=>{ve.stopPropagation(),W({id:re.id,name:re.name||"Untitled",url:re.url,mime:re.mime,size:re.size})},className:"text-blue-600 hover:text-blue-800 text-sm",children:"Preview"}),u.jsx("button",{onClick:ve=>{ve.stopPropagation(),window.open(re.url,"_blank")},className:"text-green-600 hover:text-green-800 text-sm",children:"Download"}),u.jsx("button",{onClick:ve=>{ve.stopPropagation(),Be.mutate(re.id)},className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]})]},re.id)),(!e.attachments||e.attachments.length===0)&&u.jsx("p",{className:"text-gray-500 text-sm",children:'No attachments. Click "Add Attachment" to upload files.'})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[u.jsx(Md,{className:"w-4 h-4"}),u.jsx("span",{children:"Location"})]}),u.jsx("button",{onClick:()=>U(!0),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:e.location_address?"Edit Location":"+ Add Location"})]}),e.location_address?u.jsx("div",{className:"p-3 border border-gray-200 rounded-lg",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(Md,{className:"w-4 h-4 text-gray-400 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-sm",children:e.location_address}),e.location_lat&&e.location_lng&&u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Coordinates: ",e.location_lat,", ",e.location_lng]})]}),u.jsx("button",{onClick:()=>{Xe.mutate({location_address:null,location_lat:null,location_lng:null})},className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]})}):u.jsx("p",{className:"text-gray-500 text-sm",children:'No location set. Click "Add Location" to set one.'})]})]}):b==="activity"?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center space-x-2",children:[u.jsx(Co,{className:"w-5 h-5"}),u.jsx("span",{children:"Activity Log"})]}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:u.jsx(w$,{card:e,showLimit:15,showActorNames:!0,compact:!1})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[u.jsx(JT,{className:"w-4 h-4"}),u.jsx("span",{children:"Add Comment"})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("textarea",{value:g,onChange:re=>v(re.target.value),className:"flex-1 p-3 border rounded-lg resize-none text-gray-900",rows:2,placeholder:"Write a comment..."}),u.jsx("button",{onClick:yr,disabled:!g.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 h-fit",children:"Post"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Comments"}),h.map(re=>u.jsxs("div",{className:"flex space-x-3 p-4 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:re.author.charAt(0)}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("span",{className:"font-medium text-sm",children:re.author}),u.jsx("span",{className:"text-xs text-gray-500",children:new Date(re.createdAt).toLocaleDateString()})]}),u.jsx("p",{className:"text-gray-700",children:re.text})]})]},re.id)),h.length===0&&u.jsx("p",{className:"text-gray-500 text-sm italic",children:"No comments yet. Be the first to comment!"})]})]}):u.jsx(v$,{card:e})}),u.jsxs("div",{className:"w-64 border-l bg-gray-50 text-gray-900 p-4",children:[u.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Actions"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{onClick:()=>w(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx(Oo,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Members"})]}),u.jsxs("button",{onClick:()=>N(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx(sf,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Labels"})]}),u.jsxs("button",{onClick:()=>L(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx(Pa,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Checklist"})]}),u.jsxs("button",{onClick:()=>D(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx(Ua,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Dates"})]}),u.jsxs("button",{onClick:()=>q(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx(nc,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Attachment"})]}),u.jsxs("button",{onClick:()=>U(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx(Md,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Location"})]}),u.jsx("hr",{className:"my-3"}),u.jsxs("button",{onClick:()=>{const re=document.querySelector("[data-move-section]");re&&re.scrollIntoView({behavior:"smooth"})},className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx(Tf,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Move"})]}),u.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify({title:e.title,description:e.description,labels:c,checklist:e.checklists||[],attachments:e.attachments||[],members:e.assigned_members||[]})),ge(!0),setTimeout(()=>ge(!1),2e3)},className:`w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded ${te?"bg-green-50":""}`,children:[u.jsx(ci,{className:`w-4 h-4 ${te?"text-green-600":""}`}),u.jsx("span",{className:`text-sm ${te?"text-green-600":""}`,children:te?"Copied!":"Copy"})]}),u.jsxs("button",{onClick:()=>V(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded text-red-600",children:[u.jsx(Tn,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Archive"})]})]}),u.jsxs("div",{className:"mt-6","data-move-section":!0,children:[u.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Move to Board"}),u.jsx("div",{className:"space-y-2",children:(Wt.data||[]).filter(re=>re.id!==e.board_id).map(re=>u.jsxs("button",{onClick:()=>bt.mutate({targetBoardId:re.id}),disabled:bt.isPending||mt,className:"w-full text-left p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-300 transition-colors disabled:opacity-50",children:[u.jsx("div",{className:"font-medium text-xs",children:re.name}),bt.isPending&&u.jsx("div",{className:"text-xs text-blue-600",children:"Moving..."})]},re.id))})]})]})]}),S&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Member"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),u.jsx("input",{type:"text",value:J.name,onChange:re=>me({...J,name:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter member name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Optional)"}),u.jsx("input",{type:"email",value:J.email,onChange:re=>me({...J,email:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter member email"})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>{J.name.trim()&&(dr.mutate({name:J.name.trim(),email:J.email.trim()||void 0}),me({name:"",email:""}),w(!1))},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Add Member"}),u.jsx("button",{onClick:()=>{me({name:"",email:""}),w(!1)},className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})}),u.jsx(_$,{isOpen:_,onClose:()=>N(!1),cardId:e.id,selectedLabelIds:e.card_labels?.map(re=>re.label_id)||[],onLabelsChange:re=>{d(re),Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),u.jsx(S$,{isOpen:C,onClose:()=>T(!1),onLabelCreated:re=>{et.mutate({name:re.name,color:re.color})}}),A&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Checklist"}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Checklist Title"}),u.jsx("input",{type:"text",value:oe.title,onChange:re=>M({...oe,title:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter checklist title"})]})}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>{oe.title.trim()&&($L(e.id,oe.title).then(()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}),M({title:""}),L(!1))},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Add Checklist"}),u.jsx("button",{onClick:()=>{M({title:""}),L(!1)},className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})}),E&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Set Dates"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),u.jsx("input",{type:"date",value:H.start_date,onChange:re=>se({...H,start_date:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),u.jsx("input",{type:"date",value:H.end_date,onChange:re=>se({...H,end_date:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>{Xe.mutate({date_start:H.start_date||null,date_end:H.end_date||null}),D(!1)},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Set Dates"}),u.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})}),R&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Attachment"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"File Name"}),u.jsx("input",{type:"text",value:fe.name,onChange:re=>be({...fe,name:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter file name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"File URL"}),u.jsx("input",{type:"url",value:fe.url,onChange:re=>be({...fe,url:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter file URL"})]}),u.jsxs("div",{className:"text-sm text-gray-500",children:["Or upload a file:",u.jsx("input",{type:"file",onChange:re=>{const ve=re.target.files?.[0];ve&&be({name:ve.name,url:URL.createObjectURL(ve),file:ve})},className:"w-full mt-1 p-2 border border-gray-300 rounded-md"})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>{if(fe.name&&fe.url){const re=fe.file?.size||0,ve=fe.file?.type||"application/octet-stream";ht.mutate({name:fe.name,url:fe.url,mime:ve,size:re}),be({name:"",url:"",file:null}),q(!1)}},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Add Attachment"}),u.jsx("button",{onClick:()=>{be({name:"",url:"",file:null}),q(!1)},className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})}),B&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:e.location_address?"Edit Location":"Add Location"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),u.jsx("input",{type:"text",value:xe.address,onChange:re=>Oe({...xe,address:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter address or location"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coordinates (Optional)"}),u.jsx("input",{type:"text",value:xe.coordinates,onChange:re=>Oe({...xe,coordinates:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"lat, lng (e.g., 40.7128, -74.0060)"})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>{if(xe.address.trim()){let re=null,ve=null;if(xe.coordinates.trim()){const Re=xe.coordinates.split(",").map(Ae=>parseFloat(Ae.trim()));Re.length===2&&!isNaN(Re[0])&&!isNaN(Re[1])&&(re=Re[0],ve=Re[1])}Xe.mutate({location_address:xe.address.trim(),location_lat:re,location_lng:ve}),Oe({address:"",coordinates:""}),U(!1)}},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:e.location_address?"Update Location":"Add Location"}),u.jsx("button",{onClick:()=>{Oe({address:"",coordinates:""}),U(!1)},className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})}),K&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-red-600",children:"Archive Card"}),u.jsxs("p",{className:"text-gray-700 mb-6",children:['Are you sure you want to archive "',e.title,'"? You can restore it later from the archive.']}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>{Xe.mutate({archived:!0}),V(!1),r()},className:"flex-1 bg-red-500 text-white py-2 px-4 rounded-md hover:bg-red-600",children:"Archive Card"}),u.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})}),u.jsxs("div",{className:"sticky bottom-0 bg-white text-gray-900 border-t px-6 py-4 flex space-x-3",children:[u.jsx("button",{onClick:ft,disabled:mt,className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:mt?"Saving...":"Save Changes"}),u.jsx("button",{onClick:r,disabled:mt,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"})]})]}),P&&u.jsx(N$,{isOpen:!!P,file:P,onClose:()=>W(null)})]}):null}function C$({card:e}){const[t,r]=I.useState(!1),[n,i]=k.useState(!1),o=k.useRef(null);k.useEffect(()=>{const N=C=>{o.current&&!o.current.contains(C.target)&&r(!1)};if(t)return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[t]);const{attributes:c,listeners:d,setNodeRef:h,transform:m,transition:g,isDragging:v}=Pf({id:e.id,data:{type:"card",cardId:e.id,listId:e.list_id}}),b={transform:Kn.Transform.toString(m),transition:g},x=()=>{if(t){r(!1);return}i(!0)},S=async N=>{try{await MT(e.id,N)}catch(C){console.error("Failed to update card:",C)}},w=N=>{N.preventDefault(),N.stopPropagation(),r(!t)},_=!!(e.date_end&&new Date(e.date_end)<new Date);return u.jsxs("div",{ref:h,style:b,className:`group bg-white dark:bg-gray-700 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 cursor-pointer hover:shadow-md transition-shadow relative ${v?"opacity-50":""} ${_?"border-l-4 border-l-red-500":""}`,onClick:x,...c,...d,children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsx("div",{className:"font-medium text-gray-900 dark:text-white flex-1 pr-2",children:e.title}),u.jsxs("div",{className:"flex items-center gap-1",children:[e.assigned_members&&e.assigned_members.length>0&&u.jsxs("div",{className:"flex -space-x-1",children:[e.assigned_members.slice(0,3).map(N=>u.jsx("div",{className:"relative group",title:N.name,children:N.avatar?u.jsx("img",{src:N.avatar,alt:N.name,className:"w-6 h-6 rounded-full border-2 border-white dark:border-gray-700"}):u.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full border-2 border-white dark:border-gray-700 flex items-center justify-center text-white text-xs font-medium",children:N.name.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2)})},N.id)),e.assigned_members.length>3&&u.jsxs("div",{className:"w-6 h-6 bg-gray-400 rounded-full border-2 border-white dark:border-gray-700 flex items-center justify-center text-white text-xs font-medium",children:["+",e.assigned_members.length-3]})]}),u.jsx("button",{className:"context-menu-button p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-600 opacity-0 group-hover:opacity-100 transition-opacity ml-1",onClick:w,onMouseDown:N=>N.stopPropagation(),children:u.jsx(Rb,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]})]}),e.description&&typeof e.description=="string"&&e.description.trim()&&u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:e.description}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[e.card_labels&&e.card_labels.length>0&&u.jsx("div",{className:"flex gap-1",children:e.card_labels.slice(0,3).map((N,C)=>u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:N.labels?.color||"#gray"}},C))}),e.attachments&&e.attachments.length>0&&u.jsxs("span",{children:[" ",e.attachments.length]}),e.comments&&e.comments.length>0&&u.jsxs("span",{children:[" ",e.comments.length]})]}),e.date_end&&u.jsx("div",{className:`text-xs px-2 py-1 rounded ${_?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"}`,children:new Date(e.date_end).toLocaleDateString()})]}),t&&u.jsx("div",{ref:o,children:u.jsx(h$,{card:e,isOpen:t,onClose:()=>r(!1),onEdit:()=>i(!0)})}),u.jsx(E$,{card:e,isOpen:n,onClose:()=>i(!1),onSave:S})]})}function T$({list:e,onClose:t,isOpen:r}){const n=kr(),{user:i}=da(),o=ct({queryKey:["boards",i?.id],queryFn:()=>i?.id?fa(i.id):Promise.resolve([]),enabled:r&&!!i?.id}),c=Ge({mutationFn:({targetBoardId:x})=>TD(e.id,x),onSuccess:()=>{n.invalidateQueries({queryKey:["lists"]}),n.invalidateQueries({queryKey:["cards"]}),t()},onError:x=>{console.error("Failed to move list:",x)}}),d=Ge({mutationFn:()=>DD(e.id),onSuccess:()=>{n.invalidateQueries({queryKey:["lists",e.board_id]}),t()},onError:x=>{console.error("Failed to delete list:",x)}}),h=o.data||[],g=h.find(x=>x.id===e.board_id)?.name==="Archive",v=h.find(x=>x.name==="Archive"),b=h.filter(x=>x.id!==e.board_id);return r?u.jsxs("div",{className:"absolute right-0 top-6 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 py-2 min-w-48",children:[u.jsxs("button",{onClick:()=>{console.log("Edit list:",e.name),t()},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[u.jsx(mi,{className:"w-4 h-4"}),"Rename List"]}),b.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),u.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Move to Board"}),b.map(x=>u.jsxs("button",{onClick:()=>c.mutate({targetBoardId:x.id}),disabled:c.isPending,className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[u.jsx(Tf,{className:"w-4 h-4"}),x.name]},x.id))]}),!g&&v&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),u.jsxs("button",{onClick:()=>c.mutate({targetBoardId:v.id}),disabled:c.isPending,className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[u.jsx(Tn,{className:"w-4 h-4"}),"Archive List"]})]}),g&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),u.jsxs("button",{onClick:()=>d.mutate(),disabled:d.isPending,className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[u.jsx($a,{className:"w-4 h-4"}),"Delete Permanently"]})]})]}):null}function D$({title:e,listId:t,cards:r,highlighted:n,dragListeners:i,onUpdateList:o,onCreateCard:c,onDeleteList:d,onMoveCardToBoard:h,onMoveListToBoard:m,boards:g,currentBoardId:v}){const{boardId:b}=Ia(),x=kr(),[S,w]=I.useState(!1),[_,N]=I.useState(""),[C,T]=I.useState(!1),[A,L]=I.useState(!1),[E,D]=I.useState(e),{setNodeRef:R}=_D({id:t,data:{type:"list",listId:t}}),q=Ge({mutationFn:async P=>{if(c){c(t,P);return}await RT(t,P)},onSuccess:()=>{x.invalidateQueries({queryKey:["cards",b]}),w(!1),N("")},onError:P=>{console.error("Failed to create card:",P)}}),B=()=>{_.trim()&&q.mutate(_.trim())},U=P=>{P.key==="Enter"?B():P.key==="Escape"&&(w(!1),N(""))},K=()=>{E.trim()&&E.trim()!==e&&o&&o(t,{name:E.trim()}),L(!1)},V=P=>{P.key==="Enter"?K():P.key==="Escape"&&(D(e),L(!1))},te=()=>{L(!0),D(e)},ge=P=>{P.preventDefault(),P.stopPropagation(),T(!C)};return u.jsxs("div",{className:`w-80 bg-gray-100 dark:bg-gray-800 rounded-md border ${n?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 dark:border-gray-700"} flex flex-col group`,children:[u.jsxs("div",{className:"font-medium mb-2 p-3 flex items-center justify-between cursor-grab relative",...i,children:[A?u.jsx("input",{type:"text",value:E,onChange:P=>D(P.target.value),onBlur:K,onKeyDown:V,className:"flex-1 bg-transparent border-none outline-none text-gray-900 dark:text-white",autoFocus:!0}):u.jsx("div",{className:"text-left flex-1 text-gray-900 dark:text-white",onDoubleClick:te,children:e}),u.jsx("button",{className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 opacity-0 group-hover:opacity-100 transition-opacity",onClick:ge,onMouseDown:P=>P.stopPropagation(),children:u.jsx(Rb,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}),C&&u.jsx(T$,{list:{id:t,board_id:b||"",name:e,position:0},onClose:()=>T(!1),isOpen:C})]}),u.jsxs("div",{ref:R,className:"flex-1 px-3 pb-3 min-h-[1px]",children:[u.jsx(Uf,{items:r.map(P=>P.id),strategy:Gb,children:u.jsx("div",{className:"space-y-2",children:r.map(P=>u.jsx(C$,{card:P},P.id))})}),S?u.jsxs("div",{className:"mt-2",children:[u.jsx("input",{type:"text",value:_,onChange:P=>N(P.target.value),onKeyDown:U,onBlur:()=>{_.trim()||(w(!1),N(""))},placeholder:"Enter card title",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("button",{onClick:B,disabled:!_.trim()||q.isPending,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:q.isPending?"Adding...":"Add card"}),u.jsx("button",{onClick:()=>{w(!1),N("")},className:"px-3 py-1 text-gray-600 dark:text-gray-400 text-sm hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"})]})]}):u.jsxs("button",{onClick:()=>w(!0),className:"w-full mt-2 p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded flex items-center gap-2",children:[u.jsx(Fn,{className:"w-4 h-4"}),"Add a card"]})]})]})}function O$({list:e,cards:t,highlighted:r,onUpdateList:n,onCreateCard:i,onDeleteList:o,onMoveCardToBoard:c,onMoveListToBoard:d,boards:h,currentBoardId:m}){const{attributes:g,listeners:v,setNodeRef:b,transform:x,transition:S,isDragging:w}=Pf({id:e.id,data:{type:"list",listId:e.id}}),_={transform:Kn.Transform.toString(x),transition:S};return u.jsx("div",{ref:b,style:_,className:`flex-shrink-0 ${w?"opacity-50":""}`,...g,children:u.jsx(D$,{title:e.name,listId:e.id,list:e,cards:t,highlighted:r,dragListeners:v,onUpdateList:n,onCreateCard:i,onDeleteList:o,onMoveCardToBoard:c,onMoveListToBoard:d,boards:h,currentBoardId:m})})}function A$(){const{boardId:e}=Ia(),{user:t}=da(),r=ct({queryKey:["lists",e],queryFn:()=>$f(e),enabled:!!e}),n=ct({queryKey:["cards",e],queryFn:()=>ki(e),enabled:!!e}),i=ct({queryKey:["boards",t?.id],queryFn:()=>t?.id?fa(t.id):Promise.resolve([]),enabled:!!t?.id}),o=kr(),c=zb(ff(Ic,{activationConstraint:{distance:5}})),[d,h]=I.useState(!1),[m,g]=I.useState(null),[v,b]=I.useState(null),[x,S]=I.useState(!1),[w,_]=I.useState(""),C=n.data??[],T=Ge({mutationFn:M=>d$(e,M),onSuccess:()=>{o.invalidateQueries({queryKey:["lists",e]}),S(!1),_("")},onError:M=>{console.error("Failed to create list:",M)}}),A=Ge({mutationFn:({id:M,data:H})=>H.name!==void 0?f$(M,H.name):H.position!==void 0?Wj(M,H.position):Promise.resolve(),onSuccess:()=>{o.invalidateQueries({queryKey:["lists",e]})},onError:M=>{console.error("Failed to update list:",M)}}),L=Ge({mutationFn:M=>DD(M),onSuccess:()=>{o.invalidateQueries({queryKey:["lists",e]}),o.invalidateQueries({queryKey:["cards",e]})},onError:M=>{console.error("Failed to delete list:",M)}}),E=Ge({mutationFn:({listId:M,title:H})=>RT(M,H),onSuccess:()=>{o.invalidateQueries({queryKey:["cards",e]})},onError:M=>{console.error("Failed to create card:",M)}}),D=Ge({mutationFn:({cardId:M,targetBoardId:H,targetListId:se})=>kb(M,H,se),onSuccess:()=>{o.invalidateQueries({queryKey:["cards",e]}),o.invalidateQueries({queryKey:["boards",t?.id]}),o.invalidateQueries({queryKey:["lists"]}),o.invalidateQueries({queryKey:["cards"]})},onError:M=>{console.error("Failed to move card:",M)}}),R=Ge({mutationFn:({listId:M,targetBoardId:H})=>TD(M,H),onSuccess:()=>{o.invalidateQueries({queryKey:["lists",e]}),o.invalidateQueries({queryKey:["boards",t?.id]}),o.invalidateQueries({queryKey:["lists"]}),o.invalidateQueries({queryKey:["cards"]})},onError:M=>{console.error("Failed to move list:",M)}});if(I.useEffect(()=>{const M=H=>h(!!H.detail);return window.addEventListener("card-modal-toggle",M),()=>window.removeEventListener("card-modal-toggle",M)},[]),I.useEffect(()=>{d&&(g(null),b(null))},[d]),I.useEffect(()=>{if(!e)return;const H=DT().channel(`board-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"lists",filter:`board_id=eq.${e}`},()=>o.invalidateQueries({queryKey:["lists",e]})).on("postgres_changes",{event:"*",schema:"public",table:"cards",filter:`board_id=eq.${e}`},()=>o.invalidateQueries({queryKey:["cards",e]})).subscribe();return()=>{H.unsubscribe()}},[e,o]),r.isLoading||n.isLoading)return u.jsx("div",{className:"p-4 text-gray-500 dark:text-gray-400",children:"Loading board"});if(r.error||n.error)return u.jsx("div",{className:"p-4 text-red-500",children:"Failed to load board."});const q=r.data??[],B=(M,H,se)=>{D.mutate({cardId:M,targetBoardId:H,targetListId:se})},U=(M,H)=>{R.mutate({listId:M,targetBoardId:H})},K=M=>{const H=M.active.data.current?.type;H&&g({type:H,id:String(M.active.id)})},V=()=>{},te=()=>{w.trim()&&T.mutate(w.trim())},ge=M=>{M.key==="Enter"?te():M.key==="Escape"&&(S(!1),_(""))},P=(M,H)=>{A.mutate({id:M,data:H})},W=(M,H)=>{E.mutate({listId:M,title:H})},J=M=>{L.mutate(M)},me=async M=>{const{active:H,over:se}=M;if(!se||H.id===se.id)return;const fe=H.data.current,be=se.data.current,xe=fe?.type;if(xe==="card"){const Oe=fe?.listId;let Le=be?.listId;if(!Le&&be?.cardId&&(Le=be.listId),!Le||!Oe)return;const le=(o.getQueryData(["cards",e])??[]).filter(ht=>ht.list_id===Le),at=le.findIndex(ht=>ht.id===se.id),Pe=be?.type==="card"&&at!==-1?at:le.length,Xe=le[Pe-1]?.position??0,et=le[Pe]?.position??Xe+2e3,Ue=(Xe+et)/2;try{await qL(String(H.id),Le,Ue),await o.invalidateQueries({queryKey:["cards",e]})}catch(ht){console.error("Failed to move card:",ht)}}else if(xe==="list"){const Oe=o.getQueryData(["lists",e])??[],Le=Oe.findIndex(Xe=>Xe.id===H.id),ae=Oe.findIndex(Xe=>Xe.id===se.id);if(ae===-1||Le===-1||ae===Le)return;const le=[...Oe],[at]=le.splice(Le,1);le.splice(ae,0,at);const Pe=le.map((Xe,et)=>{const Ue=(et+1)*1e3;return Xe.position!==Ue?Wj(Xe.id,Ue):Promise.resolve()});try{await Promise.all(Pe),await o.invalidateQueries({queryKey:["lists",e]})}catch(Xe){console.error("Failed to reorder lists:",Xe)}}},oe=()=>{g(null),b(null)};return u.jsx("div",{className:"h-full w-full overflow-x-auto overflow-y-hidden",children:u.jsxs(Kb,{sensors:c,onDragStart:K,onDragOver:V,onDragEnd:me,onDragCancel:oe,children:[u.jsx(Uf,{items:q.map(M=>M.id),strategy:BP,children:u.jsxs("div",{className:`flex gap-4 min-w-max items-start p-4 h-full ${d?"pointer-events-none select-none":""}`,children:[q.map(M=>u.jsx(O$,{list:M,cards:C.filter(H=>H.list_id===M.id),highlighted:v===M.id,onUpdateList:P,onCreateCard:W,onDeleteList:J,onMoveCardToBoard:B,onMoveListToBoard:U,boards:i.data||[],currentBoardId:e},M.id)),x?u.jsxs("div",{className:"w-80 bg-gray-100 dark:bg-gray-800 rounded-md border border-gray-300 dark:border-gray-600 p-3",children:[u.jsx("input",{type:"text",value:w,onChange:M=>_(M.target.value),onKeyDown:ge,onBlur:()=>{w.trim()||(S(!1),_(""))},placeholder:"Enter list title",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("button",{onClick:te,disabled:!w.trim()||T.isPending,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:T.isPending?"Adding...":"Add list"}),u.jsx("button",{onClick:()=>{S(!1),_("")},className:"px-3 py-1 text-gray-600 dark:text-gray-400 text-sm hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"})]})]}):u.jsxs("button",{onClick:()=>S(!0),className:"w-80 bg-gray-50 dark:bg-gray-900 rounded-md border-2 border-dashed border-gray-300 dark:border-gray-600 p-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500 flex items-center justify-center gap-2",children:[u.jsx(Fn,{className:"w-4 h-4"}),"Add another list"]})]})}),u.jsx(UP,{children:m?.type==="card"?u.jsx("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 rotate-3 transform",children:u.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Moving card..."})}):m?.type==="list"?u.jsx("div",{className:"w-80 bg-gray-100 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700 p-3 rotate-3 transform",children:u.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Moving list..."})}):null})]})})}function R$(){return u.jsx("div",{className:"h-full overflow-auto",children:u.jsx(A$,{})})}function M$(){const{boardId:e}=Ia(),{data:t,isLoading:r}=ct({queryKey:["board",e],queryFn:()=>qb(e),enabled:!!e}),{data:n=[],isLoading:i}=ct({queryKey:["lists",e],queryFn:()=>$f(e),enabled:!!e}),{data:o=[],isLoading:c}=ct({queryKey:["cards",e],queryFn:()=>ki(e),enabled:!!e});if(r||i||c)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading table view..."})});const d=o.reduce((m,g)=>(m[g.list_id]||(m[g.list_id]=[]),m[g.list_id].push(g),m),{}),h=[];return n.forEach(m=>{h.push({listName:m.name,isListHeader:!0});const g=d[m.id]||[];g.forEach(v=>{h.push({listName:m.name,card:v})}),g.length===0&&h.push({listName:m.name})}),u.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900",children:[u.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t?.name," - Table View"]}),u.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:[o.length," cards across ",n.length," lists"]})]}),u.jsx("div",{className:"flex-1 overflow-auto p-4",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"List"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Card Title"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Description"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Due Date"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Labels"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Created"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:h.map((m,g)=>u.jsxs("tr",{className:`${m.isListHeader?"bg-gray-50 dark:bg-gray-700":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[u.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:m.isListHeader?u.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[" ",m.listName]}):u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.listName})}),u.jsx("td",{className:"px-4 py-3",children:m.card?u.jsx("div",{className:"text-sm text-gray-900 dark:text-white font-medium",children:m.card.title}):m.isListHeader?u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:"List Section"}):u.jsx("span",{className:"text-xs text-gray-400 italic",children:"No cards"})}),u.jsx("td",{className:"px-4 py-3",children:m.card?.description&&u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 max-w-xs truncate",children:String(m.card.description)})}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:m.card?.date_end&&u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:new Date(m.card.date_end).toLocaleDateString()})}),u.jsx("td",{className:"px-4 py-3",children:m.card?.card_labels&&u.jsx("div",{className:"flex flex-wrap gap-1",children:m.card.card_labels.filter(v=>v.labels).map((v,b)=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:v.labels.color+"20",color:v.labels.color,border:`1px solid ${v.labels.color}40`},children:v.labels.name},b))})}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:m.card?.created_at&&u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(m.card.created_at).toLocaleDateString()})})]},g))})]})})})]})}function za(e){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function L$(e,t){if(za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AD(e){var t=L$(e,"string");return za(t)=="symbol"?t:t+""}function si(e,t,r){return(t=AD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){si(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zf(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ca(e,t){if(e==null)return{};var r,n,i=zf(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AD(n.key),n)}}function ur(e,t,r){return t&&Zj(e.prototype,t),r&&Zj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gf(e)}function RD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!e})()}function q$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U$(e,t){if(t&&(za(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q$(e)}function Or(e,t,r){return t=gf(t),U$(e,RD()?Reflect.construct(t,r||[],gf(e).constructor):t.apply(e,r))}function pf(e,t){return pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},pf(e,t)}function Ar(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pf(e,t)}function MD(e){if(Array.isArray(e))return e}function P$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,c,d=[],h=!0,m=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(h=(n=o.call(r)).done)&&(d.push(n.value),d.length!==t);h=!0);}catch(g){m=!0,i=g}finally{try{if(!h&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw i}}return d}}function Q0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Yb(e,t){if(e){if(typeof e=="string")return Q0(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q0(e,t):void 0}}function LD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gi(e,t){return MD(e)||P$(e,t)||Yb(e,t)||LD()}function qD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=qD(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Ft(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=qD(e))&&(n&&(n+=" "),n+=t);return n}function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},It.apply(null,arguments)}var $g,eN;function $$(){if(eN)return $g;eN=1;var e=function(t,r,n,i,o,c,d,h){if(!t){var m;if(r===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[n,i,o,c,d,h],v=0;m=new Error(r.replace(/%s/g,function(){return g[v++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return $g=e,$g}var z$=$$();const xc=Pr(z$);var B$=function(){};function I$(e,t){var r={};return Object.keys(e).forEach(function(n){r[qd(n)]=B$}),r}function tN(e,t){return e[t]!==void 0}function qd(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function F$(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function H$(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pf(e,t)}function UD(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function PD(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function $D(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}UD.__suppressDeprecationWarning=!0;PD.__suppressDeprecationWarning=!0;$D.__suppressDeprecationWarning=!0;function K$(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var o=e.displayName||e.name,c=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+c+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=UD,t.componentWillReceiveProps=PD),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=$D;var d=t.componentDidUpdate;t.componentDidUpdate=function(m,g,v){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:v;d.call(this,m,g,b)}}return e}var G$="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function zD(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",i=F$(e),o=Object.keys(t),c=o.map(qd);i||!r.length||xc(!1);var d=(function(m){H$(g,m);function g(){for(var b,x=arguments.length,S=new Array(x),w=0;w<x;w++)S[w]=arguments[w];b=m.call.apply(m,[this].concat(S))||this,b.handlers=Object.create(null),o.forEach(function(N){var C=t[N],T=function(L){if(b.props[C]){var E;b._notifying=!0;for(var D=arguments.length,R=new Array(D>1?D-1:0),q=1;q<D;q++)R[q-1]=arguments[q];(E=b.props)[C].apply(E,[L].concat(R)),b._notifying=!1}b.unmounted||b.setState(function(B){var U,K=B.values;return{values:It(Object.create(null),K,(U={},U[N]=L,U))}})};b.handlers[C]=T}),r.length&&(b.attachRef=function(N){b.inner=N});var _=Object.create(null);return o.forEach(function(N){_[N]=b.props[qd(N)]}),b.state={values:_,prevProps:{}},b}var v=g.prototype;return v.shouldComponentUpdate=function(){return!this._notifying},g.getDerivedStateFromProps=function(x,S){var w=S.values,_=S.prevProps,N={values:It(Object.create(null),w),prevProps:{}};return o.forEach(function(C){N.prevProps[C]=x[C],!tN(x,C)&&tN(_,C)&&(N.values[C]=x[qd(C)])}),N},v.componentWillUnmount=function(){this.unmounted=!0},v.render=function(){var x=this,S=this.props,w=S.innerRef,_=zf(S,["innerRef"]);c.forEach(function(C){delete _[C]});var N={};return o.forEach(function(C){var T=x.props[C];N[C]=T!==void 0?T:x.state.values[C]}),I.createElement(e,It({},_,N,this.handlers,{ref:w||this.attachRef}))},g})(I.Component);K$(d),d.displayName="Uncontrolled("+n+")",d.propTypes=It({innerRef:function(){}},I$(t)),r.forEach(function(m){d.prototype[m]=function(){var v;return(v=this.inner)[m].apply(v,arguments)}});var h=d;return I.forwardRef&&(h=I.forwardRef(function(m,g){return I.createElement(d,It({},m,{innerRef:g,__source:{fileName:G$,lineNumber:128},__self:this}))}),h.propTypes=d.propTypes),h.ControlledComponent=e,h.deferControlTo=function(m,g,v){return g===void 0&&(g={}),zD(m,It({},t,g),v)},h}var zg={exports:{}},Bg,rN;function Y$(){if(rN)return Bg;rN=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bg=e,Bg}var Ig,nN;function V$(){if(nN)return Ig;nN=1;var e=Y$();function t(){}function r(){}return r.resetWarningCache=t,Ig=function(){function n(c,d,h,m,g,v){if(v!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},Ig}var aN;function Q$(){return aN||(aN=1,zg.exports=V$()()),zg.exports}var W$=Q$();const ye=Pr(W$);var vf="milliseconds",wc="seconds",_c="minutes",Sc="hours",pi="day",Ao="week",jc="month",vi="year",yi="decade",bi="century",BD={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},X$={month:1,year:12,decade:120,century:1200};function J$(e){return[31,Z$(e),31,30,31,30,31,31,30,31,30,31]}function Z$(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Yn(e,t,r){switch(e=new Date(e),r){case vf:case wc:case _c:case Sc:case pi:case Ao:return ez(e,t*BD[r]);case jc:case vi:case yi:case bi:return tz(e,t*X$[r])}throw new TypeError('Invalid units: "'+r+'"')}function ez(e,t){var r=new Date(+e+t);return rz(e,r)}function tz(e,t){var r=e.getFullYear(),n=e.getMonth(),i=e.getDate(),o=r*12+n+t,c=Math.trunc(o/12),d=o%12,h=Math.min(i,J$(c)[d]),m=new Date(e);return m.setFullYear(c),m.setDate(1),m.setMonth(d),m.setDate(h),m}function rz(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),i=n-r;return new Date(+t+i*BD.minutes)}function Nc(e,t,r){return Yn(e,-t,r)}function Nr(e,t,r){switch(e=new Date(e),t){case bi:case yi:case vi:e=bf(e,0);case jc:e=GD(e,1);case Ao:case pi:e=Cc(e,0);case Sc:e=Ro(e,0);case _c:e=Ec(e,0);case wc:e=kc(e,0)}return t===yi&&(e=Nc(e,xi(e)%10,"year")),t===bi&&(e=Nc(e,xi(e)%100,"year")),t===Ao&&(e=YD(e,0,r)),e}function yf(e,t,r){switch(e=new Date(e),e=Nr(e,t,r),t){case bi:case yi:case vi:case jc:case Ao:e=Yn(e,1,t),e=Nc(e,1,pi),e.setHours(23,59,59,999);break;case pi:e.setHours(23,59,59,999);break;case Sc:case _c:case wc:e=Yn(e,1,t),e=Nc(e,1,vf)}return e}var Ho=Go(function(e,t){return e===t}),Vb=Go(function(e,t){return e!==t}),Bf=Go(function(e,t){return e>t}),Kc=Go(function(e,t){return e>=t}),Qb=Go(function(e,t){return e<t}),Ko=Go(function(e,t){return e<=t});function ID(){return new Date(Math.min.apply(Math,arguments))}function FD(){return new Date(Math.max.apply(Math,arguments))}function HD(e,t,r,n){return n=n||"day",(!t||Kc(e,t,n))&&(!r||Ko(e,r,n))}var kc=Ts("Milliseconds"),Ec=Ts("Seconds"),Ro=Ts("Minutes"),Cc=Ts("Hours"),KD=Ts("Day"),GD=Ts("Date"),bf=Ts("Month"),xi=Ts("FullYear");function nz(e,t){return t===void 0?xi(Nr(e,yi)):Yn(e,t+10,vi)}function az(e,t){return t===void 0?xi(Nr(e,bi)):Yn(e,t+100,vi)}function YD(e,t,r){var n=(KD(e)+7-(r||0))%7;return t===void 0?n:Yn(e,t-n,pi)}function sz(e,t,r,n){var i,o,c;switch(r){case vf:case wc:case _c:case Sc:case pi:case Ao:i=t.getTime()-e.getTime();break;case jc:case vi:case yi:case bi:i=(xi(t)-xi(e))*12+bf(t)-bf(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case vf:o=1;break;case wc:o=1e3;break;case _c:o=1e3*60;break;case Sc:o=1e3*60*60;break;case pi:o=1e3*60*60*24;break;case Ao:o=1e3*60*60*24*7;break;case jc:o=1;break;case vi:o=12;break;case yi:o=120;break;case bi:o=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return c=i/o,n?c:Math.round(c)}function Ts(e){var t=(function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(e);return function(r,n){if(n===void 0)return r["get"+e]();var i=new Date(r);return i["set"+e](n),t&&i["get"+e]()!=n&&(e==="Hours"||n>=t&&i.getHours()-r.getHours()<Math.floor(n/t))&&i["set"+e](n+t),i}}function Go(e){return function(t,r,n){return e(+Nr(t,n),+Nr(r,n))}}const sN=Object.freeze(Object.defineProperty({__proto__:null,add:Yn,century:az,date:GD,day:KD,decade:nz,diff:sz,endOf:yf,eq:Ho,gt:Bf,gte:Kc,hours:Cc,inRange:HD,lt:Qb,lte:Ko,max:FD,milliseconds:kc,min:ID,minutes:Ro,month:bf,neq:Vb,seconds:Ec,startOf:Nr,subtract:Nc,weekday:YD,year:xi},Symbol.toStringTag,{value:"Module"}));function iz(e){if(Array.isArray(e))return Q0(e)}function VD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ud(e){return iz(e)||VD(e)||Yb(e)||oz()}var Fg,iN;function QD(){if(iN)return Fg;iN=1;function e(t,r,n){var i=-1,o=t.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var c=Array(o);++i<o;)c[i]=t[i+r];return c}return Fg=e,Fg}var Hg,oN;function Gc(){if(oN)return Hg;oN=1;function e(t,r){return t===r||t!==t&&r!==r}return Hg=e,Hg}var Kg,lN;function WD(){if(lN)return Kg;lN=1;var e=typeof hd=="object"&&hd&&hd.Object===Object&&hd;return Kg=e,Kg}var Gg,cN;function ha(){if(cN)return Gg;cN=1;var e=WD(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Gg=r,Gg}var Yg,uN;function Yo(){if(uN)return Yg;uN=1;var e=ha(),t=e.Symbol;return Yg=t,Yg}var Vg,dN;function lz(){if(dN)return Vg;dN=1;var e=Yo(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function o(c){var d=r.call(c,i),h=c[i];try{c[i]=void 0;var m=!0}catch{}var g=n.call(c);return m&&(d?c[i]=h:delete c[i]),g}return Vg=o,Vg}var Qg,fN;function cz(){if(fN)return Qg;fN=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Qg=r,Qg}var Wg,hN;function Vo(){if(hN)return Wg;hN=1;var e=Yo(),t=lz(),r=cz(),n="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function c(d){return d==null?d===void 0?i:n:o&&o in Object(d)?t(d):r(d)}return Wg=c,Wg}var Xg,mN;function Fa(){if(mN)return Xg;mN=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Xg=e,Xg}var Jg,gN;function Wb(){if(gN)return Jg;gN=1;var e=Vo(),t=Fa(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function c(d){if(!t(d))return!1;var h=e(d);return h==n||h==i||h==r||h==o}return Jg=c,Jg}var Zg,pN;function Xb(){if(pN)return Zg;pN=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Zg=t,Zg}var ep,vN;function Yc(){if(vN)return ep;vN=1;var e=Wb(),t=Xb();function r(n){return n!=null&&t(n.length)&&!e(n)}return ep=r,ep}var tp,yN;function Jb(){if(yN)return tp;yN=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return tp=r,tp}var rp,bN;function If(){if(bN)return rp;bN=1;var e=Gc(),t=Yc(),r=Jb(),n=Fa();function i(o,c,d){if(!n(d))return!1;var h=typeof c;return(h=="number"?t(d)&&r(c,d.length):h=="string"&&c in d)?e(d[c],o):!1}return rp=i,rp}var np,xN;function uz(){if(xN)return np;xN=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return np=t,np}var ap,wN;function dz(){if(wN)return ap;wN=1;var e=uz(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return ap=r,ap}var sp,_N;function Ds(){if(_N)return sp;_N=1;function e(t){return t!=null&&typeof t=="object"}return sp=e,sp}var ip,SN;function Vc(){if(SN)return ip;SN=1;var e=Vo(),t=Ds(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return ip=n,ip}var op,jN;function fz(){if(jN)return op;jN=1;var e=dz(),t=Fa(),r=Vc(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function h(m){if(typeof m=="number")return m;if(r(m))return n;if(t(m)){var g=typeof m.valueOf=="function"?m.valueOf():m;m=t(g)?g+"":g}if(typeof m!="string")return m===0?m:+m;m=e(m);var v=o.test(m);return v||c.test(m)?d(m.slice(2),v?2:8):i.test(m)?n:+m}return op=h,op}var lp,NN;function XD(){if(NN)return lp;NN=1;var e=fz(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*r}return i===i?i:0}return lp=n,lp}var cp,kN;function JD(){if(kN)return cp;kN=1;var e=XD();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return cp=t,cp}var up,EN;function hz(){if(EN)return up;EN=1;var e=QD(),t=If(),r=JD(),n=Math.ceil,i=Math.max;function o(c,d,h){(h?t(c,d,h):d===void 0)?d=1:d=i(r(d),0);var m=c==null?0:c.length;if(!m||d<1)return[];for(var g=0,v=0,b=Array(n(m/d));g<m;)b[v++]=e(c,g,g+=d);return b}return up=o,up}var mz=hz();const gz=Pr(mz);function Qc(e){return e&&e.ownerDocument||document}function pz(e){var t=Qc(e);return t&&t.defaultView||window}function vz(e,t){return pz(e).getComputedStyle(e,t)}var yz=/([A-Z])/g;function bz(e){return e.replace(yz,"-$1").toLowerCase()}var xz=/^ms-/;function kd(e){return bz(e).replace(xz,"-ms-")}var wz=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function _z(e){return!!(e&&wz.test(e))}function jo(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(kd(t))||vz(e).getPropertyValue(kd(t));Object.keys(t).forEach(function(i){var o=t[i];!o&&o!==0?e.style.removeProperty(kd(i)):_z(i)?n+=i+"("+o+") ":r+=kd(i)+": "+o+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function Tc(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function Sz(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Zb(e){return"window"in e&&e.window===e?e:Sz(e)&&e.defaultView||!1}function ZD(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,i){var o=Zb(n);if(i===void 0)return o?o[e]:n[t];o?o.scrollTo(o[e],i):n[t]=i}return r}const eO=ZD("pageXOffset"),tO=ZD("pageYOffset");function ui(e){var t=Qc(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!Tc(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+tO(n)-(n.clientTop||0),left:r.left+eO(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var jz=function(t){return!!t&&"offsetParent"in t};function Nz(e){for(var t=Qc(e),r=e&&e.offsetParent;jz(r)&&r.nodeName!=="HTML"&&jo(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var kz=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function rO(e,t){var r={top:0,left:0},n;if(jo(e,"position")==="fixed")n=e.getBoundingClientRect();else{var i=t||Nz(e);n=ui(e),kz(i)!=="html"&&(r=ui(i));var o=String(jo(i,"borderTopWidth")||0);r.top+=parseInt(o,10)-tO(i)||0;var c=String(jo(i,"borderLeftWidth")||0);r.left+=parseInt(c,10)-eO(i)||0}var d=String(jo(e,"marginTop")||0),h=String(jo(e,"marginLeft")||0);return It({},n,{top:n.top-r.top-(parseInt(d,10)||0),left:n.left-r.left-(parseInt(h,10)||0)})}const ex=!!(typeof window<"u"&&window.document&&window.document.createElement);var CN=new Date().getTime();function Ez(e){var t=new Date().getTime(),r=Math.max(0,16-(t-CN)),n=setTimeout(e,r);return CN=t,n}var Cz=["","webkit","moz","o","ms"],W0="clearTimeout",X0=Ez,TN=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};ex&&Cz.some(function(e){var t=TN(e,"request");return t in window&&(W0=TN(e,"cancel"),X0=function(n){return window[t](n)}),!!X0});var DN=function(t){typeof window[W0]=="function"&&window[W0](t)},nO=X0,dp;function Tz(e,t){if(!dp){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;dp=function(o,c){return n.call(o,c)}}return dp(e,t)}var Dz=Function.prototype.bind.call(Function.prototype.call,[].slice);function Oz(e,t){return Dz(e.querySelectorAll(t))}var J0=!1,Z0=!1;try{var fp={get passive(){return J0=!0},get once(){return Z0=J0=!0}};ex&&(window.addEventListener("test",fp,fp),window.removeEventListener("test",fp,!0))}catch{}function Az(e,t,r,n){if(n&&typeof n!="boolean"&&!Z0){var i=n.once,o=n.capture,c=r;!Z0&&i&&(c=r.__once||function d(h){this.removeEventListener(t,d,o),r.call(this,h)},r.__once=c),e.addEventListener(t,c,J0?n:o)}e.addEventListener(t,r,n)}function Rz(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e},[e]),t}function ON(e){const t=Rz(e);return k.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function AN(){return k.useState(null)}function Mz(){const e=k.useRef(!0),t=k.useRef(()=>e.current);return k.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Lz(e){const t=Mz();return[e[0],k.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Wr="top",On="bottom",An="right",Xr="left",tx="auto",Wc=[Wr,On,An,Xr],Mo="start",Dc="end",qz="clippingParents",aO="viewport",Fl="popper",Uz="reference",RN=Wc.reduce(function(e,t){return e.concat([t+"-"+Mo,t+"-"+Dc])},[]),rx=[].concat(Wc,[tx]).reduce(function(e,t){return e.concat([t,t+"-"+Mo,t+"-"+Dc])},[]),Pz="beforeRead",$z="read",zz="afterRead",Bz="beforeMain",Iz="main",Fz="afterMain",Hz="beforeWrite",Kz="write",Gz="afterWrite",Yz=[Pz,$z,zz,Bz,Iz,Fz,Hz,Kz,Gz];function oa(e){return e.split("-")[0]}function un(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function wi(e){var t=un(e).Element;return e instanceof t||e instanceof Element}function la(e){var t=un(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function nx(e){if(typeof ShadowRoot>"u")return!1;var t=un(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var di=Math.max,xf=Math.min,Lo=Math.round;function eb(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function sO(){return!/^((?!chrome|android).)*safari/i.test(eb())}function qo(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&la(e)&&(i=e.offsetWidth>0&&Lo(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Lo(n.height)/e.offsetHeight||1);var c=wi(e)?un(e):window,d=c.visualViewport,h=!sO()&&r,m=(n.left+(h&&d?d.offsetLeft:0))/i,g=(n.top+(h&&d?d.offsetTop:0))/o,v=n.width/i,b=n.height/o;return{width:v,height:b,top:g,right:m+v,bottom:g+b,left:m,x:m,y:g}}function ax(e){var t=qo(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function iO(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&nx(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function js(e){return e?(e.nodeName||"").toLowerCase():null}function Ba(e){return un(e).getComputedStyle(e)}function Vz(e){return["table","td","th"].indexOf(js(e))>=0}function Os(e){return((wi(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ff(e){return js(e)==="html"?e:e.assignedSlot||e.parentNode||(nx(e)?e.host:null)||Os(e)}function MN(e){return!la(e)||Ba(e).position==="fixed"?null:e.offsetParent}function Qz(e){var t=/firefox/i.test(eb()),r=/Trident/i.test(eb());if(r&&la(e)){var n=Ba(e);if(n.position==="fixed")return null}var i=Ff(e);for(nx(i)&&(i=i.host);la(i)&&["html","body"].indexOf(js(i))<0;){var o=Ba(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Xc(e){for(var t=un(e),r=MN(e);r&&Vz(r)&&Ba(r).position==="static";)r=MN(r);return r&&(js(r)==="html"||js(r)==="body"&&Ba(r).position==="static")?t:r||Qz(e)||t}function sx(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function lc(e,t,r){return di(e,xf(t,r))}function Wz(e,t,r){var n=lc(e,t,r);return n>r?r:n}function oO(){return{top:0,right:0,bottom:0,left:0}}function lO(e){return Object.assign({},oO(),e)}function cO(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var Xz=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,lO(typeof t!="number"?t:cO(t,Wc))};function Jz(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,c=r.modifiersData.popperOffsets,d=oa(r.placement),h=sx(d),m=[Xr,An].indexOf(d)>=0,g=m?"height":"width";if(!(!o||!c)){var v=Xz(i.padding,r),b=ax(o),x=h==="y"?Wr:Xr,S=h==="y"?On:An,w=r.rects.reference[g]+r.rects.reference[h]-c[h]-r.rects.popper[g],_=c[h]-r.rects.reference[h],N=Xc(o),C=N?h==="y"?N.clientHeight||0:N.clientWidth||0:0,T=w/2-_/2,A=v[x],L=C-b[g]-v[S],E=C/2-b[g]/2+T,D=lc(A,E,L),R=h;r.modifiersData[n]=(t={},t[R]=D,t.centerOffset=D-E,t)}}function Zz(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||iO(t.elements.popper,i)&&(t.elements.arrow=i))}const e7={name:"arrow",enabled:!0,phase:"main",fn:Jz,effect:Zz,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Uo(e){return e.split("-")[1]}var t7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function r7(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:Lo(r*i)/i||0,y:Lo(n*i)/i||0}}function LN(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,c=e.offsets,d=e.position,h=e.gpuAcceleration,m=e.adaptive,g=e.roundOffsets,v=e.isFixed,b=c.x,x=b===void 0?0:b,S=c.y,w=S===void 0?0:S,_=typeof g=="function"?g({x,y:w}):{x,y:w};x=_.x,w=_.y;var N=c.hasOwnProperty("x"),C=c.hasOwnProperty("y"),T=Xr,A=Wr,L=window;if(m){var E=Xc(r),D="clientHeight",R="clientWidth";if(E===un(r)&&(E=Os(r),Ba(E).position!=="static"&&d==="absolute"&&(D="scrollHeight",R="scrollWidth")),E=E,i===Wr||(i===Xr||i===An)&&o===Dc){A=On;var q=v&&E===L&&L.visualViewport?L.visualViewport.height:E[D];w-=q-n.height,w*=h?1:-1}if(i===Xr||(i===Wr||i===On)&&o===Dc){T=An;var B=v&&E===L&&L.visualViewport?L.visualViewport.width:E[R];x-=B-n.width,x*=h?1:-1}}var U=Object.assign({position:d},m&&t7),K=g===!0?r7({x,y:w},un(r)):{x,y:w};if(x=K.x,w=K.y,h){var V;return Object.assign({},U,(V={},V[A]=C?"0":"",V[T]=N?"0":"",V.transform=(L.devicePixelRatio||1)<=1?"translate("+x+"px, "+w+"px)":"translate3d("+x+"px, "+w+"px, 0)",V))}return Object.assign({},U,(t={},t[A]=C?w+"px":"",t[T]=N?x+"px":"",t.transform="",t))}function n7(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,c=o===void 0?!0:o,d=r.roundOffsets,h=d===void 0?!0:d,m={placement:oa(t.placement),variation:Uo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,LN(Object.assign({},m,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:h})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,LN(Object.assign({},m,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const a7={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:n7,data:{}};var Ed={passive:!0};function s7(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,c=n.resize,d=c===void 0?!0:c,h=un(t.elements.popper),m=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&m.forEach(function(g){g.addEventListener("scroll",r.update,Ed)}),d&&h.addEventListener("resize",r.update,Ed),function(){o&&m.forEach(function(g){g.removeEventListener("scroll",r.update,Ed)}),d&&h.removeEventListener("resize",r.update,Ed)}}const i7={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:s7,data:{}};var o7={left:"right",right:"left",bottom:"top",top:"bottom"};function Pd(e){return e.replace(/left|right|bottom|top/g,function(t){return o7[t]})}var l7={start:"end",end:"start"};function qN(e){return e.replace(/start|end/g,function(t){return l7[t]})}function ix(e){var t=un(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function ox(e){return qo(Os(e)).left+ix(e).scrollLeft}function c7(e,t){var r=un(e),n=Os(e),i=r.visualViewport,o=n.clientWidth,c=n.clientHeight,d=0,h=0;if(i){o=i.width,c=i.height;var m=sO();(m||!m&&t==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}return{width:o,height:c,x:d+ox(e),y:h}}function u7(e){var t,r=Os(e),n=ix(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=di(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=di(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),d=-n.scrollLeft+ox(e),h=-n.scrollTop;return Ba(i||r).direction==="rtl"&&(d+=di(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:c,x:d,y:h}}function lx(e){var t=Ba(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function uO(e){return["html","body","#document"].indexOf(js(e))>=0?e.ownerDocument.body:la(e)&&lx(e)?e:uO(Ff(e))}function cc(e,t){var r;t===void 0&&(t=[]);var n=uO(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=un(n),c=i?[o].concat(o.visualViewport||[],lx(n)?n:[]):n,d=t.concat(c);return i?d:d.concat(cc(Ff(c)))}function tb(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function d7(e,t){var r=qo(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function UN(e,t,r){return t===aO?tb(c7(e,r)):wi(t)?d7(t,r):tb(u7(Os(e)))}function f7(e){var t=cc(Ff(e)),r=["absolute","fixed"].indexOf(Ba(e).position)>=0,n=r&&la(e)?Xc(e):e;return wi(n)?t.filter(function(i){return wi(i)&&iO(i,n)&&js(i)!=="body"}):[]}function h7(e,t,r,n){var i=t==="clippingParents"?f7(e):[].concat(t),o=[].concat(i,[r]),c=o[0],d=o.reduce(function(h,m){var g=UN(e,m,n);return h.top=di(g.top,h.top),h.right=xf(g.right,h.right),h.bottom=xf(g.bottom,h.bottom),h.left=di(g.left,h.left),h},UN(e,c,n));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function dO(e){var t=e.reference,r=e.element,n=e.placement,i=n?oa(n):null,o=n?Uo(n):null,c=t.x+t.width/2-r.width/2,d=t.y+t.height/2-r.height/2,h;switch(i){case Wr:h={x:c,y:t.y-r.height};break;case On:h={x:c,y:t.y+t.height};break;case An:h={x:t.x+t.width,y:d};break;case Xr:h={x:t.x-r.width,y:d};break;default:h={x:t.x,y:t.y}}var m=i?sx(i):null;if(m!=null){var g=m==="y"?"height":"width";switch(o){case Mo:h[m]=h[m]-(t[g]/2-r[g]/2);break;case Dc:h[m]=h[m]+(t[g]/2-r[g]/2);break}}return h}function Oc(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.strategy,c=o===void 0?e.strategy:o,d=r.boundary,h=d===void 0?qz:d,m=r.rootBoundary,g=m===void 0?aO:m,v=r.elementContext,b=v===void 0?Fl:v,x=r.altBoundary,S=x===void 0?!1:x,w=r.padding,_=w===void 0?0:w,N=lO(typeof _!="number"?_:cO(_,Wc)),C=b===Fl?Uz:Fl,T=e.rects.popper,A=e.elements[S?C:b],L=h7(wi(A)?A:A.contextElement||Os(e.elements.popper),h,g,c),E=qo(e.elements.reference),D=dO({reference:E,element:T,placement:i}),R=tb(Object.assign({},T,D)),q=b===Fl?R:E,B={top:L.top-q.top+N.top,bottom:q.bottom-L.bottom+N.bottom,left:L.left-q.left+N.left,right:q.right-L.right+N.right},U=e.modifiersData.offset;if(b===Fl&&U){var K=U[i];Object.keys(B).forEach(function(V){var te=[An,On].indexOf(V)>=0?1:-1,ge=[Wr,On].indexOf(V)>=0?"y":"x";B[V]+=K[ge]*te})}return B}function m7(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,c=r.padding,d=r.flipVariations,h=r.allowedAutoPlacements,m=h===void 0?rx:h,g=Uo(n),v=g?d?RN:RN.filter(function(S){return Uo(S)===g}):Wc,b=v.filter(function(S){return m.indexOf(S)>=0});b.length===0&&(b=v);var x=b.reduce(function(S,w){return S[w]=Oc(e,{placement:w,boundary:i,rootBoundary:o,padding:c})[oa(w)],S},{});return Object.keys(x).sort(function(S,w){return x[S]-x[w]})}function g7(e){if(oa(e)===tx)return[];var t=Pd(e);return[qN(e),t,qN(t)]}function p7(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,c=r.altAxis,d=c===void 0?!0:c,h=r.fallbackPlacements,m=r.padding,g=r.boundary,v=r.rootBoundary,b=r.altBoundary,x=r.flipVariations,S=x===void 0?!0:x,w=r.allowedAutoPlacements,_=t.options.placement,N=oa(_),C=N===_,T=h||(C||!S?[Pd(_)]:g7(_)),A=[_].concat(T).reduce(function(fe,be){return fe.concat(oa(be)===tx?m7(t,{placement:be,boundary:g,rootBoundary:v,padding:m,flipVariations:S,allowedAutoPlacements:w}):be)},[]),L=t.rects.reference,E=t.rects.popper,D=new Map,R=!0,q=A[0],B=0;B<A.length;B++){var U=A[B],K=oa(U),V=Uo(U)===Mo,te=[Wr,On].indexOf(K)>=0,ge=te?"width":"height",P=Oc(t,{placement:U,boundary:g,rootBoundary:v,altBoundary:b,padding:m}),W=te?V?An:Xr:V?On:Wr;L[ge]>E[ge]&&(W=Pd(W));var J=Pd(W),me=[];if(o&&me.push(P[K]<=0),d&&me.push(P[W]<=0,P[J]<=0),me.every(function(fe){return fe})){q=U,R=!1;break}D.set(U,me)}if(R)for(var oe=S?3:1,M=function(be){var xe=A.find(function(Oe){var Le=D.get(Oe);if(Le)return Le.slice(0,be).every(function(ae){return ae})});if(xe)return q=xe,"break"},H=oe;H>0;H--){var se=M(H);if(se==="break")break}t.placement!==q&&(t.modifiersData[n]._skip=!0,t.placement=q,t.reset=!0)}}const v7={name:"flip",enabled:!0,phase:"main",fn:p7,requiresIfExists:["offset"],data:{_skip:!1}};function PN(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function $N(e){return[Wr,An,On,Xr].some(function(t){return e[t]>=0})}function y7(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,c=Oc(t,{elementContext:"reference"}),d=Oc(t,{altBoundary:!0}),h=PN(c,n),m=PN(d,i,o),g=$N(h),v=$N(m);t.modifiersData[r]={referenceClippingOffsets:h,popperEscapeOffsets:m,isReferenceHidden:g,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}const b7={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:y7};function x7(e,t,r){var n=oa(e),i=[Xr,Wr].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,c=o[0],d=o[1];return c=c||0,d=(d||0)*i,[Xr,An].indexOf(n)>=0?{x:d,y:c}:{x:c,y:d}}function w7(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,c=rx.reduce(function(g,v){return g[v]=x7(v,t.rects,o),g},{}),d=c[t.placement],h=d.x,m=d.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=h,t.modifiersData.popperOffsets.y+=m),t.modifiersData[n]=c}const _7={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:w7};function S7(e){var t=e.state,r=e.name;t.modifiersData[r]=dO({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const j7={name:"popperOffsets",enabled:!0,phase:"read",fn:S7,data:{}};function N7(e){return e==="x"?"y":"x"}function k7(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,c=r.altAxis,d=c===void 0?!1:c,h=r.boundary,m=r.rootBoundary,g=r.altBoundary,v=r.padding,b=r.tether,x=b===void 0?!0:b,S=r.tetherOffset,w=S===void 0?0:S,_=Oc(t,{boundary:h,rootBoundary:m,padding:v,altBoundary:g}),N=oa(t.placement),C=Uo(t.placement),T=!C,A=sx(N),L=N7(A),E=t.modifiersData.popperOffsets,D=t.rects.reference,R=t.rects.popper,q=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,B=typeof q=="number"?{mainAxis:q,altAxis:q}:Object.assign({mainAxis:0,altAxis:0},q),U=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,K={x:0,y:0};if(E){if(o){var V,te=A==="y"?Wr:Xr,ge=A==="y"?On:An,P=A==="y"?"height":"width",W=E[A],J=W+_[te],me=W-_[ge],oe=x?-R[P]/2:0,M=C===Mo?D[P]:R[P],H=C===Mo?-R[P]:-D[P],se=t.elements.arrow,fe=x&&se?ax(se):{width:0,height:0},be=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:oO(),xe=be[te],Oe=be[ge],Le=lc(0,D[P],fe[P]),ae=T?D[P]/2-oe-Le-xe-B.mainAxis:M-Le-xe-B.mainAxis,le=T?-D[P]/2+oe+Le+Oe+B.mainAxis:H+Le+Oe+B.mainAxis,at=t.elements.arrow&&Xc(t.elements.arrow),Pe=at?A==="y"?at.clientTop||0:at.clientLeft||0:0,Xe=(V=U?.[A])!=null?V:0,et=W+ae-Xe-Pe,Ue=W+le-Xe,ht=lc(x?xf(J,et):J,W,x?di(me,Ue):me);E[A]=ht,K[A]=ht-W}if(d){var Be,dr=A==="x"?Wr:Xr,Wt=A==="x"?On:An,bt=E[L],mt=L==="y"?"height":"width",gt=bt+_[dr],ft=bt-_[Wt],nt=[Wr,Xr].indexOf(N)!==-1,yr=(Be=U?.[L])!=null?Be:0,Ht=nt?gt:bt-D[mt]-R[mt]-yr+B.altAxis,jt=nt?bt+D[mt]+R[mt]-yr-B.altAxis:ft,Et=x&&nt?Wz(Ht,bt,jt):lc(x?Ht:gt,bt,x?jt:ft);E[L]=Et,K[L]=Et-bt}t.modifiersData[n]=K}}const E7={name:"preventOverflow",enabled:!0,phase:"main",fn:k7,requiresIfExists:["offset"]};function C7(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function T7(e){return e===un(e)||!la(e)?ix(e):C7(e)}function D7(e){var t=e.getBoundingClientRect(),r=Lo(t.width)/e.offsetWidth||1,n=Lo(t.height)/e.offsetHeight||1;return r!==1||n!==1}function O7(e,t,r){r===void 0&&(r=!1);var n=la(t),i=la(t)&&D7(t),o=Os(t),c=qo(e,i,r),d={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(n||!n&&!r)&&((js(t)!=="body"||lx(o))&&(d=T7(t)),la(t)?(h=qo(t,!0),h.x+=t.clientLeft,h.y+=t.clientTop):o&&(h.x=ox(o))),{x:c.left+d.scrollLeft-h.x,y:c.top+d.scrollTop-h.y,width:c.width,height:c.height}}function A7(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var c=[].concat(o.requires||[],o.requiresIfExists||[]);c.forEach(function(d){if(!r.has(d)){var h=t.get(d);h&&i(h)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function R7(e){var t=A7(e);return Yz.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function M7(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function L7(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var zN={placement:"bottom",modifiers:[],strategy:"absolute"};function BN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function q7(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?zN:i;return function(d,h,m){m===void 0&&(m=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},zN,o),modifiersData:{},elements:{reference:d,popper:h},attributes:{},styles:{}},v=[],b=!1,x={state:g,setOptions:function(N){var C=typeof N=="function"?N(g.options):N;w(),g.options=Object.assign({},o,g.options,C),g.scrollParents={reference:wi(d)?cc(d):d.contextElement?cc(d.contextElement):[],popper:cc(h)};var T=R7(L7([].concat(n,g.options.modifiers)));return g.orderedModifiers=T.filter(function(A){return A.enabled}),S(),x.update()},forceUpdate:function(){if(!b){var N=g.elements,C=N.reference,T=N.popper;if(BN(C,T)){g.rects={reference:O7(C,Xc(T),g.options.strategy==="fixed"),popper:ax(T)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(B){return g.modifiersData[B.name]=Object.assign({},B.data)});for(var A=0;A<g.orderedModifiers.length;A++){if(g.reset===!0){g.reset=!1,A=-1;continue}var L=g.orderedModifiers[A],E=L.fn,D=L.options,R=D===void 0?{}:D,q=L.name;typeof E=="function"&&(g=E({state:g,options:R,name:q,instance:x})||g)}}}},update:M7(function(){return new Promise(function(_){x.forceUpdate(),_(g)})}),destroy:function(){w(),b=!0}};if(!BN(d,h))return x;x.setOptions(m).then(function(_){!b&&m.onFirstUpdate&&m.onFirstUpdate(_)});function S(){g.orderedModifiers.forEach(function(_){var N=_.name,C=_.options,T=C===void 0?{}:C,A=_.effect;if(typeof A=="function"){var L=A({state:g,name:N,instance:x,options:T}),E=function(){};v.push(L||E)}})}function w(){v.forEach(function(_){return _()}),v=[]}return x}}var U7=q7({defaultModifiers:[b7,j7,a7,i7,_7,v7,E7,e7]}),IN=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},P7={name:"applyStyles",enabled:!1},$7={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,i=n.reference,o=n.popper;if("removeAttribute"in i){var c=(i.getAttribute("aria-describedby")||"").split(",").filter(function(d){return d.trim()!==o.id});c.length?i.setAttribute("aria-describedby",c.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,i=n.elements,o=i.popper,c=i.reference,d=(r=o.getAttribute("role"))==null?void 0:r.toLowerCase();if(o.id&&d==="tooltip"&&"setAttribute"in c){var h=c.getAttribute("aria-describedby");if(h&&h.split(",").indexOf(o.id)!==-1)return;c.setAttribute("aria-describedby",h?h+","+o.id:o.id)}}},z7=[];function B7(e,t,r){var n=r===void 0?{}:r,i=n.enabled,o=i===void 0?!0:i,c=n.placement,d=c===void 0?"bottom":c,h=n.strategy,m=h===void 0?"absolute":h,g=n.modifiers,v=g===void 0?z7:g,b=zf(n,["enabled","placement","strategy","modifiers"]),x=k.useRef(),S=k.useCallback(function(){var A;(A=x.current)==null||A.update()},[]),w=k.useCallback(function(){var A;(A=x.current)==null||A.forceUpdate()},[]),_=Lz(k.useState({placement:d,update:S,forceUpdate:w,attributes:{},styles:{popper:IN(m),arrow:{}}})),N=_[0],C=_[1],T=k.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(L){var E=L.state,D={},R={};Object.keys(E.elements).forEach(function(q){D[q]=E.styles[q],R[q]=E.attributes[q]}),C({state:E,styles:D,attributes:R,update:S,forceUpdate:w,placement:E.placement})}}},[S,w,C]);return k.useEffect(function(){!x.current||!o||x.current.setOptions({placement:d,strategy:m,modifiers:[].concat(v,[T,P7])})},[m,d,T,o]),k.useEffect(function(){if(!(!o||e==null||t==null))return x.current=U7(e,t,It({},b,{placement:d,strategy:m,modifiers:[].concat(v,[$7,T])})),function(){x.current!=null&&(x.current.destroy(),x.current=void 0,C(function(A){return It({},A,{attributes:{},styles:{popper:IN(m)}})}))}},[o,e,t]),N}function I7(e,t,r,n){var i=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,i),r.__once&&e.removeEventListener(t,r.__once,i)}function Ql(e,t,r,n){return Az(e,t,r,n),function(){I7(e,t,r,n)}}var hp,FN;function F7(){if(FN)return hp;FN=1;var e=function(){};return hp=e,hp}var H7=F7();const K7=Pr(H7);function G7(e){return e&&"setState"in e?ZC.findDOMNode(e):e??null}const Y7=(function(e){return Qc(G7(e))});var V7=27,HN=function(){};function Q7(e){return e.button===0}function W7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var KN=function(t){return t&&("current"in t?t.current:t)};function X7(e,t,r){var n=r===void 0?{}:r,i=n.disabled,o=n.clickTrigger,c=o===void 0?"click":o,d=k.useRef(!1),h=t||HN,m=k.useCallback(function(b){var x,S=KN(e);K7(!!S,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),d.current=!S||W7(b)||!Q7(b)||!!Tc(S,(x=b.composedPath==null?void 0:b.composedPath()[0])!=null?x:b.target)},[e]),g=ON(function(b){d.current||h(b)}),v=ON(function(b){b.keyCode===V7&&h(b)});k.useEffect(function(){if(!(i||e==null)){var b=window.event,x=Y7(KN(e)),S=Ql(x,c,m,!0),w=Ql(x,c,function(C){if(C===b){b=void 0;return}g(C)}),_=Ql(x,"keyup",function(C){if(C===b){b=void 0;return}v(C)}),N=[];return"ontouchstart"in x.documentElement&&(N=[].slice.call(x.body.children).map(function(C){return Ql(C,"mousemove",HN)})),function(){S(),w(),_(),N.forEach(function(C){return C()})}}},[e,i,c,m,g,v])}function J7(e){var t={};return Array.isArray(e)?(e?.forEach(function(r){t[r.name]=r}),t):e||t}function Z7(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function eB(e){var t,r,n,i,o=e.enabled,c=e.enableEvents,d=e.placement,h=e.flip,m=e.offset,g=e.fixed,v=e.containerPadding,b=e.arrowElement,x=e.popperConfig,S=x===void 0?{}:x,w=J7(S.modifiers);return It({},S,{placement:d,enabled:o,strategy:g?"fixed":S.strategy,modifiers:Z7(It({},w,{eventListeners:{enabled:c},preventOverflow:It({},w.preventOverflow,{options:v?It({padding:v},(t=w.preventOverflow)==null?void 0:t.options):(r=w.preventOverflow)==null?void 0:r.options}),offset:{options:It({offset:m},(n=w.offset)==null?void 0:n.options)},arrow:It({},w.arrow,{enabled:!!b,options:It({},(i=w.arrow)==null?void 0:i.options,{element:b})}),flip:It({enabled:!!h},w.flip)}))})}function tB(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function rB(e,t){e.classList?e.classList.add(t):tB(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function GN(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nB(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=GN(e.className,t):e.setAttribute("class",GN(e.className&&e.className.baseVal||"",t))}var Cd;function cx(e){if((!Cd&&Cd!==0||e)&&ex){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Cd=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Cd}var mp=function(t){var r;return typeof document>"u"?null:t==null?Qc().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function YN(e,t){var r=k.useState(function(){return mp(e)}),n=r[0],i=r[1];if(!n){var o=mp(e);o&&i(o)}return k.useEffect(function(){},[t,n]),k.useEffect(function(){var c=mp(e);c!==n&&i(c)},[e,n]),n}const VN=e=>!e||typeof e=="function"?e:t=>{e.current=t};function aB(e,t){const r=VN(e),n=VN(t);return i=>{r&&r(i),n&&n(i)}}function sB(e,t){return k.useMemo(()=>aB(e,t),[e,t])}var ux=I.forwardRef(function(e,t){var r=e.flip,n=e.offset,i=e.placement,o=e.containerPadding,c=o===void 0?5:o,d=e.popperConfig,h=d===void 0?{}:d,m=e.transition,g=AN(),v=g[0],b=g[1],x=AN(),S=x[0],w=x[1],_=sB(b,t),N=YN(e.container),C=YN(e.target),T=k.useState(!e.show),A=T[0],L=T[1],E=B7(C,v,eB({placement:i,enableEvents:!!e.show,containerPadding:c||5,flip:r,offset:n,arrowElement:S,popperConfig:h})),D=E.styles,R=E.attributes,q=zf(E,["styles","attributes"]);e.show?A&&L(!1):!e.transition&&!A&&L(!0);var B=function(){L(!0),e.onExited&&e.onExited.apply(e,arguments)},U=e.show||m&&!A;if(X7(v,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!U)return null;var K=e.children(It({},q,{show:!!e.show,props:It({},R.popper,{style:D.popper,ref:_}),arrowProps:It({},R.arrow,{style:D.arrow,ref:w})}));if(m){var V=e.onExit,te=e.onExiting,ge=e.onEnter,P=e.onEntering,W=e.onEntered;K=I.createElement(m,{in:e.show,appear:!0,onExit:V,onExiting:te,onExited:B,onEnter:ge,onEntering:P,onEntered:W},K)}return N?ZC.createPortal(K,N):null});ux.displayName="Overlay";ux.propTypes={show:ye.bool,placement:ye.oneOf(rx),target:ye.any,container:ye.any,flip:ye.bool,children:ye.func.isRequired,containerPadding:ye.number,popperConfig:ye.object,rootClose:ye.bool,rootCloseEvent:ye.oneOf(["click","mousedown"]),rootCloseDisabled:ye.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(t.rootClose){var o;return(o=ye.func).isRequired.apply(o,[t].concat(n))}return ye.func.apply(ye,[t].concat(n))},transition:ye.elementType,onEnter:ye.func,onEntering:ye.func,onEntered:ye.func,onExit:ye.func,onExiting:ye.func,onExited:ye.func};var gp,QN;function iB(){if(QN)return gp;QN=1;function e(){this.__data__=[],this.size=0}return gp=e,gp}var pp,WN;function Hf(){if(WN)return pp;WN=1;var e=Gc();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return pp=t,pp}var vp,XN;function oB(){if(XN)return vp;XN=1;var e=Hf(),t=Array.prototype,r=t.splice;function n(i){var o=this.__data__,c=e(o,i);if(c<0)return!1;var d=o.length-1;return c==d?o.pop():r.call(o,c,1),--this.size,!0}return vp=n,vp}var yp,JN;function lB(){if(JN)return yp;JN=1;var e=Hf();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return yp=t,yp}var bp,ZN;function cB(){if(ZN)return bp;ZN=1;var e=Hf();function t(r){return e(this.__data__,r)>-1}return bp=t,bp}var xp,e2;function uB(){if(e2)return xp;e2=1;var e=Hf();function t(r,n){var i=this.__data__,o=e(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return xp=t,xp}var wp,t2;function Kf(){if(t2)return wp;t2=1;var e=iB(),t=oB(),r=lB(),n=cB(),i=uB();function o(c){var d=-1,h=c==null?0:c.length;for(this.clear();++d<h;){var m=c[d];this.set(m[0],m[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,wp=o,wp}var _p,r2;function dB(){if(r2)return _p;r2=1;var e=Kf();function t(){this.__data__=new e,this.size=0}return _p=t,_p}var Sp,n2;function fB(){if(n2)return Sp;n2=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Sp=e,Sp}var jp,a2;function hB(){if(a2)return jp;a2=1;function e(t){return this.__data__.get(t)}return jp=e,jp}var Np,s2;function mB(){if(s2)return Np;s2=1;function e(t){return this.__data__.has(t)}return Np=e,Np}var kp,i2;function gB(){if(i2)return kp;i2=1;var e=ha(),t=e["__core-js_shared__"];return kp=t,kp}var Ep,o2;function pB(){if(o2)return Ep;o2=1;var e=gB(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Ep=r,Ep}var Cp,l2;function fO(){if(l2)return Cp;l2=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Cp=r,Cp}var Tp,c2;function vB(){if(c2)return Tp;c2=1;var e=Wb(),t=pB(),r=Fa(),n=fO(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,h=c.toString,m=d.hasOwnProperty,g=RegExp("^"+h.call(m).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(b){if(!r(b)||t(b))return!1;var x=e(b)?g:o;return x.test(n(b))}return Tp=v,Tp}var Dp,u2;function yB(){if(u2)return Dp;u2=1;function e(t,r){return t?.[r]}return Dp=e,Dp}var Op,d2;function Ei(){if(d2)return Op;d2=1;var e=vB(),t=yB();function r(n,i){var o=t(n,i);return e(o)?o:void 0}return Op=r,Op}var Ap,f2;function dx(){if(f2)return Ap;f2=1;var e=Ei(),t=ha(),r=e(t,"Map");return Ap=r,Ap}var Rp,h2;function Gf(){if(h2)return Rp;h2=1;var e=Ei(),t=e(Object,"create");return Rp=t,Rp}var Mp,m2;function bB(){if(m2)return Mp;m2=1;var e=Gf();function t(){this.__data__=e?e(null):{},this.size=0}return Mp=t,Mp}var Lp,g2;function xB(){if(g2)return Lp;g2=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Lp=e,Lp}var qp,p2;function wB(){if(p2)return qp;p2=1;var e=Gf(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var c=this.__data__;if(e){var d=c[o];return d===t?void 0:d}return n.call(c,o)?c[o]:void 0}return qp=i,qp}var Up,v2;function _B(){if(v2)return Up;v2=1;var e=Gf(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var o=this.__data__;return e?o[i]!==void 0:r.call(o,i)}return Up=n,Up}var Pp,y2;function SB(){if(y2)return Pp;y2=1;var e=Gf(),t="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&i===void 0?t:i,this}return Pp=r,Pp}var $p,b2;function jB(){if(b2)return $p;b2=1;var e=bB(),t=xB(),r=wB(),n=_B(),i=SB();function o(c){var d=-1,h=c==null?0:c.length;for(this.clear();++d<h;){var m=c[d];this.set(m[0],m[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,$p=o,$p}var zp,x2;function NB(){if(x2)return zp;x2=1;var e=jB(),t=Kf(),r=dx();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return zp=n,zp}var Bp,w2;function kB(){if(w2)return Bp;w2=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Bp=e,Bp}var Ip,_2;function Yf(){if(_2)return Ip;_2=1;var e=kB();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Ip=t,Ip}var Fp,S2;function EB(){if(S2)return Fp;S2=1;var e=Yf();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Fp=t,Fp}var Hp,j2;function CB(){if(j2)return Hp;j2=1;var e=Yf();function t(r){return e(this,r).get(r)}return Hp=t,Hp}var Kp,N2;function TB(){if(N2)return Kp;N2=1;var e=Yf();function t(r){return e(this,r).has(r)}return Kp=t,Kp}var Gp,k2;function DB(){if(k2)return Gp;k2=1;var e=Yf();function t(r,n){var i=e(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return Gp=t,Gp}var Yp,E2;function fx(){if(E2)return Yp;E2=1;var e=NB(),t=EB(),r=CB(),n=TB(),i=DB();function o(c){var d=-1,h=c==null?0:c.length;for(this.clear();++d<h;){var m=c[d];this.set(m[0],m[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Yp=o,Yp}var Vp,C2;function OB(){if(C2)return Vp;C2=1;var e=Kf(),t=dx(),r=fx(),n=200;function i(o,c){var d=this.__data__;if(d instanceof e){var h=d.__data__;if(!t||h.length<n-1)return h.push([o,c]),this.size=++d.size,this;d=this.__data__=new r(h)}return d.set(o,c),this.size=d.size,this}return Vp=i,Vp}var Qp,T2;function hx(){if(T2)return Qp;T2=1;var e=Kf(),t=dB(),r=fB(),n=hB(),i=mB(),o=OB();function c(d){var h=this.__data__=new e(d);this.size=h.size}return c.prototype.clear=t,c.prototype.delete=r,c.prototype.get=n,c.prototype.has=i,c.prototype.set=o,Qp=c,Qp}var Wp,D2;function AB(){if(D2)return Wp;D2=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Wp=t,Wp}var Xp,O2;function RB(){if(O2)return Xp;O2=1;function e(t){return this.__data__.has(t)}return Xp=e,Xp}var Jp,A2;function MB(){if(A2)return Jp;A2=1;var e=fx(),t=AB(),r=RB();function n(i){var o=-1,c=i==null?0:i.length;for(this.__data__=new e;++o<c;)this.add(i[o])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Jp=n,Jp}var Zp,R2;function LB(){if(R2)return Zp;R2=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return Zp=e,Zp}var ev,M2;function qB(){if(M2)return ev;M2=1;function e(t,r){return t.has(r)}return ev=e,ev}var tv,L2;function hO(){if(L2)return tv;L2=1;var e=MB(),t=LB(),r=qB(),n=1,i=2;function o(c,d,h,m,g,v){var b=h&n,x=c.length,S=d.length;if(x!=S&&!(b&&S>x))return!1;var w=v.get(c),_=v.get(d);if(w&&_)return w==d&&_==c;var N=-1,C=!0,T=h&i?new e:void 0;for(v.set(c,d),v.set(d,c);++N<x;){var A=c[N],L=d[N];if(m)var E=b?m(L,A,N,d,c,v):m(A,L,N,c,d,v);if(E!==void 0){if(E)continue;C=!1;break}if(T){if(!t(d,function(D,R){if(!r(T,R)&&(A===D||g(A,D,h,m,v)))return T.push(R)})){C=!1;break}}else if(!(A===L||g(A,L,h,m,v))){C=!1;break}}return v.delete(c),v.delete(d),C}return tv=o,tv}var rv,q2;function mO(){if(q2)return rv;q2=1;var e=ha(),t=e.Uint8Array;return rv=t,rv}var nv,U2;function UB(){if(U2)return nv;U2=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,o){n[++r]=[o,i]}),n}return nv=e,nv}var av,P2;function PB(){if(P2)return av;P2=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return av=e,av}var sv,$2;function $B(){if($2)return sv;$2=1;var e=Yo(),t=mO(),r=Gc(),n=hO(),i=UB(),o=PB(),c=1,d=2,h="[object Boolean]",m="[object Date]",g="[object Error]",v="[object Map]",b="[object Number]",x="[object RegExp]",S="[object Set]",w="[object String]",_="[object Symbol]",N="[object ArrayBuffer]",C="[object DataView]",T=e?e.prototype:void 0,A=T?T.valueOf:void 0;function L(E,D,R,q,B,U,K){switch(R){case C:if(E.byteLength!=D.byteLength||E.byteOffset!=D.byteOffset)return!1;E=E.buffer,D=D.buffer;case N:return!(E.byteLength!=D.byteLength||!U(new t(E),new t(D)));case h:case m:case b:return r(+E,+D);case g:return E.name==D.name&&E.message==D.message;case x:case w:return E==D+"";case v:var V=i;case S:var te=q&c;if(V||(V=o),E.size!=D.size&&!te)return!1;var ge=K.get(E);if(ge)return ge==D;q|=d,K.set(E,D);var P=n(V(E),V(D),q,B,U,K);return K.delete(E),P;case _:if(A)return A.call(E)==A.call(D)}return!1}return sv=L,sv}var iv,z2;function mx(){if(z2)return iv;z2=1;function e(t,r){for(var n=-1,i=r.length,o=t.length;++n<i;)t[o+n]=r[n];return t}return iv=e,iv}var ov,B2;function Mn(){if(B2)return ov;B2=1;var e=Array.isArray;return ov=e,ov}var lv,I2;function gO(){if(I2)return lv;I2=1;var e=mx(),t=Mn();function r(n,i,o){var c=i(n);return t(n)?c:e(c,o(n))}return lv=r,lv}var cv,F2;function zB(){if(F2)return cv;F2=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=0,c=[];++n<i;){var d=t[n];r(d,n,t)&&(c[o++]=d)}return c}return cv=e,cv}var uv,H2;function pO(){if(H2)return uv;H2=1;function e(){return[]}return uv=e,uv}var dv,K2;function gx(){if(K2)return dv;K2=1;var e=zB(),t=pO(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(c){return c==null?[]:(c=Object(c),e(i(c),function(d){return n.call(c,d)}))}:t;return dv=o,dv}var fv,G2;function BB(){if(G2)return fv;G2=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return fv=e,fv}var hv,Y2;function IB(){if(Y2)return hv;Y2=1;var e=Vo(),t=Ds(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return hv=n,hv}var mv,V2;function px(){if(V2)return mv;V2=1;var e=IB(),t=Ds(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(c){return t(c)&&n.call(c,"callee")&&!i.call(c,"callee")};return mv=o,mv}var Wl={exports:{}},gv,Q2;function FB(){if(Q2)return gv;Q2=1;function e(){return!1}return gv=e,gv}Wl.exports;var W2;function Vf(){return W2||(W2=1,(function(e,t){var r=ha(),n=FB(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,c=o&&o.exports===i,d=c?r.Buffer:void 0,h=d?d.isBuffer:void 0,m=h||n;e.exports=m})(Wl,Wl.exports)),Wl.exports}var pv,X2;function HB(){if(X2)return pv;X2=1;var e=Vo(),t=Xb(),r=Ds(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",m="[object Map]",g="[object Number]",v="[object Object]",b="[object RegExp]",x="[object Set]",S="[object String]",w="[object WeakMap]",_="[object ArrayBuffer]",N="[object DataView]",C="[object Float32Array]",T="[object Float64Array]",A="[object Int8Array]",L="[object Int16Array]",E="[object Int32Array]",D="[object Uint8Array]",R="[object Uint8ClampedArray]",q="[object Uint16Array]",B="[object Uint32Array]",U={};U[C]=U[T]=U[A]=U[L]=U[E]=U[D]=U[R]=U[q]=U[B]=!0,U[n]=U[i]=U[_]=U[o]=U[N]=U[c]=U[d]=U[h]=U[m]=U[g]=U[v]=U[b]=U[x]=U[S]=U[w]=!1;function K(V){return r(V)&&t(V.length)&&!!U[e(V)]}return pv=K,pv}var vv,J2;function Qf(){if(J2)return vv;J2=1;function e(t){return function(r){return t(r)}}return vv=e,vv}var Xl={exports:{}};Xl.exports;var Z2;function vx(){return Z2||(Z2=1,(function(e,t){var r=WD(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,c=o&&r.process,d=(function(){try{var h=i&&i.require&&i.require("util").types;return h||c&&c.binding&&c.binding("util")}catch{}})();e.exports=d})(Xl,Xl.exports)),Xl.exports}var yv,ek;function yx(){if(ek)return yv;ek=1;var e=HB(),t=Qf(),r=vx(),n=r&&r.isTypedArray,i=n?t(n):e;return yv=i,yv}var bv,tk;function vO(){if(tk)return bv;tk=1;var e=BB(),t=px(),r=Mn(),n=Vf(),i=Jb(),o=yx(),c=Object.prototype,d=c.hasOwnProperty;function h(m,g){var v=r(m),b=!v&&t(m),x=!v&&!b&&n(m),S=!v&&!b&&!x&&o(m),w=v||b||x||S,_=w?e(m.length,String):[],N=_.length;for(var C in m)(g||d.call(m,C))&&!(w&&(C=="length"||x&&(C=="offset"||C=="parent")||S&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,N)))&&_.push(C);return _}return bv=h,bv}var xv,rk;function bx(){if(rk)return xv;rk=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return xv=t,xv}var wv,nk;function yO(){if(nk)return wv;nk=1;function e(t,r){return function(n){return t(r(n))}}return wv=e,wv}var _v,ak;function KB(){if(ak)return _v;ak=1;var e=yO(),t=e(Object.keys,Object);return _v=t,_v}var Sv,sk;function GB(){if(sk)return Sv;sk=1;var e=bx(),t=KB(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!e(o))return t(o);var c=[];for(var d in Object(o))n.call(o,d)&&d!="constructor"&&c.push(d);return c}return Sv=i,Sv}var jv,ik;function Jc(){if(ik)return jv;ik=1;var e=vO(),t=GB(),r=Yc();function n(i){return r(i)?e(i):t(i)}return jv=n,jv}var Nv,ok;function bO(){if(ok)return Nv;ok=1;var e=gO(),t=gx(),r=Jc();function n(i){return e(i,r,t)}return Nv=n,Nv}var kv,lk;function YB(){if(lk)return kv;lk=1;var e=bO(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,c,d,h,m,g){var v=d&t,b=e(o),x=b.length,S=e(c),w=S.length;if(x!=w&&!v)return!1;for(var _=x;_--;){var N=b[_];if(!(v?N in c:n.call(c,N)))return!1}var C=g.get(o),T=g.get(c);if(C&&T)return C==c&&T==o;var A=!0;g.set(o,c),g.set(c,o);for(var L=v;++_<x;){N=b[_];var E=o[N],D=c[N];if(h)var R=v?h(D,E,N,c,o,g):h(E,D,N,o,c,g);if(!(R===void 0?E===D||m(E,D,d,h,g):R)){A=!1;break}L||(L=N=="constructor")}if(A&&!L){var q=o.constructor,B=c.constructor;q!=B&&"constructor"in o&&"constructor"in c&&!(typeof q=="function"&&q instanceof q&&typeof B=="function"&&B instanceof B)&&(A=!1)}return g.delete(o),g.delete(c),A}return kv=i,kv}var Ev,ck;function VB(){if(ck)return Ev;ck=1;var e=Ei(),t=ha(),r=e(t,"DataView");return Ev=r,Ev}var Cv,uk;function QB(){if(uk)return Cv;uk=1;var e=Ei(),t=ha(),r=e(t,"Promise");return Cv=r,Cv}var Tv,dk;function WB(){if(dk)return Tv;dk=1;var e=Ei(),t=ha(),r=e(t,"Set");return Tv=r,Tv}var Dv,fk;function XB(){if(fk)return Dv;fk=1;var e=Ei(),t=ha(),r=e(t,"WeakMap");return Dv=r,Dv}var Ov,hk;function Wf(){if(hk)return Ov;hk=1;var e=VB(),t=dx(),r=QB(),n=WB(),i=XB(),o=Vo(),c=fO(),d="[object Map]",h="[object Object]",m="[object Promise]",g="[object Set]",v="[object WeakMap]",b="[object DataView]",x=c(e),S=c(t),w=c(r),_=c(n),N=c(i),C=o;return(e&&C(new e(new ArrayBuffer(1)))!=b||t&&C(new t)!=d||r&&C(r.resolve())!=m||n&&C(new n)!=g||i&&C(new i)!=v)&&(C=function(T){var A=o(T),L=A==h?T.constructor:void 0,E=L?c(L):"";if(E)switch(E){case x:return b;case S:return d;case w:return m;case _:return g;case N:return v}return A}),Ov=C,Ov}var Av,mk;function JB(){if(mk)return Av;mk=1;var e=hx(),t=hO(),r=$B(),n=YB(),i=Wf(),o=Mn(),c=Vf(),d=yx(),h=1,m="[object Arguments]",g="[object Array]",v="[object Object]",b=Object.prototype,x=b.hasOwnProperty;function S(w,_,N,C,T,A){var L=o(w),E=o(_),D=L?g:i(w),R=E?g:i(_);D=D==m?v:D,R=R==m?v:R;var q=D==v,B=R==v,U=D==R;if(U&&c(w)){if(!c(_))return!1;L=!0,q=!1}if(U&&!q)return A||(A=new e),L||d(w)?t(w,_,N,C,T,A):r(w,_,D,N,C,T,A);if(!(N&h)){var K=q&&x.call(w,"__wrapped__"),V=B&&x.call(_,"__wrapped__");if(K||V){var te=K?w.value():w,ge=V?_.value():_;return A||(A=new e),T(te,ge,N,C,A)}}return U?(A||(A=new e),n(w,_,N,C,T,A)):!1}return Av=S,Av}var Rv,gk;function xx(){if(gk)return Rv;gk=1;var e=JB(),t=Ds();function r(n,i,o,c,d){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,o,c,r,d)}return Rv=r,Rv}var Mv,pk;function ZB(){if(pk)return Mv;pk=1;var e=xx();function t(r,n){return e(r,n)}return Mv=t,Mv}var eI=ZB();const tI=Pr(eI);function Lv(e,t){var r=Zb(e);return r?r.innerHeight:ui(e).height}function xO(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(Tz(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}var qv,vk;function rI(){if(vk)return qv;vk=1;function e(t,r,n,i){for(var o=t.length,c=n+(i?1:-1);i?c--:++c<o;)if(r(t[c],c,t))return c;return-1}return qv=e,qv}var Uv,yk;function nI(){if(yk)return Uv;yk=1;var e=hx(),t=xx(),r=1,n=2;function i(o,c,d,h){var m=d.length,g=m,v=!h;if(o==null)return!g;for(o=Object(o);m--;){var b=d[m];if(v&&b[2]?b[1]!==o[b[0]]:!(b[0]in o))return!1}for(;++m<g;){b=d[m];var x=b[0],S=o[x],w=b[1];if(v&&b[2]){if(S===void 0&&!(x in o))return!1}else{var _=new e;if(h)var N=h(S,w,x,o,c,_);if(!(N===void 0?t(w,S,r|n,h,_):N))return!1}}return!0}return Uv=i,Uv}var Pv,bk;function wO(){if(bk)return Pv;bk=1;var e=Fa();function t(r){return r===r&&!e(r)}return Pv=t,Pv}var $v,xk;function aI(){if(xk)return $v;xk=1;var e=wO(),t=Jc();function r(n){for(var i=t(n),o=i.length;o--;){var c=i[o],d=n[c];i[o]=[c,d,e(d)]}return i}return $v=r,$v}var zv,wk;function _O(){if(wk)return zv;wk=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return zv=e,zv}var Bv,_k;function sI(){if(_k)return Bv;_k=1;var e=nI(),t=aI(),r=_O();function n(i){var o=t(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(c){return c===i||e(c,i,o)}}return Bv=n,Bv}var Iv,Sk;function wx(){if(Sk)return Iv;Sk=1;var e=Mn(),t=Vc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,c){if(e(o))return!1;var d=typeof o;return d=="number"||d=="symbol"||d=="boolean"||o==null||t(o)?!0:n.test(o)||!r.test(o)||c!=null&&o in Object(c)}return Iv=i,Iv}var Fv,jk;function iI(){if(jk)return Fv;jk=1;var e=fx(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var c=arguments,d=i?i.apply(this,c):c[0],h=o.cache;if(h.has(d))return h.get(d);var m=n.apply(this,c);return o.cache=h.set(d,m)||h,m};return o.cache=new(r.Cache||e),o}return r.Cache=e,Fv=r,Fv}var Hv,Nk;function oI(){if(Nk)return Hv;Nk=1;var e=iI(),t=500;function r(n){var i=e(n,function(c){return o.size===t&&o.clear(),c}),o=i.cache;return i}return Hv=r,Hv}var Kv,kk;function lI(){if(kk)return Kv;kk=1;var e=oI(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(c,d,h,m){o.push(h?m.replace(r,"$1"):d||c)}),o});return Kv=n,Kv}var Gv,Ek;function _x(){if(Ek)return Gv;Ek=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=Array(i);++n<i;)o[n]=r(t[n],n,t);return o}return Gv=e,Gv}var Yv,Ck;function cI(){if(Ck)return Yv;Ck=1;var e=Yo(),t=_x(),r=Mn(),n=Vc(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function c(d){if(typeof d=="string")return d;if(r(d))return t(d,c)+"";if(n(d))return o?o.call(d):"";var h=d+"";return h=="0"&&1/d==-1/0?"-0":h}return Yv=c,Yv}var Vv,Tk;function uI(){if(Tk)return Vv;Tk=1;var e=cI();function t(r){return r==null?"":e(r)}return Vv=t,Vv}var Qv,Dk;function Xf(){if(Dk)return Qv;Dk=1;var e=Mn(),t=wx(),r=lI(),n=uI();function i(o,c){return e(o)?o:t(o,c)?[o]:r(n(o))}return Qv=i,Qv}var Wv,Ok;function Zc(){if(Ok)return Wv;Ok=1;var e=Vc();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Wv=t,Wv}var Xv,Ak;function Jf(){if(Ak)return Xv;Ak=1;var e=Xf(),t=Zc();function r(n,i){i=e(i,n);for(var o=0,c=i.length;n!=null&&o<c;)n=n[t(i[o++])];return o&&o==c?n:void 0}return Xv=r,Xv}var Jv,Rk;function dI(){if(Rk)return Jv;Rk=1;var e=Jf();function t(r,n,i){var o=r==null?void 0:e(r,n);return o===void 0?i:o}return Jv=t,Jv}var Zv,Mk;function fI(){if(Mk)return Zv;Mk=1;function e(t,r){return t!=null&&r in Object(t)}return Zv=e,Zv}var ey,Lk;function hI(){if(Lk)return ey;Lk=1;var e=Xf(),t=px(),r=Mn(),n=Jb(),i=Xb(),o=Zc();function c(d,h,m){h=e(h,d);for(var g=-1,v=h.length,b=!1;++g<v;){var x=o(h[g]);if(!(b=d!=null&&m(d,x)))break;d=d[x]}return b||++g!=v?b:(v=d==null?0:d.length,!!v&&i(v)&&n(x,v)&&(r(d)||t(d)))}return ey=c,ey}var ty,qk;function mI(){if(qk)return ty;qk=1;var e=fI(),t=hI();function r(n,i){return n!=null&&t(n,i,e)}return ty=r,ty}var ry,Uk;function gI(){if(Uk)return ry;Uk=1;var e=xx(),t=dI(),r=mI(),n=wx(),i=wO(),o=_O(),c=Zc(),d=1,h=2;function m(g,v){return n(g)&&i(v)?o(c(g),v):function(b){var x=t(b,g);return x===void 0&&x===v?r(b,g):e(v,x,d|h)}}return ry=m,ry}var ny,Pk;function Zf(){if(Pk)return ny;Pk=1;function e(t){return t}return ny=e,ny}var ay,$k;function pI(){if($k)return ay;$k=1;function e(t){return function(r){return r?.[t]}}return ay=e,ay}var sy,zk;function vI(){if(zk)return sy;zk=1;var e=Jf();function t(r){return function(n){return e(n,r)}}return sy=t,sy}var iy,Bk;function yI(){if(Bk)return iy;Bk=1;var e=pI(),t=vI(),r=wx(),n=Zc();function i(o){return r(o)?e(n(o)):t(o)}return iy=i,iy}var oy,Ik;function eh(){if(Ik)return oy;Ik=1;var e=sI(),t=gI(),r=Zf(),n=Mn(),i=yI();function o(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?n(c)?t(c[0],c[1]):e(c):i(c)}return oy=o,oy}var ly,Fk;function bI(){if(Fk)return ly;Fk=1;var e=rI(),t=eh(),r=JD(),n=Math.max;function i(o,c,d){var h=o==null?0:o.length;if(!h)return-1;var m=d==null?0:r(d);return m<0&&(m=n(h+m,0)),e(o,t(c,3),m)}return ly=i,ly}var xI=bI();const wI=Pr(xI);var cy,Hk;function _I(){if(Hk)return cy;Hk=1;var e=Math.ceil,t=Math.max;function r(n,i,o,c){for(var d=-1,h=t(e((i-n)/(o||1)),0),m=Array(h);h--;)m[c?h:++d]=n,n+=o;return m}return cy=r,cy}var uy,Kk;function SI(){if(Kk)return uy;Kk=1;var e=_I(),t=If(),r=XD();function n(i){return function(o,c,d){return d&&typeof d!="number"&&t(o,c,d)&&(c=d=void 0),o=r(o),c===void 0?(c=o,o=0):c=r(c),d=d===void 0?o<c?1:-1:r(d),e(o,c,d,i)}}return uy=n,uy}var dy,Gk;function jI(){if(Gk)return dy;Gk=1;var e=SI(),t=e();return dy=t,dy}var NI=jI();const kI=Pr(NI);var Yk=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function EI(e,t){return!!(e===t||Yk(e)&&Yk(t))}function CI(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!EI(e[r],t[r]))return!1;return!0}function SO(e,t){t===void 0&&(t=CI);var r=null;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(r&&r.lastThis===this&&t(i,r.lastArgs))return r.lastResult;var c=e.apply(this,i);return r={lastResult:c,lastArgs:i,lastThis:this},c}return n.clear=function(){r=null},n}function rb(e,t){var r=Zb(e);return r?r.innerWidth:ui(e).width}var fy,Vk;function TI(){if(Vk)return fy;Vk=1;var e=Yo(),t=px(),r=Mn(),n=e?e.isConcatSpreadable:void 0;function i(o){return r(o)||t(o)||!!(n&&o&&o[n])}return fy=i,fy}var hy,Qk;function jO(){if(Qk)return hy;Qk=1;var e=mx(),t=TI();function r(n,i,o,c,d){var h=-1,m=n.length;for(o||(o=t),d||(d=[]);++h<m;){var g=n[h];i>0&&o(g)?i>1?r(g,i-1,o,c,d):e(d,g):c||(d[d.length]=g)}return d}return hy=r,hy}var my,Wk;function DI(){if(Wk)return my;Wk=1;function e(t){return function(r,n,i){for(var o=-1,c=Object(r),d=i(r),h=d.length;h--;){var m=d[t?h:++o];if(n(c[m],m,c)===!1)break}return r}}return my=e,my}var gy,Xk;function OI(){if(Xk)return gy;Xk=1;var e=DI(),t=e();return gy=t,gy}var py,Jk;function Sx(){if(Jk)return py;Jk=1;var e=OI(),t=Jc();function r(n,i){return n&&e(n,i,t)}return py=r,py}var vy,Zk;function AI(){if(Zk)return vy;Zk=1;var e=Yc();function t(r,n){return function(i,o){if(i==null)return i;if(!e(i))return r(i,o);for(var c=i.length,d=n?c:-1,h=Object(i);(n?d--:++d<c)&&o(h[d],d,h)!==!1;);return i}}return vy=t,vy}var yy,eE;function RI(){if(eE)return yy;eE=1;var e=Sx(),t=AI(),r=t(e);return yy=r,yy}var by,tE;function MI(){if(tE)return by;tE=1;var e=RI(),t=Yc();function r(n,i){var o=-1,c=t(n)?Array(n.length):[];return e(n,function(d,h,m){c[++o]=i(d,h,m)}),c}return by=r,by}var xy,rE;function LI(){if(rE)return xy;rE=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return xy=e,xy}var wy,nE;function qI(){if(nE)return wy;nE=1;var e=Vc();function t(r,n){if(r!==n){var i=r!==void 0,o=r===null,c=r===r,d=e(r),h=n!==void 0,m=n===null,g=n===n,v=e(n);if(!m&&!v&&!d&&r>n||d&&h&&g&&!m&&!v||o&&h&&g||!i&&g||!c)return 1;if(!o&&!d&&!v&&r<n||v&&i&&c&&!o&&!d||m&&i&&c||!h&&c||!g)return-1}return 0}return wy=t,wy}var _y,aE;function UI(){if(aE)return _y;aE=1;var e=qI();function t(r,n,i){for(var o=-1,c=r.criteria,d=n.criteria,h=c.length,m=i.length;++o<h;){var g=e(c[o],d[o]);if(g){if(o>=m)return g;var v=i[o];return g*(v=="desc"?-1:1)}}return r.index-n.index}return _y=t,_y}var Sy,sE;function PI(){if(sE)return Sy;sE=1;var e=_x(),t=Jf(),r=eh(),n=MI(),i=LI(),o=Qf(),c=UI(),d=Zf(),h=Mn();function m(g,v,b){v.length?v=e(v,function(w){return h(w)?function(_){return t(_,w.length===1?w[0]:w)}:w}):v=[d];var x=-1;v=e(v,o(r));var S=n(g,function(w,_,N){var C=e(v,function(T){return T(w)});return{criteria:C,index:++x,value:w}});return i(S,function(w,_){return c(w,_,b)})}return Sy=m,Sy}var jy,iE;function $I(){if(iE)return jy;iE=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return jy=e,jy}var Ny,oE;function NO(){if(oE)return Ny;oE=1;var e=$I(),t=Math.max;function r(n,i,o){return i=t(i===void 0?n.length-1:i,0),function(){for(var c=arguments,d=-1,h=t(c.length-i,0),m=Array(h);++d<h;)m[d]=c[i+d];d=-1;for(var g=Array(i+1);++d<i;)g[d]=c[d];return g[i]=o(m),e(n,this,g)}}return Ny=r,Ny}var ky,lE;function zI(){if(lE)return ky;lE=1;function e(t){return function(){return t}}return ky=e,ky}var Ey,cE;function kO(){if(cE)return Ey;cE=1;var e=Ei(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Ey=t,Ey}var Cy,uE;function BI(){if(uE)return Cy;uE=1;var e=zI(),t=kO(),r=Zf(),n=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return Cy=n,Cy}var Ty,dE;function II(){if(dE)return Ty;dE=1;var e=800,t=16,r=Date.now;function n(i){var o=0,c=0;return function(){var d=r(),h=t-(d-c);if(c=d,h>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Ty=n,Ty}var Dy,fE;function EO(){if(fE)return Dy;fE=1;var e=BI(),t=II(),r=t(e);return Dy=r,Dy}var Oy,hE;function CO(){if(hE)return Oy;hE=1;var e=Zf(),t=NO(),r=EO();function n(i,o){return r(t(i,o,e),i+"")}return Oy=n,Oy}var Ay,mE;function FI(){if(mE)return Ay;mE=1;var e=jO(),t=PI(),r=CO(),n=If(),i=r(function(o,c){if(o==null)return[];var d=c.length;return d>1&&n(o,c[0],c[1])?c=[]:d>2&&n(c[0],c[1],c[2])&&(c=[c[0]]),t(o,e(c,1),[])});return Ay=i,Ay}var HI=FI();const KI=Pr(HI);function TO(e){return MD(e)||VD(e)||Yb(e)||LD()}var Ry,gE;function GI(){if(gE)return Ry;gE=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return Ry=e,Ry}var My,pE;function YI(){if(pE)return My;pE=1;var e=Fa(),t=bx(),r=GI(),n=Object.prototype,i=n.hasOwnProperty;function o(c){if(!e(c))return r(c);var d=t(c),h=[];for(var m in c)m=="constructor"&&(d||!i.call(c,m))||h.push(m);return h}return My=o,My}var Ly,vE;function th(){if(vE)return Ly;vE=1;var e=vO(),t=YI(),r=Yc();function n(i){return r(i)?e(i,!0):t(i)}return Ly=n,Ly}var qy,yE;function VI(){if(yE)return qy;yE=1;var e=CO(),t=Gc(),r=If(),n=th(),i=Object.prototype,o=i.hasOwnProperty,c=e(function(d,h){d=Object(d);var m=-1,g=h.length,v=g>2?h[2]:void 0;for(v&&r(h[0],h[1],v)&&(g=1);++m<g;)for(var b=h[m],x=n(b),S=-1,w=x.length;++S<w;){var _=x[S],N=d[_];(N===void 0||t(N,i[_])&&!o.call(d,_))&&(d[_]=b[_])}return d});return qy=c,qy}var QI=VI();const WI=Pr(QI);var Uy,bE;function jx(){if(bE)return Uy;bE=1;var e=kO();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Uy=t,Uy}var Py,xE;function XI(){if(xE)return Py;xE=1;var e=jx(),t=Sx(),r=eh();function n(i,o){var c={};return o=r(o,3),t(i,function(d,h,m){e(c,h,o(d,h,m))}),c}return Py=n,Py}var JI=XI();const ZI=Pr(JI);var $y,wE;function DO(){if(wE)return $y;wE=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i&&r(t[n],n,t)!==!1;);return t}return $y=e,$y}var zy,_E;function OO(){if(_E)return zy;_E=1;var e=jx(),t=Gc(),r=Object.prototype,n=r.hasOwnProperty;function i(o,c,d){var h=o[c];(!(n.call(o,c)&&t(h,d))||d===void 0&&!(c in o))&&e(o,c,d)}return zy=i,zy}var By,SE;function eu(){if(SE)return By;SE=1;var e=OO(),t=jx();function r(n,i,o,c){var d=!o;o||(o={});for(var h=-1,m=i.length;++h<m;){var g=i[h],v=c?c(o[g],n[g],g,o,n):void 0;v===void 0&&(v=n[g]),d?t(o,g,v):e(o,g,v)}return o}return By=r,By}var Iy,jE;function e9(){if(jE)return Iy;jE=1;var e=eu(),t=Jc();function r(n,i){return n&&e(i,t(i),n)}return Iy=r,Iy}var Fy,NE;function t9(){if(NE)return Fy;NE=1;var e=eu(),t=th();function r(n,i){return n&&e(i,t(i),n)}return Fy=r,Fy}var Jl={exports:{}};Jl.exports;var kE;function r9(){return kE||(kE=1,(function(e,t){var r=ha(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,c=o?r.Buffer:void 0,d=c?c.allocUnsafe:void 0;function h(m,g){if(g)return m.slice();var v=m.length,b=d?d(v):new m.constructor(v);return m.copy(b),b}e.exports=h})(Jl,Jl.exports)),Jl.exports}var Hy,EE;function n9(){if(EE)return Hy;EE=1;function e(t,r){var n=-1,i=t.length;for(r||(r=Array(i));++n<i;)r[n]=t[n];return r}return Hy=e,Hy}var Ky,CE;function a9(){if(CE)return Ky;CE=1;var e=eu(),t=gx();function r(n,i){return e(n,t(n),i)}return Ky=r,Ky}var Gy,TE;function rh(){if(TE)return Gy;TE=1;var e=yO(),t=e(Object.getPrototypeOf,Object);return Gy=t,Gy}var Yy,DE;function AO(){if(DE)return Yy;DE=1;var e=mx(),t=rh(),r=gx(),n=pO(),i=Object.getOwnPropertySymbols,o=i?function(c){for(var d=[];c;)e(d,r(c)),c=t(c);return d}:n;return Yy=o,Yy}var Vy,OE;function s9(){if(OE)return Vy;OE=1;var e=eu(),t=AO();function r(n,i){return e(n,t(n),i)}return Vy=r,Vy}var Qy,AE;function RO(){if(AE)return Qy;AE=1;var e=gO(),t=AO(),r=th();function n(i){return e(i,r,t)}return Qy=n,Qy}var Wy,RE;function i9(){if(RE)return Wy;RE=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var i=n.length,o=new n.constructor(i);return i&&typeof n[0]=="string"&&t.call(n,"index")&&(o.index=n.index,o.input=n.input),o}return Wy=r,Wy}var Xy,ME;function Nx(){if(ME)return Xy;ME=1;var e=mO();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return Xy=t,Xy}var Jy,LE;function o9(){if(LE)return Jy;LE=1;var e=Nx();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return Jy=t,Jy}var Zy,qE;function l9(){if(qE)return Zy;qE=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return Zy=t,Zy}var e0,UE;function c9(){if(UE)return e0;UE=1;var e=Yo(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return e0=n,e0}var t0,PE;function u9(){if(PE)return t0;PE=1;var e=Nx();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return t0=t,t0}var r0,$E;function d9(){if($E)return r0;$E=1;var e=Nx(),t=o9(),r=l9(),n=c9(),i=u9(),o="[object Boolean]",c="[object Date]",d="[object Map]",h="[object Number]",m="[object RegExp]",g="[object Set]",v="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",S="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",N="[object Int8Array]",C="[object Int16Array]",T="[object Int32Array]",A="[object Uint8Array]",L="[object Uint8ClampedArray]",E="[object Uint16Array]",D="[object Uint32Array]";function R(q,B,U){var K=q.constructor;switch(B){case x:return e(q);case o:case c:return new K(+q);case S:return t(q,U);case w:case _:case N:case C:case T:case A:case L:case E:case D:return i(q,U);case d:return new K;case h:case v:return new K(q);case m:return r(q);case g:return new K;case b:return n(q)}}return r0=R,r0}var n0,zE;function MO(){if(zE)return n0;zE=1;var e=Fa(),t=Object.create,r=(function(){function n(){}return function(i){if(!e(i))return{};if(t)return t(i);n.prototype=i;var o=new n;return n.prototype=void 0,o}})();return n0=r,n0}var a0,BE;function f9(){if(BE)return a0;BE=1;var e=MO(),t=rh(),r=bx();function n(i){return typeof i.constructor=="function"&&!r(i)?e(t(i)):{}}return a0=n,a0}var s0,IE;function h9(){if(IE)return s0;IE=1;var e=Wf(),t=Ds(),r="[object Map]";function n(i){return t(i)&&e(i)==r}return s0=n,s0}var i0,FE;function m9(){if(FE)return i0;FE=1;var e=h9(),t=Qf(),r=vx(),n=r&&r.isMap,i=n?t(n):e;return i0=i,i0}var o0,HE;function g9(){if(HE)return o0;HE=1;var e=Wf(),t=Ds(),r="[object Set]";function n(i){return t(i)&&e(i)==r}return o0=n,o0}var l0,KE;function p9(){if(KE)return l0;KE=1;var e=g9(),t=Qf(),r=vx(),n=r&&r.isSet,i=n?t(n):e;return l0=i,l0}var c0,GE;function v9(){if(GE)return c0;GE=1;var e=hx(),t=DO(),r=OO(),n=e9(),i=t9(),o=r9(),c=n9(),d=a9(),h=s9(),m=bO(),g=RO(),v=Wf(),b=i9(),x=d9(),S=f9(),w=Mn(),_=Vf(),N=m9(),C=Fa(),T=p9(),A=Jc(),L=th(),E=1,D=2,R=4,q="[object Arguments]",B="[object Array]",U="[object Boolean]",K="[object Date]",V="[object Error]",te="[object Function]",ge="[object GeneratorFunction]",P="[object Map]",W="[object Number]",J="[object Object]",me="[object RegExp]",oe="[object Set]",M="[object String]",H="[object Symbol]",se="[object WeakMap]",fe="[object ArrayBuffer]",be="[object DataView]",xe="[object Float32Array]",Oe="[object Float64Array]",Le="[object Int8Array]",ae="[object Int16Array]",le="[object Int32Array]",at="[object Uint8Array]",Pe="[object Uint8ClampedArray]",Xe="[object Uint16Array]",et="[object Uint32Array]",Ue={};Ue[q]=Ue[B]=Ue[fe]=Ue[be]=Ue[U]=Ue[K]=Ue[xe]=Ue[Oe]=Ue[Le]=Ue[ae]=Ue[le]=Ue[P]=Ue[W]=Ue[J]=Ue[me]=Ue[oe]=Ue[M]=Ue[H]=Ue[at]=Ue[Pe]=Ue[Xe]=Ue[et]=!0,Ue[V]=Ue[te]=Ue[se]=!1;function ht(Be,dr,Wt,bt,mt,gt){var ft,nt=dr&E,yr=dr&D,Ht=dr&R;if(Wt&&(ft=mt?Wt(Be,bt,mt,gt):Wt(Be)),ft!==void 0)return ft;if(!C(Be))return Be;var jt=w(Be);if(jt){if(ft=b(Be),!nt)return c(Be,ft)}else{var Et=v(Be),zr=Et==te||Et==ge;if(_(Be))return o(Be,nt);if(Et==J||Et==q||zr&&!mt){if(ft=yr||zr?{}:S(Be),!nt)return yr?h(Be,i(ft,Be)):d(Be,n(ft,Be))}else{if(!Ue[Et])return mt?Be:{};ft=x(Be,Et,nt)}}gt||(gt=new e);var Br=gt.get(Be);if(Br)return Br;gt.set(Be,ft),T(Be)?Be.forEach(function(Re){ft.add(ht(Re,dr,Wt,Re,Be,gt))}):N(Be)&&Be.forEach(function(Re,Ae){ft.set(Ae,ht(Re,dr,Wt,Ae,Be,gt))});var re=Ht?yr?g:m:yr?L:A,ve=jt?void 0:re(Be);return t(ve||Be,function(Re,Ae){ve&&(Ae=Re,Re=Be[Ae]),r(ft,Ae,ht(Re,dr,Wt,Ae,Be,gt))}),ft}return c0=ht,c0}var u0,YE;function y9(){if(YE)return u0;YE=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return u0=e,u0}var d0,VE;function b9(){if(VE)return d0;VE=1;var e=Jf(),t=QD();function r(n,i){return i.length<2?n:e(n,t(i,0,-1))}return d0=r,d0}var f0,QE;function x9(){if(QE)return f0;QE=1;var e=Xf(),t=y9(),r=b9(),n=Zc();function i(o,c){return c=e(c,o),o=r(o,c),o==null||delete o[n(t(c))]}return f0=i,f0}var h0,WE;function w9(){if(WE)return h0;WE=1;var e=Vo(),t=rh(),r=Ds(),n="[object Object]",i=Function.prototype,o=Object.prototype,c=i.toString,d=o.hasOwnProperty,h=c.call(Object);function m(g){if(!r(g)||e(g)!=n)return!1;var v=t(g);if(v===null)return!0;var b=d.call(v,"constructor")&&v.constructor;return typeof b=="function"&&b instanceof b&&c.call(b)==h}return h0=m,h0}var m0,XE;function _9(){if(XE)return m0;XE=1;var e=w9();function t(r){return e(r)?void 0:r}return m0=t,m0}var g0,JE;function S9(){if(JE)return g0;JE=1;var e=jO();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return g0=t,g0}var p0,ZE;function j9(){if(ZE)return p0;ZE=1;var e=S9(),t=NO(),r=EO();function n(i){return r(t(i,void 0,e),i+"")}return p0=n,p0}var v0,eC;function N9(){if(eC)return v0;eC=1;var e=_x(),t=v9(),r=x9(),n=Xf(),i=eu(),o=_9(),c=j9(),d=RO(),h=1,m=2,g=4,v=c(function(b,x){var S={};if(b==null)return S;var w=!1;x=e(x,function(N){return N=n(N,b),w||(w=N.length>1),N}),i(b,d(b),S),w&&(S=t(S,h|m|g,o));for(var _=x.length;_--;)r(S,x[_]);return S});return v0=v,v0}var k9=N9();const E9=Pr(k9);var y0,tC;function C9(){if(tC)return y0;tC=1;var e=DO(),t=MO(),r=Sx(),n=eh(),i=rh(),o=Mn(),c=Vf(),d=Wb(),h=Fa(),m=yx();function g(v,b,x){var S=o(v),w=S||c(v)||m(v);if(b=n(b,4),x==null){var _=v&&v.constructor;w?x=S?new _:[]:h(v)?x=d(_)?t(i(v)):{}:x={}}return(w?e:r)(v,function(N,C,T){return b(x,N,C,T)}),x}return y0=g,y0}var T9=C9();const D9=Pr(T9);var $d={exports:{}},O9=$d.exports,rC;function A9(){return rC||(rC=1,(function(e,t){(function(r,n){e.exports=n()})(O9,(function(){return function(r,n,i){n.prototype.isBetween=function(o,c,d,h){var m=i(o),g=i(c),v=(h=h||"()")[0]==="(",b=h[1]===")";return(v?this.isAfter(m,d):!this.isBefore(m,d))&&(b?this.isBefore(g,d):!this.isAfter(g,d))||(v?this.isBefore(m,d):!this.isAfter(m,d))&&(b?this.isAfter(g,d):!this.isBefore(g,d))}}}))})($d)),$d.exports}A9();var zd={exports:{}},R9=zd.exports,nC;function M9(){return nC||(nC=1,(function(e,t){(function(r,n){e.exports=n()})(R9,(function(){return function(r,n){n.prototype.isSameOrAfter=function(i,o){return this.isSame(i,o)||this.isAfter(i,o)}}}))})(zd)),zd.exports}M9();var Bd={exports:{}},L9=Bd.exports,aC;function q9(){return aC||(aC=1,(function(e,t){(function(r,n){e.exports=n()})(L9,(function(){return function(r,n){n.prototype.isSameOrBefore=function(i,o){return this.isSame(i,o)||this.isBefore(i,o)}}}))})(Bd)),Bd.exports}q9();var Id={exports:{}},U9=Id.exports,sC;function P9(){return sC||(sC=1,(function(e,t){(function(r,n){e.exports=n()})(U9,(function(){return function(r,n,i){var o=n.prototype,c=function(v){return v&&(v.indexOf?v:v.s)},d=function(v,b,x,S,w){var _=v.name?v:v.$locale(),N=c(_[b]),C=c(_[x]),T=N||C.map((function(L){return L.slice(0,S)}));if(!w)return T;var A=_.weekStart;return T.map((function(L,E){return T[(E+(A||0))%7]}))},h=function(){return i.Ls[i.locale()]},m=function(v,b){return v.formats[b]||(function(x){return x.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(S,w,_){return w||_.slice(1)}))})(v.formats[b.toUpperCase()])},g=function(){var v=this;return{months:function(b){return b?b.format("MMMM"):d(v,"months")},monthsShort:function(b){return b?b.format("MMM"):d(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(b){return b?b.format("dddd"):d(v,"weekdays")},weekdaysMin:function(b){return b?b.format("dd"):d(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(b){return b?b.format("ddd"):d(v,"weekdaysShort","weekdays",3)},longDateFormat:function(b){return m(v.$locale(),b)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return g.bind(this)()},i.localeData=function(){var v=h();return{firstDayOfWeek:function(){return v.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(b){return m(v,b)},meridiem:v.meridiem,ordinal:v.ordinal}},i.months=function(){return d(h(),"months")},i.monthsShort=function(){return d(h(),"monthsShort","months",3)},i.weekdays=function(v){return d(h(),"weekdays",null,null,v)},i.weekdaysShort=function(v){return d(h(),"weekdaysShort","weekdays",3,v)},i.weekdaysMin=function(v){return d(h(),"weekdaysMin","weekdays",2,v)}}}))})(Id)),Id.exports}P9();var Fd={exports:{}},$9=Fd.exports,iC;function z9(){return iC||(iC=1,(function(e,t){(function(r,n){e.exports=n()})($9,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,o){var c=i.prototype,d=c.format;o.en.formats=r,c.format=function(h){h===void 0&&(h="YYYY-MM-DDTHH:mm:ssZ");var m=this.$locale().formats,g=(function(v,b){return v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(x,S,w){var _=w&&w.toUpperCase();return S||b[w]||r[w]||b[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(N,C,T){return C||T.slice(1)}))}))})(h,m===void 0?{}:m);return d.call(this,g)}}}))})(Fd)),Fd.exports}z9();var Hd={exports:{}},B9=Hd.exports,oC;function I9(){return oC||(oC=1,(function(e,t){(function(r,n){e.exports=n()})(B9,(function(){return function(r,n,i){var o=function(c,d){if(!d||!d.length||d.length===1&&!d[0]||d.length===1&&Array.isArray(d[0])&&!d[0].length)return null;var h;d.length===1&&d[0].length>0&&(d=d[0]),h=(d=d.filter((function(g){return g})))[0];for(var m=1;m<d.length;m+=1)d[m].isValid()&&!d[m][c](h)||(h=d[m]);return h};i.max=function(){var c=[].slice.call(arguments,0);return o("isAfter",c)},i.min=function(){var c=[].slice.call(arguments,0);return o("isBefore",c)}}}))})(Hd)),Hd.exports}I9();var Kd={exports:{}},F9=Kd.exports,lC;function H9(){return lC||(lC=1,(function(e,t){(function(r,n){e.exports=n()})(F9,(function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,c,d){var h=c.prototype;d.utc=function(w){var _={date:w,utc:!0,args:arguments};return new c(_)},h.utc=function(w){var _=d(this.toDate(),{locale:this.$L,utc:!0});return w?_.add(this.utcOffset(),r):_},h.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var m=h.parse;h.parse=function(w){w.utc&&(this.$u=!0),this.$utils().u(w.$offset)||(this.$offset=w.$offset),m.call(this,w)};var g=h.init;h.init=function(){if(this.$u){var w=this.$d;this.$y=w.getUTCFullYear(),this.$M=w.getUTCMonth(),this.$D=w.getUTCDate(),this.$W=w.getUTCDay(),this.$H=w.getUTCHours(),this.$m=w.getUTCMinutes(),this.$s=w.getUTCSeconds(),this.$ms=w.getUTCMilliseconds()}else g.call(this)};var v=h.utcOffset;h.utcOffset=function(w,_){var N=this.$utils().u;if(N(w))return this.$u?0:N(this.$offset)?v.call(this):this.$offset;if(typeof w=="string"&&(w=(function(L){L===void 0&&(L="");var E=L.match(n);if(!E)return null;var D=(""+E[0]).match(i)||["-",0,0],R=D[0],q=60*+D[1]+ +D[2];return q===0?0:R==="+"?q:-q})(w),w===null))return this;var C=Math.abs(w)<=16?60*w:w;if(C===0)return this.utc(_);var T=this.clone();if(_)return T.$offset=C,T.$u=!1,T;var A=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(T=this.local().add(C+A,r)).$offset=C,T.$x.$localOffset=A,T};var b=h.format;h.format=function(w){var _=w||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,_)},h.valueOf=function(){var w=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*w},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var x=h.toDate;h.toDate=function(w){return w==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():x.call(this)};var S=h.diff;h.diff=function(w,_,N){if(w&&this.$u===w.$u)return S.call(this,w,_,N);var C=this.local(),T=d(w).local();return S.call(C,T,_,N)}}}))})(Kd)),Kd.exports}H9();var Gd={exports:{}},K9=Gd.exports,cC;function G9(){return cC||(cC=1,(function(e,t){(function(r,n){e.exports=n()})(K9,(function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(Gd)),Gd.exports}G9();function sa(e){return e.children}var Jr={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},qr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},uC=Object.keys(qr).map(function(e){return qr[e]});ye.oneOfType([ye.string,ye.func]);ye.any;ye.func;ye.oneOfType([ye.arrayOf(ye.oneOf(uC)),ye.objectOf(function(e,t){var r=uC.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return ye.elementType.apply(ye,[e,t].concat(i))})]);ye.oneOfType([ye.oneOf(["overlap","no-overlap"]),ye.func]);var dC={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function LO(e,t){var r=Nr(e,"month");return Nr(r,"week",t.startOfWeek())}function qO(e,t){var r=yf(e,"month");return yf(r,"week",t.startOfWeek())}function Y9(e,t){for(var r=LO(e,t),n=qO(e,t),i=[];Ko(r,n,"day");)i.push(r),r=Yn(r,1,"day");return i}function V9(e,t){var r=Nr(e,t);return Ho(r,e)?r:Yn(r,1,t)}function Q9(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,i=[];Ko(n,t,r);)i.push(n),n=Yn(n,1,r);return i}function W9(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Nr(e,"day"),e=Cc(e,Cc(t)),e=Ro(e,Ro(t)),e=Ec(e,Ec(t)),kc(e,kc(t)))}function fC(e){return Cc(e)===0&&Ro(e)===0&&Ec(e)===0&&kc(e)===0}function X9(e,t,r,n){return r==="day"&&(r="date"),Math.abs(sN[r](e,void 0,n)-sN[r](t,void 0,n))}function kx(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Nr(e,r)/dC[r]-+Nr(t,r)/dC[r]))}var J9=ye.oneOfType([ye.string,ye.func]);function Z9(e,t,r,n,i){var o=typeof n=="function"?n(r,i,e):t.call(e,r,n,i);return xc(o==null||typeof o=="string","`localizer format(..)` must return a string, null, or undefined"),o}function eF(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Ex(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function tF(e,t){return kx(e,t,"minutes")+Ex(e,t)}function rF(e){var t=Nr(e,"day");return kx(t,e,"minutes")+Ex(t,e)}function nF(e,t){return Qb(e,t,"day")}function aF(e,t,r){var n=Ho(e,t,"minutes");return n?Kc(t,r,"minutes"):Bf(t,r,"minutes")}function nb(e,t){return X9(e,t,"day")}function sF(e){var t=e.evtA,r=t.start,n=t.end,i=t.allDay,o=e.evtB,c=o.start,d=o.end,h=o.allDay,m=+Nr(r,"day")-+Nr(c,"day"),g=nb(r,n),v=nb(c,d);return m||v-g||!!h-!!i||+r-+c||+n-+d}function iF(e){var t=e.event,r=t.start,n=t.end,i=e.range,o=i.start,c=i.end,d=Nr(r,"day"),h=Ko(d,c,"day"),m=Vb(d,n,"minutes"),g=m?Bf(n,o,"minutes"):Kc(n,o,"minutes");return h&&g}function oF(e,t){return Ho(e,t,"day")}function lF(e,t){return fC(e)&&fC(t)}var cF=ur(function e(t){var r=this;cr(this,e),xc(typeof t.format=="function","date localizer `format(..)` must be a function"),xc(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||J9,this.formats=t.formats,this.format=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Z9.apply(void 0,[r,t.format].concat(i))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||W9,this.inRange=t.inRange||HD,this.lt=t.lt||Qb,this.lte=t.lte||Ko,this.gt=t.gt||Bf,this.gte=t.gte||Kc,this.eq=t.eq||Ho,this.neq=t.neq||Vb,this.startOf=t.startOf||Nr,this.endOf=t.endOf||yf,this.add=t.add||Yn,this.range=t.range||Q9,this.diff=t.diff||kx,this.ceil=t.ceil||V9,this.min=t.min||ID,this.max=t.max||FD,this.minutes=t.minutes||Ro,this.daySpan=t.daySpan||nb,this.firstVisibleDay=t.firstVisibleDay||LO,this.lastVisibleDay=t.lastVisibleDay||qO,this.visibleDays=t.visibleDays||Y9,this.getSlotDate=t.getSlotDate||eF,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Ex,this.getTotalMin=t.getTotalMin||tF,this.getMinutesFromMidnight=t.getMinutesFromMidnight||rF,this.continuesPrior=t.continuesPrior||nF,this.continuesAfter=t.continuesAfter||aF,this.sortEvents=t.sortEvents||sF,this.inEventRange=t.inEventRange||iF,this.isSameDate=t.isSameDate||oF,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||lF,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function uF(e,t,r,n){var i=kt(kt({},e.formats),r);return kt(kt({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(c,d){return e.format(c,i[d]||d,t)}})}var dF=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Or(this,t,[].concat(i)),r.navigate=function(c){r.props.onNavigate(c)},r.view=function(c){r.props.onView(c)},r}return Ar(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.localizer.messages,o=n.label;return I.createElement("div",{className:"rbc-toolbar"},I.createElement("span",{className:"rbc-btn-group"},I.createElement("button",{type:"button",onClick:this.navigate.bind(null,Jr.TODAY)},i.today),I.createElement("button",{type:"button",onClick:this.navigate.bind(null,Jr.PREVIOUS)},i.previous),I.createElement("button",{type:"button",onClick:this.navigate.bind(null,Jr.NEXT)},i.next)),I.createElement("span",{className:"rbc-toolbar-label"},o),I.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(n){var i=this,o=this.props.views,c=this.props.view;if(o.length>1)return o.map(function(d){return I.createElement("button",{type:"button",key:d,className:Ft({"rbc-active":c===d}),onClick:i.view.bind(null,d)},n[d])})}}])})(I.Component);function At(e,t){e&&e.apply(null,[].concat(t))}var fF={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function hF(e){return kt(kt({},fF),e)}function mF(e){var t=e.ref,r=e.callback;k.useEffect(function(){var n=function(o){t.current&&!t.current.contains(o.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var gF=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],UO=(function(e){function t(){return cr(this,t),Or(this,t,arguments)}return Ar(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.style,o=n.className,c=n.event,d=n.selected,h=n.isAllDay,m=n.onSelect,g=n.onDoubleClick,v=n.onKeyPress,b=n.localizer,x=n.continuesPrior,S=n.continuesAfter,w=n.accessors,_=n.getters,N=n.children,C=n.components,T=C.event,A=C.eventWrapper,L=n.slotStart,E=n.slotEnd,D=ca(n,gF);delete D.resizable;var R=w.title(c),q=w.tooltip(c),B=w.end(c),U=w.start(c),K=w.allDay(c),V=h||K||b.diff(U,b.ceil(B,"day"),"day")>1,te=_.eventProp(c,U,B,d),ge=I.createElement("div",{className:"rbc-event-content",title:q||void 0},T?I.createElement(T,{event:c,continuesPrior:x,continuesAfter:S,title:R,isAllDay:K,localizer:b,slotStart:L,slotEnd:E}):R);return I.createElement(A,Object.assign({},this.props,{type:"date"}),I.createElement("div",Object.assign({},D,{style:kt(kt({},te.style),i),className:Ft("rbc-event",o,te.className,{"rbc-selected":d,"rbc-event-allday":V,"rbc-event-continues-prior":x,"rbc-event-continues-after":S}),onClick:function(W){return m&&m(c,W)},onDoubleClick:function(W){return g&&g(c,W)},onKeyDown:function(W){return v&&v(c,W)}}),typeof N=="function"?N(ge):ge))}}])})(I.Component);function nh(e,t){return!e||t==null?!1:tI(e,t)}function PO(e,t){var r=e.right-e.left,n=r/t;return n}function $O(e,t,r,n){var i=PO(e,n);return r?n-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}function pF(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function vF(e,t,r,n,i){var o=-1,c=-1,d=n-1,h=PO(t,n),m=$O(t,r.x,i,n),g=t.top<r.y&&t.bottom>r.y,v=t.top<e.y&&t.bottom>e.y,b=e.y>t.bottom,x=t.top>e.y,S=r.top<t.top&&r.bottom>t.bottom;return S&&(o=0,c=d),g&&(x?(o=0,c=m):b&&(o=m,c=d)),v&&(o=c=i?d-Math.floor((e.x-t.left)/h):Math.floor((e.x-t.left)/h),g?m<o?o=m:c=m:e.y<r.y?c=d:o=0),{startIdx:o,endIdx:c}}function yF(e){var t=e.target,r=e.offset,n=e.container,i=e.box,o=ui(t),c=o.top,d=o.left,h=o.width,m=o.height,g=ui(n),v=g.top,b=g.left,x=g.width,S=g.height,w=ui(i),_=w.width,N=w.height,C=v+S,T=b+x,A=c+N,L=d+_,E=r.x,D=r.y,R=A>C?c-N-D:c+D+m,q=L>T?d+E-_+h:d+E;return{topOffset:R,leftOffset:q}}function bF(e){var t=e.containerRef,r=e.accessors,n=e.getters,i=e.selected,o=e.components,c=e.localizer,d=e.position,h=e.show,m=e.events,g=e.slotStart,v=e.slotEnd,b=e.onSelect,x=e.onDoubleClick,S=e.onKeyPress,w=e.handleDragStart,_=e.popperRef,N=e.target,C=e.offset;mF({ref:_,callback:h}),k.useLayoutEffect(function(){var L=yF({target:N,offset:C,container:t.current,box:_.current}),E=L.topOffset,D=L.leftOffset;_.current.style.top="".concat(E,"px"),_.current.style.left="".concat(D,"px")},[C.x,C.y,N]);var T=d.width,A={minWidth:T+T/2};return I.createElement("div",{style:A,className:"rbc-overlay",ref:_},I.createElement("div",{className:"rbc-overlay-header"},c.format(g,"dayHeaderFormat")),m.map(function(L,E){return I.createElement(UO,{key:E,type:"popup",localizer:c,event:L,getters:n,onSelect:b,accessors:r,components:o,onDoubleClick:x,onKeyPress:S,continuesPrior:c.lt(r.end(L),g,"day"),continuesAfter:c.gte(r.start(L),v,"day"),slotStart:g,slotEnd:v,selected:nh(L,i),draggable:!0,onDragStart:function(){return w(L)},onDragEnd:function(){return h()}})}))}var zO=I.forwardRef(function(e,t){return I.createElement(bF,Object.assign({},e,{popperRef:t}))});zO.propTypes={accessors:ye.object.isRequired,getters:ye.object.isRequired,selected:ye.object,components:ye.object.isRequired,localizer:ye.object.isRequired,position:ye.object.isRequired,show:ye.func.isRequired,events:ye.array.isRequired,slotStart:ye.instanceOf(Date).isRequired,slotEnd:ye.instanceOf(Date),onSelect:ye.func,onDoubleClick:ye.func,onKeyPress:ye.func,handleDragStart:ye.func,style:ye.object,offset:ye.shape({x:ye.number,y:ye.number})};function xF(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,i=e.overlay,o=e.accessors,c=e.localizer,d=e.components,h=e.getters,m=e.selected,g=e.handleSelectEvent,v=e.handleDoubleClickEvent,b=e.handleKeyPressEvent,x=e.handleDragStart,S=e.onHide,w=e.overlayDisplay,_=k.useRef(null);if(!i.position)return null;var N=n;isNaN(n)||(N={x:n,y:n});var C=i.position,T=i.events,A=i.date,L=i.end;return I.createElement(ux,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:S,target:i.target},function(E){var D=E.props;return I.createElement(zO,Object.assign({},D,{containerRef:t,ref:_,target:i.target,offset:N,accessors:o,getters:h,selected:m,components:d,localizer:c,position:C,show:w,events:T,slotStart:A,slotEnd:L,onSelect:g,onDoubleClick:v,onKeyPress:b,handleDragStart:x}))})}var Cx=I.forwardRef(function(e,t){return I.createElement(xF,Object.assign({},e,{containerRef:t}))});Cx.propTypes={popupOffset:ye.oneOfType([ye.number,ye.shape({x:ye.number,y:ye.number})]),overlay:ye.shape({position:ye.object,events:ye.array,date:ye.instanceOf(Date),end:ye.instanceOf(Date)}),accessors:ye.object.isRequired,localizer:ye.object.isRequired,components:ye.object.isRequired,getters:ye.object.isRequired,selected:ye.object,handleSelectEvent:ye.func,handleDoubleClickEvent:ye.func,handleKeyPressEvent:ye.func,handleDragStart:ye.func,onHide:ye.func,overlayDisplay:ye.func};function Dr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Ql(r,e,t,{passive:!1})}function wF(e,t,r){return!e||Tc(e,document.elementFromPoint(t,r))}function _F(e,t){var r=t.clientX,n=t.clientY,i=document.elementFromPoint(r,n);return xO(i,".rbc-event",e)}function SF(e,t){var r=t.clientX,n=t.clientY,i=document.elementFromPoint(r,n);return xO(i,".rbc-show-more",e)}function wf(e,t){return!!_F(e,t)}function jF(e,t){return!!SF(e,t)}function Hl(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var hC=5,NF=250,BO=(function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,i=n===void 0?!1:n,o=r.longPressThreshold,c=o===void 0?250:o,d=r.validContainers,h=d===void 0?[]:d;cr(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=c,this.validContainers=h,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Dr("touchmove",function(){},window),this._removeKeyDownListener=Dr("keydown",this._keyListener),this._removeKeyUpListener=Dr("keyup",this._keyListener),this._removeDropFromOutsideListener=Dr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Dr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return ur(e,[{key:"on",value:function(r,n){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(n),{remove:function(){var c=i.indexOf(n);c!==-1&&i.splice(c,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var c,d=this._listeners[r]||[];return d.forEach(function(h){c===void 0&&(c=h.apply(void 0,i))}),c}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:mC(n,_i(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var i=this,o=null,c=null,d=null,h=function(b){o=setTimeout(function(){g(),r(b)},i.longPressThreshold),c=Dr("touchmove",function(){return g()}),d=Dr("touchend",function(){return g()})},m=Dr("touchstart",h),g=function(){o&&clearTimeout(o),c&&c(),d&&d(),o=null,c=null,d=null};return n&&h(n),function(){g(),m()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Dr("mousedown",function(o){r._removeInitialEventListener(),r._handleInitialEvent(o),r._removeInitialEventListener=Dr("mousedown",r._handleInitialEvent)}),i=Dr("touchstart",function(o){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,o)});this._removeInitialEventListener=function(){n(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Hl(r),i=n.pageX,o=n.pageY,c=n.clientX,d=n.clientY;this.emit("dropFromOutside",{x:i,y:o,clientX:c,clientY:d}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Hl(r),i=n.pageX,o=n.pageY,c=n.clientX,d=n.clientY;this.emit("dragOverFromOutside",{x:i,y:o,clientX:c,clientY:d}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Hl(r),i=n.clientX,o=n.clientY,c=n.pageX,d=n.pageY,h=this.container(),m,g;if(!(r.which===3||r.button===2||!wF(h,i,o))){if(!this.globalMouse&&h&&!Tc(h,r.target)){var v=kF(0),b=v.top,x=v.left,S=v.bottom,w=v.right;if(g=_i(h),m=mC({top:g.top-b,left:g.left-x,bottom:g.bottom+S,right:g.right+w},{top:d,left:c}),!m)return}var _=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:c,y:d,clientX:i,clientY:o});if(_!==!1)switch(r.type){case"mousedown":this._removeEndListener=Dr("mouseup",this._handleTerminatingEvent),this._onEscListener=Dr("keydown",this._handleTerminatingEvent),this._removeMoveListener=Dr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Dr("touchend",this._handleTerminatingEvent),this._removeMoveListener=Dr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,i=this.validContainers;return!i||!i.length||!n?!0:i.some(function(o){return!!n.closest(o)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,i=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var o=!this.container||Tc(this.container(),r.target),c=this._isWithinValidContainer(r);return r.key==="Escape"||!c?this.emit("reset"):!n&&o?this._handleClickEvent(r):n?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Hl(r),i=n.pageX,o=n.pageY,c=n.clientX,d=n.clientY,h=new Date().getTime();return this._lastClickData&&h-this._lastClickData.timestamp<NF?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:o,clientX:c,clientY:d})):(this._lastClickData={timestamp:h},this.emit("click",{x:i,y:o,clientX:c,clientY:d}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,i=n.x,o=n.y,c=Hl(r),d=c.pageX,h=c.pageY,m=Math.abs(i-d),g=Math.abs(o-h),v=Math.min(d,i),b=Math.min(h,o),x=this.selecting,S=this.isClick(d,h);S&&!x&&!(m||g)||(!x&&!S&&this.emit("selectStart",this._initialEventData),S||(this.selecting=!0,this._selectRect={top:b,left:v,x:d,y:h,right:v+m,bottom:b+g},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var i=this._initialEventData,o=i.x,c=i.y,d=i.isTouch;return!d&&Math.abs(r-o)<=hC&&Math.abs(n-c)<=hC}}])})();function kF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return za(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function mC(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=_i(e),i=n.top,o=n.left,c=n.right,d=c===void 0?o:c,h=n.bottom,m=h===void 0?i:h,g=_i(t),v=g.top,b=g.left,x=g.right,S=x===void 0?b:x,w=g.bottom,_=w===void 0?v:w;return!(m-r<v||i+r>_||d-r<b||o+r>S)}function _i(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+gC("left"),n=t.top+gC("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function gC(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var EF=(function(e){function t(r,n){var i;return cr(this,t),i=Or(this,t,[r,n]),i.state={selecting:!1},i.containerRef=k.createRef(),i}return Ar(t,e),ur(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,i=n.range,o=n.getNow,c=n.getters,d=n.date,h=n.components.dateCellWrapper,m=n.localizer,g=this.state,v=g.selecting,b=g.startIdx,x=g.endIdx,S=o();return I.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(w,_){var N=v&&_>=b&&_<=x,C=c.dayProp(w),T=C.className,A=C.style;return I.createElement(h,{key:_,value:w,range:i},I.createElement("div",{style:A,className:Ft("rbc-day-bg",T,N&&"rbc-selected-cell",m.isSameDate(w,S)&&"rbc-today",d&&m.neq(d,w,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,i=this.containerRef.current,o=this._selector=new BO(this.props.container,{longPressThreshold:this.props.longPressThreshold}),c=function(h,m){if(!wf(i,h)&&!jF(i,h)){var g=_i(i),v=n.props,b=v.range,x=v.rtl;if(pF(g,h)){var S=$O(g,h.x,x,b.length);n._selectSlot({startIdx:S,endIdx:S,action:m,box:h})}}n._initial={},n.setState({selecting:!1})};o.on("selecting",function(d){var h=n.props,m=h.range,g=h.rtl,v=-1,b=-1;if(n.state.selecting||(At(n.props.onSelectStart,[d]),n._initial={x:d.x,y:d.y}),o.isSelected(i)){var x=_i(i),S=vF(n._initial,x,d,m.length,g);v=S.startIdx,b=S.endIdx}n.setState({selecting:!0,startIdx:v,endIdx:b})}),o.on("beforeSelect",function(d){if(n.props.selectable==="ignoreEvents")return!wf(n.containerRef.current,d)}),o.on("click",function(d){return c(d,"click")}),o.on("doubleClick",function(d){return c(d,"doubleClick")}),o.on("select",function(d){n._selectSlot(kt(kt({},n.state),{},{action:"select",bounds:d})),n._initial={},n.setState({selecting:!1}),At(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var i=n.endIdx,o=n.startIdx,c=n.action,d=n.bounds,h=n.box;i!==-1&&o!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:o,end:i,action:c,bounds:d,box:h,resourceId:this.props.resourceId})}}])})(I.Component),Cn={propTypes:{slotMetrics:ye.object.isRequired,selected:ye.object,isAllDay:ye.bool,accessors:ye.object.isRequired,localizer:ye.object.isRequired,components:ye.object.isRequired,getters:ye.object.isRequired,onSelect:ye.func,onDoubleClick:ye.func,onKeyPress:ye.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var i=t.accessors,o=t.getters,c=t.onSelect,d=t.onDoubleClick,h=t.onKeyPress,m=t.localizer,g=t.slotMetrics,v=t.components,b=t.resizable,x=g.continuesPrior(r),S=g.continuesAfter(r);return I.createElement(UO,{event:r,getters:o,localizer:m,accessors:i,components:v,onSelect:c,onDoubleClick:d,onKeyPress:h,continuesPrior:x,continuesAfter:S,slotStart:g.first,slotEnd:g.last,selected:nh(r,n),resizable:b})},renderSpan:function(t,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=Math.abs(r)/t*100+"%";return I.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},i)}},IO=(function(e){function t(){return cr(this,t),Or(this,t,arguments)}return Ar(t,e),ur(t,[{key:"render",value:function(){var n=this,i=this.props,o=i.segments,c=i.slotMetrics.slots,d=i.className,h=1;return I.createElement("div",{className:Ft(d,"rbc-row")},o.reduce(function(m,g,v){var b=g.event,x=g.left,S=g.right,w=g.span,_="_lvl_"+v,N=x-h,C=Cn.renderEvent(n.props,b);return N&&m.push(Cn.renderSpan(c,N,"".concat(_,"_gap"))),m.push(Cn.renderSpan(c,w,_,C)),h=S+1,m},[]))}}])})(I.Component);IO.defaultProps=kt({},Cn.defaultProps);function FO(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,i=e.localizer;return{first:t[0],last:i.add(t[t.length-1],1,n)}}function CF(e,t,r,n){var i=FO({dateRange:t,localizer:n}),o=i.first,c=i.last,d=n.diff(o,c,"day"),h=n.max(n.startOf(r.start(e),"day"),o),m=n.min(n.ceil(r.end(e),"day"),c),g=wI(t,function(b){return n.isSameDate(b,h)}),v=n.diff(h,m,"day");return v=Math.min(v,d),v=Math.max(v-n.segmentOffset,1),{event:e,span:v,left:g+1,right:Math.max(g+v,1)}}function ab(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,i,o=[],c=[];for(r=0;r<e.length;r++){for(i=e[r],n=0;n<o.length&&TF(i,o[n]);n++);n>=t?c.push(i):(o[n]||(o[n]=[])).push(i)}for(r=0;r<o.length;r++)o[r].sort(function(d,h){return d.left-h.left});return{levels:o,extra:c}}function Ac(e,t,r,n,i){var o={start:n.start(e),end:n.end(e)},c={start:t,end:r};return i.inEventRange({event:o,range:c})}function TF(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function DF(e,t,r){var n=Ud(e),i=[],o=[];n.forEach(function(h){var m=t.start(h),g=t.end(h);r.daySpan(m,g)>1?i.push(h):o.push(h)});var c=i.sort(function(h,m){return sb(h,m,t,r)}),d=o.sort(function(h,m){return sb(h,m,t,r)});return[].concat(Ud(c),Ud(d))}function sb(e,t,r,n){var i={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},o={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:i,evtB:o})}var ib=function(t,r){return t.left<=r&&t.right>=r},b0=function(t,r){return t.filter(function(n){return ib(n,r)}).map(function(n){return n.event})},HO=(function(e){function t(){return cr(this,t),Or(this,t,arguments)}return Ar(t,e),ur(t,[{key:"render",value:function(){for(var n=this.props,i=n.segments,o=n.slotMetrics.slots,c=ab(i).levels[0],d=1,h=1,m=[];d<=o;){var g="_lvl_"+d,v=c.filter(function(A){return ib(A,d)})[0]||{},b=v.event,x=v.left,S=v.right,w=v.span;if(!b){var _=this.getHiddenEventsForSlot(i,d);if(_.length>0){var N=d-h;N&&m.push(Cn.renderSpan(o,N,g+"_gap")),m.push(Cn.renderSpan(o,1,g,this.renderShowMore(i,d))),h=d=d+1;continue}d++;continue}var C=Math.max(0,x-h);if(this.canRenderSlotEvent(x,w)){var T=Cn.renderEvent(this.props,b);C&&m.push(Cn.renderSpan(o,C,g+"_gap")),m.push(Cn.renderSpan(o,w,g,T)),h=d=S+1}else C&&m.push(Cn.renderSpan(o,C,g+"_gap")),m.push(Cn.renderSpan(o,1,g,this.renderShowMore(i,d))),h=d=d+1}return I.createElement("div",{className:"rbc-row"},m)}},{key:"getHiddenEventsForSlot",value:function(n,i){var o=b0(n,i),c=ab(n).levels[0],d=c.filter(function(h){return ib(h,i)}).map(function(h){return h.event});return o.filter(function(h){return!d.some(function(m){return m===h})})}},{key:"canRenderSlotEvent",value:function(n,i){var o=this.props.segments;return kI(n,n+i).every(function(c){var d=b0(o,c).length;return d===1})}},{key:"renderShowMore",value:function(n,i){var o=this,c=this.props,d=c.localizer,h=c.slotMetrics,m=c.components,g=h.getEventsForSlot(i),v=b0(n,i),b=v.length;if(m!=null&&m.showMore){var x=m.showMore,S=h.getDateForSlot(i-1);return b?I.createElement(x,{localizer:d,slotDate:S,slot:i,count:b,events:g,remainingEvents:v}):!1}return b?I.createElement("button",{type:"button",key:"sm_"+i,className:Ft("rbc-button-link","rbc-show-more"),onClick:function(_){return o.showMore(i,_)}},d.messages.showMore(b,v,g)):!1}},{key:"showMore",value:function(n,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(n,i.target)}}])})(I.Component);HO.defaultProps=kt({},Cn.defaultProps);var OF=function(t){var r=t.children;return I.createElement("div",{className:"rbc-row-content-scroll-container"},r)},AF=function(t,r){return t.left<=r&&t.right>=r},RF=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function KO(){return SO(function(e){for(var t=e.range,r=e.events,n=e.maxRows,i=e.minRows,o=e.accessors,c=e.localizer,d=FO({dateRange:t,localizer:c}),h=d.first,m=d.last,g=r.map(function(w){return CF(w,t,o,c)}),v=ab(g,Math.max(n-1,1)),b=v.levels,x=v.extra,S=x.length>0?i-1:i;b.length<S;)b.push([]);return{first:h,last:m,levels:b,extra:x,range:t,slots:t.length,clone:function(_){var N=KO();return N(kt(kt({},e),_))},getDateForSlot:function(_){return t[_]},getSlotForDate:function(_){return t.find(function(N){return c.isSameDate(N,_)})},getEventsForSlot:function(_){return g.filter(function(N){return AF(N,_)}).map(function(N){return N.event})},continuesPrior:function(_){return c.continuesPrior(o.start(_),h)},continuesAfter:function(_){var N=o.start(_),C=o.end(_);return c.continuesAfter(N,C,m)}}},RF)}var Rc=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Or(this,t,[].concat(i)),r.handleSelectSlot=function(c){var d=r.props,h=d.range,m=d.onSelectSlot;m(h.slice(c.start,c.end+1),c)},r.handleShowMore=function(c,d){var h=r.props,m=h.range,g=h.onShowMore,v=r.slotMetrics(r.props),b=Oz(r.containerRef.current,".rbc-row-bg")[0],x;b&&(x=b.children[c-1]);var S=v.getEventsForSlot(c);g(S,m[c-1],x,c,d)},r.getContainer=function(){var c=r.props.container;return c?c():r.containerRef.current},r.renderHeadingCell=function(c,d){var h=r.props,m=h.renderHeader,g=h.getNow,v=h.localizer;return m({date:c,key:"header_".concat(d),className:Ft("rbc-date-cell",v.isSameDate(c,g())&&"rbc-now")})},r.renderDummy=function(){var c=r.props,d=c.className,h=c.range,m=c.renderHeader,g=c.showAllEvents;return I.createElement("div",{className:d,ref:r.containerRef},I.createElement("div",{className:Ft("rbc-row-content",g&&"rbc-row-content-scrollable")},m&&I.createElement("div",{className:"rbc-row",ref:r.headingRowRef},h.map(r.renderHeadingCell)),I.createElement("div",{className:"rbc-row",ref:r.eventRowRef},I.createElement("div",{className:"rbc-row-segment"},I.createElement("div",{className:"rbc-event"},I.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=k.createRef(),r.headingRowRef=k.createRef(),r.eventRowRef=k.createRef(),r.slotMetrics=KO(),r}return Ar(t,e),ur(t,[{key:"getRowLimit",value:function(){var n,i=Lv(this.eventRowRef.current),o=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?Lv(this.headingRowRef.current):0,c=Lv(this.containerRef.current)-o;return Math.max(Math.floor(c/i),1)}},{key:"render",value:function(){var n=this.props,i=n.date,o=n.rtl,c=n.range,d=n.className,h=n.selected,m=n.selectable,g=n.renderForMeasure,v=n.accessors,b=n.getters,x=n.components,S=n.getNow,w=n.renderHeader,_=n.onSelect,N=n.localizer,C=n.onSelectStart,T=n.onSelectEnd,A=n.onDoubleClick,L=n.onKeyPress,E=n.resourceId,D=n.longPressThreshold,R=n.isAllDay,q=n.resizable,B=n.showAllEvents;if(g)return this.renderDummy();var U=this.slotMetrics(this.props),K=U.levels,V=U.extra,te=B?OF:sa,ge=x.weekWrapper,P={selected:h,accessors:v,getters:b,localizer:N,components:x,onSelect:_,onDoubleClick:A,onKeyPress:L,resourceId:E,slotMetrics:U,resizable:q};return I.createElement("div",{className:d,role:"rowgroup",ref:this.containerRef},I.createElement(EF,{localizer:N,date:i,getNow:S,rtl:o,range:c,selectable:m,container:this.getContainer,getters:b,onSelectStart:C,onSelectEnd:T,onSelectSlot:this.handleSelectSlot,components:x,longPressThreshold:D,resourceId:E}),I.createElement("div",{className:Ft("rbc-row-content",B&&"rbc-row-content-scrollable"),role:"row"},w&&I.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},c.map(this.renderHeadingCell)),I.createElement(te,null,I.createElement(ge,Object.assign({isAllDay:R},P,{rtl:this.props.rtl}),K.map(function(W,J){return I.createElement(IO,Object.assign({key:J,segments:W},P))}),!!V.length&&I.createElement(HO,Object.assign({segments:V,onShowMore:this.handleShowMore},P))))))}}])})(I.Component);Rc.defaultProps={minRows:0,maxRows:1/0};var Tx=function(t){var r=t.label;return I.createElement("span",{role:"columnheader","aria-sort":"none"},r)},MF=function(t){var r=t.label,n=t.drilldownView,i=t.onDrillDown;return n?I.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},r):I.createElement("span",null,r)},LF=["date","className"],qF=function(t,r,n,i,o){return t.filter(function(c){return Ac(c,r,n,i,o)})},ah=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Or(this,t,[].concat(i)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(c,d){var h=r.props,m=h.events,g=h.components,v=h.selectable,b=h.getNow,x=h.selected,S=h.date,w=h.localizer,_=h.longPressThreshold,N=h.accessors,C=h.getters,T=h.showAllEvents,A=r.state,L=A.needLimitMeasure,E=A.rowLimit,D=qF(Ud(m),c[0],c[c.length-1],N,w),R=DF(D,N,w);return I.createElement(Rc,{key:d,ref:d===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:b,date:S,range:c,events:R,maxRows:T?1/0:E,selected:x,selectable:v,components:g,accessors:N,getters:C,localizer:w,renderHeader:r.readerDateHeading,renderForMeasure:L,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:_,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:T})},r.readerDateHeading=function(c){var d=c.date,h=c.className,m=ca(c,LF),g=r.props,v=g.date,b=g.getDrilldownView,x=g.localizer,S=x.neq(v,d,"month"),w=x.isSameDate(d,v),_=b(d),N=x.format(d,"dateFormat"),C=r.props.components.dateHeader||MF;return I.createElement("div",Object.assign({},m,{className:Ft(h,S&&"rbc-off-range",w&&"rbc-current"),role:"cell"}),I.createElement(C,{label:N,date:d,drilldownView:_,isOffRange:S,onDrillDown:function(A){return r.handleHeadingClick(d,_,A)}}))},r.handleSelectSlot=function(c,d){r._pendingSelection=r._pendingSelection.concat(c),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(d)})},r.handleHeadingClick=function(c,d,h){h.preventDefault(),r.clearSelection(),At(r.props.onDrillDown,[c,d])},r.handleSelectEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onKeyPressEvent,d)},r.handleShowMore=function(c,d,h,m,g){var v=r.props,b=v.popup,x=v.onDrillDown,S=v.onShowMore,w=v.getDrilldownView,_=v.doShowMoreDrillDown;if(r.clearSelection(),b){var N=rO(h,r.containerRef.current);r.setState({overlay:{date:d,events:c,position:N,target:g}})}else _&&At(x,[d,w(d)||qr.DAY]);At(S,[c,d,m])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=k.createRef(),r.slotRowRef=k.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Ar(t,e),ur(t,[{key:"componentDidMount",value:function(){var n=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||nO(function(){i=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,i=n.date,o=n.localizer,c=n.className,d=o.visibleDays(i,o),h=gz(d,7);return this._weekCount=h.length,I.createElement("div",{className:Ft("rbc-month-view",c),role:"table","aria-label":"Month View",ref:this.containerRef},I.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(h[0])),h.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var i=this.props,o=i.localizer,c=i.components,d=n[0],h=n[n.length-1],m=c.header||Tx;return o.range(d,h,"day").map(function(g,v){return I.createElement("div",{key:"header_"+v,className:"rbc-header"},I.createElement(m,{date:g,localizer:o,label:o.format(g,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,i,o=this,c=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},d=this.props,h=d.accessors,m=d.localizer,g=d.components,v=d.getters,b=d.selected,x=d.popupOffset,S=d.handleDragStart,w=function(){return o.setState({overlay:null})};return I.createElement(Cx,{overlay:c,accessors:h,localizer:m,components:g,getters:v,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!c.position,overlayDisplay:this.overlayDisplay,onHide:w})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(d,h){return+d-+h});var o=new Date(i[0]),c=new Date(i[i.length-1]);c.setDate(i[i.length-1].getDate()+1),At(this.props.onSelectSlot,{slots:i,start:o,end:c,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,i){var o=n.date,c=n.localizer;return{date:o,needLimitMeasure:c.neq(o,i.date,"month")}}}])})(I.Component);ah.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),i=r.lastVisibleDay(e,r);return{start:n,end:i}};ah.navigate=function(e,t,r){var n=r.localizer;switch(t){case Jr.PREVIOUS:return n.add(e,-1,"month");case Jr.NEXT:return n.add(e,1,"month");default:return e}};ah.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var pC=function(t){var r=t.min,n=t.max,i=t.step,o=t.slots,c=t.localizer;return"".concat(+c.startOf(r,"minutes"))+"".concat(+c.startOf(n,"minutes"))+"".concat(i,"-").concat(o)};function Dx(e){for(var t=e.min,r=e.max,n=e.step,i=e.timeslots,o=e.localizer,c=pC({step:n,localizer:o}),d=1+o.getTotalMin(t,r),h=o.getMinutesFromMidnight(t),m=Math.ceil((d-1)/(n*i)),g=m*i,v=new Array(m),b=new Array(g),x=0;x<m;x++){v[x]=new Array(i);for(var S=0;S<i;S++){var w=x*i+S,_=w*n;b[w]=v[x][S]=o.getSlotDate(t,h,_)}}var N=b.length*n;b.push(o.getSlotDate(t,h,N));function C(T){var A=o.diff(t,T,"minutes")+o.getDstOffset(t,T);return Math.min(A,d)}return{groups:v,update:function(A){return pC(A)!==c?Dx(A):this},dateIsInGroup:function(A,L){var E=v[L+1];return o.inRange(A,v[L][0],E?E[0]:r,"minutes")},nextSlot:function(A){var L=b[Math.min(b.findIndex(function(E){return E===A||o.eq(E,A)})+1,b.length-1)];return o.eq(L,A)&&(L=o.add(A,n,"minutes")),L},closestSlotToPosition:function(A){var L=Math.min(b.length-1,Math.max(0,Math.floor(A*g)));return b[L]},closestSlotFromPoint:function(A,L){var E=Math.abs(L.top-L.bottom);return this.closestSlotToPosition((A.y-L.top)/E)},closestSlotFromDate:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(o.lt(A,t,"minutes"))return b[0];if(o.gt(A,r,"minutes"))return b[b.length-1];var E=o.diff(t,A,"minutes");return b[(E-E%n)/n+L]},startsBeforeDay:function(A){return o.lt(A,t,"day")},startsAfterDay:function(A){return o.gt(A,r,"day")},startsBefore:function(A){return o.lt(o.merge(t,A),t,"minutes")},startsAfter:function(A){return o.gt(o.merge(r,A),r,"minutes")},getRange:function(A,L,E,D){E||(A=o.min(r,o.max(t,A))),D||(L=o.min(r,o.max(t,L)));var R=C(A),q=C(L),B=q>n*g&&!o.eq(r,L)?(R-n)/(n*g)*100:R/(n*g)*100;return{top:B,height:q/(n*g)*100-B,start:C(A),startDate:A,end:C(L),endDate:L}},getCurrentTimePosition:function(A){var L=C(A),E=L/(n*g)*100;return E}}}var UF=(function(){function e(t,r){var n=r.accessors,i=r.slotMetrics;cr(this,e);var o=i.getRange(n.start(t),n.end(t)),c=o.start,d=o.startDate,h=o.end,m=o.endDate,g=o.top,v=o.height;this.start=c,this.end=h,this.startMs=+d,this.endMs=+m,this.top=g,this.height=v,this.data=t}return ur(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,o){return Math.max(i,o.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var i=this.row.leaves,o=i.indexOf(this);return o===i.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,i=r.xOffset,o=r._width,c=n.indexOf(this)+1;return i+c*o}}])})();function PF(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function $F(e){for(var t=KI(e,["startMs",function(d){return-d.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var i=0;i<t.length;i++){var o=t[i];if(!(n.endMs>o.startMs)){if(i>0){var c=t.splice(i,1)[0];r.push(c)}break}}}return r}function GO(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,i=e.accessors,o=t.map(function(g){return new UF(g,{slotMetrics:n,accessors:i})}),c=$F(o),d=[],h=function(){var v=c[m],b=d.find(function(w){return w.end>v.start||Math.abs(v.start-w.start)<r});if(!b)return v.rows=[],d.push(v),1;v.container=b;for(var x=null,S=b.rows.length-1;!x&&S>=0;S--)PF(b.rows[S],v,r)&&(x=b.rows[S]);x?(x.leaves.push(v),v.row=x):(v.leaves=[],b.rows.push(v))},m=0;m<c.length;m++)h();return c.map(function(g){return{event:g.data,style:{top:g.top,height:g.height,width:g.width,xOffset:Math.max(0,g.xOffset)}}})}function YO(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var i=YO(e.friends[n],t,r);t=t>i?t:i}return t}function zF(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,i=e.accessors,o=GO({events:t,minimumStartDifference:r,slotMetrics:n,accessors:i});o.sort(function(ge,P){return ge=ge.style,P=P.style,ge.top!==P.top?ge.top>P.top?1:-1:ge.height!==P.height?ge.top+ge.height<P.top+P.height?1:-1:0});for(var c=0;c<o.length;++c)o[c].friends=[],delete o[c].style.left,delete o[c].style.left,delete o[c].idx,delete o[c].size;for(var d=0;d<o.length-1;++d)for(var h=o[d],m=h.style.top,g=h.style.top+h.style.height,v=d+1;v<o.length;++v){var b=o[v],x=b.style.top,S=b.style.top+b.style.height;(x>=m&&S<=g||S>m&&S<=g||x>=m&&x<g)&&(h.friends.push(b),b.friends.push(h))}for(var w=0;w<o.length;++w){for(var _=o[w],N=[],C=0;C<100;++C)N.push(1);for(var T=0;T<_.friends.length;++T)_.friends[T].idx!==void 0&&(N[_.friends[T].idx]=0);_.idx=N.indexOf(1)}for(var A=0;A<o.length;++A){var L=0;if(!o[A].size){var E=[],D=YO(o[A],0,E);L=100/(D+1),o[A].size=L;for(var R=0;R<E.length;++R)E[R].size=L}}for(var q=0;q<o.length;++q){var B=o[q];B.style.left=B.idx*B.size;for(var U=0,K=0;K<B.friends.length;++K){var V=B.friends[K].idx;U=U>V?U:V}U<=B.idx&&(B.size=100-B.idx*B.size);var te=B.idx===0?0:3;B.style.width="calc(".concat(B.size,"% - ").concat(te,"px)"),B.style.height="calc(".concat(B.style.height,"% - 2px)"),B.style.xOffset="calc(".concat(B.style.left,"% + ").concat(te,"px)")}return o}var vC={overlap:GO,"no-overlap":zF};function BF(e){return!!(e&&e.constructor&&e.call&&e.apply)}function IF(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in vC&&(r=vC[t]),BF(r)?r.apply(this,arguments):[]}var VO=(function(e){function t(){return cr(this,t),Or(this,t,arguments)}return Ar(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.renderSlot,o=n.resource,c=n.group,d=n.getters,h=n.components,m=h===void 0?{}:h,g=m.timeSlotWrapper,v=g===void 0?sa:g,b=d?d.slotGroupProp(c):{};return I.createElement("div",Object.assign({className:"rbc-timeslot-group"},b),c.map(function(x,S){var w=d?d.slotProp(x,o):{};return I.createElement(v,{key:S,value:x,resource:o},I.createElement("div",Object.assign({},w,{className:Ft("rbc-time-slot",w.className)}),i&&i(x,S)))}))}}])})(k.Component);function Td(e){return typeof e=="string"?e:e+"%"}function FF(e){var t=e.style,r=e.className,n=e.event,i=e.accessors,o=e.rtl,c=e.selected,d=e.label,h=e.continuesPrior,m=e.continuesAfter,g=e.getters,v=e.onClick,b=e.onDoubleClick,x=e.isBackgroundEvent,S=e.onKeyPress,w=e.components,_=w.event,N=w.eventWrapper,C=i.title(n),T=i.tooltip(n),A=i.end(n),L=i.start(n),E=g.eventProp(n,L,A,c),D=[I.createElement("div",{key:"1",className:"rbc-event-label"},d),I.createElement("div",{key:"2",className:"rbc-event-content"},_?I.createElement(_,{event:n,title:C}):C)],R=t.height,q=t.top,B=t.width,U=t.xOffset,K=kt(kt({},E.style),{},si({top:Td(q),height:Td(R),width:Td(B)},o?"right":"left",Td(U)));return I.createElement(N,Object.assign({type:"time"},e),I.createElement("div",{role:"button",tabIndex:0,onClick:v,onDoubleClick:b,style:K,onKeyDown:S,title:T?(typeof d=="string"?d+": ":"")+T:void 0,className:Ft(x?"rbc-background-event":"rbc-event",r,E.className,{"rbc-selected":c,"rbc-event-continues-earlier":h,"rbc-event-continues-later":m})},D))}var HF=function(t){var r=t.children,n=t.className,i=t.style,o=t.innerRef;return I.createElement("div",{className:n,style:i,ref:o},r)},KF=I.forwardRef(function(e,t){return I.createElement(HF,Object.assign({},e,{innerRef:t}))}),GF=["dayProp"],YF=["eventContainerWrapper","timeIndicatorWrapper"],QO=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Or(this,t,[].concat(i)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(c){var d=c.events,h=c.isBackgroundEvent,m=r.props,g=m.rtl,v=m.selected,b=m.accessors,x=m.localizer,S=m.getters,w=m.components,_=m.step,N=m.timeslots,C=m.dayLayoutAlgorithm,T=m.resizable,A=r,L=A.slotMetrics,E=x.messages,D=IF({events:d,accessors:b,slotMetrics:L,minimumStartDifference:Math.ceil(_*N/2),dayLayoutAlgorithm:C});return D.map(function(R,q){var B,U=R.event,K=R.style,V=b.end(U),te=b.start(U),ge=(B=b.eventId(U))!==null&&B!==void 0?B:"evt_"+q,P="eventTimeRangeFormat",W,J=L.startsBeforeDay(te),me=L.startsAfterDay(V);J?P="eventTimeRangeEndFormat":me&&(P="eventTimeRangeStartFormat"),J&&me?W=E.allDay:W=x.format({start:te,end:V},P);var oe=J||L.startsBefore(te),M=me||L.startsAfter(V);return I.createElement(FF,{style:K,event:U,label:W,key:ge,getters:S,rtl:g,components:w,continuesPrior:oe,continuesAfter:M,accessors:b,resource:r.props.resource,selected:nh(U,v),onClick:function(se){return r._select(kt(kt(kt({},U),r.props.resource&&{sourceResource:r.props.resource}),h&&{isBackgroundEvent:!0}),se)},onDoubleClick:function(se){return r._doubleClick(U,se)},isBackgroundEvent:h,onKeyPress:function(se){return r._keyPress(U,se)},resizable:T})})},r._selectable=function(){var c=r.containerRef.current,d=r.props,h=d.longPressThreshold,m=d.localizer,g=r._selector=new BO(function(){return c},{longPressThreshold:h}),v=function(w){var _=r.props.onSelecting,N=r.state||{},C=b(w),T=C.startDate,A=C.endDate;_&&(m.eq(N.startDate,T,"minutes")&&m.eq(N.endDate,A,"minutes")||_({start:T,end:A,resourceId:r.props.resource})===!1)||(r.state.start!==C.start||r.state.end!==C.end||r.state.selecting!==C.selecting)&&r.setState(C)},b=function(w){var _=r.slotMetrics.closestSlotFromPoint(w,_i(c));r.state.selecting||(r._initialSlot=_);var N=r._initialSlot;m.lte(N,_)?_=r.slotMetrics.nextSlot(_):m.gt(N,_)&&(N=r.slotMetrics.nextSlot(N));var C=r.slotMetrics.getRange(m.min(N,_),m.max(N,_));return kt(kt({},C),{},{selecting:!0,top:"".concat(C.top,"%"),height:"".concat(C.height,"%")})},x=function(w,_){if(!wf(r.containerRef.current,w)){var N=b(w),C=N.startDate,T=N.endDate;r._selectSlot({startDate:C,endDate:T,action:_,box:w})}r.setState({selecting:!1})};g.on("selecting",v),g.on("selectStart",v),g.on("beforeSelect",function(S){if(r.props.selectable==="ignoreEvents")return!wf(r.containerRef.current,S)}),g.on("click",function(S){return x(S,"click")}),g.on("doubleClick",function(S){return x(S,"doubleClick")}),g.on("select",function(S){r.state.selecting&&(r._selectSlot(kt(kt({},r.state),{},{action:"select",bounds:S})),r.setState({selecting:!1}))}),g.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(c){for(var d=c.startDate,h=c.endDate,m=c.action,g=c.bounds,v=c.box,b=d,x=[];r.props.localizer.lte(b,h);)x.push(b),b=new Date(+b+r.props.step*60*1e3);At(r.props.onSelectSlot,{slots:x,start:d,end:h,resourceId:r.props.resource,action:m,bounds:g,box:v})},r._select=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onSelectEvent,d)},r._doubleClick=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onDoubleClickEvent,d)},r._keyPress=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onKeyPressEvent,d)},r.slotMetrics=Dx(r.props),r.containerRef=k.createRef(),r}return Ar(t,e),ur(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,i){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var o=this.props,c=o.getNow,d=o.isNow,h=o.localizer,m=o.date,g=o.min,v=o.max,b=h.neq(n.getNow(),c(),"minutes");if(n.isNow!==d||b){if(this.clearTimeIndicatorInterval(),d){var x=!b&&h.eq(n.date,m,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(x)}}else d&&(h.neq(n.min,g,"minutes")||h.neq(n.max,v,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,i=n.min,o=n.max,c=n.getNow,d=c();if(d>=i&&d<=o){var h=this.slotMetrics.getCurrentTimePosition(d);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:h})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,i=n.date,o=n.max,c=n.rtl,d=n.isNow,h=n.resource,m=n.accessors,g=n.localizer,v=n.getters,b=v.dayProp,x=ca(v,GF),S=n.components,w=S.eventContainerWrapper,_=S.timeIndicatorWrapper,N=ca(S,YF);this.slotMetrics=this.slotMetrics.update(this.props);var C=this.slotMetrics,T=this.state,A=T.selecting,L=T.top,E=T.height,D=T.startDate,R=T.endDate,q={start:D,end:R},B=b(o,h),U=B.className,K=B.style,V={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},te=N.dayColumnWrapper||KF;return I.createElement(te,{ref:this.containerRef,date:i,style:K,className:Ft(U,"rbc-day-slot","rbc-time-column",d&&"rbc-now",d&&"rbc-today",A&&"rbc-slot-selecting"),slotMetrics:C,resource:h},C.groups.map(function(ge,P){return I.createElement(VO,{key:P,group:ge,resource:h,getters:x,components:N})}),I.createElement(w,{localizer:g,resource:h,accessors:m,getters:x,components:N,slotMetrics:C},I.createElement("div",{className:Ft("rbc-events-container",c&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),A&&I.createElement("div",{className:"rbc-slot-selection",style:{top:L,height:E}},I.createElement("span",null,g.format(q,"selectRangeFormat"))),d&&this.intervalTriggered&&I.createElement(_,V,I.createElement("div",V)))}}])})(I.Component);QO.defaultProps={dragThroughEvents:!0,timeslots:2};var WO=function(t){var r=t.label;return I.createElement(I.Fragment,null,r)},VF=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Or(this,t,[].concat(i)),r.handleHeaderClick=function(c,d,h){h.preventDefault(),At(r.props.onDrillDown,[c,d])},r.renderRow=function(c){var d=r.props,h=d.events,m=d.rtl,g=d.selectable,v=d.getNow,b=d.range,x=d.getters,S=d.localizer,w=d.accessors,_=d.components,N=d.resizable,C=w.resourceId(c),T=c?h.filter(function(A){return w.resource(A)===C}):h;return I.createElement(Rc,{isAllDay:!0,rtl:m,getNow:v,minRows:2,maxRows:r.props.allDayMaxRows+1,range:b,events:T,resourceId:C,className:"rbc-allday-cell",selectable:g,selected:r.props.selected,components:_,accessors:w,getters:x,localizer:S,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:N})},r}return Ar(t,e),ur(t,[{key:"renderHeaderCells",value:function(n){var i=this,o=this.props,c=o.localizer,d=o.getDrilldownView,h=o.getNow,m=o.getters.dayProp,g=o.components.header,v=g===void 0?Tx:g,b=h();return n.map(function(x,S){var w=d(x),_=c.format(x,"dayFormat"),N=m(x),C=N.className,T=N.style,A=I.createElement(v,{date:x,label:_,localizer:c});return I.createElement("div",{key:S,style:T,className:Ft("rbc-header",C,c.isSameDate(x,b)&&"rbc-today")},w?I.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(E){return i.handleHeaderClick(x,w,E)}},A):I.createElement("span",null,A))})}},{key:"render",value:function(){var n=this,i=this.props,o=i.width,c=i.rtl,d=i.resources,h=i.range,m=i.events,g=i.getNow,v=i.accessors,b=i.selectable,x=i.components,S=i.getters,w=i.scrollRef,_=i.localizer,N=i.isOverflowing,C=i.components,T=C.timeGutterHeader,A=C.resourceHeader,L=A===void 0?WO:A,E=i.resizable,D={};N&&(D[c?"marginLeft":"marginRight"]="".concat(cx()-1,"px"));var R=d.groupEvents(m);return I.createElement("div",{style:D,ref:w,className:Ft("rbc-time-header",N&&"rbc-overflowing")},I.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},T&&I.createElement(T,null)),d.map(function(q,B){var U=gi(q,2),K=U[0],V=U[1];return I.createElement("div",{className:"rbc-time-header-content",key:K||B},V&&I.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(B)},I.createElement("div",{className:"rbc-header"},I.createElement(L,{index:B,label:v.resourceTitle(V),resource:V}))),I.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(h.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(h)),I.createElement(Rc,{isAllDay:!0,rtl:c,getNow:g,minRows:2,maxRows:n.props.allDayMaxRows+1,range:h,events:R.get(K)||[],resourceId:V&&K,className:"rbc-allday-cell",selectable:b,selected:n.props.selected,components:x,accessors:v,getters:S,localizer:_,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:E}))}))}}])})(I.Component),QF=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Or(this,t,[].concat(i)),r.handleHeaderClick=function(c,d,h){h.preventDefault(),At(r.props.onDrillDown,[c,d])},r}return Ar(t,e),ur(t,[{key:"renderHeaderCells",value:function(n){var i=this,o=this.props,c=o.localizer,d=o.getDrilldownView,h=o.getNow,m=o.getters.dayProp,g=o.components,v=g.header,b=v===void 0?Tx:v,x=g.resourceHeader,S=x===void 0?WO:x,w=o.resources,_=o.accessors,N=o.events,C=o.rtl,T=o.selectable,A=o.components,L=o.getters,E=o.resizable,D=h(),R=w.groupEvents(N);return n.map(function(q,B){var U=d(q),K=c.format(q,"dayFormat"),V=m(q),te=V.className,ge=V.style,P=I.createElement(b,{date:q,label:K,localizer:c});return I.createElement("div",{key:B,className:"rbc-time-header-content rbc-resource-grouping"},I.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},I.createElement("div",{style:ge,className:Ft("rbc-header",te,c.isSameDate(q,D)&&"rbc-today")},U?I.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(J){return i.handleHeaderClick(q,U,J)}},P):I.createElement("span",null,P))),I.createElement("div",{className:"rbc-row"},w.map(function(W,J){var me=gi(W,2),oe=me[0],M=me[1];return I.createElement("div",{key:"resource_".concat(oe,"_").concat(J),className:Ft("rbc-header",te,c.isSameDate(q,D)&&"rbc-today")},I.createElement(S,{index:J,label:_.resourceTitle(M),resource:M}))})),I.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},w.map(function(W,J){var me=gi(W,2),oe=me[0],M=me[1],H=(R.get(oe)||[]).filter(function(se){return c.isSameDate(se.start,q)||c.isSameDate(se.end,q)});return I.createElement(Rc,{key:"resource_".concat(oe,"_").concat(J),isAllDay:!0,rtl:C,getNow:h,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[q],events:H,resourceId:M&&oe,className:"rbc-allday-cell",selectable:T,selected:i.props.selected,components:A,accessors:_,getters:L,localizer:c,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:E})})))})}},{key:"render",value:function(){var n=this.props,i=n.width,o=n.rtl,c=n.range,d=n.scrollRef,h=n.isOverflowing,m=n.components.timeGutterHeader,g={};return h&&(g[o?"marginLeft":"marginRight"]="".concat(cx()-1,"px")),I.createElement("div",{style:g,ref:d,className:Ft("rbc-time-header",h&&"rbc-overflowing")},I.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},m&&I.createElement(m,null)),this.renderHeaderCells(c))}}])})(I.Component);function WF(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var XF=function(t){var r=t.min,n=t.max,i=t.timeslots,o=t.step,c=t.localizer,d=t.getNow,h=t.resource,m=t.components,g=t.getters,v=t.gutterRef,b=m.timeGutterWrapper,x=k.useMemo(function(){return WF({min:r,max:n,localizer:c})},[r?.toISOString(),n?.toISOString(),c]),S=x.start,w=x.end,_=k.useState(Dx({min:S,max:w,timeslots:i,step:o,localizer:c})),N=gi(_,2),C=N[0],T=N[1];k.useEffect(function(){C&&T(C.update({min:S,max:w,timeslots:i,step:o,localizer:c}))},[S?.toISOString(),w?.toISOString(),i,o]);var A=k.useCallback(function(L,E){if(E)return null;var D=C.dateIsInGroup(d(),E);return I.createElement("span",{className:Ft("rbc-label",D&&"rbc-now")},c.format(L,"timeGutterFormat"))},[C,c,d]);return I.createElement(b,{slotMetrics:C},I.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:v},C.groups.map(function(L,E){return I.createElement(VO,{key:E,group:L,resource:h,components:m,renderSlot:A,getters:g})})))},JF=I.forwardRef(function(e,t){return I.createElement(XF,Object.assign({gutterRef:t},e))}),x0={};function ZF(e,t){return{map:function(n){return e?e.map(function(i,o){return n([t.resourceId(i),i],o)}):[n([x0,null],0)]},groupEvents:function(n){var i=new Map;return e?(n.forEach(function(o){var c=t.resource(o)||x0;if(Array.isArray(c))c.forEach(function(h){var m=i.get(h)||[];m.push(o),i.set(h,m)});else{var d=i.get(c)||[];d.push(o),i.set(c,d)}}),i):(i.set(x0,n),i)}}}var Qo=(function(e){function t(r){var n;return cr(this,t),n=Or(this,t,[r]),n.handleScroll=function(i){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=i.target.scrollLeft)},n.handleResize=function(){DN(n.rafHandle),n.rafHandle=nO(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];At(n.props.onKeyPressEvent,o)},n.handleSelectEvent=function(){n.clearSelection();for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];At(n.props.onSelectEvent,o)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];At(n.props.onDoubleClickEvent,o)},n.handleShowMore=function(i,o,c,d,h){var m=n.props,g=m.popup,v=m.onDrillDown,b=m.onShowMore,x=m.getDrilldownView,S=m.doShowMoreDrillDown;if(n.clearSelection(),g){var w=rO(c,n.containerRef.current);n.setState({overlay:{date:o,events:i,position:kt(kt({},w),{},{width:"200px"}),target:h}})}else S&&At(v,[o,x(o)||qr.DAY]);At(b,[i,o,d])},n.handleSelectAllDaySlot=function(i,o){var c=n.props.onSelectSlot,d=new Date(i[0]),h=new Date(i[i.length-1]);h.setDate(i[i.length-1].getDate()+1),At(c,{slots:i,start:d,end:h,action:o.action,resourceId:o.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var i=n.contentRef.current;if(i!=null&&i.scrollHeight){var o=i.scrollHeight>i.clientHeight;n.state.isOverflowing!==o&&(n._updatingOverflow=!0,n.setState({isOverflowing:o},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=SO(function(i,o){return ZF(i,o)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=I.createRef(),n.contentRef=I.createRef(),n.containerRef=I.createRef(),n._scrollRatio=null,n.gutterRef=k.createRef(),n}return Ar(t,e),ur(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),DN(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,i,o,c,d,h,m,g,v,b){var x=this.props,S=x.min,w=x.max,_=(c.get(i)||[]).filter(function(C){return h.inRange(n,m.start(C),m.end(C),"day")}),N=(d.get(i)||[]).filter(function(C){return h.inRange(n,m.start(C),m.end(C),"day")});return I.createElement(QO,Object.assign({},this.props,{localizer:h,min:h.merge(n,S),max:h.merge(n,w),resource:o&&i,components:g,isNow:h.isSameDate(n,b),key:"".concat(i,"-").concat(n),date:n,events:_,backgroundEvents:N,dayLayoutAlgorithm:v}))}},{key:"renderResourcesFirst",value:function(n,i,o,c,d,h,m,g,v){var b=this;return i.map(function(x){var S=gi(x,2),w=S[0],_=S[1];return n.map(function(N){return b.renderDayColumn(N,w,_,o,c,d,h,g,v,m)})})}},{key:"renderRangeFirst",value:function(n,i,o,c,d,h,m,g,v){var b=this;return n.map(function(x){return I.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:x},i.map(function(S){var w=gi(S,2),_=w[0],N=w[1];return I.createElement("div",{style:{flex:1},key:h.resourceId(N)},b.renderDayColumn(x,_,N,o,c,d,h,g,v,m))}))})}},{key:"renderEvents",value:function(n,i,o,c){var d=this.props,h=d.accessors,m=d.localizer,g=d.resourceGroupingLayout,v=d.components,b=d.dayLayoutAlgorithm,x=this.memoizedResources(this.props.resources,h),S=x.groupEvents(i),w=x.groupEvents(o);return g?this.renderRangeFirst(n,x,S,w,m,h,c,v,b):this.renderResourcesFirst(n,x,S,w,m,h,c,v,b)}},{key:"render",value:function(){var n,i=this.props,o=i.events,c=i.backgroundEvents,d=i.range,h=i.width,m=i.rtl,g=i.selected,v=i.getNow,b=i.resources,x=i.components,S=i.accessors,w=i.getters,_=i.localizer,N=i.min,C=i.max,T=i.showMultiDayTimes,A=i.longPressThreshold,L=i.resizable,E=i.resourceGroupingLayout;h=h||this.state.gutterWidth;var D=d[0],R=d[d.length-1];this.slots=d.length;var q=[],B=[],U=[];o.forEach(function(V){if(Ac(V,D,R,S,_)){var te=S.start(V),ge=S.end(V);S.allDay(V)||_.startAndEndAreDateOnly(te,ge)||!T&&!_.isSameDate(te,ge)?q.push(V):B.push(V)}}),c.forEach(function(V){Ac(V,D,R,S,_)&&U.push(V)}),q.sort(function(V,te){return sb(V,te,S,_)});var K={range:d,events:q,width:h,rtl:m,getNow:v,localizer:_,selected:g,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(b,S),selectable:this.props.selectable,accessors:S,getters:w,components:x,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:A,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:L};return I.createElement("div",{className:Ft("rbc-time-view",b&&"rbc-time-view-resources"),ref:this.containerRef},b&&b.length>1&&E?I.createElement(QF,K):I.createElement(VF,K),this.props.popup&&this.renderOverlay(),I.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},I.createElement(JF,{date:D,ref:this.gutterRef,localizer:_,min:_.merge(D,N),max:_.merge(D,C),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:x,className:"rbc-time-gutter",getters:w}),this.renderEvents(d,B,U,v())))}},{key:"renderOverlay",value:function(){var n,i,o=this,c=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},d=this.props,h=d.accessors,m=d.localizer,g=d.components,v=d.getters,b=d.selected,x=d.popupOffset,S=d.handleDragStart,w=function(){return o.setState({overlay:null})};return I.createElement(Cx,{overlay:c,accessors:h,localizer:m,components:g,getters:v,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!c.position,overlayDisplay:this.overlayDisplay,onHide:w})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,o=(i=n.gutterRef)!==null&&i!==void 0&&i.current?rb(n.gutterRef.current):void 0;o&&n.state.gutterWidth!==o&&n.setState({gutterWidth:o})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=n.min,o=n.max,c=n.scrollToTime,d=n.localizer,h=d.diff(d.merge(c,i),c,"milliseconds"),m=d.diff(i,o,"milliseconds");this._scrollRatio=h/m}}])})(k.Component);Qo.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var eH=["date","localizer","min","max","scrollToTime","enableAutoScroll"],sh=(function(e){function t(){return cr(this,t),Or(this,t,arguments)}return Ar(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.date,o=n.localizer,c=n.min,d=c===void 0?o.startOf(new Date,"day"):c,h=n.max,m=h===void 0?o.endOf(new Date,"day"):h,g=n.scrollToTime,v=g===void 0?o.startOf(new Date,"day"):g,b=n.enableAutoScroll,x=b===void 0?!0:b,S=ca(n,eH),w=t.range(i,{localizer:o});return I.createElement(Qo,Object.assign({},S,{range:w,eventOffset:10,localizer:o,min:d,max:m,scrollToTime:v,enableAutoScroll:x}))}}])})(I.Component);sh.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};sh.navigate=function(e,t,r){var n=r.localizer;switch(t){case Jr.PREVIOUS:return n.add(e,-1,"day");case Jr.NEXT:return n.add(e,1,"day");default:return e}};sh.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var tH=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ns=(function(e){function t(){return cr(this,t),Or(this,t,arguments)}return Ar(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.date,o=n.localizer,c=n.min,d=c===void 0?o.startOf(new Date,"day"):c,h=n.max,m=h===void 0?o.endOf(new Date,"day"):h,g=n.scrollToTime,v=g===void 0?o.startOf(new Date,"day"):g,b=n.enableAutoScroll,x=b===void 0?!0:b,S=ca(n,tH),w=t.range(i,this.props);return I.createElement(Qo,Object.assign({},S,{range:w,eventOffset:15,localizer:o,min:d,max:m,scrollToTime:v,enableAutoScroll:x}))}}])})(I.Component);Ns.defaultProps=Qo.defaultProps;Ns.navigate=function(e,t,r){var n=r.localizer;switch(t){case Jr.PREVIOUS:return n.add(e,-1,"week");case Jr.NEXT:return n.add(e,1,"week");default:return e}};Ns.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),i=r.startOf(e,"week",n),o=r.endOf(e,"week",n);return r.range(i,o)};Ns.title=function(e,t){var r=t.localizer,n=Ns.range(e,{localizer:r}),i=TO(n),o=i[0],c=i.slice(1);return r.format({start:o,end:c.pop()},"dayRangeHeaderFormat")};var rH=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Ox(e,t){return Ns.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var tu=(function(e){function t(){return cr(this,t),Or(this,t,arguments)}return Ar(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.date,o=n.localizer,c=n.min,d=c===void 0?o.startOf(new Date,"day"):c,h=n.max,m=h===void 0?o.endOf(new Date,"day"):h,g=n.scrollToTime,v=g===void 0?o.startOf(new Date,"day"):g,b=n.enableAutoScroll,x=b===void 0?!0:b,S=ca(n,rH),w=Ox(i,this.props);return I.createElement(Qo,Object.assign({},S,{range:w,eventOffset:15,localizer:o,min:d,max:m,scrollToTime:v,enableAutoScroll:x}))}}])})(I.Component);tu.defaultProps=Qo.defaultProps;tu.range=Ox;tu.navigate=Ns.navigate;tu.title=function(e,t){var r=t.localizer,n=Ox(e,{localizer:r}),i=TO(n),o=i[0],c=i.slice(1);return r.format({start:o,end:c.pop()},"dayRangeHeaderFormat")};var ih=30;function oh(e){var t=e.accessors,r=e.components,n=e.date,i=e.events,o=e.getters,c=e.length,d=c===void 0?ih:c,h=e.localizer,m=e.onDoubleClickEvent,g=e.onSelectEvent,v=e.selected,b=k.useRef(null),x=k.useRef(null),S=k.useRef(null),w=k.useRef(null),_=k.useRef(null);k.useEffect(function(){T()});var N=function(R,q,B){var U=r.event,K=r.date;return q=q.filter(function(V){return Ac(V,h.startOf(R,"day"),h.endOf(R,"day"),t,h)}),q.map(function(V,te){var ge=t.title(V),P=t.end(V),W=t.start(V),J=o.eventProp(V,W,P,nh(V,v)),me=te===0&&h.format(R,"agendaDateFormat"),oe=te===0?I.createElement("td",{rowSpan:q.length,className:"rbc-agenda-date-cell"},K?I.createElement(K,{day:R,label:me}):me):!1;return I.createElement("tr",{key:B+"_"+te,className:J.className,style:J.style},oe,I.createElement("td",{className:"rbc-agenda-time-cell"},C(R,V)),I.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(H){return g&&g(V,H)},onDoubleClick:function(H){return m&&m(V,H)}},U?I.createElement(U,{event:V,title:ge}):ge))},[])},C=function(R,q){var B="",U=r.time,K=h.messages.allDay,V=t.end(q),te=t.start(q);return t.allDay(q)||(h.eq(te,V)?K=h.format(te,"agendaTimeFormat"):h.isSameDate(te,V)?K=h.format({start:te,end:V},"agendaTimeRangeFormat"):h.isSameDate(R,te)?K=h.format(te,"agendaTimeFormat"):h.isSameDate(R,V)&&(K=h.format(V,"agendaTimeFormat"))),h.gt(R,te,"day")&&(B="rbc-continues-prior"),h.lt(R,V,"day")&&(B+=" rbc-continues-after"),I.createElement("span",{className:B.trim()},U?I.createElement(U,{event:q,day:R,label:K}):K)},T=function(){if(_.current){var R=b.current,q=_.current.firstChild;if(q){var B=w.current.scrollHeight>w.current.clientHeight,U=[],K=U;U=[rb(q.children[0]),rb(q.children[1])],(K[0]!==U[0]||K[1]!==U[1])&&(x.current.style.width=U[0]+"px",S.current.style.width=U[1]+"px"),B?(rB(R,"rbc-header-overflowing"),R.style.marginRight=cx()+"px"):nB(R,"rbc-header-overflowing")}}},A=h.messages,L=h.add(n,d,"day"),E=h.range(n,L,"day");return i=i.filter(function(D){return Ac(D,h.startOf(n,"day"),h.endOf(L,"day"),t,h)}),i.sort(function(D,R){return+t.start(D)-+t.start(R)}),I.createElement("div",{className:"rbc-agenda-view"},i.length!==0?I.createElement(I.Fragment,null,I.createElement("table",{ref:b,className:"rbc-agenda-table"},I.createElement("thead",null,I.createElement("tr",null,I.createElement("th",{className:"rbc-header",ref:x},A.date),I.createElement("th",{className:"rbc-header",ref:S},A.time),I.createElement("th",{className:"rbc-header"},A.event)))),I.createElement("div",{className:"rbc-agenda-content",ref:w},I.createElement("table",{className:"rbc-agenda-table"},I.createElement("tbody",{ref:_},E.map(function(D,R){return N(D,i,R)}))))):I.createElement("span",{className:"rbc-agenda-empty"},A.noEventsInRange))}oh.range=function(e,t){var r=t.length,n=r===void 0?ih:r,i=t.localizer,o=i.add(e,n,"day");return{start:e,end:o}};oh.navigate=function(e,t,r){var n=r.length,i=n===void 0?ih:n,o=r.localizer;switch(t){case Jr.PREVIOUS:return o.add(e,-i,"day");case Jr.NEXT:return o.add(e,i,"day");default:return e}};oh.title=function(e,t){var r=t.length,n=r===void 0?ih:r,i=t.localizer,o=i.add(e,n,"day");return i.format({start:e,end:o},"agendaHeaderFormat")};var Yd=si(si(si(si(si({},qr.MONTH,ah),qr.WEEK,Ns),qr.WORK_WEEK,tu),qr.DAY,sh),qr.AGENDA,oh),nH=["action","date","today"];function aH(e,t){var r=t.action,n=t.date,i=t.today,o=ca(t,nH);switch(e=typeof e=="string"?Yd[e]:e,r){case Jr.TODAY:n=i||new Date;break;case Jr.DATE:break;default:xc(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,o)}return n}function sH(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&za(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var Ma=function(t){return function(r){return sH(r,t)}},iH=["view","date","getNow","onNavigate"],oH=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function XO(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var i=gi(n[r],2),o=i[0],c=i[1];c&&t.push(o)}return t}function lH(e,t){var r=t.views,n=XO(r);return n.indexOf(e)!==-1}var JO=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Or(this,t,[].concat(i)),r.getViews=function(){var c=r.props.views;return Array.isArray(c)?D9(c,function(d,h){return d[h]=Yd[h]},{}):za(c)==="object"?ZI(c,function(d,h){return d===!0?Yd[h]:d}):Yd},r.getView=function(){var c=r.getViews();return c[r.props.view]},r.getDrilldownView=function(c){var d=r.props,h=d.view,m=d.drilldownView,g=d.getDrilldownView;return g?g(c,h,Object.keys(r.getViews())):m},r.handleRangeChange=function(c,d,h){var m=r.props,g=m.onRangeChange,v=m.localizer;g&&d.range&&g(d.range(c,{localizer:v}),h)},r.handleNavigate=function(c,d){var h=r.props,m=h.view,g=h.date,v=h.getNow,b=h.onNavigate,x=ca(h,iH),S=r.getView(),w=v();g=aH(S,kt(kt({},x),{},{action:c,date:d||g||w,today:w})),b(g,m,c),r.handleRangeChange(g,S)},r.handleViewChange=function(c){c!==r.props.view&&lH(c,r.props)&&r.props.onView(c);var d=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),d[c],c)},r.handleSelectEvent=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onKeyPressEvent,d)},r.handleSelectSlot=function(c){At(r.props.onSelectSlot,c)},r.handleDrillDown=function(c,d){var h=r.props.onDrillDown;if(h){h(c,d,r.drilldownView);return}d&&r.handleViewChange(d),r.handleNavigate(Jr.DATE,c)},r.state={context:t.getContext(r.props)},r}return Ar(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.view,o=n.toolbar,c=n.events,d=n.backgroundEvents,h=n.resourceGroupingLayout,m=n.style,g=n.className,v=n.elementProps,b=n.date,x=n.getNow,S=n.length,w=n.showMultiDayTimes,_=n.onShowMore,N=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var C=ca(n,oH);b=b||x();var T=this.getView(),A=this.state.context,L=A.accessors,E=A.components,D=A.getters,R=A.localizer,q=A.viewNames,B=E.toolbar||dF,U=T.title(b,{localizer:R,length:S});return I.createElement("div",Object.assign({},v,{className:Ft(g,"rbc-calendar",C.rtl&&"rbc-rtl"),style:m}),o&&I.createElement(B,{date:b,view:i,views:q,label:U,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:R}),I.createElement(T,Object.assign({},C,{events:c,backgroundEvents:d,date:b,getNow:x,length:S,localizer:R,getters:D,components:E,accessors:L,showMultiDayTimes:w,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:_,doShowMoreDrillDown:N,resourceGroupingLayout:h})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var i=n.startAccessor,o=n.endAccessor,c=n.allDayAccessor,d=n.tooltipAccessor,h=n.titleAccessor,m=n.resourceAccessor,g=n.resourceIdAccessor,v=n.resourceTitleAccessor,b=n.eventIdAccessor,x=n.eventPropGetter,S=n.backgroundEventPropGetter,w=n.slotPropGetter,_=n.slotGroupPropGetter,N=n.dayPropGetter,C=n.view,T=n.views,A=n.localizer,L=n.culture,E=n.messages,D=E===void 0?{}:E,R=n.components,q=R===void 0?{}:R,B=n.formats,U=B===void 0?{}:B,K=XO(T),V=hF(D);return{viewNames:K,localizer:uF(A,L,U,V),getters:{eventProp:function(){return x&&x.apply(void 0,arguments)||{}},backgroundEventProp:function(){return S&&S.apply(void 0,arguments)||{}},slotProp:function(){return w&&w.apply(void 0,arguments)||{}},slotGroupProp:function(){return _&&_.apply(void 0,arguments)||{}},dayProp:function(){return N&&N.apply(void 0,arguments)||{}}},components:WI(q[C]||{},E9(q,K),{eventWrapper:sa,backgroundEventWrapper:sa,eventContainerWrapper:sa,dateCellWrapper:sa,weekWrapper:sa,timeSlotWrapper:sa,timeGutterWrapper:sa,timeIndicatorWrapper:sa}),accessors:{start:Ma(i),end:Ma(o),allDay:Ma(c),tooltip:Ma(d),title:Ma(h),resource:Ma(m),resourceId:Ma(g),resourceTitle:Ma(v),eventId:Ma(b)}}}}])})(I.Component);JO.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:qr.MONTH,views:[qr.MONTH,qr.WEEK,qr.DAY,qr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:qr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var ZO=zD(JO,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),cH=function(t,r,n){var i=t.start,o=t.end;return"".concat(n.format(i,"P",r),"  ").concat(n.format(o,"P",r))},w0=function(t,r,n){var i=t.start,o=t.end;return"".concat(n.format(i,"p",r),"  ").concat(n.format(o,"p",r))},uH=function(t,r,n){var i=t.start;return"".concat(n.format(i,"h:mma",r),"  ")},dH=function(t,r,n){var i=t.end;return"  ".concat(n.format(i,"h:mma",r))},fH=function(t,r,n){var i=t.start,o=t.end;return"".concat(n.format(i,"MMMM dd",r),"  ").concat(n.format(o,Ho(i,o,"month")?"dd":"MMMM dd",r))},hH={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:w0,eventTimeRangeFormat:w0,eventTimeRangeStartFormat:uH,eventTimeRangeEndFormat:dH,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:fH,agendaHeaderFormat:cH,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:w0},eA=function(t){var r=t.startOfWeek,n=t.getDay,i=t.format,o=t.locales;return new cF({formats:hH,firstOfWeek:function(d){return n(r(new Date,{locale:o[d]}))},format:function(d,h,m){return i(new Date(d),h,{locale:o[m]})}})};const tA=6048e5,mH=864e5,yC=Symbol.for("constructDateFrom");function ks(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&yC in e?e[yC](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ln(e,t){return ks(t||e,e)}let gH={};function lh(){return gH}function Si(e,t){const r=lh(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ln(e,t?.in),o=i.getDay(),c=(o<n?7:0)+o-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function _f(e,t){return Si(e,{...t,weekStartsOn:1})}function rA(e,t){const r=Ln(e,t?.in),n=r.getFullYear(),i=ks(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const o=_f(i),c=ks(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const d=_f(c);return r.getTime()>=o.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function bC(e){const t=Ln(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function pH(e,...t){const r=ks.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function xC(e,t){const r=Ln(e,t?.in);return r.setHours(0,0,0,0),r}function vH(e,t,r){const[n,i]=pH(r?.in,e,t),o=xC(n),c=xC(i),d=+o-bC(o),h=+c-bC(c);return Math.round((d-h)/mH)}function yH(e,t){const r=rA(e,t),n=ks(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),_f(n)}function bH(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xH(e){return!(!bH(e)&&typeof e!="number"||isNaN(+Ln(e)))}function wH(e,t){const r=Ln(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const _H={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SH=(e,t,r)=>{let n;const i=_H[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function _0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const jH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EH={date:_0({formats:jH,defaultWidth:"full"}),time:_0({formats:NH,defaultWidth:"full"}),dateTime:_0({formats:kH,defaultWidth:"full"})},CH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TH=(e,t,r,n)=>CH[e];function Kl(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=r?.width?String(r.width):c;i=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=r?.width?String(r.width):e.defaultWidth;i=e.values[d]||e.values[c]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const DH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},AH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},RH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},LH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qH=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},UH={ordinalNumber:qH,era:Kl({values:DH,defaultWidth:"wide"}),quarter:Kl({values:OH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Kl({values:AH,defaultWidth:"wide"}),day:Kl({values:RH,defaultWidth:"wide"}),dayPeriod:Kl({values:MH,defaultWidth:"wide",formattingValues:LH,defaultFormattingWidth:"wide"})};function Gl(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const c=o[0],d=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(d)?$H(d,v=>v.test(c)):PH(d,v=>v.test(c));let m;m=e.valueCallback?e.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;const g=t.slice(c.length);return{value:m,rest:g}}}function PH(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function $H(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function zH(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],o=t.match(e.parsePattern);if(!o)return null;let c=e.valueCallback?e.valueCallback(o[0]):o[0];c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(i.length);return{value:c,rest:d}}}const BH=/^(\d+)(th|st|nd|rd)?/i,IH=/\d+/i,FH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HH={any:[/^b/i,/^(a|c)/i]},KH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GH={any:[/1/i,/2/i,/3/i,/4/i]},YH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},VH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},QH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ZH={ordinalNumber:zH({matchPattern:BH,parsePattern:IH,valueCallback:e=>parseInt(e,10)}),era:Gl({matchPatterns:FH,defaultMatchWidth:"wide",parsePatterns:HH,defaultParseWidth:"any"}),quarter:Gl({matchPatterns:KH,defaultMatchWidth:"wide",parsePatterns:GH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gl({matchPatterns:YH,defaultMatchWidth:"wide",parsePatterns:VH,defaultParseWidth:"any"}),day:Gl({matchPatterns:QH,defaultMatchWidth:"wide",parsePatterns:WH,defaultParseWidth:"any"}),dayPeriod:Gl({matchPatterns:XH,defaultMatchWidth:"any",parsePatterns:JH,defaultParseWidth:"any"})},Ax={code:"en-US",formatDistance:SH,formatLong:EH,formatRelative:TH,localize:UH,match:ZH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eK(e,t){const r=Ln(e,t?.in);return vH(r,wH(r))+1}function tK(e,t){const r=Ln(e,t?.in),n=+_f(r)-+yH(r);return Math.round(n/tA)+1}function nA(e,t){const r=Ln(e,t?.in),n=r.getFullYear(),i=lh(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=ks(t?.in||e,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const d=Si(c,t),h=ks(t?.in||e,0);h.setFullYear(n,0,o),h.setHours(0,0,0,0);const m=Si(h,t);return+r>=+d?n+1:+r>=+m?n:n-1}function rK(e,t){const r=lh(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=nA(e,t),o=ks(t?.in||e,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),Si(o,t)}function nK(e,t){const r=Ln(e,t?.in),n=+Si(r,t)-+rK(r,t);return Math.round(n/tA)+1}function yt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const gs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return yt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):yt(r+1,2)},d(e,t){return yt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return yt(e.getHours()%12||12,t.length)},H(e,t){return yt(e.getHours(),t.length)},m(e,t){return yt(e.getMinutes(),t.length)},s(e,t){return yt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return yt(i,t.length)}},xo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wC={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return gs.y(e,t)},Y:function(e,t,r,n){const i=nA(e,n),o=i>0?i:1-i;if(t==="YY"){const c=o%100;return yt(c,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):yt(o,t.length)},R:function(e,t){const r=rA(e);return yt(r,t.length)},u:function(e,t){const r=e.getFullYear();return yt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return yt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return yt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return gs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return yt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=nK(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):yt(i,t.length)},I:function(e,t,r){const n=tK(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):yt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):gs.d(e,t)},D:function(e,t,r){const n=eK(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):yt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return yt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return yt(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return yt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=xo.noon:n===0?i=xo.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=xo.evening:n>=12?i=xo.afternoon:n>=4?i=xo.morning:i=xo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return gs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):gs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):yt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):yt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):gs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):gs.s(e,t)},S:function(e,t){return gs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return SC(n);case"XXXX":case"XX":return ni(n);case"XXXXX":case"XXX":default:return ni(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return SC(n);case"xxxx":case"xx":return ni(n);case"xxxxx":case"xxx":default:return ni(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_C(n,":");case"OOOO":default:return"GMT"+ni(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_C(n,":");case"zzzz":default:return"GMT"+ni(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return yt(n,t.length)},T:function(e,t,r){return yt(+e,t.length)}};function _C(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+t+yt(o,2)}function SC(e,t){return e%60===0?(e>0?"-":"+")+yt(Math.abs(e)/60,2):ni(e,t)}function ni(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=yt(Math.trunc(n/60),2),o=yt(n%60,2);return r+i+t+o}const jC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},aA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},aK=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return jC(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",jC(n,t)).replace("{{time}}",aA(i,t))},sK={p:aA,P:aK},iK=/^D+$/,oK=/^Y+$/,lK=["D","DD","YY","YYYY"];function cK(e){return iK.test(e)}function uK(e){return oK.test(e)}function dK(e,t,r){const n=fK(e,t,r);if(console.warn(n),lK.includes(e))throw new RangeError(n)}function fK(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gK=/^'([^]*?)'?$/,pK=/''/g,vK=/[a-zA-Z]/;function sA(e,t,r){const n=lh(),i=r?.locale??n.locale??Ax,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=Ln(e,r?.in);if(!xH(d))throw new RangeError("Invalid time value");let h=t.match(mK).map(g=>{const v=g[0];if(v==="p"||v==="P"){const b=sK[v];return b(g,i.formatLong)}return g}).join("").match(hK).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:yK(g)};if(wC[v])return{isToken:!0,value:g};if(v.match(vK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(h=i.localize.preprocessor(d,h));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:i};return h.map(g=>{if(!g.isToken)return g.value;const v=g.value;(!r?.useAdditionalWeekYearTokens&&uK(v)||!r?.useAdditionalDayOfYearTokens&&cK(v))&&dK(v,t,String(e));const b=wC[v[0]];return b(d,v,i.localize,m)}).join("")}function yK(e){const t=e.match(gK);return t?t[1].replace(pK,"'"):e}function iA(e,t){return Ln(e,t?.in).getDay()}const bK={"en-US":Ax},xK=eA({format:sA,startOfWeek:Si,getDay:iA,locales:bK});function NC(){const{boardId:e}=Ia(),{data:t=[],isLoading:r}=ct({queryKey:["cards",e],queryFn:()=>e?ki(e):Promise.resolve([]),enabled:!!e}),n=[];if(t.forEach(o=>{if(o.date_start||o.date_end){const c=o.date_start?new Date(o.date_start):new Date,d=o.date_end?new Date(o.date_end):c;n.push({id:`card-${o.id}`,title:` ${o.title}`,start:c,end:d,resource:o,type:"card"})}o.checklists&&o.checklists.forEach(c=>{c.checklist_items?.forEach(d=>{if(d.due_date||d.start_date){const h=d.start_date?new Date(d.start_date):new Date(d.due_date),m=d.due_date?new Date(d.due_date):h;n.push({id:`task-${d.id}`,title:`${d.done?"":""} ${d.text||"Untitled Task"}`,start:h,end:m,resource:o,type:"task",cardTitle:o.title,completed:d.done})}})})}),r)return u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("div",{className:"text-gray-500",children:"Loading calendar..."})});const i=o=>{const c={backgroundColor:o.type==="card"?"#3b82f6":"#10b981",borderRadius:"4px",opacity:o.completed?.6:1,color:"white",border:"none",display:"block"};return o.completed&&(c.textDecoration="line-through"),{style:c}};try{return u.jsx("div",{className:"h-full flex flex-col",children:u.jsxs("div",{className:"flex-1 p-4",children:[u.jsx("h1",{className:"text-2xl font-bold mb-2",children:e?"Board Calendar":"Master Calendar"}),u.jsxs("div",{className:"flex gap-4 mb-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#3b82f6"}}),u.jsxs("span",{children:["Cards (",n.filter(o=>o.type==="card").length,")"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#10b981"}}),u.jsxs("span",{children:["Tasks (",n.filter(o=>o.type==="task").length,")"]})]})]}),u.jsx("div",{className:"bg-white border rounded",style:{height:"calc(100vh - 250px)"},children:u.jsx(ZO,{localizer:xK,events:n,startAccessor:"start",endAccessor:"end",style:{height:"100%"},views:["month","week","day","agenda"],defaultView:"month",eventPropGetter:i})})]})})}catch(o){return u.jsx("div",{className:"h-full flex flex-col p-4",children:u.jsxs("div",{className:"bg-red-100 border border-red-400 p-4 rounded",children:[u.jsx("h2",{className:"text-red-800 font-bold",children:"Calendar Error"}),u.jsxs("p",{className:"text-red-700",children:["Error loading calendar: ",String(o)]})]})})}}function wK(){const{boardId:e}=Ia(),{data:t,isLoading:r}=ct({queryKey:["board",e],queryFn:()=>qb(e),enabled:!!e}),{data:n=[],isLoading:i}=ct({queryKey:["lists",e],queryFn:()=>$f(e),enabled:!!e}),{data:o=[],isLoading:c}=ct({queryKey:["cards",e],queryFn:()=>ki(e),enabled:!!e});if(r||i||c)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading timeline..."})});const d=w=>n.find(N=>N.id===w)?.name||"Unknown List",h=[];o.forEach(w=>{(w.date_start||w.date_end)&&h.push({id:`card-${w.id}`,type:"card",title:w.title,listName:d(w.list_id),dateStart:w.date_start||void 0,dateEnd:w.date_end||void 0,description:typeof w.description=="string"?w.description:null,labels:w.card_labels?.filter(_=>_.labels).map(_=>_.labels),card:w}),w.checklists&&w.checklists.forEach(_=>{_.checklist_items?.forEach(N=>{(N.due_date||N.start_date)&&h.push({id:`task-${N.id}`,type:"task",title:N.text||"Untitled Task",cardTitle:w.title,listName:d(w.list_id),dateStart:N.start_date||void 0,dateEnd:N.due_date||void 0,completed:N.done,priority:N.priority,labels:N.labels,card:w})})})});const g=h.sort((w,_)=>{const N=new Date(w.dateStart||w.dateEnd||0),C=new Date(_.dateStart||_.dateEnd||0);return N.getTime()-C.getTime()}).reduce((w,_)=>{const N=new Date(_.dateStart||_.dateEnd||0),C=`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}`;return w[C]||(w[C]=[]),w[C].push(_),w},{}),v=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),b=w=>{const[_,N]=w.split("-");return new Date(parseInt(_),parseInt(N)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})},x=h.filter(w=>w.type==="card").length,S=h.filter(w=>w.type==="task").length;return u.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900",children:[u.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t?.name," - Timeline View"]}),u.jsxs("div",{className:"flex gap-6 mt-2 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[x," Card",x!==1?"s":""]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[S," Task",S!==1?"s":""]})]})]})]}),u.jsx("div",{className:"flex-1 overflow-auto p-6",children:Object.keys(g).length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Timeline Events"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add dates to your cards and tasks to see them in the timeline view."})]}):u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-300 dark:bg-gray-600"}),Object.entries(g).map(([w,_])=>u.jsxs("div",{className:"relative mb-12",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full border-4 border-white dark:border-gray-900 shadow-lg z-10 relative"}),u.jsxs("div",{className:"ml-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:b(w)}),u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_.length," item",_.length!==1?"s":""]})]})]}),u.jsx("div",{className:"ml-10 space-y-4",children:_.map((N,C)=>u.jsxs("div",{className:`rounded-lg border p-4 shadow-sm hover:shadow-md transition-shadow ${N.type==="card"?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":N.completed?"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 opacity-75":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"}`,children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-lg",children:N.type==="card"?"":N.completed?"":""}),u.jsx("h3",{className:`font-medium text-gray-900 dark:text-white ${N.completed?"line-through":""}`,children:N.title})]}),N.type==="task"&&N.cardTitle&&u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 ml-7 mb-1",children:["From card: ",N.cardTitle]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 ml-7",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[" ",N.listName]}),N.dateStart&&u.jsxs("span",{className:"flex items-center gap-1",children:[" ",v(N.dateStart)]}),N.dateEnd&&u.jsxs("span",{className:"flex items-center gap-1",children:[" ",v(N.dateEnd)]}),N.priority&&u.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${N.priority==="high"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":N.priority==="medium"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:N.priority})]}),N.description&&u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2 ml-7 line-clamp-2",children:N.description})]}),u.jsxs("div",{className:"ml-4 flex flex-col items-end gap-1",children:[u.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${N.type==="card"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:N.type==="card"?" Card":" Task"}),u.jsxs("div",{className:"text-xs text-gray-400",children:["#",C+1]})]})]}),N.labels&&N.labels.length>0&&u.jsx("div",{className:"flex flex-wrap gap-1 mt-3 ml-7",children:N.labels.map((T,A)=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:T.color+"20",color:T.color,border:`1px solid ${T.color}40`},children:T.name},A))})]},N.id))})]},w))]})})})]})}function _K(){const{boardId:e}=Ia(),{data:t,isLoading:r}=ct({queryKey:["board",e],queryFn:()=>qb(e),enabled:!!e}),{data:n=[],isLoading:i}=ct({queryKey:["lists",e],queryFn:()=>$f(e),enabled:!!e}),{data:o=[],isLoading:c}=ct({queryKey:["cards",e],queryFn:()=>ki(e),enabled:!!e});if(r||i||c)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading map..."})});const d=o.filter(m=>m.location_lat&&m.location_lng||m.location_address),h=m=>n.find(v=>v.id===m)?.name||"Unknown List";return u.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900",children:[u.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t?.name," - Map View"]}),u.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:[d.length," pinned location",d.length!==1?"s":""," on this board"]})]}),u.jsx("div",{className:"flex-1 overflow-auto p-4",children:d.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Pinned Locations"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add location data to your cards to see them on this board's map."}),u.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Edit a card and add an address or coordinates to pin it to the map."})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:" Location Summary"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:d.filter(m=>m.location_lat&&m.location_lng).length}),u.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"GPS Coordinates"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:d.filter(m=>m.location_address).length}),u.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Addresses"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:new Set(d.map(m=>h(m.list_id))).size}),u.jsx("div",{className:"text-purple-700 dark:text-purple-300",children:"Lists"})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(m=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm",children:m.title}),u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:h(m.list_id)})]}),m.description&&u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2",children:String(m.description)}),u.jsxs("div",{className:"space-y-2",children:[m.location_address&&u.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{className:"text-red-500 mt-0.5",children:""}),u.jsx("span",{className:"flex-1",children:m.location_address})]}),m.location_lat&&m.location_lng&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{className:"text-blue-500",children:""}),u.jsxs("span",{children:[m.location_lat.toFixed(6),", ",m.location_lng.toFixed(6)]})]}),u.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[m.location_lat&&m.location_lng&&u.jsx("button",{onClick:()=>{const g=`https://www.google.com/maps?q=${m.location_lat},${m.location_lng}`;window.open(g,"_blank")},className:"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:" View on Google Maps"}),m.location_address&&!m.location_lat&&u.jsx("button",{onClick:()=>{const g=`https://www.google.com/maps/search/${encodeURIComponent(m.location_address)}`;window.open(g,"_blank")},className:"px-3 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:" Search Address"}),m.location_lat&&m.location_lng&&u.jsx("button",{onClick:()=>{const g=`https://www.google.com/maps/dir//${m.location_lat},${m.location_lng}`;window.open(g,"_blank")},className:"px-3 py-1 text-xs bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors",children:" Get Directions"})]})]}),u.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[u.jsxs("span",{children:[m.date_start&&`Start: ${new Date(m.date_start).toLocaleDateString()}`,m.date_end&&`  Due: ${new Date(m.date_end).toLocaleDateString()}`]}),u.jsx("span",{children:" Card"})]})})]},m.id))}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Quick Map Actions"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>{if(d.length>0){const m=d.filter(g=>g.location_lat&&g.location_lng).map(g=>`${g.location_lat},${g.location_lng}`).join("|");if(m){const g=`https://www.google.com/maps?q=${m}`;window.open(g,"_blank")}}},disabled:d.filter(m=>m.location_lat&&m.location_lng).length===0,className:"px-3 py-2 text-sm bg-indigo-500 text-white rounded hover:bg-indigo-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:" View All Locations on Map"}),u.jsx("button",{onClick:()=>{const m=d.filter(g=>g.location_address).map(g=>g.location_address).join(" | ");m&&navigator.clipboard.writeText(m)},disabled:d.filter(m=>m.location_address).length===0,className:"px-3 py-2 text-sm bg-green-500 text-white rounded hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:" Copy All Addresses"})]})]})]})})]})}function SK(){return u.jsxs("div",{className:"p-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"WorkspacePage"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This WorkspacePage component will be implemented."})]})}const jK={id:"default",name:"Default Theme",colors:{primary:"#3b82f6",secondary:"#6b7280",accent:"#10b981",background:"#ffffff",cardBackground:"#f9fafb",text:"#111827",border:"#d1d5db"},cardFields:[{id:"title",type:"text",label:"Title",required:!0,visible:!0},{id:"description",type:"textarea",label:"Description",required:!1,visible:!0},{id:"due_date",type:"date",label:"Due Date",required:!1,visible:!0},{id:"priority",type:"select",label:"Priority",required:!1,visible:!0,options:["Low","Medium","High","Urgent"]},{id:"assignee",type:"text",label:"Assignee",required:!1,visible:!0},{id:"labels",type:"select",label:"Labels",required:!1,visible:!0}],labels:["Bug","Feature","Enhancement","Documentation","Research"],calendarSettings:{defaultView:"month",startHour:8,endHour:18,showWeekends:!0}};function NK({field:e,onUpdate:t,onDelete:r}){const{attributes:n,listeners:i,setNodeRef:o,transform:c,transition:d,isDragging:h}=Pf({id:e.id}),[m,g]=k.useState(!1),[v,b]=k.useState(e),x={transform:Kn.Transform.toString(c),transition:d,opacity:h?.5:1},S=()=>{t(v),g(!1)};return m?u.jsx("div",{ref:o,style:x,className:"bg-white border rounded-lg p-4 mb-2",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"Label"}),u.jsx("input",{type:"text",value:v.label,onChange:w=>b({...v,label:w.target.value}),className:"w-full p-2 border rounded"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type"}),u.jsxs("select",{value:v.type,onChange:w=>b({...v,type:w.target.value}),className:"w-full p-2 border rounded",children:[u.jsx("option",{value:"text",children:"Text"}),u.jsx("option",{value:"textarea",children:"Textarea"}),u.jsx("option",{value:"date",children:"Date"}),u.jsx("option",{value:"select",children:"Select"}),u.jsx("option",{value:"checkbox",children:"Checkbox"}),u.jsx("option",{value:"number",children:"Number"}),u.jsx("option",{value:"url",children:"URL"}),u.jsx("option",{value:"email",children:"Email"})]})]}),v.type==="select"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"Options (comma separated)"}),u.jsx("input",{type:"text",value:v.options?.join(", ")||"",onChange:w=>b({...v,options:w.target.value.split(", ").filter(Boolean)}),className:"w-full p-2 border rounded",placeholder:"Option 1, Option 2, Option 3"})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:v.required,onChange:w=>b({...v,required:w.target.checked}),className:"mr-2"}),"Required"]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:v.visible,onChange:w=>b({...v,visible:w.target.checked}),className:"mr-2"}),"Visible"]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:S,className:"px-3 py-1 bg-blue-500 text-white rounded text-sm",children:"Save"}),u.jsx("button",{onClick:()=>g(!1),className:"px-3 py-1 bg-gray-500 text-white rounded text-sm",children:"Cancel"})]})]})}):u.jsxs("div",{ref:o,style:x,...n,className:"bg-white border rounded-lg p-3 mb-2 flex items-center space-x-3",children:[u.jsx("div",{...i,className:"cursor-grab",children:u.jsx(Wq,{className:"w-4 h-4 text-gray-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"font-medium",children:e.label}),u.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e.type,")"]}),e.required&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"}),!e.visible&&u.jsx("span",{className:"text-gray-400 ml-1",children:"(hidden)"})]}),u.jsx("button",{onClick:()=>g(!0),className:"px-2 py-1 text-blue-500 text-sm",children:"Edit"}),u.jsx("button",{onClick:r,className:"p-1 text-red-500",children:u.jsx(Ur,{className:"w-4 h-4"})})]})}function kK(){const[e,t]=k.useState(jK),[r,n]=k.useState("colors"),[i,o]=k.useState(!1),[c,d]=k.useState(""),[h,m]=k.useState(!1),g=kr(),v=zb(ff(Ic)),{data:b=[]}=ct({queryKey:["themes"],queryFn:Cf}),x=Ge({mutationFn:zT,onSuccess:async R=>{g.invalidateQueries({queryKey:["themes"]}),h&&await S.mutateAsync(R.id),o(!1),d(""),m(!1)}}),S=Ge({mutationFn:Tb,onSuccess:()=>{g.invalidateQueries({queryKey:["themes"]})}}),w=()=>{if(!c.trim()){alert("Please enter a theme name");return}const R={name:c,description:`Custom theme with ${e.cardFields.length} fields`,colors:{primary:e.colors.primary,secondary:e.colors.secondary,accent:e.colors.accent,background:e.colors.background,cardBackground:e.colors.cardBackground,text:e.colors.text,textSecondary:e.colors.text,border:e.colors.border,success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:e.colors.accent},typography:{fontFamily:"Inter, sans-serif",fontSize:{xs:"12px",sm:"14px",base:"16px",lg:"18px",xl:"20px","2xl":"24px","3xl":"30px"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"}},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px","2xl":"48px"},borderRadius:{sm:"4px",md:"8px",lg:"12px",full:"9999px"},shadows:{sm:"0 1px 3px rgba(0, 0, 0, 0.1)",md:"0 4px 6px rgba(0, 0, 0, 0.1)",lg:"0 10px 15px rgba(0, 0, 0, 0.1)",xl:"0 20px 25px rgba(0, 0, 0, 0.1)"}};x.mutate(R)},_=R=>{const{active:q,over:B}=R;if(q.id!==B.id){const U=e.cardFields.findIndex(V=>V.id===q.id),K=e.cardFields.findIndex(V=>V.id===B.id);t({...e,cardFields:qf(e.cardFields,U,K)})}},N=()=>{const R={id:`field_${Date.now()}`,type:"text",label:"New Field",required:!1,visible:!0};t({...e,cardFields:[...e.cardFields,R]})},C=(R,q)=>{t({...e,cardFields:e.cardFields.map(B=>B.id===R?q:B)})},T=R=>{t({...e,cardFields:e.cardFields.filter(q=>q.id!==R)})},A=()=>{t({...e,labels:[...e.labels,"New Label"]})},L=(R,q)=>{const B=[...e.labels];B[R]=q,t({...e,labels:B})},E=R=>{t({...e,labels:e.labels.filter((q,B)=>B!==R)})},D=()=>{o(!0)};return u.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Theme Settings"}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs("button",{onClick:()=>window.location.href="/admin",className:"flex items-center space-x-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[u.jsx(af,{className:"w-4 h-4"}),u.jsx("span",{children:"Manage Themes"})]}),u.jsxs("button",{onClick:D,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:[u.jsx(Lb,{className:"w-4 h-4"}),u.jsx("span",{children:"Save Theme"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg border",children:[u.jsx("div",{className:"border-b",children:u.jsx("nav",{className:"flex space-x-8 px-6",children:["colors","fields","labels","calendar"].map(R=>u.jsx("button",{onClick:()=>n(R),className:`py-4 px-2 border-b-2 font-medium text-sm capitalize ${r===R?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:R==="fields"?"Card Fields":R},R))})}),u.jsxs("div",{className:"p-6",children:[r==="colors"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[u.jsx(Ss,{className:"w-5 h-5 mr-2"}),"Color Settings"]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(e.colors).map(([R,q])=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 capitalize",children:R.replace(/([A-Z])/g," $1").toLowerCase()}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"color",value:q,onChange:B=>t({...e,colors:{...e.colors,[R]:B.target.value}}),className:"w-12 h-10 border rounded"}),u.jsx("input",{type:"text",value:q,onChange:B=>t({...e,colors:{...e.colors,[R]:B.target.value}}),className:"flex-1 p-2 border rounded font-mono text-sm"})]})]},R))})]}),r==="fields"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Card Field Structure"}),u.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-3 py-2 bg-green-500 text-white rounded",children:[u.jsx(Fn,{className:"w-4 h-4"}),u.jsx("span",{children:"Add Field"})]})]}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop to reorder fields. This will determine the structure of all cards."}),u.jsx(Kb,{sensors:v,collisionDetection:sD,onDragEnd:_,children:u.jsx(Uf,{items:e.cardFields.map(R=>R.id),strategy:Gb,children:e.cardFields.map(R=>u.jsx(NK,{field:R,onUpdate:q=>C(R.id,q),onDelete:()=>T(R.id)},R.id))})})]}),r==="labels"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Default Labels"}),u.jsxs("button",{onClick:A,className:"flex items-center space-x-2 px-3 py-2 bg-green-500 text-white rounded",children:[u.jsx(Fn,{className:"w-4 h-4"}),u.jsx("span",{children:"Add Label"})]})]}),u.jsx("div",{className:"space-y-2",children:e.labels.map((R,q)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",value:R,onChange:B=>L(q,B.target.value),className:"flex-1 p-2 border rounded"}),u.jsx("button",{onClick:()=>E(q),className:"p-2 text-red-500",children:u.jsx(Ur,{className:"w-4 h-4"})})]},q))})]}),r==="calendar"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Calendar Settings"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Default View"}),u.jsxs("select",{value:e.calendarSettings.defaultView,onChange:R=>t({...e,calendarSettings:{...e.calendarSettings,defaultView:R.target.value}}),className:"w-full p-2 border rounded",children:[u.jsx("option",{value:"month",children:"Month"}),u.jsx("option",{value:"week",children:"Week"}),u.jsx("option",{value:"day",children:"Day"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Hour"}),u.jsx("input",{type:"number",min:"0",max:"23",value:e.calendarSettings.startHour,onChange:R=>t({...e,calendarSettings:{...e.calendarSettings,startHour:parseInt(R.target.value)}}),className:"w-full p-2 border rounded"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Hour"}),u.jsx("input",{type:"number",min:"0",max:"23",value:e.calendarSettings.endHour,onChange:R=>t({...e,calendarSettings:{...e.calendarSettings,endHour:parseInt(R.target.value)}}),className:"w-full p-2 border rounded"})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:e.calendarSettings.showWeekends,onChange:R=>t({...e,calendarSettings:{...e.calendarSettings,showWeekends:R.target.checked}}),className:"mr-2"}),"Show Weekends"]})})]})]})]})]}),i&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Save Theme"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Name"}),u.jsx("input",{type:"text",value:c,onChange:R=>d(R.target.value),placeholder:"Enter theme name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"setAsActive",checked:h,onChange:R=>m(R.target.checked),className:"mr-2"}),u.jsx("label",{htmlFor:"setAsActive",className:"text-sm text-gray-700",children:"Set as active theme (applies to entire app)"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>{o(!1),d(""),m(!1)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),u.jsx("button",{onClick:w,disabled:!c.trim()||x.isPending,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x.isPending?"Saving...":"Save Theme"})]})]})})]})}const EK=({label:e,value:t,onChange:r,description:n})=>u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),n&&u.jsx("p",{className:"text-xs text-gray-500",children:n}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"color",value:t,onChange:i=>r(i.target.value),className:"w-12 h-8 border border-gray-300 rounded cursor-pointer"}),u.jsx("input",{type:"text",value:t,onChange:i=>r(i.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm font-mono",placeholder:"#000000"})]})]}),CK=({isOpen:e,onClose:t})=>{const{currentTheme:r,setActiveTheme:n}=IT(),[i,o]=k.useState("colors"),[c,d]=k.useState(null),[h,m]=k.useState(""),[g,v]=k.useState(""),[b,x]=k.useState(!1),S=kr();ct({queryKey:["themes"],queryFn:Cf});const w=Ge({mutationFn:zT,onSuccess:()=>{S.invalidateQueries({queryKey:["themes"]})}}),_=Ge({mutationFn:hq,onSuccess:()=>{S.invalidateQueries({queryKey:["themes"]})}});k.useEffect(()=>{r&&!c?(d({name:r.name,description:r.description||"",colors:{...r.colors},typography:{...r.typography},spacing:{...r.spacing},borderRadius:{...r.borderRadius},shadows:{...r.shadows}}),m(r.name),v(r.description||"")):!r&&!c&&(d({name:"New Theme",description:"Custom theme",colors:{...qt.colors},typography:{...qt.typography},spacing:{...qt.spacing},borderRadius:{...qt.borderRadius},shadows:{...qt.shadows}}),m("New Theme"),v("Custom theme"))},[r,c]);const N=(D,R)=>{c&&d({...c,colors:{...c.colors,[D]:R}})},C=async()=>{if(c)try{const D={...c,name:h,description:g};if(r?.id)await _.mutateAsync({id:r.id,...D});else{const R=await w.mutateAsync(D);R?.id&&await n(R.id)}t()}catch(D){console.error("Failed to save theme:",D)}},T=()=>{d({name:"Default Reset",description:"Reset to default theme",colors:{...qt.colors},typography:{...qt.typography},spacing:{...qt.spacing},borderRadius:{...qt.borderRadius},shadows:{...qt.shadows}}),m("Default Reset"),v("Reset to default theme")},A=()=>{if(c){const D=JSON.stringify(c,null,2),R=new Blob([D],{type:"application/json"}),q=URL.createObjectURL(R),B=document.createElement("a");B.href=q,B.download=`${h.replace(/\s+/g,"-").toLowerCase()}-theme.json`,B.click(),URL.revokeObjectURL(q)}},L=D=>{const R=D.target.files?.[0];if(R){const q=new FileReader;q.onload=B=>{try{const U=JSON.parse(B.target?.result);d(U),m(U.name||"Imported Theme"),v(U.description||"Imported custom theme")}catch(U){console.error("Failed to import theme:",U)}},q.readAsText(R)}};if(!e||!c)return null;const E=[{title:"Base Colors",colors:[{key:"primary",label:"Primary",description:"Main brand color"},{key:"secondary",label:"Secondary",description:"Secondary brand color"},{key:"accent",label:"Accent",description:"Accent highlight color"},{key:"background",label:"Background",description:"Main background color"},{key:"cardBackground",label:"Card Background",description:"Background for cards"},{key:"listBackground",label:"List Background",description:"Background for lists"}]},{title:"Text Colors",colors:[{key:"text",label:"Primary Text",description:"Main text color"},{key:"textSecondary",label:"Secondary Text",description:"Secondary text color"},{key:"textMuted",label:"Muted Text",description:"Muted/disabled text"},{key:"textInverted",label:"Inverted Text",description:"Text on dark backgrounds"},{key:"cardText",label:"Card Text",description:"Text color in cards"},{key:"cardTitle",label:"Card Title",description:"Title text in cards"},{key:"cardSubtitle",label:"Card Subtitle",description:"Subtitle text in cards"},{key:"listText",label:"List Text",description:"Text color in lists"},{key:"listTitle",label:"List Title",description:"Title text in lists"},{key:"boardText",label:"Board Text",description:"Text color on boards"},{key:"boardTitle",label:"Board Title",description:"Title text on boards"},{key:"navText",label:"Navigation Text",description:"Text in navigation"}]},{title:"Border Colors",colors:[{key:"border",label:"Border",description:"Default border color"},{key:"borderLight",label:"Light Border",description:"Light border variant"},{key:"borderDark",label:"Dark Border",description:"Dark border variant"},{key:"cardBorder",label:"Card Border",description:"Border color for cards"},{key:"listBorder",label:"List Border",description:"Border color for lists"}]},{title:"State Colors",colors:[{key:"success",label:"Success",description:"Success state color"},{key:"warning",label:"Warning",description:"Warning state color"},{key:"error",label:"Error",description:"Error state color"},{key:"info",label:"Info",description:"Information state color"},{key:"hover",label:"Hover",description:"Hover state color"},{key:"focus",label:"Focus",description:"Focus state color"},{key:"disabled",label:"Disabled",description:"Disabled state color"}]},{title:"Button Colors",colors:[{key:"buttonPrimary",label:"Primary Button",description:"Primary button background"},{key:"buttonPrimaryText",label:"Primary Button Text",description:"Primary button text"},{key:"buttonSecondary",label:"Secondary Button",description:"Secondary button background"},{key:"buttonSecondaryText",label:"Secondary Button Text",description:"Secondary button text"},{key:"buttonDanger",label:"Danger Button",description:"Danger button background"},{key:"buttonDangerText",label:"Danger Button Text",description:"Danger button text"}]}];return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(Ss,{className:"w-6 h-6 text-purple-600"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Theme Editor"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>x(!b),className:`p-2 rounded-md transition-colors ${b?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,title:b?"Exit Preview":"Preview Theme",children:b?u.jsx(Mb,{className:"w-5 h-5"}):u.jsx(To,{className:"w-5 h-5"})}),u.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsxs("button",{onClick:C,className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[u.jsx(Lb,{className:"w-4 h-4"}),u.jsx("span",{children:"Save Theme"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Name"}),u.jsx("input",{type:"text",value:h,onChange:D=>m(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter theme name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),u.jsx("input",{type:"text",value:g,onChange:D=>v(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter theme description"})]})]})]}),u.jsx("div",{className:"border-b border-gray-200",children:u.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"colors",label:"Colors",icon:Ss},{id:"typography",label:"Typography",icon:VU},{id:"spacing",label:"Spacing",icon:yU},{id:"preview",label:"Preview",icon:To}].map(({id:D,label:R,icon:q})=>u.jsxs("button",{onClick:()=>o(D),className:`py-4 px-2 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===D?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[u.jsx(q,{className:"w-4 h-4"}),u.jsx("span",{children:R})]},D))})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i==="colors"&&u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Color Customization"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:T,className:"px-3 py-2 text-sm text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors flex items-center space-x-1",children:[u.jsx(EU,{className:"w-4 h-4"}),u.jsx("span",{children:"Reset to Default"})]}),u.jsxs("button",{onClick:A,className:"px-3 py-2 text-sm text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[u.jsx(rc,{className:"w-4 h-4"}),u.jsx("span",{children:"Export"})]}),u.jsxs("label",{className:"px-3 py-2 text-sm text-green-700 bg-green-100 rounded-md hover:bg-green-200 transition-colors flex items-center space-x-1 cursor-pointer",children:[u.jsx(XT,{className:"w-4 h-4"}),u.jsx("span",{children:"Import"}),u.jsx("input",{type:"file",accept:".json",onChange:L,className:"hidden"})]})]})]}),E.map(D=>u.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[u.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:D.title}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.colors.map(({key:R,label:q,description:B})=>u.jsx(EK,{label:q,value:c.colors[R],onChange:U=>N(R,U),description:B},R))})]},D.title))]}),i==="preview"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Theme Preview"}),u.jsx("div",{className:"bg-gray-100 rounded-lg p-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"rounded-lg p-4 border",style:{backgroundColor:c.colors.cardBackground,color:c.colors.cardText,borderColor:c.colors.cardBorder},children:[u.jsx("h4",{style:{color:c.colors.cardTitle},className:"font-semibold mb-2",children:"Sample Card Title"}),u.jsx("p",{style:{color:c.colors.cardSubtitle},className:"text-sm mb-3",children:"This is a sample card subtitle"}),u.jsx("p",{style:{color:c.colors.cardText},children:"This is the main card text content. It demonstrates how your theme will look in practice."}),u.jsxs("div",{className:"flex space-x-2 mt-4",children:[u.jsx("button",{style:{backgroundColor:c.colors.buttonPrimary,color:c.colors.buttonPrimaryText},className:"px-3 py-1 rounded text-sm",children:"Primary Button"}),u.jsx("button",{style:{backgroundColor:c.colors.buttonSecondary,color:c.colors.buttonSecondaryText},className:"px-3 py-1 rounded text-sm",children:"Secondary Button"})]})]}),u.jsxs("div",{className:"rounded-lg p-4 border",style:{backgroundColor:c.colors.listBackground,borderColor:c.colors.listBorder},children:[u.jsx("h4",{style:{color:c.colors.listTitle},className:"font-semibold mb-2",children:"Sample List"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{style:{color:c.colors.listText},children:"First list item"}),u.jsx("li",{style:{color:c.colors.listText},children:"Second list item"}),u.jsx("li",{style:{color:c.colors.listText},children:"Third list item"})]})]}),u.jsx("input",{type:"text",placeholder:"Sample input field",className:"w-full px-3 py-2 rounded border",style:{backgroundColor:c.colors.background,color:c.colors.text,borderColor:c.colors.border}})]})})]})]})]})})},TK=({theme:e,onEdit:t,onDelete:r,onPreview:n,onApply:i,onExport:o,isDefault:c})=>u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),c&&u.jsx(qU,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),u.jsx("p",{className:"text-sm text-gray-600",children:e.description||"No description"})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:t,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Theme",children:u.jsx(gc,{className:"w-4 h-4"})}),u.jsx("button",{onClick:n,className:"p-2 text-green-600 hover:bg-green-50 rounded-md transition-colors",title:"Preview Theme",children:u.jsx(To,{className:"w-4 h-4"})}),u.jsx("button",{onClick:o,className:"p-2 text-purple-600 hover:bg-purple-50 rounded-md transition-colors",title:"Export Theme",children:u.jsx(rc,{className:"w-4 h-4"})}),!c&&u.jsx("button",{onClick:r,className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete Theme",children:u.jsx($a,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Color Preview"}),u.jsx("div",{className:"flex space-x-1",children:[e.colors.primary,e.colors.secondary,e.colors.accent,e.colors.success,e.colors.warning,e.colors.error].map((d,h)=>u.jsx("div",{className:"w-4 h-4 rounded border border-gray-300",style:{backgroundColor:d},title:d},h))})]}),u.jsxs("div",{className:"flex space-x-2",children:[!c&&u.jsx("button",{onClick:i,className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"Set as Default"}),u.jsx("button",{onClick:n,className:"flex-1 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Preview"})]})]}),DK=({onThemeSelect:e})=>{const{setActiveTheme:t}=IT(),r=kr(),[n,i]=k.useState(!1),[o,c]=k.useState(null),{data:d=[],isLoading:h}=ct({queryKey:["themes"],queryFn:Cf}),m=Ge({mutationFn:mq,onSuccess:()=>{r.invalidateQueries({queryKey:["themes"]})}}),g=Ge({mutationFn:Tb,onSuccess:()=>{r.invalidateQueries({queryKey:["themes"]})}}),v=_=>{confirm("Are you sure you want to delete this theme?")&&m.mutate(_)},b=async _=>{try{await g.mutateAsync(_.id),await t(_.id),e&&e(_)}catch(N){console.error("Failed to apply theme:",N)}},x=_=>{t(_.id),e&&e(_)},S=_=>{c(_||null),i(!0)},w=_=>{const N={name:_.name,description:_.description,colors:_.colors,typography:_.typography,spacing:_.spacing,borderRadius:_.borderRadius,shadows:_.shadows},C=JSON.stringify(N,null,2),T=new Blob([C],{type:"application/json"}),A=URL.createObjectURL(T),L=document.createElement("a");L.href=A,L.download=`${_.name.replace(/\s+/g,"-").toLowerCase()}-theme.json`,L.click(),URL.revokeObjectURL(A)};return h?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Ss,{className:"w-6 h-6 text-purple-600"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Theme Management"})]}),u.jsxs("button",{onClick:()=>S(),className:"px-4 py-2 text-white bg-purple-600 rounded-md hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[u.jsx(Fn,{className:"w-4 h-4"}),u.jsx("span",{children:"Create Theme"})]})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[u.jsxs("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3 flex items-center",children:[u.jsx(To,{className:"w-5 h-5 mr-2"}),"Theme Testing"]}),u.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-sm mb-4",children:"Test different themes to see how they affect the entire application. Changes apply globally."}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsx("button",{onClick:()=>{const _=document.documentElement;Object.entries({primary:"#3b82f6",secondary:"#6b7280",background:"#ffffff",cardBackground:"#f8fafc",text:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb",listBackground:"#f1f5f9",boardBackground:"#f9fafb"}).forEach(([C,T])=>{_.style.setProperty(`--color-${C}`,T)}),document.body.style.backgroundColor="#ffffff",window.dispatchEvent(new CustomEvent("themeChanged")),console.log("Light theme applied via admin panel")},className:"px-3 py-2 bg-white text-gray-800 border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"Light"}),u.jsx("button",{onClick:()=>{const _=document.documentElement;Object.entries({primary:"#3b82f6",secondary:"#6b7280",background:"#1f2937",cardBackground:"#374151",text:"#f9fafb",textSecondary:"#d1d5db",border:"#4b5563",listBackground:"#4b5563",boardBackground:"#1f2937"}).forEach(([C,T])=>{_.style.setProperty(`--color-${C}`,T)}),document.body.style.backgroundColor="#1f2937",window.dispatchEvent(new CustomEvent("themeChanged")),console.log("Dark theme applied via admin panel")},className:"px-3 py-2 bg-gray-800 text-white border border-gray-600 rounded hover:bg-gray-700 text-sm",children:"Dark"}),u.jsx("button",{onClick:()=>{const _=document.documentElement;Object.entries({primary:"#1e40af",secondary:"#3b82f6",background:"#eff6ff",cardBackground:"#dbeafe",text:"#1e3a8a",textSecondary:"#3730a3",border:"#93c5fd",listBackground:"#bfdbfe",boardBackground:"#eff6ff"}).forEach(([C,T])=>{_.style.setProperty(`--color-${C}`,T)}),document.body.style.backgroundColor="#eff6ff",window.dispatchEvent(new CustomEvent("themeChanged")),console.log("Blue theme applied via admin panel")},className:"px-3 py-2 bg-blue-600 text-white border border-blue-500 rounded hover:bg-blue-700 text-sm",children:"Blue"}),u.jsx("button",{onClick:()=>{const _=document.documentElement;Object.entries({primary:"#059669",secondary:"#10b981",background:"#f0fdf4",cardBackground:"#dcfce7",text:"#064e3b",textSecondary:"#065f46",border:"#86efac",listBackground:"#bbf7d0",boardBackground:"#f0fdf4"}).forEach(([C,T])=>{_.style.setProperty(`--color-${C}`,T)}),document.body.style.backgroundColor="#f0fdf4",window.dispatchEvent(new CustomEvent("themeChanged")),console.log("Green theme applied via admin panel")},className:"px-3 py-2 bg-green-600 text-white border border-green-500 rounded hover:bg-green-700 text-sm",children:"Green"})]})]}),d.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Ss,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No themes found"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first custom theme."}),u.jsx("button",{onClick:()=>S(),className:"px-4 py-2 text-white bg-purple-600 rounded-md hover:bg-purple-700 transition-colors",children:"Create Your First Theme"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(_=>u.jsx(TK,{theme:_,onEdit:()=>S(_),onDelete:()=>v(_.id),onPreview:()=>x(_),onApply:()=>b(_),onExport:()=>w(_),isDefault:_.is_default},_.id))}),n&&u.jsx(CK,{isOpen:n,onClose:()=>{i(!1),c(null)}}),(m.isPending||g.isPending)&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 flex items-center space-x-3",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),u.jsx("span",{className:"text-gray-900",children:m.isPending?"Deleting theme...":"Applying theme..."})]})}),(m.isError||g.isError)&&u.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex items-center space-x-2",children:[u.jsx(WT,{className:"w-5 h-5"}),u.jsx("span",{children:m.isError?"Failed to delete theme":"Failed to apply theme"})]})]})},Vd=[{id:"boards_read",name:"Read Boards",description:"Can view boards",resource:"boards",action:"read"},{id:"boards_write",name:"Write Boards",description:"Can create and edit boards",resource:"boards",action:"write"},{id:"boards_delete",name:"Delete Boards",description:"Can delete boards",resource:"boards",action:"delete"},{id:"cards_read",name:"Read Cards",description:"Can view cards",resource:"cards",action:"read"},{id:"cards_write",name:"Write Cards",description:"Can create and edit cards",resource:"cards",action:"write"},{id:"cards_delete",name:"Delete Cards",description:"Can delete cards",resource:"cards",action:"delete"},{id:"themes_read",name:"Read Themes",description:"Can view themes",resource:"themes",action:"read"},{id:"themes_write",name:"Write Themes",description:"Can create and edit themes",resource:"themes",action:"write"},{id:"users_read",name:"Read Users",description:"Can view user information",resource:"users",action:"read"},{id:"users_write",name:"Manage Users",description:"Can create, edit and manage users",resource:"users",action:"write"}],Qd={admin:["boards_read","boards_write","boards_delete","cards_read","cards_write","cards_delete","themes_read","themes_write","users_read","users_write"],user:["boards_read","boards_write","cards_read","cards_write","themes_read","users_read"],viewer:["boards_read","cards_read","themes_read"]},OK=async()=>{try{const{data:{user:e}}=await $t.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await $t.auth.admin.listUsers();if(r||!t)return console.log("Admin API not available, using current user data"),[{id:e.id,email:e.email||"",name:e.user_metadata?.name||"Current User",avatar_url:e.user_metadata?.avatar_url,role:"admin",permissions:Qd.admin.map(i=>Vd.find(o=>o.id===i)).filter(Boolean),is_active:!0,status:"active",last_login:e.last_sign_in_at,last_sign_in_at:e.last_sign_in_at,created_at:e.created_at,updated_at:e.updated_at||e.created_at,metadata:e.user_metadata}];const{data:n}=await $t.from("profiles").select("*");return t.users.map(i=>{const o=n?.find(d=>d.id===i.id),c=o?.role||(i.id===e.id?"admin":"user");return{id:i.id,email:i.email||"",name:o?.name||i.user_metadata?.name||"Unnamed User",avatar_url:o?.avatar_url||i.user_metadata?.avatar_url,role:c,permissions:Qd[c].map(d=>Vd.find(h=>h.id===d)).filter(Boolean),is_active:o?.is_active!==!1,status:o?.is_active===!1?"inactive":"active",last_login:i.last_sign_in_at,last_sign_in_at:i.last_sign_in_at,created_at:i.created_at,updated_at:i.updated_at||i.created_at,metadata:i.user_metadata}})}catch(e){console.error("Error fetching users:",e);try{const{data:{user:t}}=await $t.auth.getUser();if(t)return[{id:t.id,email:t.email||"",name:t.user_metadata?.name||"Administrator",avatar_url:t.user_metadata?.avatar_url,role:"admin",permissions:Qd.admin.map(r=>Vd.find(n=>n.id===r)).filter(Boolean),is_active:!0,status:"active",last_login:t.last_sign_in_at,last_sign_in_at:t.last_sign_in_at,created_at:t.created_at,updated_at:t.updated_at||t.created_at,metadata:t.user_metadata}]}catch(t){console.error("Fallback user fetch failed:",t)}return[]}},oA=async e=>{try{const{data:t,error:r}=await $t.auth.admin.getUserById(e);if(r||!t)return null;const{data:n}=await $t.from("profiles").select("*").eq("id",e).single(),i=n?.role||"user";return{id:t.user.id,email:t.user.email||"",name:n?.name||t.user.user_metadata?.name,avatar_url:n?.avatar_url||t.user.user_metadata?.avatar_url,role:i,permissions:Qd[i].map(o=>Vd.find(c=>c.id===o)).filter(Boolean),is_active:n?.is_active!==!1,status:n?.is_active===!1?"inactive":"active",last_login:t.user.last_sign_in_at,last_sign_in_at:t.user.last_sign_in_at,created_at:t.user.created_at,updated_at:t.user.updated_at||t.user.created_at,metadata:t.user.user_metadata}}catch(t){return console.error("Error fetching user by ID:",t),null}},AK=async(e,t)=>{try{const{error:r}=await $t.from("profiles").upsert({id:e,role:t,updated_at:new Date().toISOString()});if(r)throw r;await ru({user_id:e,action:"role_updated",resource_type:"user",resource_id:e,details:`User role updated to ${t}`,timestamp:new Date().toISOString()})}catch(r){throw console.error("Error updating user role:",r),r}},RK=async e=>{try{const{error:t}=await $t.from("profiles").upsert({id:e.user_id,permissions:e.permissions,updated_at:new Date().toISOString()});if(t)throw t;await ru({user_id:e.user_id,action:"permissions_updated",resource_type:"user",resource_id:e.user_id,details:`User permissions updated: ${e.permissions.join(", ")}`,timestamp:new Date().toISOString()})}catch(t){throw console.error("Error updating user permissions:",t),t}},MK=async e=>{try{const t=await oA(e);if(!t)throw new Error("User not found");const r=!t.is_active,{error:n}=await $t.from("profiles").upsert({id:e,is_active:r,updated_at:new Date().toISOString()});if(n)throw n;await ru({user_id:e,action:r?"user_activated":"user_deactivated",resource_type:"user",resource_id:e,details:`User ${r?"activated":"deactivated"}`,timestamp:new Date().toISOString()})}catch(t){throw console.error("Error toggling user status:",t),t}},lA=async(e,t=50)=>{try{const{data:r,error:n}=await $t.from("user_activities").select("*").eq("user_id",e).order("timestamp",{ascending:!1}).limit(t);if(n)throw n;return r||[]}catch(r){return console.error("Error fetching user activity:",r),[{id:"1",user_id:e,action:"login",resource_type:"auth",details:"User logged in",timestamp:new Date().toISOString()},{id:"2",user_id:e,action:"card_created",resource_type:"card",resource_id:"card-123",details:'Created new card "Important Task"',timestamp:new Date(Date.now()-36e5).toISOString()},{id:"3",user_id:e,action:"board_updated",resource_type:"board",resource_id:"board-456",details:'Updated board "Project Alpha"',timestamp:new Date(Date.now()-72e5).toISOString()}]}},ru=async e=>{try{const{error:t}=await $t.from("user_activities").insert([{...e,id:crypto.randomUUID()}]);if(t)throw t}catch(t){console.error("Error logging user activity:",t),console.log("User Activity:",e)}},LK=async e=>{try{const{error:t}=await $t.auth.admin.deleteUser(e);if(t)throw t;await ru({user_id:"admin",action:"user_deleted",resource_type:"user",resource_id:e,details:`User ${e} was deleted`,timestamp:new Date().toISOString()})}catch(t){throw console.error("Error deleting user:",t),t}},cA=async e=>{try{const t=JSON.parse(localStorage.getItem("boards")||"[]"),r=[];for(const n of t)if(n.lists){for(const i of n.lists)if(i.cards)for(const o of i.cards)(o.assigned_to===e||o.assigned_members&&o.assigned_members.includes(e))&&r.push({...o,board_name:n.name,list_name:i.name})}return r}catch(t){return console.error("Error fetching user cards:",t),[]}},qK=async e=>{try{return JSON.parse(localStorage.getItem("boards")||"[]").filter(r=>r.owner_id===e||r.members&&r.members.includes(e))}catch(t){return console.error("Error fetching user boards:",t),[]}},S0={getAllUsers:OK,getUserById:oA,updateUserRole:AK,updateUserPermissions:RK,toggleUserStatus:MK,getUserActivity:lA,logUserActivity:ru,deleteUser:LK,getCardsByUser:cA,getBoardsByUser:qK};function UK({userId:e,userName:t,userEmail:r,onClose:n}){const[i,o]=k.useState("overview"),{data:c=[],isLoading:d}=ct({queryKey:["user-cards",e],queryFn:()=>cA(e),enabled:!!e}),{data:h=[],isLoading:m}=ct({queryKey:["user-boards",e],queryFn:()=>c8(e),enabled:!!e}),{data:g=[],isLoading:v}=ct({queryKey:["user-activity",e],queryFn:()=>lA(e),enabled:!!e}),b=I.useMemo(()=>{const _=new Date,N=new Date(_.getTime()+10080*60*1e3),C=c.length,T=c.filter(R=>R.status==="completed").length,A=c.filter(R=>R.date_end&&new Date(R.date_end)<_&&R.status!=="completed").length,L=c.filter(R=>R.date_end&&new Date(R.date_end)>=_&&new Date(R.date_end)<=N).length,E=C>0?T/C*100:0,D=[12,19,8,15,22,18,25];return{totalCards:C,completedCards:T,overdueTasks:A,upcomingDueDates:L,totalComments:g.filter(R=>R.action==="comment").length,boardsCount:h.length,completionRate:E,weeklyActivity:D}},[c,h,g]),x=I.useMemo(()=>c.filter(_=>_.status!=="completed").map(_=>({id:_.id,title:_.title,boardName:_.board_name||"Unknown Board",listName:_.list_name||"Unknown List",dueDate:_.date_end,priority:_.priority,status:_.date_end&&new Date(_.date_end)<new Date?"overdue":"pending",checklistItems:[]})),[c]),S=x.filter(_=>_.dueDate&&new Date(_.dueDate)>=new Date).sort((_,N)=>new Date(_.dueDate).getTime()-new Date(N.dueDate).getTime()).slice(0,5),w=x.filter(_=>_.status==="overdue");return d||m||v?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl max-h-[90vh] overflow-y-auto m-4",children:[u.jsxs("div",{className:"border-b border-gray-200 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:t.charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t}),u.jsx("p",{className:"text-gray-600",children:r})]})]}),u.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 p-2",children:u.jsx(Ur,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"mt-6 border-b border-gray-200",children:u.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:Tq},{id:"tasks",label:"Tasks & Checklists",icon:pc},{id:"activity",label:"Recent Activity",icon:Db},{id:"stats",label:"Performance",icon:FU}].map(_=>u.jsxs("button",{onClick:()=>o(_.id),className:`flex items-center space-x-2 py-3 px-1 border-b-2 font-medium text-sm ${i===_.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[u.jsx(_.icon,{className:"w-4 h-4"}),u.jsx("span",{children:_.label})]},_.id))})})]}),u.jsxs("div",{className:"p-6",children:[i==="overview"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Cards"}),u.jsx("p",{className:"text-2xl font-bold text-blue-900",children:b.totalCards})]}),u.jsx(Do,{className:"w-8 h-8 text-blue-500"})]})}),u.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Completed"}),u.jsx("p",{className:"text-2xl font-bold text-green-900",children:b.completedCards})]}),u.jsx(pc,{className:"w-8 h-8 text-green-500"})]})}),u.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Overdue"}),u.jsx("p",{className:"text-2xl font-bold text-red-900",children:b.overdueTasks})]}),u.jsx(Ab,{className:"w-8 h-8 text-red-500"})]})}),u.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Due This Week"}),u.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:b.upcomingDueDates})]}),u.jsx(Co,{className:"w-8 h-8 text-yellow-500"})]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Completion Rate"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:u.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-300",style:{width:`${b.completionRate}%`}})}),u.jsxs("span",{className:"text-lg font-bold text-green-600",children:[b.completionRate.toFixed(1),"%"]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upcoming Due Dates"}),u.jsx("div",{className:"space-y-3",children:S.length>0?S.map(_=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:_.title}),u.jsx("p",{className:"text-sm text-gray-600",children:_.boardName})]}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(_.dueDate).toLocaleDateString()})})]},_.id)):u.jsx("p",{className:"text-gray-500",children:"No upcoming due dates"})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Overdue Tasks"}),u.jsx("div",{className:"space-y-3",children:w.length>0?w.slice(0,5).map(_=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-red-900",children:_.title}),u.jsx("p",{className:"text-sm text-red-600",children:_.boardName})]}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"text-sm font-medium text-red-700",children:new Date(_.dueDate).toLocaleDateString()})})]},_.id)):u.jsx("p",{className:"text-gray-500",children:"No overdue tasks"})})]})]})]}),i==="tasks"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Tasks & Checklist Items"}),u.jsx("div",{className:"space-y-4",children:x.map(_=>u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:_.title}),u.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[_.boardName,"  ",_.listName]}),_.dueDate&&u.jsxs("p",{className:`text-sm mt-2 ${_.status==="overdue"?"text-red-600 font-medium":"text-gray-600"}`,children:["Due: ",new Date(_.dueDate).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[_.priority&&u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_.priority==="high"?"bg-red-100 text-red-800":_.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:_.priority}),u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_.status==="overdue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:_.status})]})]})},_.id))})]}),i==="activity"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),u.jsx("div",{className:"space-y-3",children:g.length>0?g.map((_,N)=>u.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"flex-shrink-0 mt-1",children:u.jsx(Aj,{className:"w-4 h-4 text-gray-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.details}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(_.timestamp).toLocaleString()})]})]},N)):u.jsx("p",{className:"text-gray-500",children:"No recent activity"})})]}),i==="stats"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Performance Statistics"}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[u.jsx("h4",{className:"font-medium mb-4",children:"Weekly Activity"}),u.jsx("div",{className:"flex items-end space-x-2 h-32",children:b.weeklyActivity.map((_,N)=>u.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[u.jsx("div",{className:"w-full bg-blue-500 rounded-t",style:{height:`${_/Math.max(...b.weeklyActivity)*100}%`}}),u.jsx("span",{className:"text-xs text-gray-500 mt-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][N]})]},N))})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Boards"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.boardsCount})]}),u.jsx(Do,{className:"w-8 h-8 text-gray-400"})]})}),u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Comments"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.totalComments})]}),u.jsx(Aj,{className:"w-8 h-8 text-gray-400"})]})}),u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Avg Completion"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[b.completionRate.toFixed(0),"%"]})]}),u.jsx($U,{className:"w-8 h-8 text-gray-400"})]})})]})]})]})]})})}const PK=({user:e,onEdit:t,onToggleStatus:r,onViewActivity:n})=>{const i=d=>{switch(d){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=d=>{switch(d){case"admin":return"bg-purple-100 text-purple-800";case"user":return"bg-blue-100 text-blue-800";case"viewer":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},c=d=>{switch(d){case"active":return u.jsx(KT,{className:"w-4 h-4"});case"inactive":return u.jsx(K0,{className:"w-4 h-4"});case"suspended":return u.jsx(Ab,{className:"w-4 h-4"});default:return u.jsx(K0,{className:"w-4 h-4"})}};return u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:e.name?.charAt(0).toUpperCase()||e.email.charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||"Unnamed User"}),u.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[u.jsx(iU,{className:"w-3 h-3 mr-1"}),e.email]})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center space-x-1 ${i(e.status)}`,children:[c(e.status),u.jsx("span",{children:e.status})]}),u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${o(e.role)}`,children:e.role})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm text-gray-600",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ua,{className:"w-4 h-4 mr-2"}),u.jsxs("span",{children:["Joined: ",new Date(e.created_at).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Co,{className:"w-4 h-4 mr-2"}),u.jsxs("span",{children:["Last seen: ",e.last_login?new Date(e.last_login).toLocaleDateString():"Never"]})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:()=>t(e),className:"flex-1 px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors flex items-center justify-center",children:[u.jsx(mi,{className:"w-4 h-4 mr-1"}),"Edit"]}),u.jsxs("button",{onClick:()=>r(e.id),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors flex items-center justify-center ${e.status==="active"?"text-red-600 bg-red-50 hover:bg-red-100":"text-green-600 bg-green-50 hover:bg-green-100"}`,children:[e.status==="active"?u.jsx(t8,{className:"w-4 h-4 mr-1"}):u.jsx(XU,{className:"w-4 h-4 mr-1"}),e.status==="active"?"Suspend":"Activate"]}),u.jsx("button",{onClick:()=>n(e.id),className:"px-3 py-2 text-sm font-medium text-purple-600 bg-purple-50 rounded-md hover:bg-purple-100 transition-colors flex items-center justify-center",children:u.jsx(Db,{className:"w-4 h-4"})})]})]})},$K=({user:e,isOpen:t,onClose:r,onSave:n})=>{const[i,o]=k.useState({name:e?.name||"",email:e?.email||"",role:e?.role||"user",status:e?.status||"active"});I.useEffect(()=>{e&&o({name:e.name||"",email:e.email||"",role:e.role||"user",status:e.status||"active"})},[e]);const c=d=>{d.preventDefault(),e&&(n({...e,...i}),r())};return!t||!e?null:u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit User"}),u.jsxs("form",{onSubmit:c,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),u.jsx("input",{type:"text",value:i.name,onChange:d=>o({...i,name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter user name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:i.email,onChange:d=>o({...i,email:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50",disabled:!0}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),u.jsxs("select",{value:i.role,onChange:d=>o({...i,role:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"viewer",children:"Viewer"}),u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Admin"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsxs("select",{value:i.status,onChange:d=>o({...i,status:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"}),u.jsx("option",{value:"suspended",children:"Suspended"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})})},zK=({isOpen:e,onClose:t,onSave:r,isLoading:n})=>{const[i,o]=k.useState({email:"",password:"",name:"",role:"user"}),c=d=>{d.preventDefault(),r(i),o({email:"",password:"",name:"",role:"user"})};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New User"}),u.jsxs("form",{onSubmit:c,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),u.jsx("input",{type:"text",value:i.name,onChange:d=>o({...i,name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter user name",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:i.email,onChange:d=>o({...i,email:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email address",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),u.jsx("input",{type:"password",value:i.password,onChange:d=>o({...i,password:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password",required:!0,minLength:6}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),u.jsxs("select",{value:i.role,onChange:d=>o({...i,role:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"viewer",children:"Viewer"}),u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Admin"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:n,children:n?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Creating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Lb,{className:"w-4 h-4"}),u.jsx("span",{children:"Create User"})]})})]})]})]})}):null},BK=()=>{const[e,t]=k.useState(""),[r,n]=k.useState("all"),[i,o]=k.useState("all"),[c,d]=k.useState(null),[h,m]=k.useState(null),[g,v]=k.useState(!1),b=kr(),{data:x=[],isLoading:S}=ct({queryKey:["users"],queryFn:S0.getAllUsers,refetchInterval:3e4}),w=Ge({mutationFn:async({email:q,password:B,name:U,role:K})=>{const{data:V,error:te}=await $t.auth.admin.createUser({email:q,password:B,user_metadata:{name:U},email_confirm:!0});if(te)throw te;return V.user&&await $t.from("profiles").upsert({id:V.user.id,name:U,role:K,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),V},onSuccess:()=>{b.invalidateQueries({queryKey:["users"]}),v(!1)},onError:q=>{console.error("Failed to create user:",q)}}),_=Ge({mutationFn:({userId:q,role:B})=>S0.updateUserRole(q,B),onSuccess:()=>{b.invalidateQueries({queryKey:["users"]})}}),N=Ge({mutationFn:q=>S0.toggleUserStatus(q),onSuccess:()=>{b.invalidateQueries({queryKey:["users"]})}}),C=x.filter(q=>{const B=q.name?.toLowerCase().includes(e.toLowerCase())||q.email.toLowerCase().includes(e.toLowerCase()),U=r==="all"||q.role===r,K=i==="all"||q.status===i;return B&&U&&K}),T=q=>{d(q)},A=q=>{q.id&&q.role&&_.mutate({userId:q.id,role:q.role})},L=q=>{N.mutate(q)},E=q=>{m(q)},D=q=>{w.mutate(q)};if(S)return u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const R=h?x.find(q=>q.id===h):null;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Oo,{className:"w-6 h-6 text-blue-600"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:[C.length," of ",x.length," users"]}),u.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[u.jsx(Fn,{className:"w-4 h-4"}),u.jsx("span",{children:"Create User"})]})]})]}),u.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),u.jsx("input",{type:"text",value:e,onChange:q=>t(q.target.value),placeholder:"Search by name or email...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),u.jsxs("select",{value:r,onChange:q=>n(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Roles"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"viewer",children:"Viewer"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsxs("select",{value:i,onChange:q=>o(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Statuses"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"}),u.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(q=>u.jsx(PK,{user:q,onEdit:T,onToggleStatus:L,onViewActivity:E},q.id))}),C.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Oo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),u.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]}),c&&u.jsx($K,{user:c,isOpen:!!c,onClose:()=>d(null),onSave:A}),g&&u.jsx(zK,{isOpen:g,onClose:()=>v(!1),onSave:D,isLoading:w.isPending}),h&&R&&u.jsx(UK,{userId:h,userName:R.name||"Unknown User",userEmail:R.email,onClose:()=>m(null)})]})},IK=()=>{const{user:e}=da(),[t,r]=k.useState("dashboard"),[n,i]=k.useState(!1),[o,c]=k.useState(null),[d,h]=k.useState([{id:"1",email:"admin@example.com",role:"admin",permissions:["read","write","delete","admin","sql_execute"],isActive:!0,lastActivity:new Date().toISOString()},{id:"2",email:"user@example.com",role:"user",permissions:["read","write"],isActive:!0,lastActivity:new Date(Date.now()-864e5).toISOString()},{id:"3",email:"viewer@example.com",role:"viewer",permissions:["read"],isActive:!1,lastActivity:new Date(Date.now()-1728e5).toISOString()}]),[m]=k.useState([{id:"1",name:"Default",primary:"#3b82f6",secondary:"#10b981",background:"#ffffff"},{id:"2",name:"Dark",primary:"#6366f1",secondary:"#8b5cf6",background:"#1f2937"},{id:"3",name:"Ocean",primary:"#0891b2",secondary:"#06b6d4",background:"#f0f9ff"}]),[g]=k.useState([{id:"1",setting_key:"max_cards_per_list",setting_value:50,description:"Maximum cards per list"},{id:"2",setting_key:"auto_archive_days",setting_value:30,description:"Auto archive completed cards after days"},{id:"3",setting_key:"enable_notifications",setting_value:!0,description:"Enable email notifications"}]),[v,b]=k.useState(""),[x,S]=k.useState(null),[w,_]=k.useState(null),[N,C]=k.useState([]),[T,A]=k.useState(!1),[L,E]=k.useState([{pid:"12345",usename:"postgres",query:"SELECT * FROM boards WHERE created_at > NOW() - INTERVAL '1 day'",duration:"00:00:02",state:"active"},{pid:"12346",usename:"app_user",query:"UPDATE cards SET status = 'completed' WHERE id = 'abc123'",duration:"00:00:01",state:"active"}]),[D,R]=k.useState(""),[q,B]=k.useState("user"),[U,K]=k.useState(!1),V=e?.email?.includes("admin")||e?.id==="ad146555-19f4-4eb7-8d22-9ccdedd6a917";k.useEffect(()=>{V&&ge()},[V]);const te=(J,me)=>{c({type:J,message:me}),setTimeout(()=>c(null),5e3)},ge=async()=>{i(!0);try{await new Promise(J=>setTimeout(J,500)),te("info","Dashboard data loaded (mock data)")}catch{te("error","Failed to load dashboard data")}finally{i(!1)}},P=async()=>{try{E([{pid:"12347",usename:"postgres",query:"SELECT COUNT(*) FROM users",duration:"00:00:00.5",state:"active"},{pid:"12348",usename:"app_user",query:"INSERT INTO boards (name, workspace_id) VALUES ('New Board', 'user123')",duration:"00:00:01.2",state:"active"}]),te("success","Active queries refreshed")}catch{te("error","Failed to fetch active queries")}},W=async()=>{if(v.trim()){A(!0),_(null),S(null);try{await new Promise(oe=>setTimeout(oe,1e3));const J={rows:[{id:1,name:"Sample Board",created_at:new Date().toISOString()},{id:2,name:"Another Board",created_at:new Date().toISOString()}],rowCount:2};S(J);const me={id:Date.now().toString(),query:v,timestamp:new Date().toISOString(),status:"success",result:J,executedBy:e?.email||"admin"};C(oe=>[me,...oe.slice(0,9)]),te("success","Query executed successfully")}catch{const me="Mock execution error";_(me);const oe={id:Date.now().toString(),query:v,timestamp:new Date().toISOString(),status:"error",error:me,executedBy:e?.email||"admin"};C(M=>[oe,...M.slice(0,9)]),te("error","Query execution failed")}finally{A(!1)}}};return V?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Panel"}),u.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage your application settings and data"})]}),o&&u.jsx("div",{className:`mb-6 p-4 rounded-lg ${o.type==="success"?"bg-green-50 text-green-800 border border-green-200":o.type==="error"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:u.jsxs("div",{className:"flex items-center",children:[o.type==="success"&&u.jsx(KT,{className:"w-5 h-5 mr-2"}),o.type==="error"&&u.jsx(K0,{className:"w-5 h-5 mr-2"}),o.type==="info"&&u.jsx(WT,{className:"w-5 h-5 mr-2"}),o.message]})}),u.jsx("div",{className:"mb-8",children:u.jsx("nav",{className:"flex space-x-8",children:[{id:"dashboard",label:"Dashboard",icon:Oj},{id:"users",label:"Users",icon:Oo},{id:"themes",label:"Themes",icon:Ss},{id:"settings",label:"Settings",icon:af},{id:"sql",label:"SQL Console",icon:Rj}].map(J=>u.jsxs("button",{onClick:()=>r(J.id),className:`flex items-center px-3 py-2 text-sm font-medium rounded-md ${t===J.id?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[u.jsx(J.icon,{className:"w-4 h-4 mr-2"}),J.label]},J.id))})}),t==="dashboard"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Oo,{className:"w-8 h-8 text-blue-500"}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Users"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:d.length})]})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Oj,{className:"w-8 h-8 text-green-500"}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Queries"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:L.length})]})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ss,{className:"w-8 h-8 text-purple-500"}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Themes"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:m.length})]})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(af,{className:"w-8 h-8 text-orange-500"}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Settings"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:g.length})]})]})})]}),t==="users"&&u.jsx(BK,{}),t==="themes"&&u.jsx(DK,{}),t==="settings"&&u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Application Settings"}),u.jsx("div",{className:"space-y-6",children:g.map(J=>u.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-600 pb-4 last:border-b-0",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:J.setting_key.replace(/_/g," ").replace(/\b\w/g,me=>me.toUpperCase())}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:J.description}),typeof J.setting_value=="boolean"?u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:J.setting_value,readOnly:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("span",{className:"ml-2 text-sm text-gray-900 dark:text-white",children:J.setting_value?"Enabled":"Disabled"})]}):u.jsx("input",{type:"number",value:J.setting_value,readOnly:!0,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]},J.id))})]}),t==="sql"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[u.jsx(Db,{className:"w-5 h-5 mr-2"}),"Currently Running Queries",u.jsx("button",{onClick:P,className:"ml-auto px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Refresh"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"PID"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Query"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Duration"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"State"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:L.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"px-4 py-4 text-center text-gray-500 dark:text-gray-400",children:"No active queries found"})}):L.map((J,me)=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:J.pid||"N/A"}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:J.usename||"N/A"}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 dark:text-white max-w-xs truncate font-mono",children:J.query||"No query data"}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:J.duration||"N/A"}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${J.state==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":J.state==="idle"?"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:J.state||"unknown"})})]},me))})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[u.jsx(Rj,{className:"w-5 h-5 mr-2"}),"SQL Console"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SQL Query"}),u.jsx("textarea",{value:v,onChange:J=>b(J.target.value),placeholder:"SELECT * FROM boards LIMIT 10;",className:"w-full h-40 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("button",{onClick:W,disabled:T||!v.trim(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[u.jsx(SU,{className:"w-4 h-4 mr-2"}),T?"Executing...":"Execute Query"]}),u.jsx("button",{onClick:()=>{b(""),S(null),_(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Clear"})]})]})]}),w&&u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mt-4",children:[u.jsx("h4",{className:"text-red-800 font-medium mb-2",children:"Error"}),u.jsx("pre",{className:"text-red-700 text-sm whitespace-pre-wrap",children:w})]}),x&&u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:[u.jsx("h4",{className:"text-green-800 font-medium mb-2",children:"Result"}),u.jsx("pre",{className:"text-green-700 text-sm whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(x,null,2)})]})]}),u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[u.jsx(Co,{className:"w-5 h-5 mr-2"}),"Execution History"]}),u.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:N.length===0?u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No queries executed yet"}):N.map(J=>u.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${J.status==="success"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:J.status}),u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(J.timestamp).toLocaleTimeString()})]}),u.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 font-mono bg-gray-50 dark:bg-gray-700 p-2 rounded",children:J.query.length>60?`${J.query.substring(0,60)}...`:J.query}),u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["by ",J.executedBy]}),J.error&&u.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Error: ",J.error.substring(0,100),"..."]})]},J.id))})]})})]})]})]})}):u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"text-center",children:[u.jsx(QT,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have permission to access the admin panel."})]})})},FK={"en-US":Ax},HK=eA({format:sA,startOfWeek:Si,getDay:iA,locales:FK});function KK(){const{user:e}=da(),t=e?.id||"guest-user",{data:r=[]}=ct({queryKey:["boards",t],queryFn:()=>fa(t)}),{data:n=[],isLoading:i}=ct({queryKey:["all-cards",r.map(g=>g.id)],queryFn:async()=>{const g=r.map(b=>ki(b.id).then(x=>x.map(S=>({...S,boardName:b.name}))));return(await Promise.all(g)).flat()},enabled:r.length>0}),o=[];if(n.forEach(g=>{if(g.date_start||g.date_end){const v=g.date_start?new Date(g.date_start):new Date,b=g.date_end?new Date(g.date_end):v;o.push({id:`card-${g.id}`,title:` ${g.title}`,start:v,end:b,resource:g,type:"card",boardName:g.boardName})}g.checklists&&g.checklists.forEach(v=>{v.checklist_items?.forEach(b=>{if(b.due_date||b.start_date){const x=b.start_date?new Date(b.start_date):new Date(b.due_date),S=b.due_date?new Date(b.due_date):x;o.push({id:`task-${b.id}`,title:`${b.done?"":""} ${b.text||"Untitled Task"}`,start:x,end:S,resource:g,type:"task",cardTitle:g.title,completed:b.done,boardName:g.boardName})}})})}),i)return u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("div",{className:"text-gray-500",children:"Loading master calendar..."})});const c=g=>{const v={backgroundColor:g.type==="card"?"#3b82f6":"#10b981",borderRadius:"4px",opacity:g.completed?.6:1,color:"white",border:"none",display:"block"};return g.completed&&(v.textDecoration="line-through"),{style:v}},d=o.filter(g=>g.type==="card").length,h=o.filter(g=>g.type==="task").length,m=o.filter(g=>g.type==="task"&&g.completed).length;try{return u.jsx("div",{className:"h-full flex flex-col",children:u.jsxs("div",{className:"flex-1 p-4",children:[u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Master Calendar"}),u.jsxs("div",{className:"flex gap-6 mb-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#3b82f6"}}),u.jsxs("span",{className:"font-medium",children:["Cards: ",d]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#10b981"}}),u.jsxs("span",{className:"font-medium",children:["Tasks: ",h]}),u.jsxs("span",{className:"text-gray-500",children:["(",m," completed)"]})]})]}),u.jsx("div",{className:"bg-white border rounded",style:{height:"calc(100vh - 250px)"},children:u.jsx(ZO,{localizer:HK,events:o,startAccessor:"start",endAccessor:"end",style:{height:"100%"},views:["month","week","day","agenda"],defaultView:"month",eventPropGetter:c})})]})})}catch(g){return u.jsx("div",{className:"h-full flex flex-col p-4",children:u.jsxs("div",{className:"bg-red-100 border border-red-400 p-4 rounded",children:[u.jsx("h2",{className:"text-red-800 font-bold",children:"Master Calendar Error"}),u.jsxs("p",{className:"text-red-700",children:["Error loading calendar: ",String(g)]})]})})}}function GK(){const{user:e}=da(),t=e?.id||"2a8f10d6-4368-43db-ab1d-ab783ec6e935",[r,n]=k.useState([]),{data:i=[],isLoading:o}=ct({queryKey:["boards",e?.id],queryFn:()=>fa(t),enabled:!!e?.id});k.useEffect(()=>{i.length>0&&r.length===0&&n(i.map(v=>v.id))},[i,r.length]);const c=ct({queryKey:["all-cards-maps",i.map(v=>v.id)],queryFn:async()=>{if(i.length===0)return[];const v=i.map(async x=>{try{return(await ki(x.id)).map(w=>({...w,boardId:x.id,boardName:x.name}))}catch(S){return console.warn(`Failed to load cards for board ${x.id}:`,S),[]}});return(await Promise.all(v)).flat()},enabled:i.length>0});if(o)return u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading maps..."})});if(c.error)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"text-red-500",children:"Failed to load map data. Please try again."})});const m=(c.data||[]).filter(v=>r.includes(v.boardId)).filter(v=>v.location_lat&&v.location_lng||v.location_address),g=v=>{const b=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#84CC16"],x=i.findIndex(S=>S.id===v);return b[x%b.length]};return u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"All Maps"}),u.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[m.length," pinned locations from ",r.length," of ",i.length," boards"]})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Boards:"}),u.jsx("button",{onClick:()=>n(i.map(v=>v.id)),className:"px-3 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"Enable All"}),u.jsx("button",{onClick:()=>n([]),className:"px-3 py-1 text-xs bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"Disable All"}),i.map(v=>{const b=r.includes(v.id);return u.jsx("button",{onClick:()=>{n(x=>b?x.filter(S=>S!==v.id):[...x,v.id])},className:`px-3 py-1 text-xs rounded-full border transition-colors ${b?"text-white border-transparent":"bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200"}`,style:{backgroundColor:b?g(v.id):void 0},children:v.name},v.id)})]})]}),u.jsx("div",{className:"flex-1 p-4",children:m.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Pinned Locations"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add location data to your cards to see them on the map."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(v=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm",children:v.title}),u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:g(v.boardId)},children:v.boardName})]}),v.description&&u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2",children:String(v.description)}),u.jsxs("div",{className:"space-y-2",children:[v.location_address&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{children:""}),u.jsx("span",{children:v.location_address})]}),v.location_lat&&v.location_lng&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{children:""}),u.jsxs("span",{children:[v.location_lat.toFixed(6),", ",v.location_lng.toFixed(6)]})]}),u.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[v.location_lat&&v.location_lng&&u.jsx("button",{onClick:()=>{const b=`https://www.google.com/maps?q=${v.location_lat},${v.location_lng}`;window.open(b,"_blank")},className:"px-2 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"View on Maps"}),v.location_address&&!v.location_lat&&u.jsx("button",{onClick:()=>{const b=`https://www.google.com/maps/search/${encodeURIComponent(v.location_address)}`;window.open(b,"_blank")},className:"px-2 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"Search Address"})]})]})]},v.id))})})]})}function YK(){return u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[u.jsx(Tn,{className:"w-6 h-6 text-gray-400"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Archive"}),u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Archived cards and lists"})]}),u.jsx("div",{className:"mb-8 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(eU,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Boards are no longer archived"}),u.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Boards are now permanently deleted instead of archived. To view archived cards and lists, navigate to the ",u.jsx(on,{to:"/b/archive-board/board",className:"underline font-medium",children:"Archive Board"}),"."]})]})]})}),u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Tn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"View Archived Items"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Archived cards and lists can be found in the Archive board."}),u.jsxs(on,{to:"/b/archive-board/board",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Go to Archive Board"]})]})]})})}const VK="/todo-app",QK=N3([{path:"/",element:u.jsx(vq,{}),children:[{path:"login",element:u.jsx(o$,{})},{path:"pricing",element:u.jsx(l$,{})},{path:"",element:u.jsx(s$,{children:u.jsx(a$,{})}),children:[{index:!0,element:u.jsx(i$,{})},{path:"calendar",element:u.jsx(NC,{})},{path:"master-calendar",element:u.jsx(KK,{})},{path:"all-maps",element:u.jsx(GK,{})},{path:"archive",element:u.jsx(YK,{})},{path:"themes",element:u.jsx(kK,{})},{path:"admin",element:u.jsx(IK,{})},{path:"workspace/:workspaceId",element:u.jsx(SK,{})},{path:"b/:boardId/board",element:u.jsx(R$,{})},{path:"b/:boardId/table",element:u.jsx(M$,{})},{path:"b/:boardId/calendar",element:u.jsx(NC,{})},{path:"b/:boardId/timeline",element:u.jsx(wK,{})},{path:"b/:boardId/map",element:u.jsx(_K,{})}]}]}],{basename:VK});class WK extends I.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:u.jsxs("div",{className:"max-w-md w-full text-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Something went wrong"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:this.state.error?.message||"An unexpected error occurred"}),u.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",children:"Try again"})]})}):this.props.children}}function XK(){return u.jsx(WK,{children:u.jsx(U3,{router:QK})})}window.addEventListener("error",e=>{(e.message?.includes("message channel closed")||e.message?.includes("runtime.lastError"))&&(e.preventDefault(),console.warn("Browser extension error suppressed:",e.message))});window.addEventListener("unhandledrejection",e=>{(e.reason?.message?.includes("message channel closed")||e.reason?.message?.includes("runtime.lastError"))&&(e.preventDefault(),console.warn("Browser extension promise rejection suppressed:",e.reason?.message))});k4.createRoot(document.getElementById("root")).render(u.jsx(k.StrictMode,{children:u.jsx(XK,{})}));
