(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _4(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var yg={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS;function S4(){if(wS)return $l;wS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:o}}return $l.Fragment=t,$l.jsx=r,$l.jsxs=r,$l}var _S;function j4(){return _S||(_S=1,yg.exports=S4()),yg.exports}var u=j4(),bg={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS;function N4(){if(SS)return $e;SS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function N(M,H,se){this.props=M,this.context=H,this.refs=_,this.updater=se||S}N.prototype.isReactComponent={},N.prototype.setState=function(M,H){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,H,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=N.prototype;function T(M,H,se){this.props=M,this.context=H,this.refs=_,this.updater=se||S}var A=T.prototype=new C;A.constructor=T,w(A,N.prototype),A.isPureReactComponent=!0;var L=Array.isArray;function E(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function q(M,H,se){var fe=se.ref;return{$$typeof:e,type:M,key:H,ref:fe!==void 0?fe:null,props:se}}function B(M,H){return q(M.type,H,M.props)}function U(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function K(M){var H={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return H[se]})}var V=/\/+/g;function te(M,H){return typeof M=="object"&&M!==null&&M.key!=null?K(""+M.key):H.toString(36)}function ge(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(E,E):(M.status="pending",M.then(function(H){M.status==="pending"&&(M.status="fulfilled",M.value=H)},function(H){M.status==="pending"&&(M.status="rejected",M.reason=H)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function P(M,H,se,fe,be){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(xe){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case e:case t:Oe=!0;break;case g:return Oe=M._init,P(Oe(M._payload),H,se,fe,be)}}if(Oe)return be=be(M),Oe=fe===""?"."+te(M,0):fe,L(be)?(se="",Oe!=null&&(se=Oe.replace(V,"$&/")+"/"),P(be,H,se,"",function(le){return le})):be!=null&&(U(be)&&(be=B(be,se+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(V,"$&/")+"/")+Oe)),H.push(be)),1;Oe=0;var Le=fe===""?".":fe+":";if(L(M))for(var ae=0;ae<M.length;ae++)fe=M[ae],xe=Le+te(fe,ae),Oe+=P(fe,H,se,xe,be);else if(ae=x(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(fe=M.next()).done;)fe=fe.value,xe=Le+te(fe,ae++),Oe+=P(fe,H,se,xe,be);else if(xe==="object"){if(typeof M.then=="function")return P(ge(M),H,se,fe,be);throw H=String(M),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function W(M,H,se){if(M==null)return M;var fe=[],be=0;return P(M,fe,"","",function(xe){return H.call(se,xe,be++)}),fe}function J(M){if(M._status===-1){var H=M._result;H=H(),H.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=H)}if(M._status===1)return M._result.default;throw M._result}var me=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},oe={map:W,forEach:function(M,H,se){W(M,function(){H.apply(this,arguments)},se)},count:function(M){var H=0;return W(M,function(){H++}),H},toArray:function(M){return W(M,function(H){return H})||[]},only:function(M){if(!U(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return $e.Activity=v,$e.Children=oe,$e.Component=N,$e.Fragment=r,$e.Profiler=i,$e.PureComponent=T,$e.StrictMode=n,$e.Suspense=h,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,$e.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},$e.cache=function(M){return function(){return M.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(M,H,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var fe=w({},M.props),be=M.key;if(H!=null)for(xe in H.key!==void 0&&(be=""+H.key),H)!R.call(H,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&H.ref===void 0||(fe[xe]=H[xe]);var xe=arguments.length-2;if(xe===1)fe.children=se;else if(1<xe){for(var Oe=Array(xe),Le=0;Le<xe;Le++)Oe[Le]=arguments[Le+2];fe.children=Oe}return q(M.type,be,fe)},$e.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},$e.createElement=function(M,H,se){var fe,be={},xe=null;if(H!=null)for(fe in H.key!==void 0&&(xe=""+H.key),H)R.call(H,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(be[fe]=H[fe]);var Oe=arguments.length-2;if(Oe===1)be.children=se;else if(1<Oe){for(var Le=Array(Oe),ae=0;ae<Oe;ae++)Le[ae]=arguments[ae+2];be.children=Le}if(M&&M.defaultProps)for(fe in Oe=M.defaultProps,Oe)be[fe]===void 0&&(be[fe]=Oe[fe]);return q(M,xe,be)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(M){return{$$typeof:d,render:M}},$e.isValidElement=U,$e.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:J}},$e.memo=function(M,H){return{$$typeof:m,type:M,compare:H===void 0?null:H}},$e.startTransition=function(M){var H=D.T,se={};D.T=se;try{var fe=M(),be=D.S;be!==null&&be(se,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(E,me)}catch(xe){me(xe)}finally{H!==null&&se.types!==null&&(H.types=se.types),D.T=H}},$e.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},$e.use=function(M){return D.H.use(M)},$e.useActionState=function(M,H,se){return D.H.useActionState(M,H,se)},$e.useCallback=function(M,H){return D.H.useCallback(M,H)},$e.useContext=function(M){return D.H.useContext(M)},$e.useDebugValue=function(){},$e.useDeferredValue=function(M,H){return D.H.useDeferredValue(M,H)},$e.useEffect=function(M,H){return D.H.useEffect(M,H)},$e.useEffectEvent=function(M){return D.H.useEffectEvent(M)},$e.useId=function(){return D.H.useId()},$e.useImperativeHandle=function(M,H,se){return D.H.useImperativeHandle(M,H,se)},$e.useInsertionEffect=function(M,H){return D.H.useInsertionEffect(M,H)},$e.useLayoutEffect=function(M,H){return D.H.useLayoutEffect(M,H)},$e.useMemo=function(M,H){return D.H.useMemo(M,H)},$e.useOptimistic=function(M,H){return D.H.useOptimistic(M,H)},$e.useReducer=function(M,H,se){return D.H.useReducer(M,H,se)},$e.useRef=function(M){return D.H.useRef(M)},$e.useState=function(M){return D.H.useState(M)},$e.useSyncExternalStore=function(M,H,se){return D.H.useSyncExternalStore(M,H,se)},$e.useTransition=function(){return D.H.useTransition()},$e.version="19.2.0",$e}var jS;function cb(){return jS||(jS=1,bg.exports=N4()),bg.exports}var k=cb();const I=$r(k);var xg={exports:{}},zl={},wg={exports:{}},_g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS;function k4(){return NS||(NS=1,(function(e){function t(P,W){var J=P.length;P.push(W);e:for(;0<J;){var me=J-1>>>1,oe=P[me];if(0<i(oe,W))P[me]=W,P[J]=oe,J=me;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var W=P[0],J=P.pop();if(J!==W){P[0]=J;e:for(var me=0,oe=P.length,M=oe>>>1;me<M;){var H=2*(me+1)-1,se=P[H],fe=H+1,be=P[fe];if(0>i(se,J))fe<oe&&0>i(be,se)?(P[me]=be,P[fe]=J,me=fe):(P[me]=se,P[H]=J,me=H);else if(fe<oe&&0>i(be,J))P[me]=be,P[fe]=J,me=fe;else break e}}return W}function i(P,W){var J=P.sortIndex-W.sortIndex;return J!==0?J:P.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],m=[],g=1,v=null,b=3,x=!1,S=!1,w=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function A(P){for(var W=r(m);W!==null;){if(W.callback===null)n(m);else if(W.startTime<=P)n(m),W.sortIndex=W.expirationTime,t(h,W);else break;W=r(m)}}function L(P){if(w=!1,A(P),!S)if(r(h)!==null)S=!0,E||(E=!0,K());else{var W=r(m);W!==null&&ge(L,W.startTime-P)}}var E=!1,D=-1,R=5,q=-1;function B(){return _?!0:!(e.unstable_now()-q<R)}function U(){if(_=!1,E){var P=e.unstable_now();q=P;var W=!0;try{e:{S=!1,w&&(w=!1,C(D),D=-1),x=!0;var J=b;try{t:{for(A(P),v=r(h);v!==null&&!(v.expirationTime>P&&B());){var me=v.callback;if(typeof me=="function"){v.callback=null,b=v.priorityLevel;var oe=me(v.expirationTime<=P);if(P=e.unstable_now(),typeof oe=="function"){v.callback=oe,A(P),W=!0;break t}v===r(h)&&n(h),A(P)}else n(h);v=r(h)}if(v!==null)W=!0;else{var M=r(m);M!==null&&ge(L,M.startTime-P),W=!1}}break e}finally{v=null,b=J,x=!1}W=void 0}}finally{W?K():E=!1}}}var K;if(typeof T=="function")K=function(){T(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,te=V.port2;V.port1.onmessage=U,K=function(){te.postMessage(null)}}else K=function(){N(U,0)};function ge(P,W){D=N(function(){P(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(P){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var J=b;b=W;try{return P()}finally{b=J}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(P,W){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var J=b;b=P;try{return W()}finally{b=J}},e.unstable_scheduleCallback=function(P,W,J){var me=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?me+J:me):J=me,P){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=J+oe,P={id:g++,callback:W,priorityLevel:P,startTime:J,expirationTime:oe,sortIndex:-1},J>me?(P.sortIndex=J,t(m,P),r(h)===null&&P===r(m)&&(w?(C(D),D=-1):w=!0,ge(L,J-me))):(P.sortIndex=oe,t(h,P),S||x||(S=!0,E||(E=!0,K()))),P},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(P){var W=b;return function(){var J=b;b=W;try{return P.apply(this,arguments)}finally{b=J}}}})(_g)),_g}var kS;function E4(){return kS||(kS=1,wg.exports=k4()),wg.exports}var Sg={exports:{}},Tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES;function C4(){if(ES)return Tr;ES=1;var e=cb();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:h,containerInfo:m,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Tr.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(h,m,null,g)},Tr.flushSync=function(h){var m=c.T,g=n.p;try{if(c.T=null,n.p=2,h)return h()}finally{c.T=m,n.p=g,n.d.f()}},Tr.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},Tr.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Tr.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,v=d(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:x}):g==="script"&&n.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tr.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},Tr.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=d(g,m.crossOrigin);n.d.L(h,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tr.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=d(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},Tr.requestFormReset=function(h){n.d.r(h)},Tr.unstable_batchedUpdates=function(h,m){return h(m)},Tr.useFormState=function(h,m,g){return c.H.useFormState(h,m,g)},Tr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tr.version="19.2.0",Tr}var CS;function DC(){if(CS)return Sg.exports;CS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sg.exports=C4(),Sg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS;function T4(){if(TS)return zl;TS=1;var e=E4(),t=cb(),r=DC();function n(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,l=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(l=s.return),a=s.return;while(a)}return s.tag===3?l:null}function c(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function h(a){if(o(a)!==a)throw Error(n(188))}function m(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(n(188));return s!==a?null:a}for(var l=a,f=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){l=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),a;if(y===f)return h(p),s;y=y.sibling}throw Error(n(188))}if(l.return!==f.return)l=p,f=y;else{for(var j=!1,O=p.child;O;){if(O===l){j=!0,l=p,f=y;break}if(O===f){j=!0,f=p,l=y;break}O=O.sibling}if(!j){for(O=y.child;O;){if(O===l){j=!0,l=y,f=p;break}if(O===f){j=!0,f=y,l=p;break}O=O.sibling}if(!j)throw Error(n(189))}}if(l.alternate!==f)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?a:s}function g(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=g(a),s!==null)return s;a=a.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function K(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var V=Symbol.for("react.client.reference");function te(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===V?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case L:return"Suspense";case E:return"SuspenseList";case q:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case T:return a.displayName||"Context";case C:return(a._context.displayName||"Context")+".Consumer";case A:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return s=a.displayName||null,s!==null?s:te(a.type)||"Memo";case R:s=a._payload,a=a._init;try{return te(a(s))}catch{}}return null}var ge=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},me=[],oe=-1;function M(a){return{current:a}}function H(a){0>oe||(a.current=me[oe],me[oe]=null,oe--)}function se(a,s){oe++,me[oe]=a.current,a.current=s}var fe=M(null),be=M(null),xe=M(null),Oe=M(null);function Le(a,s){switch(se(xe,s),se(be,a),se(fe,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?H1(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=H1(s),a=K1(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}H(fe),se(fe,a)}function ae(){H(fe),H(be),H(xe)}function le(a){a.memoizedState!==null&&se(Oe,a);var s=fe.current,l=K1(s,a.type);s!==l&&(se(be,a),se(fe,l))}function at(a){be.current===a&&(H(fe),H(be)),Oe.current===a&&(H(Oe),Ll._currentValue=J)}var Pe,Xe;function et(a){if(Pe===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Pe=s&&s[1]||"",Xe=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+a+Xe}var Ue=!1;function ht(a,s){if(!a||Ue)return"";Ue=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var Z=ne}Reflect.construct(a,[],ue)}else{try{ue.call()}catch(ne){Z=ne}a.call(ue.prototype)}}else{try{throw Error()}catch(ne){Z=ne}(ue=a())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&Z&&typeof ne.stack=="string")return[ne.stack,Z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),j=y[0],O=y[1];if(j&&O){var z=j.split(`
`),X=O.split(`
`);for(p=f=0;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(f===z.length||p===X.length)for(f=z.length-1,p=X.length-1;1<=f&&0<=p&&z[f]!==X[p];)p--;for(;1<=f&&0<=p;f--,p--)if(z[f]!==X[p]){if(f!==1||p!==1)do if(f--,p--,0>p||z[f]!==X[p]){var ie=`
`+z[f].replace(" at new "," at ");return a.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",a.displayName)),ie}while(1<=f&&0<=p);break}}}finally{Ue=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?et(l):""}function Be(a,s){switch(a.tag){case 26:case 27:case 5:return et(a.type);case 16:return et("Lazy");case 13:return a.child!==s&&s!==null?et("Suspense Fallback"):et("Suspense");case 19:return et("SuspenseList");case 0:case 15:return ht(a.type,!1);case 11:return ht(a.type.render,!1);case 1:return ht(a.type,!0);case 31:return et("Activity");default:return""}}function dr(a){try{var s="",l=null;do s+=Be(a,l),l=a,a=a.return;while(a);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Wt=Object.prototype.hasOwnProperty,bt=e.unstable_scheduleCallback,mt=e.unstable_cancelCallback,gt=e.unstable_shouldYield,ft=e.unstable_requestPaint,nt=e.unstable_now,yr=e.unstable_getCurrentPriorityLevel,Ht=e.unstable_ImmediatePriority,jt=e.unstable_UserBlockingPriority,Et=e.unstable_NormalPriority,Br=e.unstable_LowPriority,Ir=e.unstable_IdlePriority,re=e.log,ve=e.unstable_setDisableYieldValue,Re=null,Ae=null;function st(a){if(typeof re=="function"&&ve(a),Ae&&typeof Ae.setStrictMode=="function")try{Ae.setStrictMode(Re,a)}catch{}}var it=Math.clz32?Math.clz32:Oi,Di=Math.log,ga=Math.LN2;function Oi(a){return a>>>=0,a===0?32:31-(Di(a)/ga|0)|0}var Wn=256,Ka=262144,Rt=4194304;function Pt(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Kt(a,s,l){var f=a.pendingLanes;if(f===0)return 0;var p=0,y=a.suspendedLanes,j=a.pingedLanes;a=a.warmLanes;var O=f&134217727;return O!==0?(f=O&~y,f!==0?p=Pt(f):(j&=O,j!==0?p=Pt(j):l||(l=O&~a,l!==0&&(p=Pt(l))))):(O=f&~y,O!==0?p=Pt(O):j!==0?p=Pt(j):l||(l=f&~a,l!==0&&(p=Pt(l)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:p}function nr(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function ar(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(){var a=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),a}function Er(a){for(var s=[],l=0;31>l;l++)s.push(a);return s}function $(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function G(a,s,l,f,p,y){var j=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var O=a.entanglements,z=a.expirationTimes,X=a.hiddenUpdates;for(l=j&~l;0<l;){var ie=31-it(l),ue=1<<ie;O[ie]=0,z[ie]=-1;var Z=X[ie];if(Z!==null)for(X[ie]=null,ie=0;ie<Z.length;ie++){var ne=Z[ie];ne!==null&&(ne.lane&=-536870913)}l&=~ue}f!==0&&ee(a,f,0),y!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=y&~(j&~s))}function ee(a,s,l){a.pendingLanes|=s,a.suspendedLanes&=~s;var f=31-it(s);a.entangledLanes|=s,a.entanglements[f]=a.entanglements[f]|1073741824|l&261930}function de(a,s){var l=a.entangledLanes|=s;for(a=a.entanglements;l;){var f=31-it(l),p=1<<f;p&s|a[f]&s&&(a[f]|=s),l&=~p}}function pe(a,s){var l=s&-s;return l=(l&42)!==0?1:Ne(l),(l&(a.suspendedLanes|s))!==0?0:l}function Ne(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ke(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function _e(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:mS(a.type))}function Ce(a,s){var l=W.p;try{return W.p=a,s()}finally{W.p=l}}var Te=Math.random().toString(36).slice(2),we="__reactFiber$"+Te,Se="__reactProps$"+Te,He="__reactContainer$"+Te,xt="__reactEvents$"+Te,Xt="__reactListeners$"+Te,br="__reactHandles$"+Te,Ct="__reactResources$"+Te,ut="__reactMarker$"+Te;function Un(a){delete a[we],delete a[Se],delete a[xt],delete a[Xt],delete a[br]}function hn(a){var s=a[we];if(s)return s;for(var l=a.parentNode;l;){if(s=l[He]||l[we]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(a=J1(a);a!==null;){if(l=a[we])return l;a=J1(a)}return s}a=l,l=a.parentNode}return null}function Mr(a){if(a=a[we]||a[He]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Cr(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(n(33))}function Xn(a){var s=a[Ct];return s||(s=a[Ct]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Mt(a){a[ut]=!0}var Jn=new Set,Rs={};function mn(a,s){Ke(a,s),Ke(a+"Capture",s)}function Ke(a,s){for(Rs[a]=s,a=0;a<s.length;a++)Jn.add(s[a])}var hr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pa={},Zn={};function Gt(a){return Wt.call(Zn,a)?!0:Wt.call(pa,a)?!1:hr.test(a)?Zn[a]=!0:(pa[a]=!0,!1)}function va(a,s,l){if(Gt(s))if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+l)}}function Ms(a,s,l){if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+l)}}function Pn(a,s,l,f){if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(s,l,""+f)}}function gn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function qx(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gA(a,s,l){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var p=f.get,y=f.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return p.call(this)},set:function(j){l=""+j,y.call(this,j)}}),Object.defineProperty(a,s,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(j){l=""+j},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function dh(a){if(!a._valueTracker){var s=qx(a)?"checked":"value";a._valueTracker=gA(a,s,""+a[s])}}function Ux(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return a&&(f=qx(a)?a.checked?"true":"false":a.value),a=f,a!==l?(s.setValue(a),!0):!1}function su(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var pA=/[\n"\\]/g;function pn(a){return a.replace(pA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function fh(a,s,l,f,p,y,j,O){a.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.type=j:a.removeAttribute("type"),s!=null?j==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+gn(s)):a.value!==""+gn(s)&&(a.value=""+gn(s)):j!=="submit"&&j!=="reset"||a.removeAttribute("value"),s!=null?hh(a,j,gn(s)):l!=null?hh(a,j,gn(l)):f!=null&&a.removeAttribute("value"),p==null&&y!=null&&(a.defaultChecked=!!y),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+gn(O):a.removeAttribute("name")}function Px(a,s,l,f,p,y,j,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){dh(a);return}l=l!=null?""+gn(l):"",s=s!=null?""+gn(s):l,O||s===a.value||(a.value=s),a.defaultValue=s}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=O?a.checked:!!f,a.defaultChecked=!!f,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(a.name=j),dh(a)}function hh(a,s,l){s==="number"&&su(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function Ai(a,s,l,f){if(a=a.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<a.length;l++)p=s.hasOwnProperty("$"+a[l].value),a[l].selected!==p&&(a[l].selected=p),p&&f&&(a[l].defaultSelected=!0)}else{for(l=""+gn(l),s=null,p=0;p<a.length;p++){if(a[p].value===l){a[p].selected=!0,f&&(a[p].defaultSelected=!0);return}s!==null||a[p].disabled||(s=a[p])}s!==null&&(s.selected=!0)}}function $x(a,s,l){if(s!=null&&(s=""+gn(s),s!==a.value&&(a.value=s),l==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=l!=null?""+gn(l):""}function zx(a,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(n(92));if(ge(f)){if(1<f.length)throw Error(n(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=gn(s),a.defaultValue=l,f=a.textContent,f===l&&f!==""&&f!==null&&(a.value=f),dh(a)}function Ri(a,s){if(s){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=s;return}}a.textContent=s}var vA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bx(a,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":f?a.setProperty(s,l):typeof l!="number"||l===0||vA.has(s)?s==="float"?a.cssFloat=l:a[s]=(""+l).trim():a[s]=l+"px"}function Ix(a,s,l){if(s!=null&&typeof s!="object")throw Error(n(62));if(a=a.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var p in s)f=s[p],s.hasOwnProperty(p)&&l[p]!==f&&Bx(a,p,f)}else for(var y in s)s.hasOwnProperty(y)&&Bx(a,y,s[y])}function mh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function iu(a){return bA.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ya(){}var gh=null;function ph(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Mi=null,Li=null;function Fx(a){var s=Mr(a);if(s&&(a=s.stateNode)){var l=a[Se]||null;e:switch(a=s.stateNode,s.type){case"input":if(fh(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==a&&f.form===a.form){var p=f[Se]||null;if(!p)throw Error(n(90));fh(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===a.form&&Ux(f)}break e;case"textarea":$x(a,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ai(a,!!l.multiple,s,!1)}}}var vh=!1;function Hx(a,s,l){if(vh)return a(s,l);vh=!0;try{var f=a(s);return f}finally{if(vh=!1,(Mi!==null||Li!==null)&&(Yu(),Mi&&(s=Mi,a=Li,Li=Mi=null,Fx(s),a)))for(s=0;s<a.length;s++)Fx(a[s])}}function Jo(a,s){var l=a.stateNode;if(l===null)return null;var f=l[Se]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yh=!1;if(ba)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){yh=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{yh=!1}var Ga=null,bh=null,ou=null;function Kx(){if(ou)return ou;var a,s=bh,l=s.length,f,p="value"in Ga?Ga.value:Ga.textContent,y=p.length;for(a=0;a<l&&s[a]===p[a];a++);var j=l-a;for(f=1;f<=j&&s[l-f]===p[y-f];f++);return ou=p.slice(a,1<f?1-f:void 0)}function lu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function cu(){return!0}function Gx(){return!1}function Fr(a){function s(l,f,p,y,j){this._reactName=l,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=j,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(l=a[O],this[O]=l?l(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?cu:Gx,this.isPropagationStopped=Gx,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cu)},persist:function(){},isPersistent:cu}),s}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uu=Fr(Ls),el=v({},Ls,{view:0,detail:0}),xA=Fr(el),xh,wh,tl,du=v({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==tl&&(tl&&a.type==="mousemove"?(xh=a.screenX-tl.screenX,wh=a.screenY-tl.screenY):wh=xh=0,tl=a),xh)},movementY:function(a){return"movementY"in a?a.movementY:wh}}),Yx=Fr(du),wA=v({},du,{dataTransfer:0}),_A=Fr(wA),SA=v({},el,{relatedTarget:0}),_h=Fr(SA),jA=v({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),NA=Fr(jA),kA=v({},Ls,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),EA=Fr(kA),CA=v({},Ls,{data:0}),Vx=Fr(CA),TA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AA(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=OA[a])?!!s[a]:!1}function Sh(){return AA}var RA=v({},el,{key:function(a){if(a.key){var s=TA[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=lu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?DA[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sh,charCode:function(a){return a.type==="keypress"?lu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?lu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),MA=Fr(RA),LA=v({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qx=Fr(LA),qA=v({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sh}),UA=Fr(qA),PA=v({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),$A=Fr(PA),zA=v({},du,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),BA=Fr(zA),IA=v({},Ls,{newState:0,oldState:0}),FA=Fr(IA),HA=[9,13,27,32],jh=ba&&"CompositionEvent"in window,rl=null;ba&&"documentMode"in document&&(rl=document.documentMode);var KA=ba&&"TextEvent"in window&&!rl,Wx=ba&&(!jh||rl&&8<rl&&11>=rl),Xx=" ",Jx=!1;function Zx(a,s){switch(a){case"keyup":return HA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ew(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var qi=!1;function GA(a,s){switch(a){case"compositionend":return ew(s);case"keypress":return s.which!==32?null:(Jx=!0,Xx);case"textInput":return a=s.data,a===Xx&&Jx?null:a;default:return null}}function YA(a,s){if(qi)return a==="compositionend"||!jh&&Zx(a,s)?(a=Kx(),ou=bh=Ga=null,qi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wx&&s.locale!=="ko"?null:s.data;default:return null}}var VA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tw(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!VA[a.type]:s==="textarea"}function rw(a,s,l,f){Mi?Li?Li.push(f):Li=[f]:Mi=f,s=ed(s,"onChange"),0<s.length&&(l=new uu("onChange","change",null,l,f),a.push({event:l,listeners:s}))}var nl=null,al=null;function QA(a){P1(a,0)}function fu(a){var s=Cr(a);if(Ux(s))return a}function nw(a,s){if(a==="change")return s}var aw=!1;if(ba){var Nh;if(ba){var kh="oninput"in document;if(!kh){var sw=document.createElement("div");sw.setAttribute("oninput","return;"),kh=typeof sw.oninput=="function"}Nh=kh}else Nh=!1;aw=Nh&&(!document.documentMode||9<document.documentMode)}function iw(){nl&&(nl.detachEvent("onpropertychange",ow),al=nl=null)}function ow(a){if(a.propertyName==="value"&&fu(al)){var s=[];rw(s,al,a,ph(a)),Hx(QA,s)}}function WA(a,s,l){a==="focusin"?(iw(),nl=s,al=l,nl.attachEvent("onpropertychange",ow)):a==="focusout"&&iw()}function XA(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return fu(al)}function JA(a,s){if(a==="click")return fu(s)}function ZA(a,s){if(a==="input"||a==="change")return fu(s)}function eR(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var en=typeof Object.is=="function"?Object.is:eR;function sl(a,s){if(en(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var l=Object.keys(a),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var p=l[f];if(!Wt.call(s,p)||!en(a[p],s[p]))return!1}return!0}function lw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function cw(a,s){var l=lw(a);a=0;for(var f;l;){if(l.nodeType===3){if(f=a+l.textContent.length,a<=s&&f>=s)return{node:l,offset:s-a};a=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=lw(l)}}function uw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?uw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function dw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=su(a.document);s instanceof a.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)a=s.contentWindow;else break;s=su(a.document)}return s}function Eh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var tR=ba&&"documentMode"in document&&11>=document.documentMode,Ui=null,Ch=null,il=null,Th=!1;function fw(a,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Th||Ui==null||Ui!==su(f)||(f=Ui,"selectionStart"in f&&Eh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),il&&sl(il,f)||(il=f,f=ed(Ch,"onSelect"),0<f.length&&(s=new uu("onSelect","select",null,s,l),a.push({event:s,listeners:f}),s.target=Ui)))}function qs(a,s){var l={};return l[a.toLowerCase()]=s.toLowerCase(),l["Webkit"+a]="webkit"+s,l["Moz"+a]="moz"+s,l}var Pi={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Dh={},hw={};ba&&(hw=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function Us(a){if(Dh[a])return Dh[a];if(!Pi[a])return a;var s=Pi[a],l;for(l in s)if(s.hasOwnProperty(l)&&l in hw)return Dh[a]=s[l];return a}var mw=Us("animationend"),gw=Us("animationiteration"),pw=Us("animationstart"),rR=Us("transitionrun"),nR=Us("transitionstart"),aR=Us("transitioncancel"),vw=Us("transitionend"),yw=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function $n(a,s){yw.set(a,s),mn(s,[a])}var hu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},vn=[],$i=0,Ah=0;function mu(){for(var a=$i,s=Ah=$i=0;s<a;){var l=vn[s];vn[s++]=null;var f=vn[s];vn[s++]=null;var p=vn[s];vn[s++]=null;var y=vn[s];if(vn[s++]=null,f!==null&&p!==null){var j=f.pending;j===null?p.next=p:(p.next=j.next,j.next=p),f.pending=p}y!==0&&bw(l,p,y)}}function gu(a,s,l,f){vn[$i++]=a,vn[$i++]=s,vn[$i++]=l,vn[$i++]=f,Ah|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Rh(a,s,l,f){return gu(a,s,l,f),pu(a)}function Ps(a,s){return gu(a,null,null,s),pu(a)}function bw(a,s,l){a.lanes|=l;var f=a.alternate;f!==null&&(f.lanes|=l);for(var p=!1,y=a.return;y!==null;)y.childLanes|=l,f=y.alternate,f!==null&&(f.childLanes|=l),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(p=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,p&&s!==null&&(p=31-it(l),a=y.hiddenUpdates,f=a[p],f===null?a[p]=[s]:f.push(s),s.lane=l|536870912),y):null}function pu(a){if(50<Cl)throw Cl=0,Im=null,Error(n(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var zi={};function sR(a,s,l,f){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(a,s,l,f){return new sR(a,s,l,f)}function Mh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function xa(a,s){var l=a.alternate;return l===null?(l=tn(a.tag,s,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=s,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,s=a.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function xw(a,s){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,s=l.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function vu(a,s,l,f,p,y){var j=0;if(f=a,typeof a=="function")Mh(a)&&(j=1);else if(typeof a=="string")j=u4(a,l,fe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case q:return a=tn(31,l,s,p),a.elementType=q,a.lanes=y,a;case w:return $s(l.children,p,y,s);case _:j=8,p|=24;break;case N:return a=tn(12,l,s,p|2),a.elementType=N,a.lanes=y,a;case L:return a=tn(13,l,s,p),a.elementType=L,a.lanes=y,a;case E:return a=tn(19,l,s,p),a.elementType=E,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:j=10;break e;case C:j=9;break e;case A:j=11;break e;case D:j=14;break e;case R:j=16,f=null;break e}j=29,l=Error(n(130,a===null?"null":typeof a,"")),f=null}return s=tn(j,l,s,p),s.elementType=a,s.type=f,s.lanes=y,s}function $s(a,s,l,f){return a=tn(7,a,f,s),a.lanes=l,a}function Lh(a,s,l){return a=tn(6,a,null,s),a.lanes=l,a}function ww(a){var s=tn(18,null,null,0);return s.stateNode=a,s}function qh(a,s,l){return s=tn(4,a.children!==null?a.children:[],a.key,s),s.lanes=l,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var _w=new WeakMap;function yn(a,s){if(typeof a=="object"&&a!==null){var l=_w.get(a);return l!==void 0?l:(s={value:a,source:s,stack:dr(s)},_w.set(a,s),s)}return{value:a,source:s,stack:dr(s)}}var Bi=[],Ii=0,yu=null,ol=0,bn=[],xn=0,Ya=null,ea=1,ta="";function wa(a,s){Bi[Ii++]=ol,Bi[Ii++]=yu,yu=a,ol=s}function Sw(a,s,l){bn[xn++]=ea,bn[xn++]=ta,bn[xn++]=Ya,Ya=a;var f=ea;a=ta;var p=32-it(f)-1;f&=~(1<<p),l+=1;var y=32-it(s)+p;if(30<y){var j=p-p%5;y=(f&(1<<j)-1).toString(32),f>>=j,p-=j,ea=1<<32-it(s)+p|l<<p|f,ta=y+a}else ea=1<<y|l<<p|f,ta=a}function Uh(a){a.return!==null&&(wa(a,1),Sw(a,1,0))}function Ph(a){for(;a===yu;)yu=Bi[--Ii],Bi[Ii]=null,ol=Bi[--Ii],Bi[Ii]=null;for(;a===Ya;)Ya=bn[--xn],bn[xn]=null,ta=bn[--xn],bn[xn]=null,ea=bn[--xn],bn[xn]=null}function jw(a,s){bn[xn++]=ea,bn[xn++]=ta,bn[xn++]=Ya,ea=s.id,ta=s.overflow,Ya=a}var xr=null,Dt=null,tt=!1,Va=null,wn=!1,$h=Error(n(519));function Qa(a){var s=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(yn(s,a)),$h}function Nw(a){var s=a.stateNode,l=a.type,f=a.memoizedProps;switch(s[we]=a,s[Se]=f,l){case"dialog":We("cancel",s),We("close",s);break;case"iframe":case"object":case"embed":We("load",s);break;case"video":case"audio":for(l=0;l<Dl.length;l++)We(Dl[l],s);break;case"source":We("error",s);break;case"img":case"image":case"link":We("error",s),We("load",s);break;case"details":We("toggle",s);break;case"input":We("invalid",s),Px(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":We("invalid",s);break;case"textarea":We("invalid",s),zx(s,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||I1(s.textContent,l)?(f.popover!=null&&(We("beforetoggle",s),We("toggle",s)),f.onScroll!=null&&We("scroll",s),f.onScrollEnd!=null&&We("scrollend",s),f.onClick!=null&&(s.onclick=ya),s=!0):s=!1,s||Qa(a,!0)}function kw(a){for(xr=a.return;xr;)switch(xr.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:xr=xr.return}}function Fi(a){if(a!==xr)return!1;if(!tt)return kw(a),tt=!0,!1;var s=a.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||ng(a.type,a.memoizedProps)),l=!l),l&&Dt&&Qa(a),kw(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Dt=X1(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Dt=X1(a)}else s===27?(s=Dt,cs(a.type)?(a=lg,lg=null,Dt=a):Dt=s):Dt=xr?Sn(a.stateNode.nextSibling):null;return!0}function zs(){Dt=xr=null,tt=!1}function zh(){var a=Va;return a!==null&&(Yr===null?Yr=a:Yr.push.apply(Yr,a),Va=null),a}function ll(a){Va===null?Va=[a]:Va.push(a)}var Bh=M(null),Bs=null,_a=null;function Wa(a,s,l){se(Bh,s._currentValue),s._currentValue=l}function Sa(a){a._currentValue=Bh.current,H(Bh)}function Ih(a,s,l){for(;a!==null;){var f=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),a===l)break;a=a.return}}function Fh(a,s,l,f){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var y=p.dependencies;if(y!==null){var j=p.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=p;for(var z=0;z<s.length;z++)if(O.context===s[z]){y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),Ih(y.return,l,a),f||(j=null);break e}y=O.next}}else if(p.tag===18){if(j=p.return,j===null)throw Error(n(341));j.lanes|=l,y=j.alternate,y!==null&&(y.lanes|=l),Ih(j,l,a),j=null}else j=p.child;if(j!==null)j.return=p;else for(j=p;j!==null;){if(j===a){j=null;break}if(p=j.sibling,p!==null){p.return=j.return,j=p;break}j=j.return}p=j}}function Hi(a,s,l,f){a=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var j=p.alternate;if(j===null)throw Error(n(387));if(j=j.memoizedProps,j!==null){var O=p.type;en(p.pendingProps.value,j.value)||(a!==null?a.push(O):a=[O])}}else if(p===Oe.current){if(j=p.alternate,j===null)throw Error(n(387));j.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(Ll):a=[Ll])}p=p.return}a!==null&&Fh(s,a,l,f),s.flags|=262144}function bu(a){for(a=a.firstContext;a!==null;){if(!en(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Is(a){Bs=a,_a=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function wr(a){return Ew(Bs,a)}function xu(a,s){return Bs===null&&Is(a),Ew(a,s)}function Ew(a,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},_a===null){if(a===null)throw Error(n(308));_a=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else _a=_a.next=s;return l}var iR=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(l,f){a.push(f)}};this.abort=function(){s.aborted=!0,a.forEach(function(l){return l()})}},oR=e.unstable_scheduleCallback,lR=e.unstable_NormalPriority,Jt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new iR,data:new Map,refCount:0}}function cl(a){a.refCount--,a.refCount===0&&oR(lR,function(){a.controller.abort()})}var ul=null,Kh=0,Ki=0,Gi=null;function cR(a,s){if(ul===null){var l=ul=[];Kh=0,Ki=Vm(),Gi={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Kh++,s.then(Cw,Cw),s}function Cw(){if(--Kh===0&&ul!==null){Gi!==null&&(Gi.status="fulfilled");var a=ul;ul=null,Ki=0,Gi=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function uR(a,s){var l=[],f={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return a.then(function(){f.status="fulfilled",f.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(f.status="rejected",f.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),f}var Tw=P.S;P.S=function(a,s){f1=nt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&cR(a,s),Tw!==null&&Tw(a,s)};var Fs=M(null);function Gh(){var a=Fs.current;return a!==null?a:Nt.pooledCache}function wu(a,s){s===null?se(Fs,Fs.current):se(Fs,s.pool)}function Dw(){var a=Gh();return a===null?null:{parent:Jt._currentValue,pool:a}}var Yi=Error(n(460)),Yh=Error(n(474)),_u=Error(n(542)),Su={then:function(){}};function Ow(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Aw(a,s,l){switch(l=a[l],l===void 0?a.push(s):l!==s&&(s.then(ya,ya),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Mw(a),a;default:if(typeof s.status=="string")s.then(ya,ya);else{if(a=Nt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=s,a.status="pending",a.then(function(f){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=f}},function(f){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Mw(a),a}throw Ks=s,Yi}}function Hs(a){try{var s=a._init;return s(a._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ks=l,Yi):l}}var Ks=null;function Rw(){if(Ks===null)throw Error(n(459));var a=Ks;return Ks=null,a}function Mw(a){if(a===Yi||a===_u)throw Error(n(483))}var Vi=null,dl=0;function ju(a){var s=dl;return dl+=1,Vi===null&&(Vi=[]),Aw(Vi,a,s)}function fl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Nu(a,s){throw s.$$typeof===b?Error(n(525)):(a=Object.prototype.toString.call(s),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Lw(a){function s(Y,F){if(a){var Q=Y.deletions;Q===null?(Y.deletions=[F],Y.flags|=16):Q.push(F)}}function l(Y,F){if(!a)return null;for(;F!==null;)s(Y,F),F=F.sibling;return null}function f(Y){for(var F=new Map;Y!==null;)Y.key!==null?F.set(Y.key,Y):F.set(Y.index,Y),Y=Y.sibling;return F}function p(Y,F){return Y=xa(Y,F),Y.index=0,Y.sibling=null,Y}function y(Y,F,Q){return Y.index=Q,a?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<F?(Y.flags|=67108866,F):Q):(Y.flags|=67108866,F)):(Y.flags|=1048576,F)}function j(Y){return a&&Y.alternate===null&&(Y.flags|=67108866),Y}function O(Y,F,Q,ce){return F===null||F.tag!==6?(F=Lh(Q,Y.mode,ce),F.return=Y,F):(F=p(F,Q),F.return=Y,F)}function z(Y,F,Q,ce){var Me=Q.type;return Me===w?ie(Y,F,Q.props.children,ce,Q.key):F!==null&&(F.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===R&&Hs(Me)===F.type)?(F=p(F,Q.props),fl(F,Q),F.return=Y,F):(F=vu(Q.type,Q.key,Q.props,null,Y.mode,ce),fl(F,Q),F.return=Y,F)}function X(Y,F,Q,ce){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=qh(Q,Y.mode,ce),F.return=Y,F):(F=p(F,Q.children||[]),F.return=Y,F)}function ie(Y,F,Q,ce,Me){return F===null||F.tag!==7?(F=$s(Q,Y.mode,ce,Me),F.return=Y,F):(F=p(F,Q),F.return=Y,F)}function ue(Y,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Lh(""+F,Y.mode,Q),F.return=Y,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return Q=vu(F.type,F.key,F.props,null,Y.mode,Q),fl(Q,F),Q.return=Y,Q;case S:return F=qh(F,Y.mode,Q),F.return=Y,F;case R:return F=Hs(F),ue(Y,F,Q)}if(ge(F)||K(F))return F=$s(F,Y.mode,Q,null),F.return=Y,F;if(typeof F.then=="function")return ue(Y,ju(F),Q);if(F.$$typeof===T)return ue(Y,xu(Y,F),Q);Nu(Y,F)}return null}function Z(Y,F,Q,ce){var Me=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Me!==null?null:O(Y,F,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return Q.key===Me?z(Y,F,Q,ce):null;case S:return Q.key===Me?X(Y,F,Q,ce):null;case R:return Q=Hs(Q),Z(Y,F,Q,ce)}if(ge(Q)||K(Q))return Me!==null?null:ie(Y,F,Q,ce,null);if(typeof Q.then=="function")return Z(Y,F,ju(Q),ce);if(Q.$$typeof===T)return Z(Y,F,xu(Y,Q),ce);Nu(Y,Q)}return null}function ne(Y,F,Q,ce,Me){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Y=Y.get(Q)||null,O(F,Y,""+ce,Me);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return Y=Y.get(ce.key===null?Q:ce.key)||null,z(F,Y,ce,Me);case S:return Y=Y.get(ce.key===null?Q:ce.key)||null,X(F,Y,ce,Me);case R:return ce=Hs(ce),ne(Y,F,Q,ce,Me)}if(ge(ce)||K(ce))return Y=Y.get(Q)||null,ie(F,Y,ce,Me,null);if(typeof ce.then=="function")return ne(Y,F,Q,ju(ce),Me);if(ce.$$typeof===T)return ne(Y,F,Q,xu(F,ce),Me);Nu(F,ce)}return null}function Ee(Y,F,Q,ce){for(var Me=null,ot=null,De=F,Fe=F=0,Ze=null;De!==null&&Fe<Q.length;Fe++){De.index>Fe?(Ze=De,De=null):Ze=De.sibling;var lt=Z(Y,De,Q[Fe],ce);if(lt===null){De===null&&(De=Ze);break}a&&De&&lt.alternate===null&&s(Y,De),F=y(lt,F,Fe),ot===null?Me=lt:ot.sibling=lt,ot=lt,De=Ze}if(Fe===Q.length)return l(Y,De),tt&&wa(Y,Fe),Me;if(De===null){for(;Fe<Q.length;Fe++)De=ue(Y,Q[Fe],ce),De!==null&&(F=y(De,F,Fe),ot===null?Me=De:ot.sibling=De,ot=De);return tt&&wa(Y,Fe),Me}for(De=f(De);Fe<Q.length;Fe++)Ze=ne(De,Y,Fe,Q[Fe],ce),Ze!==null&&(a&&Ze.alternate!==null&&De.delete(Ze.key===null?Fe:Ze.key),F=y(Ze,F,Fe),ot===null?Me=Ze:ot.sibling=Ze,ot=Ze);return a&&De.forEach(function(ms){return s(Y,ms)}),tt&&wa(Y,Fe),Me}function qe(Y,F,Q,ce){if(Q==null)throw Error(n(151));for(var Me=null,ot=null,De=F,Fe=F=0,Ze=null,lt=Q.next();De!==null&&!lt.done;Fe++,lt=Q.next()){De.index>Fe?(Ze=De,De=null):Ze=De.sibling;var ms=Z(Y,De,lt.value,ce);if(ms===null){De===null&&(De=Ze);break}a&&De&&ms.alternate===null&&s(Y,De),F=y(ms,F,Fe),ot===null?Me=ms:ot.sibling=ms,ot=ms,De=Ze}if(lt.done)return l(Y,De),tt&&wa(Y,Fe),Me;if(De===null){for(;!lt.done;Fe++,lt=Q.next())lt=ue(Y,lt.value,ce),lt!==null&&(F=y(lt,F,Fe),ot===null?Me=lt:ot.sibling=lt,ot=lt);return tt&&wa(Y,Fe),Me}for(De=f(De);!lt.done;Fe++,lt=Q.next())lt=ne(De,Y,Fe,lt.value,ce),lt!==null&&(a&&lt.alternate!==null&&De.delete(lt.key===null?Fe:lt.key),F=y(lt,F,Fe),ot===null?Me=lt:ot.sibling=lt,ot=lt);return a&&De.forEach(function(w4){return s(Y,w4)}),tt&&wa(Y,Fe),Me}function St(Y,F,Q,ce){if(typeof Q=="object"&&Q!==null&&Q.type===w&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:e:{for(var Me=Q.key;F!==null;){if(F.key===Me){if(Me=Q.type,Me===w){if(F.tag===7){l(Y,F.sibling),ce=p(F,Q.props.children),ce.return=Y,Y=ce;break e}}else if(F.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===R&&Hs(Me)===F.type){l(Y,F.sibling),ce=p(F,Q.props),fl(ce,Q),ce.return=Y,Y=ce;break e}l(Y,F);break}else s(Y,F);F=F.sibling}Q.type===w?(ce=$s(Q.props.children,Y.mode,ce,Q.key),ce.return=Y,Y=ce):(ce=vu(Q.type,Q.key,Q.props,null,Y.mode,ce),fl(ce,Q),ce.return=Y,Y=ce)}return j(Y);case S:e:{for(Me=Q.key;F!==null;){if(F.key===Me)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){l(Y,F.sibling),ce=p(F,Q.children||[]),ce.return=Y,Y=ce;break e}else{l(Y,F);break}else s(Y,F);F=F.sibling}ce=qh(Q,Y.mode,ce),ce.return=Y,Y=ce}return j(Y);case R:return Q=Hs(Q),St(Y,F,Q,ce)}if(ge(Q))return Ee(Y,F,Q,ce);if(K(Q)){if(Me=K(Q),typeof Me!="function")throw Error(n(150));return Q=Me.call(Q),qe(Y,F,Q,ce)}if(typeof Q.then=="function")return St(Y,F,ju(Q),ce);if(Q.$$typeof===T)return St(Y,F,xu(Y,Q),ce);Nu(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(l(Y,F.sibling),ce=p(F,Q),ce.return=Y,Y=ce):(l(Y,F),ce=Lh(Q,Y.mode,ce),ce.return=Y,Y=ce),j(Y)):l(Y,F)}return function(Y,F,Q,ce){try{dl=0;var Me=St(Y,F,Q,ce);return Vi=null,Me}catch(De){if(De===Yi||De===_u)throw De;var ot=tn(29,De,null,Y.mode);return ot.lanes=ce,ot.return=Y,ot}finally{}}}var Gs=Lw(!0),qw=Lw(!1),Xa=!1;function Vh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ja(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Za(a,s,l){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(dt&2)!==0){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,s=pu(a),bw(a,null,l),s}return gu(a,f,s,l),pu(a)}function hl(a,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=a.pendingLanes,l|=f,s.lanes=l,de(a,l)}}function Wh(a,s){var l=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var j={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=j:y=y.next=j,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=s:a.next=s,l.lastBaseUpdate=s}var Xh=!1;function ml(){if(Xh){var a=Gi;if(a!==null)throw a}}function gl(a,s,l,f){Xh=!1;var p=a.updateQueue;Xa=!1;var y=p.firstBaseUpdate,j=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var z=O,X=z.next;z.next=null,j===null?y=X:j.next=X,j=z;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==j&&(O===null?ie.firstBaseUpdate=X:O.next=X,ie.lastBaseUpdate=z))}if(y!==null){var ue=p.baseState;j=0,ie=X=z=null,O=y;do{var Z=O.lane&-536870913,ne=Z!==O.lane;if(ne?(Je&Z)===Z:(f&Z)===Z){Z!==0&&Z===Ki&&(Xh=!0),ie!==null&&(ie=ie.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ee=a,qe=O;Z=s;var St=l;switch(qe.tag){case 1:if(Ee=qe.payload,typeof Ee=="function"){ue=Ee.call(St,ue,Z);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=qe.payload,Z=typeof Ee=="function"?Ee.call(St,ue,Z):Ee,Z==null)break e;ue=v({},ue,Z);break e;case 2:Xa=!0}}Z=O.callback,Z!==null&&(a.flags|=64,ne&&(a.flags|=8192),ne=p.callbacks,ne===null?p.callbacks=[Z]:ne.push(Z))}else ne={lane:Z,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(X=ie=ne,z=ue):ie=ie.next=ne,j|=Z;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);ie===null&&(z=ue),p.baseState=z,p.firstBaseUpdate=X,p.lastBaseUpdate=ie,y===null&&(p.shared.lanes=0),as|=j,a.lanes=j,a.memoizedState=ue}}function Uw(a,s){if(typeof a!="function")throw Error(n(191,a));a.call(s)}function Pw(a,s){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)Uw(l[a],s)}var Qi=M(null),ku=M(0);function $w(a,s){a=Aa,se(ku,a),se(Qi,s),Aa=a|s.baseLanes}function Jh(){se(ku,Aa),se(Qi,Qi.current)}function Zh(){Aa=ku.current,H(Qi),H(ku)}var rn=M(null),_n=null;function es(a){var s=a.alternate;se(Yt,Yt.current&1),se(rn,a),_n===null&&(s===null||Qi.current!==null||s.memoizedState!==null)&&(_n=a)}function em(a){se(Yt,Yt.current),se(rn,a),_n===null&&(_n=a)}function zw(a){a.tag===22?(se(Yt,Yt.current),se(rn,a),_n===null&&(_n=a)):ts()}function ts(){se(Yt,Yt.current),se(rn,rn.current)}function nn(a){H(rn),_n===a&&(_n=null),H(Yt)}var Yt=M(0);function Eu(a){for(var s=a;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ig(l)||og(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ja=0,Ie=null,wt=null,Zt=null,Cu=!1,Wi=!1,Ys=!1,Tu=0,pl=0,Xi=null,dR=0;function $t(){throw Error(n(321))}function tm(a,s){if(s===null)return!1;for(var l=0;l<s.length&&l<a.length;l++)if(!en(a[l],s[l]))return!1;return!0}function rm(a,s,l,f,p,y){return ja=y,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,P.H=a===null||a.memoizedState===null?S_:vm,Ys=!1,y=l(f,p),Ys=!1,Wi&&(y=Iw(s,l,f,p)),Bw(a),y}function Bw(a){P.H=bl;var s=wt!==null&&wt.next!==null;if(ja=0,Zt=wt=Ie=null,Cu=!1,pl=0,Xi=null,s)throw Error(n(300));a===null||er||(a=a.dependencies,a!==null&&bu(a)&&(er=!0))}function Iw(a,s,l,f){Ie=a;var p=0;do{if(Wi&&(Xi=null),pl=0,Wi=!1,25<=p)throw Error(n(301));if(p+=1,Zt=wt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}P.H=j_,y=s(l,f)}while(Wi);return y}function fR(){var a=P.H,s=a.useState()[0];return s=typeof s.then=="function"?vl(s):s,a=a.useState()[0],(wt!==null?wt.memoizedState:null)!==a&&(Ie.flags|=1024),s}function nm(){var a=Tu!==0;return Tu=0,a}function am(a,s,l){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~l}function sm(a){if(Cu){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Cu=!1}ja=0,Zt=wt=Ie=null,Wi=!1,pl=Tu=0,Xi=null}function Lr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ie.memoizedState=Zt=a:Zt=Zt.next=a,Zt}function Vt(){if(wt===null){var a=Ie.alternate;a=a!==null?a.memoizedState:null}else a=wt.next;var s=Zt===null?Ie.memoizedState:Zt.next;if(s!==null)Zt=s,wt=a;else{if(a===null)throw Ie.alternate===null?Error(n(467)):Error(n(310));wt=a,a={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Zt===null?Ie.memoizedState=Zt=a:Zt=Zt.next=a}return Zt}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(a){var s=pl;return pl+=1,Xi===null&&(Xi=[]),a=Aw(Xi,a,s),s=Ie,(Zt===null?s.memoizedState:Zt.next)===null&&(s=s.alternate,P.H=s===null||s.memoizedState===null?S_:vm),a}function Ou(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return vl(a);if(a.$$typeof===T)return wr(a)}throw Error(n(438,String(a)))}function im(a){var s=null,l=Ie.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=Ie.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Du(),Ie.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(a),f=0;f<a;f++)l[f]=B;return s.index++,l}function Na(a,s){return typeof s=="function"?s(a):s}function Au(a){var s=Vt();return om(s,wt,a)}function om(a,s,l){var f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=l;var p=a.baseQueue,y=f.pending;if(y!==null){if(p!==null){var j=p.next;p.next=y.next,y.next=j}s.baseQueue=p=y,f.pending=null}if(y=a.baseState,p===null)a.memoizedState=y;else{s=p.next;var O=j=null,z=null,X=s,ie=!1;do{var ue=X.lane&-536870913;if(ue!==X.lane?(Je&ue)===ue:(ja&ue)===ue){var Z=X.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ue===Ki&&(ie=!0);else if((ja&Z)===Z){X=X.next,Z===Ki&&(ie=!0);continue}else ue={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(O=z=ue,j=y):z=z.next=ue,Ie.lanes|=Z,as|=Z;ue=X.action,Ys&&l(y,ue),y=X.hasEagerState?X.eagerState:l(y,ue)}else Z={lane:ue,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(O=z=Z,j=y):z=z.next=Z,Ie.lanes|=ue,as|=ue;X=X.next}while(X!==null&&X!==s);if(z===null?j=y:z.next=O,!en(y,a.memoizedState)&&(er=!0,ie&&(l=Gi,l!==null)))throw l;a.memoizedState=y,a.baseState=j,a.baseQueue=z,f.lastRenderedState=y}return p===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function lm(a){var s=Vt(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=a;var f=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var j=p=p.next;do y=a(y,j.action),j=j.next;while(j!==p);en(y,s.memoizedState)||(er=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,f]}function Fw(a,s,l){var f=Ie,p=Vt(),y=tt;if(y){if(l===void 0)throw Error(n(407));l=l()}else l=s();var j=!en((wt||p).memoizedState,l);if(j&&(p.memoizedState=l,er=!0),p=p.queue,dm(Gw.bind(null,f,p,a),[a]),p.getSnapshot!==s||j||Zt!==null&&Zt.memoizedState.tag&1){if(f.flags|=2048,Ji(9,{destroy:void 0},Kw.bind(null,f,p,l,s),null),Nt===null)throw Error(n(349));y||(ja&127)!==0||Hw(f,s,l)}return l}function Hw(a,s,l){a.flags|=16384,a={getSnapshot:s,value:l},s=Ie.updateQueue,s===null?(s=Du(),Ie.updateQueue=s,s.stores=[a]):(l=s.stores,l===null?s.stores=[a]:l.push(a))}function Kw(a,s,l,f){s.value=l,s.getSnapshot=f,Yw(s)&&Vw(a)}function Gw(a,s,l){return l(function(){Yw(s)&&Vw(a)})}function Yw(a){var s=a.getSnapshot;a=a.value;try{var l=s();return!en(a,l)}catch{return!0}}function Vw(a){var s=Ps(a,2);s!==null&&Vr(s,a,2)}function cm(a){var s=Lr();if(typeof a=="function"){var l=a;if(a=l(),Ys){st(!0);try{l()}finally{st(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:a},s}function Qw(a,s,l,f){return a.baseState=l,om(a,wt,typeof f=="function"?f:Na)}function hR(a,s,l,f,p){if(Lu(a))throw Error(n(485));if(a=s.action,a!==null){var y={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){y.listeners.push(j)}};P.T!==null?l(!0):y.isTransition=!1,f(y),l=s.pending,l===null?(y.next=s.pending=y,Ww(s,y)):(y.next=l.next,s.pending=l.next=y)}}function Ww(a,s){var l=s.action,f=s.payload,p=a.state;if(s.isTransition){var y=P.T,j={};P.T=j;try{var O=l(p,f),z=P.S;z!==null&&z(j,O),Xw(a,s,O)}catch(X){um(a,s,X)}finally{y!==null&&j.types!==null&&(y.types=j.types),P.T=y}}else try{y=l(p,f),Xw(a,s,y)}catch(X){um(a,s,X)}}function Xw(a,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Jw(a,s,f)},function(f){return um(a,s,f)}):Jw(a,s,l)}function Jw(a,s,l){s.status="fulfilled",s.value=l,Zw(s),a.state=l,s=a.pending,s!==null&&(l=s.next,l===s?a.pending=null:(l=l.next,s.next=l,Ww(a,l)))}function um(a,s,l){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,Zw(s),s=s.next;while(s!==f)}a.action=null}function Zw(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function e_(a,s){return s}function t_(a,s){if(tt){var l=Nt.formState;if(l!==null){e:{var f=Ie;if(tt){if(Dt){t:{for(var p=Dt,y=wn;p.nodeType!==8;){if(!y){p=null;break t}if(p=Sn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Dt=Sn(p.nextSibling),f=p.data==="F!";break e}}Qa(f)}f=!1}f&&(s=l[0])}}return l=Lr(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:s},l.queue=f,l=x_.bind(null,Ie,f),f.dispatch=l,f=cm(!1),y=pm.bind(null,Ie,!1,f.queue),f=Lr(),p={state:s,dispatch:null,action:a,pending:null},f.queue=p,l=hR.bind(null,Ie,p,y,l),p.dispatch=l,f.memoizedState=a,[s,l,!1]}function r_(a){var s=Vt();return n_(s,wt,a)}function n_(a,s,l){if(s=om(a,s,e_)[0],a=Au(Na)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=vl(s)}catch(j){throw j===Yi?_u:j}else f=s;s=Vt();var p=s.queue,y=p.dispatch;return l!==s.memoizedState&&(Ie.flags|=2048,Ji(9,{destroy:void 0},mR.bind(null,p,l),null)),[f,y,a]}function mR(a,s){a.action=s}function a_(a){var s=Vt(),l=wt;if(l!==null)return n_(s,l,a);Vt(),s=s.memoizedState,l=Vt();var f=l.queue.dispatch;return l.memoizedState=a,[s,f,!1]}function Ji(a,s,l,f){return a={tag:a,create:l,deps:f,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Du(),Ie.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=a.next=a:(f=l.next,l.next=a,a.next=f,s.lastEffect=a),a}function s_(){return Vt().memoizedState}function Ru(a,s,l,f){var p=Lr();Ie.flags|=a,p.memoizedState=Ji(1|s,{destroy:void 0},l,f===void 0?null:f)}function Mu(a,s,l,f){var p=Vt();f=f===void 0?null:f;var y=p.memoizedState.inst;wt!==null&&f!==null&&tm(f,wt.memoizedState.deps)?p.memoizedState=Ji(s,y,l,f):(Ie.flags|=a,p.memoizedState=Ji(1|s,y,l,f))}function i_(a,s){Ru(8390656,8,a,s)}function dm(a,s){Mu(2048,8,a,s)}function gR(a){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=Du(),Ie.updateQueue=s,s.events=[a];else{var l=s.events;l===null?s.events=[a]:l.push(a)}}function o_(a){var s=Vt().memoizedState;return gR({ref:s,nextImpl:a}),function(){if((dt&2)!==0)throw Error(n(440));return s.impl.apply(void 0,arguments)}}function l_(a,s){return Mu(4,2,a,s)}function c_(a,s){return Mu(4,4,a,s)}function u_(a,s){if(typeof s=="function"){a=a();var l=s(a);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function d_(a,s,l){l=l!=null?l.concat([a]):null,Mu(4,4,u_.bind(null,s,a),l)}function fm(){}function f_(a,s){var l=Vt();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&tm(s,f[1])?f[0]:(l.memoizedState=[a,s],a)}function h_(a,s){var l=Vt();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&tm(s,f[1]))return f[0];if(f=a(),Ys){st(!0);try{a()}finally{st(!1)}}return l.memoizedState=[f,s],f}function hm(a,s,l){return l===void 0||(ja&1073741824)!==0&&(Je&261930)===0?a.memoizedState=s:(a.memoizedState=l,a=m1(),Ie.lanes|=a,as|=a,l)}function m_(a,s,l,f){return en(l,s)?l:Qi.current!==null?(a=hm(a,l,f),en(a,s)||(er=!0),a):(ja&42)===0||(ja&1073741824)!==0&&(Je&261930)===0?(er=!0,a.memoizedState=l):(a=m1(),Ie.lanes|=a,as|=a,s)}function g_(a,s,l,f,p){var y=W.p;W.p=y!==0&&8>y?y:8;var j=P.T,O={};P.T=O,pm(a,!1,s,l);try{var z=p(),X=P.S;if(X!==null&&X(O,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=uR(z,f);yl(a,s,ie,on(a))}else yl(a,s,f,on(a))}catch(ue){yl(a,s,{then:function(){},status:"rejected",reason:ue},on())}finally{W.p=y,j!==null&&O.types!==null&&(j.types=O.types),P.T=j}}function pR(){}function mm(a,s,l,f){if(a.tag!==5)throw Error(n(476));var p=p_(a).queue;g_(a,p,s,J,l===null?pR:function(){return v_(a),l(f)})}function p_(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:J},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:l},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function v_(a){var s=p_(a);s.next===null&&(s=a.alternate.memoizedState),yl(a,s.next.queue,{},on())}function gm(){return wr(Ll)}function y_(){return Vt().memoizedState}function b_(){return Vt().memoizedState}function vR(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var l=on();a=Ja(l);var f=Za(s,a,l);f!==null&&(Vr(f,s,l),hl(f,s,l)),s={cache:Hh()},a.payload=s;return}s=s.return}}function yR(a,s,l){var f=on();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Lu(a)?w_(s,l):(l=Rh(a,s,l,f),l!==null&&(Vr(l,a,f),__(l,s,f)))}function x_(a,s,l){var f=on();yl(a,s,l,f)}function yl(a,s,l,f){var p={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Lu(a))w_(s,p);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var j=s.lastRenderedState,O=y(j,l);if(p.hasEagerState=!0,p.eagerState=O,en(O,j))return gu(a,s,p,0),Nt===null&&mu(),!1}catch{}finally{}if(l=Rh(a,s,p,f),l!==null)return Vr(l,a,f),__(l,s,f),!0}return!1}function pm(a,s,l,f){if(f={lane:2,revertLane:Vm(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Lu(a)){if(s)throw Error(n(479))}else s=Rh(a,l,f,2),s!==null&&Vr(s,a,2)}function Lu(a){var s=a.alternate;return a===Ie||s!==null&&s===Ie}function w_(a,s){Wi=Cu=!0;var l=a.pending;l===null?s.next=s:(s.next=l.next,l.next=s),a.pending=s}function __(a,s,l){if((l&4194048)!==0){var f=s.lanes;f&=a.pendingLanes,l|=f,s.lanes=l,de(a,l)}}var bl={readContext:wr,use:Ou,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};bl.useEffectEvent=$t;var S_={readContext:wr,use:Ou,useCallback:function(a,s){return Lr().memoizedState=[a,s===void 0?null:s],a},useContext:wr,useEffect:i_,useImperativeHandle:function(a,s,l){l=l!=null?l.concat([a]):null,Ru(4194308,4,u_.bind(null,s,a),l)},useLayoutEffect:function(a,s){return Ru(4194308,4,a,s)},useInsertionEffect:function(a,s){Ru(4,2,a,s)},useMemo:function(a,s){var l=Lr();s=s===void 0?null:s;var f=a();if(Ys){st(!0);try{a()}finally{st(!1)}}return l.memoizedState=[f,s],f},useReducer:function(a,s,l){var f=Lr();if(l!==void 0){var p=l(s);if(Ys){st(!0);try{l(s)}finally{st(!1)}}}else p=s;return f.memoizedState=f.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},f.queue=a,a=a.dispatch=yR.bind(null,Ie,a),[f.memoizedState,a]},useRef:function(a){var s=Lr();return a={current:a},s.memoizedState=a},useState:function(a){a=cm(a);var s=a.queue,l=x_.bind(null,Ie,s);return s.dispatch=l,[a.memoizedState,l]},useDebugValue:fm,useDeferredValue:function(a,s){var l=Lr();return hm(l,a,s)},useTransition:function(){var a=cm(!1);return a=g_.bind(null,Ie,a.queue,!0,!1),Lr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,l){var f=Ie,p=Lr();if(tt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Nt===null)throw Error(n(349));(Je&127)!==0||Hw(f,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,i_(Gw.bind(null,f,y,a),[a]),f.flags|=2048,Ji(9,{destroy:void 0},Kw.bind(null,f,y,l,s),null),l},useId:function(){var a=Lr(),s=Nt.identifierPrefix;if(tt){var l=ta,f=ea;l=(f&~(1<<32-it(f)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Tu++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=dR++,s="_"+s+"r_"+l.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:gm,useFormState:t_,useActionState:t_,useOptimistic:function(a){var s=Lr();s.memoizedState=s.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=pm.bind(null,Ie,!0,l),l.dispatch=s,[a,s]},useMemoCache:im,useCacheRefresh:function(){return Lr().memoizedState=vR.bind(null,Ie)},useEffectEvent:function(a){var s=Lr(),l={impl:a};return s.memoizedState=l,function(){if((dt&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},vm={readContext:wr,use:Ou,useCallback:f_,useContext:wr,useEffect:dm,useImperativeHandle:d_,useInsertionEffect:l_,useLayoutEffect:c_,useMemo:h_,useReducer:Au,useRef:s_,useState:function(){return Au(Na)},useDebugValue:fm,useDeferredValue:function(a,s){var l=Vt();return m_(l,wt.memoizedState,a,s)},useTransition:function(){var a=Au(Na)[0],s=Vt().memoizedState;return[typeof a=="boolean"?a:vl(a),s]},useSyncExternalStore:Fw,useId:y_,useHostTransitionStatus:gm,useFormState:r_,useActionState:r_,useOptimistic:function(a,s){var l=Vt();return Qw(l,wt,a,s)},useMemoCache:im,useCacheRefresh:b_};vm.useEffectEvent=o_;var j_={readContext:wr,use:Ou,useCallback:f_,useContext:wr,useEffect:dm,useImperativeHandle:d_,useInsertionEffect:l_,useLayoutEffect:c_,useMemo:h_,useReducer:lm,useRef:s_,useState:function(){return lm(Na)},useDebugValue:fm,useDeferredValue:function(a,s){var l=Vt();return wt===null?hm(l,a,s):m_(l,wt.memoizedState,a,s)},useTransition:function(){var a=lm(Na)[0],s=Vt().memoizedState;return[typeof a=="boolean"?a:vl(a),s]},useSyncExternalStore:Fw,useId:y_,useHostTransitionStatus:gm,useFormState:a_,useActionState:a_,useOptimistic:function(a,s){var l=Vt();return wt!==null?Qw(l,wt,a,s):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:im,useCacheRefresh:b_};j_.useEffectEvent=o_;function ym(a,s,l,f){s=a.memoizedState,l=l(f,s),l=l==null?s:v({},s,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var bm={enqueueSetState:function(a,s,l){a=a._reactInternals;var f=on(),p=Ja(f);p.payload=s,l!=null&&(p.callback=l),s=Za(a,p,f),s!==null&&(Vr(s,a,f),hl(s,a,f))},enqueueReplaceState:function(a,s,l){a=a._reactInternals;var f=on(),p=Ja(f);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=Za(a,p,f),s!==null&&(Vr(s,a,f),hl(s,a,f))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var l=on(),f=Ja(l);f.tag=2,s!=null&&(f.callback=s),s=Za(a,f,l),s!==null&&(Vr(s,a,l),hl(s,a,l))}};function N_(a,s,l,f,p,y,j){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,y,j):s.prototype&&s.prototype.isPureReactComponent?!sl(l,f)||!sl(p,y):!0}function k_(a,s,l,f){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==a&&bm.enqueueReplaceState(s,s.state,null)}function Vs(a,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(a=a.defaultProps){l===s&&(l=v({},l));for(var p in a)l[p]===void 0&&(l[p]=a[p])}return l}function E_(a){hu(a)}function C_(a){console.error(a)}function T_(a){hu(a)}function qu(a,s){try{var l=a.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function D_(a,s,l){try{var f=a.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function xm(a,s,l){return l=Ja(l),l.tag=3,l.payload={element:null},l.callback=function(){qu(a,s)},l}function O_(a){return a=Ja(a),a.tag=3,a}function A_(a,s,l,f){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=f.value;a.payload=function(){return p(y)},a.callback=function(){D_(s,l,f)}}var j=l.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(a.callback=function(){D_(s,l,f),typeof p!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var O=f.stack;this.componentDidCatch(f.value,{componentStack:O!==null?O:""})})}function bR(a,s,l,f,p){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&Hi(s,l,p,!0),l=rn.current,l!==null){switch(l.tag){case 31:case 13:return _n===null?Vu():l.alternate===null&&zt===0&&(zt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,f===Su?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),Km(a,f,p)),!1;case 22:return l.flags|=65536,f===Su?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),Km(a,f,p)),!1}throw Error(n(435,l.tag))}return Km(a,f,p),Vu(),!1}if(tt)return s=rn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,f!==$h&&(a=Error(n(422),{cause:f}),ll(yn(a,l)))):(f!==$h&&(s=Error(n(423),{cause:f}),ll(yn(s,l))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,f=yn(f,l),p=xm(a.stateNode,f,p),Wh(a,p),zt!==4&&(zt=2)),!1;var y=Error(n(520),{cause:f});if(y=yn(y,l),El===null?El=[y]:El.push(y),zt!==4&&(zt=2),s===null)return!0;f=yn(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,a=p&-p,l.lanes|=a,a=xm(l.stateNode,f,a),Wh(l,a),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ss===null||!ss.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=O_(p),A_(p,a,l,f),Wh(l,p),!1}l=l.return}while(l!==null);return!1}var wm=Error(n(461)),er=!1;function _r(a,s,l,f){s.child=a===null?qw(s,null,l,f):Gs(s,a.child,l,f)}function R_(a,s,l,f,p){l=l.render;var y=s.ref;if("ref"in f){var j={};for(var O in f)O!=="ref"&&(j[O]=f[O])}else j=f;return Is(s),f=rm(a,s,l,j,y,p),O=nm(),a!==null&&!er?(am(a,s,p),ka(a,s,p)):(tt&&O&&Uh(s),s.flags|=1,_r(a,s,f,p),s.child)}function M_(a,s,l,f,p){if(a===null){var y=l.type;return typeof y=="function"&&!Mh(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,L_(a,s,y,f,p)):(a=vu(l.type,null,f,s,s.mode,p),a.ref=s.ref,a.return=s,s.child=a)}if(y=a.child,!Tm(a,p)){var j=y.memoizedProps;if(l=l.compare,l=l!==null?l:sl,l(j,f)&&a.ref===s.ref)return ka(a,s,p)}return s.flags|=1,a=xa(y,f),a.ref=s.ref,a.return=s,s.child=a}function L_(a,s,l,f,p){if(a!==null){var y=a.memoizedProps;if(sl(y,f)&&a.ref===s.ref)if(er=!1,s.pendingProps=f=y,Tm(a,p))(a.flags&131072)!==0&&(er=!0);else return s.lanes=a.lanes,ka(a,s,p)}return _m(a,s,l,f,p)}function q_(a,s,l,f){var p=f.children,y=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,a!==null){for(f=s.child=a.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;f=p&~y}else f=0,s.child=null;return U_(a,s,y,l,f)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&wu(s,y!==null?y.cachePool:null),y!==null?$w(s,y):Jh(),zw(s);else return f=s.lanes=536870912,U_(a,s,y!==null?y.baseLanes|l:l,l,f)}else y!==null?(wu(s,y.cachePool),$w(s,y),ts(),s.memoizedState=null):(a!==null&&wu(s,null),Jh(),ts());return _r(a,s,p,l),s.child}function xl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function U_(a,s,l,f,p){var y=Gh();return y=y===null?null:{parent:Jt._currentValue,pool:y},s.memoizedState={baseLanes:l,cachePool:y},a!==null&&wu(s,null),Jh(),zw(s),a!==null&&Hi(a,s,f,!0),s.childLanes=p,null}function Uu(a,s){return s=$u({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function P_(a,s,l){return Gs(s,a.child,null,l),a=Uu(s,s.pendingProps),a.flags|=2,nn(s),s.memoizedState=null,a}function xR(a,s,l){var f=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(tt){if(f.mode==="hidden")return a=Uu(s,f),s.lanes=536870912,xl(null,a);if(em(s),(a=Dt)?(a=W1(a,wn),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ya!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},l=ww(a),l.return=s,s.child=l,xr=s,Dt=null)):a=null,a===null)throw Qa(s);return s.lanes=536870912,null}return Uu(s,f)}var y=a.memoizedState;if(y!==null){var j=y.dehydrated;if(em(s),p)if(s.flags&256)s.flags&=-257,s=P_(a,s,l);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(n(558));else if(er||Hi(a,s,l,!1),p=(l&a.childLanes)!==0,er||p){if(f=Nt,f!==null&&(j=pe(f,l),j!==0&&j!==y.retryLane))throw y.retryLane=j,Ps(a,j),Vr(f,a,j),wm;Vu(),s=P_(a,s,l)}else a=y.treeContext,Dt=Sn(j.nextSibling),xr=s,tt=!0,Va=null,wn=!1,a!==null&&jw(s,a),s=Uu(s,f),s.flags|=4096;return s}return a=xa(a.child,{mode:f.mode,children:f.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Pu(a,s){var l=s.ref;if(l===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(a===null||a.ref!==l)&&(s.flags|=4194816)}}function _m(a,s,l,f,p){return Is(s),l=rm(a,s,l,f,void 0,p),f=nm(),a!==null&&!er?(am(a,s,p),ka(a,s,p)):(tt&&f&&Uh(s),s.flags|=1,_r(a,s,l,p),s.child)}function $_(a,s,l,f,p,y){return Is(s),s.updateQueue=null,l=Iw(s,f,l,p),Bw(a),f=nm(),a!==null&&!er?(am(a,s,y),ka(a,s,y)):(tt&&f&&Uh(s),s.flags|=1,_r(a,s,l,y),s.child)}function z_(a,s,l,f,p){if(Is(s),s.stateNode===null){var y=zi,j=l.contextType;typeof j=="object"&&j!==null&&(y=wr(j)),y=new l(f,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=bm,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=f,y.state=s.memoizedState,y.refs={},Vh(s),j=l.contextType,y.context=typeof j=="object"&&j!==null?wr(j):zi,y.state=s.memoizedState,j=l.getDerivedStateFromProps,typeof j=="function"&&(ym(s,l,j,f),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(j=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),j!==y.state&&bm.enqueueReplaceState(y,y.state,null),gl(s,f,y,p),ml(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(a===null){y=s.stateNode;var O=s.memoizedProps,z=Vs(l,O);y.props=z;var X=y.context,ie=l.contextType;j=zi,typeof ie=="object"&&ie!==null&&(j=wr(ie));var ue=l.getDerivedStateFromProps;ie=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||X!==j)&&k_(s,y,f,j),Xa=!1;var Z=s.memoizedState;y.state=Z,gl(s,f,y,p),ml(),X=s.memoizedState,O||Z!==X||Xa?(typeof ue=="function"&&(ym(s,l,ue,f),X=s.memoizedState),(z=Xa||N_(s,l,z,f,Z,X,j))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=X),y.props=f,y.state=X,y.context=j,f=z):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{y=s.stateNode,Qh(a,s),j=s.memoizedProps,ie=Vs(l,j),y.props=ie,ue=s.pendingProps,Z=y.context,X=l.contextType,z=zi,typeof X=="object"&&X!==null&&(z=wr(X)),O=l.getDerivedStateFromProps,(X=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j!==ue||Z!==z)&&k_(s,y,f,z),Xa=!1,Z=s.memoizedState,y.state=Z,gl(s,f,y,p),ml();var ne=s.memoizedState;j!==ue||Z!==ne||Xa||a!==null&&a.dependencies!==null&&bu(a.dependencies)?(typeof O=="function"&&(ym(s,l,O,f),ne=s.memoizedState),(ie=Xa||N_(s,l,ie,f,Z,ne,z)||a!==null&&a.dependencies!==null&&bu(a.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,ne,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,ne,z)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||j===a.memoizedProps&&Z===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&Z===a.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=ne),y.props=f,y.state=ne,y.context=z,f=ie):(typeof y.componentDidUpdate!="function"||j===a.memoizedProps&&Z===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&Z===a.memoizedState||(s.flags|=1024),f=!1)}return y=f,Pu(a,s),f=(s.flags&128)!==0,y||f?(y=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,a!==null&&f?(s.child=Gs(s,a.child,null,p),s.child=Gs(s,null,l,p)):_r(a,s,l,p),s.memoizedState=y.state,a=s.child):a=ka(a,s,p),a}function B_(a,s,l,f){return zs(),s.flags|=256,_r(a,s,l,f),s.child}var Sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(a){return{baseLanes:a,cachePool:Dw()}}function Nm(a,s,l){return a=a!==null?a.childLanes&~l:0,s&&(a|=sn),a}function I_(a,s,l){var f=s.pendingProps,p=!1,y=(s.flags&128)!==0,j;if((j=y)||(j=a!==null&&a.memoizedState===null?!1:(Yt.current&2)!==0),j&&(p=!0,s.flags&=-129),j=(s.flags&32)!==0,s.flags&=-33,a===null){if(tt){if(p?es(s):ts(),(a=Dt)?(a=W1(a,wn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ya!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},l=ww(a),l.return=s,s.child=l,xr=s,Dt=null)):a=null,a===null)throw Qa(s);return og(a)?s.lanes=32:s.lanes=536870912,null}var O=f.children;return f=f.fallback,p?(ts(),p=s.mode,O=$u({mode:"hidden",children:O},p),f=$s(f,p,l,null),O.return=s,f.return=s,O.sibling=f,s.child=O,f=s.child,f.memoizedState=jm(l),f.childLanes=Nm(a,j,l),s.memoizedState=Sm,xl(null,f)):(es(s),km(s,O))}var z=a.memoizedState;if(z!==null&&(O=z.dehydrated,O!==null)){if(y)s.flags&256?(es(s),s.flags&=-257,s=Em(a,s,l)):s.memoizedState!==null?(ts(),s.child=a.child,s.flags|=128,s=null):(ts(),O=f.fallback,p=s.mode,f=$u({mode:"visible",children:f.children},p),O=$s(O,p,l,null),O.flags|=2,f.return=s,O.return=s,f.sibling=O,s.child=f,Gs(s,a.child,null,l),f=s.child,f.memoizedState=jm(l),f.childLanes=Nm(a,j,l),s.memoizedState=Sm,s=xl(null,f));else if(es(s),og(O)){if(j=O.nextSibling&&O.nextSibling.dataset,j)var X=j.dgst;j=X,f=Error(n(419)),f.stack="",f.digest=j,ll({value:f,source:null,stack:null}),s=Em(a,s,l)}else if(er||Hi(a,s,l,!1),j=(l&a.childLanes)!==0,er||j){if(j=Nt,j!==null&&(f=pe(j,l),f!==0&&f!==z.retryLane))throw z.retryLane=f,Ps(a,f),Vr(j,a,f),wm;ig(O)||Vu(),s=Em(a,s,l)}else ig(O)?(s.flags|=192,s.child=a.child,s=null):(a=z.treeContext,Dt=Sn(O.nextSibling),xr=s,tt=!0,Va=null,wn=!1,a!==null&&jw(s,a),s=km(s,f.children),s.flags|=4096);return s}return p?(ts(),O=f.fallback,p=s.mode,z=a.child,X=z.sibling,f=xa(z,{mode:"hidden",children:f.children}),f.subtreeFlags=z.subtreeFlags&65011712,X!==null?O=xa(X,O):(O=$s(O,p,l,null),O.flags|=2),O.return=s,f.return=s,f.sibling=O,s.child=f,xl(null,f),f=s.child,O=a.child.memoizedState,O===null?O=jm(l):(p=O.cachePool,p!==null?(z=Jt._currentValue,p=p.parent!==z?{parent:z,pool:z}:p):p=Dw(),O={baseLanes:O.baseLanes|l,cachePool:p}),f.memoizedState=O,f.childLanes=Nm(a,j,l),s.memoizedState=Sm,xl(a.child,f)):(es(s),l=a.child,a=l.sibling,l=xa(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,a!==null&&(j=s.deletions,j===null?(s.deletions=[a],s.flags|=16):j.push(a)),s.child=l,s.memoizedState=null,l)}function km(a,s){return s=$u({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function $u(a,s){return a=tn(22,a,null,s),a.lanes=0,a}function Em(a,s,l){return Gs(s,a.child,null,l),a=km(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function F_(a,s,l){a.lanes|=s;var f=a.alternate;f!==null&&(f.lanes|=s),Ih(a.return,s,l)}function Cm(a,s,l,f,p,y){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:p,treeForkCount:y}:(j.isBackwards=s,j.rendering=null,j.renderingStartTime=0,j.last=f,j.tail=l,j.tailMode=p,j.treeForkCount=y)}function H_(a,s,l){var f=s.pendingProps,p=f.revealOrder,y=f.tail;f=f.children;var j=Yt.current,O=(j&2)!==0;if(O?(j=j&1|2,s.flags|=128):j&=1,se(Yt,j),_r(a,s,f,l),f=tt?ol:0,!O&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&F_(a,l,s);else if(a.tag===19)F_(a,l,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)a=l.alternate,a!==null&&Eu(a)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Cm(s,!1,p,l,y,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(a=p.alternate,a!==null&&Eu(a)===null){s.child=p;break}a=p.sibling,p.sibling=l,l=p,p=a}Cm(s,!0,l,null,y,f);break;case"together":Cm(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function ka(a,s,l){if(a!==null&&(s.dependencies=a.dependencies),as|=s.lanes,(l&s.childLanes)===0)if(a!==null){if(Hi(a,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(n(153));if(s.child!==null){for(a=s.child,l=xa(a,a.pendingProps),s.child=l,l.return=s;a.sibling!==null;)a=a.sibling,l=l.sibling=xa(a,a.pendingProps),l.return=s;l.sibling=null}return s.child}function Tm(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&bu(a)))}function wR(a,s,l){switch(s.tag){case 3:Le(s,s.stateNode.containerInfo),Wa(s,Jt,a.memoizedState.cache),zs();break;case 27:case 5:le(s);break;case 4:Le(s,s.stateNode.containerInfo);break;case 10:Wa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,em(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(es(s),s.flags|=128,null):(l&s.child.childLanes)!==0?I_(a,s,l):(es(s),a=ka(a,s,l),a!==null?a.sibling:null);es(s);break;case 19:var p=(a.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(Hi(a,s,l,!1),f=(l&s.childLanes)!==0),p){if(f)return H_(a,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),se(Yt,Yt.current),f)break;return null;case 22:return s.lanes=0,q_(a,s,l,s.pendingProps);case 24:Wa(s,Jt,a.memoizedState.cache)}return ka(a,s,l)}function K_(a,s,l){if(a!==null)if(a.memoizedProps!==s.pendingProps)er=!0;else{if(!Tm(a,l)&&(s.flags&128)===0)return er=!1,wR(a,s,l);er=(a.flags&131072)!==0}else er=!1,tt&&(s.flags&1048576)!==0&&Sw(s,ol,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(a=Hs(s.elementType),s.type=a,typeof a=="function")Mh(a)?(f=Vs(a,f),s.tag=1,s=z_(null,s,a,f,l)):(s.tag=0,s=_m(null,s,a,f,l));else{if(a!=null){var p=a.$$typeof;if(p===A){s.tag=11,s=R_(null,s,a,f,l);break e}else if(p===D){s.tag=14,s=M_(null,s,a,f,l);break e}}throw s=te(a)||a,Error(n(306,s,""))}}return s;case 0:return _m(a,s,s.type,s.pendingProps,l);case 1:return f=s.type,p=Vs(f,s.pendingProps),z_(a,s,f,p,l);case 3:e:{if(Le(s,s.stateNode.containerInfo),a===null)throw Error(n(387));f=s.pendingProps;var y=s.memoizedState;p=y.element,Qh(a,s),gl(s,f,null,l);var j=s.memoizedState;if(f=j.cache,Wa(s,Jt,f),f!==y.cache&&Fh(s,[Jt],l,!0),ml(),f=j.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:j.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=B_(a,s,f,l);break e}else if(f!==p){p=yn(Error(n(424)),s),ll(p),s=B_(a,s,f,l);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Dt=Sn(a.firstChild),xr=s,tt=!0,Va=null,wn=!0,l=qw(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(zs(),f===p){s=ka(a,s,l);break e}_r(a,s,f,l)}s=s.child}return s;case 26:return Pu(a,s),a===null?(l=rS(s.type,null,s.pendingProps,null))?s.memoizedState=l:tt||(l=s.type,a=s.pendingProps,f=td(xe.current).createElement(l),f[we]=s,f[Se]=a,Sr(f,l,a),Mt(f),s.stateNode=f):s.memoizedState=rS(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return le(s),a===null&&tt&&(f=s.stateNode=Z1(s.type,s.pendingProps,xe.current),xr=s,wn=!0,p=Dt,cs(s.type)?(lg=p,Dt=Sn(f.firstChild)):Dt=p),_r(a,s,s.pendingProps.children,l),Pu(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&tt&&((p=f=Dt)&&(f=XR(f,s.type,s.pendingProps,wn),f!==null?(s.stateNode=f,xr=s,Dt=Sn(f.firstChild),wn=!1,p=!0):p=!1),p||Qa(s)),le(s),p=s.type,y=s.pendingProps,j=a!==null?a.memoizedProps:null,f=y.children,ng(p,y)?f=null:j!==null&&ng(p,j)&&(s.flags|=32),s.memoizedState!==null&&(p=rm(a,s,fR,null,null,l),Ll._currentValue=p),Pu(a,s),_r(a,s,f,l),s.child;case 6:return a===null&&tt&&((a=l=Dt)&&(l=JR(l,s.pendingProps,wn),l!==null?(s.stateNode=l,xr=s,Dt=null,a=!0):a=!1),a||Qa(s)),null;case 13:return I_(a,s,l);case 4:return Le(s,s.stateNode.containerInfo),f=s.pendingProps,a===null?s.child=Gs(s,null,f,l):_r(a,s,f,l),s.child;case 11:return R_(a,s,s.type,s.pendingProps,l);case 7:return _r(a,s,s.pendingProps,l),s.child;case 8:return _r(a,s,s.pendingProps.children,l),s.child;case 12:return _r(a,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,Wa(s,s.type,f.value),_r(a,s,f.children,l),s.child;case 9:return p=s.type._context,f=s.pendingProps.children,Is(s),p=wr(p),f=f(p),s.flags|=1,_r(a,s,f,l),s.child;case 14:return M_(a,s,s.type,s.pendingProps,l);case 15:return L_(a,s,s.type,s.pendingProps,l);case 19:return H_(a,s,l);case 31:return xR(a,s,l);case 22:return q_(a,s,l,s.pendingProps);case 24:return Is(s),f=wr(Jt),a===null?(p=Gh(),p===null&&(p=Nt,y=Hh(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),s.memoizedState={parent:f,cache:p},Vh(s),Wa(s,Jt,p)):((a.lanes&l)!==0&&(Qh(a,s),gl(s,null,null,l),ml()),p=a.memoizedState,y=s.memoizedState,p.parent!==f?(p={parent:f,cache:f},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Wa(s,Jt,f)):(f=y.cache,Wa(s,Jt,f),f!==p.cache&&Fh(s,[Jt],l,!0))),_r(a,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Ea(a){a.flags|=4}function Dm(a,s,l,f,p){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(p&335544128)===p)if(a.stateNode.complete)a.flags|=8192;else if(y1())a.flags|=8192;else throw Ks=Su,Yh}else a.flags&=-16777217}function G_(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!oS(s))if(y1())a.flags|=8192;else throw Ks=Su,Yh}function zu(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?fr():536870912,a.lanes|=s,ro|=s)}function wl(a,s){if(!tt)switch(a.tailMode){case"hidden":s=a.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Ot(a){var s=a.alternate!==null&&a.alternate.child===a.child,l=0,f=0;if(s)for(var p=a.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=f,a.childLanes=l,s}function _R(a,s,l){var f=s.pendingProps;switch(Ph(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(s),null;case 1:return Ot(s),null;case 3:return l=s.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Sa(Jt),ae(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Fi(s)?Ea(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zh())),Ot(s),null;case 26:var p=s.type,y=s.memoizedState;return a===null?(Ea(s),y!==null?(Ot(s),G_(s,y)):(Ot(s),Dm(s,p,null,f,l))):y?y!==a.memoizedState?(Ea(s),Ot(s),G_(s,y)):(Ot(s),s.flags&=-16777217):(a=a.memoizedProps,a!==f&&Ea(s),Ot(s),Dm(s,p,a,f,l)),null;case 27:if(at(s),l=xe.current,p=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&Ea(s);else{if(!f){if(s.stateNode===null)throw Error(n(166));return Ot(s),null}a=fe.current,Fi(s)?Nw(s):(a=Z1(p,f,l),s.stateNode=a,Ea(s))}return Ot(s),null;case 5:if(at(s),p=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&Ea(s);else{if(!f){if(s.stateNode===null)throw Error(n(166));return Ot(s),null}if(y=fe.current,Fi(s))Nw(s);else{var j=td(xe.current);switch(y){case 1:y=j.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=j.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=j.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof f.is=="string"?j.createElement("select",{is:f.is}):j.createElement("select"),f.multiple?y.multiple=!0:f.size&&(y.size=f.size);break;default:y=typeof f.is=="string"?j.createElement(p,{is:f.is}):j.createElement(p)}}y[we]=s,y[Se]=f;e:for(j=s.child;j!==null;){if(j.tag===5||j.tag===6)y.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===s)break e;for(;j.sibling===null;){if(j.return===null||j.return===s)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}s.stateNode=y;e:switch(Sr(y,p,f),p){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Ea(s)}}return Ot(s),Dm(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,l),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==f&&Ea(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(n(166));if(a=xe.current,Fi(s)){if(a=s.stateNode,l=s.memoizedProps,f=null,p=xr,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}a[we]=s,a=!!(a.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||I1(a.nodeValue,l)),a||Qa(s,!0)}else a=td(a).createTextNode(f),a[we]=s,s.stateNode=a}return Ot(s),null;case 31:if(l=s.memoizedState,a===null||a.memoizedState!==null){if(f=Fi(s),l!==null){if(a===null){if(!f)throw Error(n(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[we]=s}else zs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ot(s),a=!1}else l=zh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=l),a=!0;if(!a)return s.flags&256?(nn(s),s):(nn(s),null);if((s.flags&128)!==0)throw Error(n(558))}return Ot(s),null;case 13:if(f=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=Fi(s),f!==null&&f.dehydrated!==null){if(a===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[we]=s}else zs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ot(s),p=!1}else p=zh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(nn(s),s):(nn(s),null)}return nn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=f!==null,a=a!==null&&a.memoizedState!==null,l&&(f=s.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==p&&(f.flags|=2048)),l!==a&&l&&(s.child.flags|=8192),zu(s,s.updateQueue),Ot(s),null);case 4:return ae(),a===null&&Jm(s.stateNode.containerInfo),Ot(s),null;case 10:return Sa(s.type),Ot(s),null;case 19:if(H(Yt),f=s.memoizedState,f===null)return Ot(s),null;if(p=(s.flags&128)!==0,y=f.rendering,y===null)if(p)wl(f,!1);else{if(zt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(y=Eu(a),y!==null){for(s.flags|=128,wl(f,!1),a=y.updateQueue,s.updateQueue=a,zu(s,a),s.subtreeFlags=0,a=l,l=s.child;l!==null;)xw(l,a),l=l.sibling;return se(Yt,Yt.current&1|2),tt&&wa(s,f.treeForkCount),s.child}a=a.sibling}f.tail!==null&&nt()>Ku&&(s.flags|=128,p=!0,wl(f,!1),s.lanes=4194304)}else{if(!p)if(a=Eu(y),a!==null){if(s.flags|=128,p=!0,a=a.updateQueue,s.updateQueue=a,zu(s,a),wl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!tt)return Ot(s),null}else 2*nt()-f.renderingStartTime>Ku&&l!==536870912&&(s.flags|=128,p=!0,wl(f,!1),s.lanes=4194304);f.isBackwards?(y.sibling=s.child,s.child=y):(a=f.last,a!==null?a.sibling=y:s.child=y,f.last=y)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=nt(),a.sibling=null,l=Yt.current,se(Yt,p?l&1|2:l&1),tt&&wa(s,f.treeForkCount),a):(Ot(s),null);case 22:case 23:return nn(s),Zh(),f=s.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(Ot(s),s.subtreeFlags&6&&(s.flags|=8192)):Ot(s),l=s.updateQueue,l!==null&&zu(s,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),a!==null&&H(Fs),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Sa(Jt),Ot(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function SR(a,s){switch(Ph(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Sa(Jt),ae(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return at(s),null;case 31:if(s.memoizedState!==null){if(nn(s),s.alternate===null)throw Error(n(340));zs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(nn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(n(340));zs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return H(Yt),null;case 4:return ae(),null;case 10:return Sa(s.type),null;case 22:case 23:return nn(s),Zh(),a!==null&&H(Fs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Sa(Jt),null;case 25:return null;default:return null}}function Y_(a,s){switch(Ph(s),s.tag){case 3:Sa(Jt),ae();break;case 26:case 27:case 5:at(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&nn(s);break;case 13:nn(s);break;case 19:H(Yt);break;case 10:Sa(s.type);break;case 22:case 23:nn(s),Zh(),a!==null&&H(Fs);break;case 24:Sa(Jt)}}function _l(a,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&a)===a){f=void 0;var y=l.create,j=l.inst;f=y(),j.destroy=f}l=l.next}while(l!==p)}}catch(O){vt(s,s.return,O)}}function rs(a,s,l){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var y=p.next;f=y;do{if((f.tag&a)===a){var j=f.inst,O=j.destroy;if(O!==void 0){j.destroy=void 0,p=s;var z=l,X=O;try{X()}catch(ie){vt(p,z,ie)}}}f=f.next}while(f!==y)}}catch(ie){vt(s,s.return,ie)}}function V_(a){var s=a.updateQueue;if(s!==null){var l=a.stateNode;try{Pw(s,l)}catch(f){vt(a,a.return,f)}}}function Q_(a,s,l){l.props=Vs(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(f){vt(a,s,f)}}function Sl(a,s){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof l=="function"?a.refCleanup=l(f):l.current=f}}catch(p){vt(a,s,p)}}function ra(a,s){var l=a.ref,f=a.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(p){vt(a,s,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){vt(a,s,p)}else l.current=null}function W_(a){var s=a.type,l=a.memoizedProps,f=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(p){vt(a,a.return,p)}}function Om(a,s,l){try{var f=a.stateNode;KR(f,a.type,l,s),f[Se]=s}catch(p){vt(a,a.return,p)}}function X_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&cs(a.type)||a.tag===4}function Am(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||X_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&cs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Rm(a,s,l){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(a),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ya));else if(f!==4&&(f===27&&cs(a.type)&&(l=a.stateNode,s=null),a=a.child,a!==null))for(Rm(a,s,l),a=a.sibling;a!==null;)Rm(a,s,l),a=a.sibling}function Bu(a,s,l){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?l.insertBefore(a,s):l.appendChild(a);else if(f!==4&&(f===27&&cs(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(Bu(a,s,l),a=a.sibling;a!==null;)Bu(a,s,l),a=a.sibling}function J_(a){var s=a.stateNode,l=a.memoizedProps;try{for(var f=a.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Sr(s,f,l),s[we]=a,s[Se]=l}catch(y){vt(a,a.return,y)}}var Ca=!1,tr=!1,Mm=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,mr=null;function jR(a,s){if(a=a.containerInfo,tg=ld,a=dw(a),Eh(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var j=0,O=-1,z=-1,X=0,ie=0,ue=a,Z=null;t:for(;;){for(var ne;ue!==l||p!==0&&ue.nodeType!==3||(O=j+p),ue!==y||f!==0&&ue.nodeType!==3||(z=j+f),ue.nodeType===3&&(j+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)Z=ue,ue=ne;for(;;){if(ue===a)break t;if(Z===l&&++X===p&&(O=j),Z===y&&++ie===f&&(z=j),(ne=ue.nextSibling)!==null)break;ue=Z,Z=ue.parentNode}ue=ne}l=O===-1||z===-1?null:{start:O,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(rg={focusedElem:a,selectionRange:l},ld=!1,mr=s;mr!==null;)if(s=mr,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,mr=a;else for(;mr!==null;){switch(s=mr,y=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(l=0;l<a.length;l++)p=a[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,l=s,p=y.memoizedProps,y=y.memoizedState,f=l.stateNode;try{var Ee=Vs(l.type,p);a=f.getSnapshotBeforeUpdate(Ee,y),f.__reactInternalSnapshotBeforeUpdate=a}catch(qe){vt(l,l.return,qe)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,l=a.nodeType,l===9)sg(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":sg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=s.sibling,a!==null){a.return=s.return,mr=a;break}mr=s.return}}function e1(a,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Da(a,l),f&4&&_l(5,l);break;case 1:if(Da(a,l),f&4)if(a=l.stateNode,s===null)try{a.componentDidMount()}catch(j){vt(l,l.return,j)}else{var p=Vs(l.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(p,s,a.__reactInternalSnapshotBeforeUpdate)}catch(j){vt(l,l.return,j)}}f&64&&V_(l),f&512&&Sl(l,l.return);break;case 3:if(Da(a,l),f&64&&(a=l.updateQueue,a!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Pw(a,s)}catch(j){vt(l,l.return,j)}}break;case 27:s===null&&f&4&&J_(l);case 26:case 5:Da(a,l),s===null&&f&4&&W_(l),f&512&&Sl(l,l.return);break;case 12:Da(a,l);break;case 31:Da(a,l),f&4&&n1(a,l);break;case 13:Da(a,l),f&4&&a1(a,l),f&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=RR.bind(null,l),ZR(a,l))));break;case 22:if(f=l.memoizedState!==null||Ca,!f){s=s!==null&&s.memoizedState!==null||tr,p=Ca;var y=tr;Ca=f,(tr=s)&&!y?Oa(a,l,(l.subtreeFlags&8772)!==0):Da(a,l),Ca=p,tr=y}break;case 30:break;default:Da(a,l)}}function t1(a){var s=a.alternate;s!==null&&(a.alternate=null,t1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Un(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Lt=null,Hr=!1;function Ta(a,s,l){for(l=l.child;l!==null;)r1(a,s,l),l=l.sibling}function r1(a,s,l){if(Ae&&typeof Ae.onCommitFiberUnmount=="function")try{Ae.onCommitFiberUnmount(Re,l)}catch{}switch(l.tag){case 26:tr||ra(l,s),Ta(a,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tr||ra(l,s);var f=Lt,p=Hr;cs(l.type)&&(Lt=l.stateNode,Hr=!1),Ta(a,s,l),Al(l.stateNode),Lt=f,Hr=p;break;case 5:tr||ra(l,s);case 6:if(f=Lt,p=Hr,Lt=null,Ta(a,s,l),Lt=f,Hr=p,Lt!==null)if(Hr)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(l.stateNode)}catch(y){vt(l,s,y)}else try{Lt.removeChild(l.stateNode)}catch(y){vt(l,s,y)}break;case 18:Lt!==null&&(Hr?(a=Lt,V1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),uo(a)):V1(Lt,l.stateNode));break;case 4:f=Lt,p=Hr,Lt=l.stateNode.containerInfo,Hr=!0,Ta(a,s,l),Lt=f,Hr=p;break;case 0:case 11:case 14:case 15:rs(2,l,s),tr||rs(4,l,s),Ta(a,s,l);break;case 1:tr||(ra(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&Q_(l,s,f)),Ta(a,s,l);break;case 21:Ta(a,s,l);break;case 22:tr=(f=tr)||l.memoizedState!==null,Ta(a,s,l),tr=f;break;default:Ta(a,s,l)}}function n1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{uo(a)}catch(l){vt(s,s.return,l)}}}function a1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{uo(a)}catch(l){vt(s,s.return,l)}}function NR(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new Z_),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new Z_),s;default:throw Error(n(435,a.tag))}}function Iu(a,s){var l=NR(a);s.forEach(function(f){if(!l.has(f)){l.add(f);var p=MR.bind(null,a,f);f.then(p,p)}})}function Kr(a,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var p=l[f],y=a,j=s,O=j;e:for(;O!==null;){switch(O.tag){case 27:if(cs(O.type)){Lt=O.stateNode,Hr=!1;break e}break;case 5:Lt=O.stateNode,Hr=!1;break e;case 3:case 4:Lt=O.stateNode.containerInfo,Hr=!0;break e}O=O.return}if(Lt===null)throw Error(n(160));r1(y,j,p),Lt=null,Hr=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)s1(s,a),s=s.sibling}var zn=null;function s1(a,s){var l=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Kr(s,a),Gr(a),f&4&&(rs(3,a,a.return),_l(3,a),rs(5,a,a.return));break;case 1:Kr(s,a),Gr(a),f&512&&(tr||l===null||ra(l,l.return)),f&64&&Ca&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var p=zn;if(Kr(s,a),Gr(a),f&512&&(tr||l===null||ra(l,l.return)),f&4){var y=l!==null?l.memoizedState:null;if(f=a.memoizedState,l===null)if(f===null)if(a.stateNode===null){e:{f=a.type,l=a.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":y=p.getElementsByTagName("title")[0],(!y||y[ut]||y[we]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(f),p.head.insertBefore(y,p.querySelector("head > title"))),Sr(y,f,l),y[we]=a,Mt(y),f=y;break e;case"link":var j=sS("link","href",p).get(f+(l.href||""));if(j){for(var O=0;O<j.length;O++)if(y=j[O],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){j.splice(O,1);break t}}y=p.createElement(f),Sr(y,f,l),p.head.appendChild(y);break;case"meta":if(j=sS("meta","content",p).get(f+(l.content||""))){for(O=0;O<j.length;O++)if(y=j[O],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){j.splice(O,1);break t}}y=p.createElement(f),Sr(y,f,l),p.head.appendChild(y);break;default:throw Error(n(468,f))}y[we]=a,Mt(y),f=y}a.stateNode=f}else iS(p,a.type,a.stateNode);else a.stateNode=aS(p,f,a.memoizedProps);else y!==f?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,f===null?iS(p,a.type,a.stateNode):aS(p,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Om(a,a.memoizedProps,l.memoizedProps)}break;case 27:Kr(s,a),Gr(a),f&512&&(tr||l===null||ra(l,l.return)),l!==null&&f&4&&Om(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Kr(s,a),Gr(a),f&512&&(tr||l===null||ra(l,l.return)),a.flags&32){p=a.stateNode;try{Ri(p,"")}catch(Ee){vt(a,a.return,Ee)}}f&4&&a.stateNode!=null&&(p=a.memoizedProps,Om(a,p,l!==null?l.memoizedProps:p)),f&1024&&(Mm=!0);break;case 6:if(Kr(s,a),Gr(a),f&4){if(a.stateNode===null)throw Error(n(162));f=a.memoizedProps,l=a.stateNode;try{l.nodeValue=f}catch(Ee){vt(a,a.return,Ee)}}break;case 3:if(ad=null,p=zn,zn=rd(s.containerInfo),Kr(s,a),zn=p,Gr(a),f&4&&l!==null&&l.memoizedState.isDehydrated)try{uo(s.containerInfo)}catch(Ee){vt(a,a.return,Ee)}Mm&&(Mm=!1,i1(a));break;case 4:f=zn,zn=rd(a.stateNode.containerInfo),Kr(s,a),Gr(a),zn=f;break;case 12:Kr(s,a),Gr(a);break;case 31:Kr(s,a),Gr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Iu(a,f)));break;case 13:Kr(s,a),Gr(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Hu=nt()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Iu(a,f)));break;case 22:p=a.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,X=Ca,ie=tr;if(Ca=X||p,tr=ie||z,Kr(s,a),tr=ie,Ca=X,Gr(a),f&8192)e:for(s=a.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||z||Ca||tr||Qs(a)),l=null,s=a;;){if(s.tag===5||s.tag===26){if(l===null){z=l=s;try{if(y=z.stateNode,p)j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{O=z.stateNode;var ue=z.memoizedProps.style,Z=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;O.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ee){vt(z,z.return,Ee)}}}else if(s.tag===6){if(l===null){z=s;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(Ee){vt(z,z.return,Ee)}}}else if(s.tag===18){if(l===null){z=s;try{var ne=z.stateNode;p?Q1(ne,!0):Q1(z.stateNode,!1)}catch(Ee){vt(z,z.return,Ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=a.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Iu(a,l))));break;case 19:Kr(s,a),Gr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Iu(a,f)));break;case 30:break;case 21:break;default:Kr(s,a),Gr(a)}}function Gr(a){var s=a.flags;if(s&2){try{for(var l,f=a.return;f!==null;){if(X_(f)){l=f;break}f=f.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var p=l.stateNode,y=Am(a);Bu(a,y,p);break;case 5:var j=l.stateNode;l.flags&32&&(Ri(j,""),l.flags&=-33);var O=Am(a);Bu(a,O,j);break;case 3:case 4:var z=l.stateNode.containerInfo,X=Am(a);Rm(a,X,z);break;default:throw Error(n(161))}}catch(ie){vt(a,a.return,ie)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function i1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;i1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Da(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)e1(a,s.alternate,s),s=s.sibling}function Qs(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:rs(4,s,s.return),Qs(s);break;case 1:ra(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Q_(s,s.return,l),Qs(s);break;case 27:Al(s.stateNode);case 26:case 5:ra(s,s.return),Qs(s);break;case 22:s.memoizedState===null&&Qs(s);break;case 30:Qs(s);break;default:Qs(s)}a=a.sibling}}function Oa(a,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,p=a,y=s,j=y.flags;switch(y.tag){case 0:case 11:case 15:Oa(p,y,l),_l(4,y);break;case 1:if(Oa(p,y,l),f=y,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){vt(f,f.return,X)}if(f=y,p=f.updateQueue,p!==null){var O=f.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)Uw(z[p],O)}catch(X){vt(f,f.return,X)}}l&&j&64&&V_(y),Sl(y,y.return);break;case 27:J_(y);case 26:case 5:Oa(p,y,l),l&&f===null&&j&4&&W_(y),Sl(y,y.return);break;case 12:Oa(p,y,l);break;case 31:Oa(p,y,l),l&&j&4&&n1(p,y);break;case 13:Oa(p,y,l),l&&j&4&&a1(p,y);break;case 22:y.memoizedState===null&&Oa(p,y,l),Sl(y,y.return);break;case 30:break;default:Oa(p,y,l)}s=s.sibling}}function Lm(a,s){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&cl(l))}function qm(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&cl(a))}function Bn(a,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o1(a,s,l,f),s=s.sibling}function o1(a,s,l,f){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Bn(a,s,l,f),p&2048&&_l(9,s);break;case 1:Bn(a,s,l,f);break;case 3:Bn(a,s,l,f),p&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&cl(a)));break;case 12:if(p&2048){Bn(a,s,l,f),a=s.stateNode;try{var y=s.memoizedProps,j=y.id,O=y.onPostCommit;typeof O=="function"&&O(j,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(z){vt(s,s.return,z)}}else Bn(a,s,l,f);break;case 31:Bn(a,s,l,f);break;case 13:Bn(a,s,l,f);break;case 23:break;case 22:y=s.stateNode,j=s.alternate,s.memoizedState!==null?y._visibility&2?Bn(a,s,l,f):jl(a,s):y._visibility&2?Bn(a,s,l,f):(y._visibility|=2,Zi(a,s,l,f,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Lm(j,s);break;case 24:Bn(a,s,l,f),p&2048&&qm(s.alternate,s);break;default:Bn(a,s,l,f)}}function Zi(a,s,l,f,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=a,j=s,O=l,z=f,X=j.flags;switch(j.tag){case 0:case 11:case 15:Zi(y,j,O,z,p),_l(8,j);break;case 23:break;case 22:var ie=j.stateNode;j.memoizedState!==null?ie._visibility&2?Zi(y,j,O,z,p):jl(y,j):(ie._visibility|=2,Zi(y,j,O,z,p)),p&&X&2048&&Lm(j.alternate,j);break;case 24:Zi(y,j,O,z,p),p&&X&2048&&qm(j.alternate,j);break;default:Zi(y,j,O,z,p)}s=s.sibling}}function jl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=a,f=s,p=f.flags;switch(f.tag){case 22:jl(l,f),p&2048&&Lm(f.alternate,f);break;case 24:jl(l,f),p&2048&&qm(f.alternate,f);break;default:jl(l,f)}s=s.sibling}}var Nl=8192;function eo(a,s,l){if(a.subtreeFlags&Nl)for(a=a.child;a!==null;)l1(a,s,l),a=a.sibling}function l1(a,s,l){switch(a.tag){case 26:eo(a,s,l),a.flags&Nl&&a.memoizedState!==null&&d4(l,zn,a.memoizedState,a.memoizedProps);break;case 5:eo(a,s,l);break;case 3:case 4:var f=zn;zn=rd(a.stateNode.containerInfo),eo(a,s,l),zn=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=Nl,Nl=16777216,eo(a,s,l),Nl=f):eo(a,s,l));break;default:eo(a,s,l)}}function c1(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function kl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];mr=f,d1(f,a)}c1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)u1(a),a=a.sibling}function u1(a){switch(a.tag){case 0:case 11:case 15:kl(a),a.flags&2048&&rs(9,a,a.return);break;case 3:kl(a);break;case 12:kl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Fu(a)):kl(a);break;default:kl(a)}}function Fu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];mr=f,d1(f,a)}c1(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:rs(8,s,s.return),Fu(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Fu(s));break;default:Fu(s)}a=a.sibling}}function d1(a,s){for(;mr!==null;){var l=mr;switch(l.tag){case 0:case 11:case 15:rs(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:cl(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,mr=f;else e:for(l=a;mr!==null;){f=mr;var p=f.sibling,y=f.return;if(t1(f),f===l){mr=null;break e}if(p!==null){p.return=y,mr=p;break e}mr=y}}}var kR={getCacheForType:function(a){var s=wr(Jt),l=s.data.get(a);return l===void 0&&(l=a(),s.data.set(a,l)),l},cacheSignal:function(){return wr(Jt).controller.signal}},ER=typeof WeakMap=="function"?WeakMap:Map,dt=0,Nt=null,Qe=null,Je=0,pt=0,an=null,ns=!1,to=!1,Um=!1,Aa=0,zt=0,as=0,Ws=0,Pm=0,sn=0,ro=0,El=null,Yr=null,$m=!1,Hu=0,f1=0,Ku=1/0,Gu=null,ss=null,sr=0,is=null,no=null,Ra=0,zm=0,Bm=null,h1=null,Cl=0,Im=null;function on(){return(dt&2)!==0&&Je!==0?Je&-Je:P.T!==null?Vm():_e()}function m1(){if(sn===0)if((Je&536870912)===0||tt){var a=Ka;Ka<<=1,(Ka&3932160)===0&&(Ka=262144),sn=a}else sn=536870912;return a=rn.current,a!==null&&(a.flags|=32),sn}function Vr(a,s,l){(a===Nt&&(pt===2||pt===9)||a.cancelPendingCommit!==null)&&(ao(a,0),os(a,Je,sn,!1)),$(a,l),((dt&2)===0||a!==Nt)&&(a===Nt&&((dt&2)===0&&(Ws|=l),zt===4&&os(a,Je,sn,!1)),na(a))}function g1(a,s,l){if((dt&6)!==0)throw Error(n(327));var f=!l&&(s&127)===0&&(s&a.expiredLanes)===0||nr(a,s),p=f?DR(a,s):Hm(a,s,!0),y=f;do{if(p===0){to&&!f&&os(a,s,0,!1);break}else{if(l=a.current.alternate,y&&!CR(l)){p=Hm(a,s,!1),y=!1;continue}if(p===2){if(y=s,a.errorRecoveryDisabledLanes&y)var j=0;else j=a.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){s=j;e:{var O=a;p=El;var z=O.current.memoizedState.isDehydrated;if(z&&(ao(O,j).flags|=256),j=Hm(O,j,!1),j!==2){if(Um&&!z){O.errorRecoveryDisabledLanes|=y,Ws|=y,p=4;break e}y=Yr,Yr=p,y!==null&&(Yr===null?Yr=y:Yr.push.apply(Yr,y))}p=j}if(y=!1,p!==2)continue}}if(p===1){ao(a,0),os(a,s,0,!0);break}e:{switch(f=a,y=p,y){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:os(f,s,sn,!ns);break e;case 2:Yr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(p=Hu+300-nt(),10<p)){if(os(f,s,sn,!ns),Kt(f,0,!0)!==0)break e;Ra=s,f.timeoutHandle=G1(p1.bind(null,f,l,Yr,Gu,$m,s,sn,Ws,ro,ns,y,"Throttled",-0,0),p);break e}p1(f,l,Yr,Gu,$m,s,sn,Ws,ro,ns,y,null,-0,0)}}break}while(!0);na(a)}function p1(a,s,l,f,p,y,j,O,z,X,ie,ue,Z,ne){if(a.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ya},l1(s,y,ue);var Ee=(y&62914560)===y?Hu-nt():(y&4194048)===y?f1-nt():0;if(Ee=f4(ue,Ee),Ee!==null){Ra=y,a.cancelPendingCommit=Ee(j1.bind(null,a,s,y,l,f,p,j,O,z,ie,ue,null,Z,ne)),os(a,y,j,!X);return}}j1(a,s,y,l,f,p,j,O,z)}function CR(a){for(var s=a;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var p=l[f],y=p.getSnapshot;p=p.value;try{if(!en(y(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function os(a,s,l,f){s&=~Pm,s&=~Ws,a.suspendedLanes|=s,a.pingedLanes&=~s,f&&(a.warmLanes|=s),f=a.expirationTimes;for(var p=s;0<p;){var y=31-it(p),j=1<<y;f[y]=-1,p&=~j}l!==0&&ee(a,l,s)}function Yu(){return(dt&6)===0?(Tl(0),!1):!0}function Fm(){if(Qe!==null){if(pt===0)var a=Qe.return;else a=Qe,_a=Bs=null,sm(a),Vi=null,dl=0,a=Qe;for(;a!==null;)Y_(a.alternate,a),a=a.return;Qe=null}}function ao(a,s){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,VR(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Ra=0,Fm(),Nt=a,Qe=l=xa(a.current,null),Je=s,pt=0,an=null,ns=!1,to=nr(a,s),Um=!1,ro=sn=Pm=Ws=as=zt=0,Yr=El=null,$m=!1,(s&8)!==0&&(s|=s&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=s;0<f;){var p=31-it(f),y=1<<p;s|=a[p],f&=~y}return Aa=s,mu(),l}function v1(a,s){Ie=null,P.H=bl,s===Yi||s===_u?(s=Rw(),pt=3):s===Yh?(s=Rw(),pt=4):pt=s===wm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,an=s,Qe===null&&(zt=1,qu(a,yn(s,a.current)))}function y1(){var a=rn.current;return a===null?!0:(Je&4194048)===Je?_n===null:(Je&62914560)===Je||(Je&536870912)!==0?a===_n:!1}function b1(){var a=P.H;return P.H=bl,a===null?bl:a}function x1(){var a=P.A;return P.A=kR,a}function Vu(){zt=4,ns||(Je&4194048)!==Je&&rn.current!==null||(to=!0),(as&134217727)===0&&(Ws&134217727)===0||Nt===null||os(Nt,Je,sn,!1)}function Hm(a,s,l){var f=dt;dt|=2;var p=b1(),y=x1();(Nt!==a||Je!==s)&&(Gu=null,ao(a,s)),s=!1;var j=zt;e:do try{if(pt!==0&&Qe!==null){var O=Qe,z=an;switch(pt){case 8:Fm(),j=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(s=!0);var X=pt;if(pt=0,an=null,so(a,O,z,X),l&&to){j=0;break e}break;default:X=pt,pt=0,an=null,so(a,O,z,X)}}TR(),j=zt;break}catch(ie){v1(a,ie)}while(!0);return s&&a.shellSuspendCounter++,_a=Bs=null,dt=f,P.H=p,P.A=y,Qe===null&&(Nt=null,Je=0,mu()),j}function TR(){for(;Qe!==null;)w1(Qe)}function DR(a,s){var l=dt;dt|=2;var f=b1(),p=x1();Nt!==a||Je!==s?(Gu=null,Ku=nt()+500,ao(a,s)):to=nr(a,s);e:do try{if(pt!==0&&Qe!==null){s=Qe;var y=an;t:switch(pt){case 1:pt=0,an=null,so(a,s,y,1);break;case 2:case 9:if(Ow(y)){pt=0,an=null,_1(s);break}s=function(){pt!==2&&pt!==9||Nt!==a||(pt=7),na(a)},y.then(s,s);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Ow(y)?(pt=0,an=null,_1(s)):(pt=0,an=null,so(a,s,y,7));break;case 5:var j=null;switch(Qe.tag){case 26:j=Qe.memoizedState;case 5:case 27:var O=Qe;if(j?oS(j):O.stateNode.complete){pt=0,an=null;var z=O.sibling;if(z!==null)Qe=z;else{var X=O.return;X!==null?(Qe=X,Qu(X)):Qe=null}break t}}pt=0,an=null,so(a,s,y,5);break;case 6:pt=0,an=null,so(a,s,y,6);break;case 8:Fm(),zt=6;break e;default:throw Error(n(462))}}OR();break}catch(ie){v1(a,ie)}while(!0);return _a=Bs=null,P.H=f,P.A=p,dt=l,Qe!==null?0:(Nt=null,Je=0,mu(),zt)}function OR(){for(;Qe!==null&&!gt();)w1(Qe)}function w1(a){var s=K_(a.alternate,a,Aa);a.memoizedProps=a.pendingProps,s===null?Qu(a):Qe=s}function _1(a){var s=a,l=s.alternate;switch(s.tag){case 15:case 0:s=$_(l,s,s.pendingProps,s.type,void 0,Je);break;case 11:s=$_(l,s,s.pendingProps,s.type.render,s.ref,Je);break;case 5:sm(s);default:Y_(l,s),s=Qe=xw(s,Aa),s=K_(l,s,Aa)}a.memoizedProps=a.pendingProps,s===null?Qu(a):Qe=s}function so(a,s,l,f){_a=Bs=null,sm(s),Vi=null,dl=0;var p=s.return;try{if(bR(a,p,s,l,Je)){zt=1,qu(a,yn(l,a.current)),Qe=null;return}}catch(y){if(p!==null)throw Qe=p,y;zt=1,qu(a,yn(l,a.current)),Qe=null;return}s.flags&32768?(tt||f===1?a=!0:to||(Je&536870912)!==0?a=!1:(ns=a=!0,(f===2||f===9||f===3||f===6)&&(f=rn.current,f!==null&&f.tag===13&&(f.flags|=16384))),S1(s,a)):Qu(s)}function Qu(a){var s=a;do{if((s.flags&32768)!==0){S1(s,ns);return}a=s.return;var l=_R(s.alternate,s,Aa);if(l!==null){Qe=l;return}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=a}while(s!==null);zt===0&&(zt=5)}function S1(a,s){do{var l=SR(a.alternate,a);if(l!==null){l.flags&=32767,Qe=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(a=a.sibling,a!==null)){Qe=a;return}Qe=a=l}while(a!==null);zt=6,Qe=null}function j1(a,s,l,f,p,y,j,O,z){a.cancelPendingCommit=null;do Wu();while(sr!==0);if((dt&6)!==0)throw Error(n(327));if(s!==null){if(s===a.current)throw Error(n(177));if(y=s.lanes|s.childLanes,y|=Ah,G(a,l,y,j,O,z),a===Nt&&(Qe=Nt=null,Je=0),no=s,is=a,Ra=l,zm=y,Bm=p,h1=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,LR(Et,function(){return T1(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=P.T,P.T=null,p=W.p,W.p=2,j=dt,dt|=4;try{jR(a,s,l)}finally{dt=j,W.p=p,P.T=f}}sr=1,N1(),k1(),E1()}}function N1(){if(sr===1){sr=0;var a=is,s=no,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=P.T,P.T=null;var f=W.p;W.p=2;var p=dt;dt|=4;try{s1(s,a);var y=rg,j=dw(a.containerInfo),O=y.focusedElem,z=y.selectionRange;if(j!==O&&O&&O.ownerDocument&&uw(O.ownerDocument.documentElement,O)){if(z!==null&&Eh(O)){var X=z.start,ie=z.end;if(ie===void 0&&(ie=X),"selectionStart"in O)O.selectionStart=X,O.selectionEnd=Math.min(ie,O.value.length);else{var ue=O.ownerDocument||document,Z=ue&&ue.defaultView||window;if(Z.getSelection){var ne=Z.getSelection(),Ee=O.textContent.length,qe=Math.min(z.start,Ee),St=z.end===void 0?qe:Math.min(z.end,Ee);!ne.extend&&qe>St&&(j=St,St=qe,qe=j);var Y=cw(O,qe),F=cw(O,St);if(Y&&F&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==F.node||ne.focusOffset!==F.offset)){var Q=ue.createRange();Q.setStart(Y.node,Y.offset),ne.removeAllRanges(),qe>St?(ne.addRange(Q),ne.extend(F.node,F.offset)):(Q.setEnd(F.node,F.offset),ne.addRange(Q))}}}}for(ue=[],ne=O;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ue.length;O++){var ce=ue[O];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}ld=!!tg,rg=tg=null}finally{dt=p,W.p=f,P.T=l}}a.current=s,sr=2}}function k1(){if(sr===2){sr=0;var a=is,s=no,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=P.T,P.T=null;var f=W.p;W.p=2;var p=dt;dt|=4;try{e1(a,s.alternate,s)}finally{dt=p,W.p=f,P.T=l}}sr=3}}function E1(){if(sr===4||sr===3){sr=0,ft();var a=is,s=no,l=Ra,f=h1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?sr=5:(sr=0,no=is=null,C1(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(ss=null),ke(l),s=s.stateNode,Ae&&typeof Ae.onCommitFiberRoot=="function")try{Ae.onCommitFiberRoot(Re,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=P.T,p=W.p,W.p=2,P.T=null;try{for(var y=a.onRecoverableError,j=0;j<f.length;j++){var O=f[j];y(O.value,{componentStack:O.stack})}}finally{P.T=s,W.p=p}}(Ra&3)!==0&&Wu(),na(a),p=a.pendingLanes,(l&261930)!==0&&(p&42)!==0?a===Im?Cl++:(Cl=0,Im=a):Cl=0,Tl(0)}}function C1(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,cl(s)))}function Wu(){return N1(),k1(),E1(),T1()}function T1(){if(sr!==5)return!1;var a=is,s=zm;zm=0;var l=ke(Ra),f=P.T,p=W.p;try{W.p=32>l?32:l,P.T=null,l=Bm,Bm=null;var y=is,j=Ra;if(sr=0,no=is=null,Ra=0,(dt&6)!==0)throw Error(n(331));var O=dt;if(dt|=4,u1(y.current),o1(y,y.current,j,l),dt=O,Tl(0,!1),Ae&&typeof Ae.onPostCommitFiberRoot=="function")try{Ae.onPostCommitFiberRoot(Re,y)}catch{}return!0}finally{W.p=p,P.T=f,C1(a,s)}}function D1(a,s,l){s=yn(l,s),s=xm(a.stateNode,s,2),a=Za(a,s,2),a!==null&&($(a,2),na(a))}function vt(a,s,l){if(a.tag===3)D1(a,a,l);else for(;s!==null;){if(s.tag===3){D1(s,a,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ss===null||!ss.has(f))){a=yn(l,a),l=O_(2),f=Za(s,l,2),f!==null&&(A_(l,f,s,a),$(f,2),na(f));break}}s=s.return}}function Km(a,s,l){var f=a.pingCache;if(f===null){f=a.pingCache=new ER;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(l)||(Um=!0,p.add(l),a=AR.bind(null,a,s,l),s.then(a,a))}function AR(a,s,l){var f=a.pingCache;f!==null&&f.delete(s),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,Nt===a&&(Je&l)===l&&(zt===4||zt===3&&(Je&62914560)===Je&&300>nt()-Hu?(dt&2)===0&&ao(a,0):Pm|=l,ro===Je&&(ro=0)),na(a)}function O1(a,s){s===0&&(s=fr()),a=Ps(a,s),a!==null&&($(a,s),na(a))}function RR(a){var s=a.memoizedState,l=0;s!==null&&(l=s.retryLane),O1(a,l)}function MR(a,s){var l=0;switch(a.tag){case 31:case 13:var f=a.stateNode,p=a.memoizedState;p!==null&&(l=p.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(s),O1(a,l)}function LR(a,s){return bt(a,s)}var Xu=null,io=null,Gm=!1,Ju=!1,Ym=!1,ls=0;function na(a){a!==io&&a.next===null&&(io===null?Xu=io=a:io=io.next=a),Ju=!0,Gm||(Gm=!0,UR())}function Tl(a,s){if(!Ym&&Ju){Ym=!0;do for(var l=!1,f=Xu;f!==null;){if(a!==0){var p=f.pendingLanes;if(p===0)var y=0;else{var j=f.suspendedLanes,O=f.pingedLanes;y=(1<<31-it(42|a)+1)-1,y&=p&~(j&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,L1(f,y))}else y=Je,y=Kt(f,f===Nt?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||nr(f,y)||(l=!0,L1(f,y));f=f.next}while(l);Ym=!1}}function qR(){A1()}function A1(){Ju=Gm=!1;var a=0;ls!==0&&YR()&&(a=ls);for(var s=nt(),l=null,f=Xu;f!==null;){var p=f.next,y=R1(f,s);y===0?(f.next=null,l===null?Xu=p:l.next=p,p===null&&(io=l)):(l=f,(a!==0||(y&3)!==0)&&(Ju=!0)),f=p}sr!==0&&sr!==5||Tl(a),ls!==0&&(ls=0)}function R1(a,s){for(var l=a.suspendedLanes,f=a.pingedLanes,p=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var j=31-it(y),O=1<<j,z=p[j];z===-1?((O&l)===0||(O&f)!==0)&&(p[j]=ar(O,s)):z<=s&&(a.expiredLanes|=O),y&=~O}if(s=Nt,l=Je,l=Kt(a,a===s?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,l===0||a===s&&(pt===2||pt===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&mt(f),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||nr(a,l)){if(s=l&-l,s===a.callbackPriority)return s;switch(f!==null&&mt(f),ke(l)){case 2:case 8:l=jt;break;case 32:l=Et;break;case 268435456:l=Ir;break;default:l=Et}return f=M1.bind(null,a),l=bt(l,f),a.callbackPriority=s,a.callbackNode=l,s}return f!==null&&f!==null&&mt(f),a.callbackPriority=2,a.callbackNode=null,2}function M1(a,s){if(sr!==0&&sr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(Wu()&&a.callbackNode!==l)return null;var f=Je;return f=Kt(a,a===Nt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(g1(a,f,s),R1(a,nt()),a.callbackNode!=null&&a.callbackNode===l?M1.bind(null,a):null)}function L1(a,s){if(Wu())return null;g1(a,s,!0)}function UR(){QR(function(){(dt&6)!==0?bt(Ht,qR):A1()})}function Vm(){if(ls===0){var a=Ki;a===0&&(a=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),ls=a}return ls}function q1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:iu(""+a)}function U1(a,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,a.id&&l.setAttribute("form",a.id),s.parentNode.insertBefore(l,s),a=new FormData(a),l.parentNode.removeChild(l),a}function PR(a,s,l,f,p){if(s==="submit"&&l&&l.stateNode===p){var y=q1((p[Se]||null).action),j=f.submitter;j&&(s=(s=j[Se]||null)?q1(s.formAction):j.getAttribute("formAction"),s!==null&&(y=s,j=null));var O=new uu("action","action",null,f,p);a.push({event:O,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ls!==0){var z=j?U1(p,j):new FormData(p);mm(l,{pending:!0,data:z,method:p.method,action:y},null,z)}}else typeof y=="function"&&(O.preventDefault(),z=j?U1(p,j):new FormData(p),mm(l,{pending:!0,data:z,method:p.method,action:y},y,z))},currentTarget:p}]})}}for(var Qm=0;Qm<Oh.length;Qm++){var Wm=Oh[Qm],$R=Wm.toLowerCase(),zR=Wm[0].toUpperCase()+Wm.slice(1);$n($R,"on"+zR)}$n(mw,"onAnimationEnd"),$n(gw,"onAnimationIteration"),$n(pw,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(rR,"onTransitionRun"),$n(nR,"onTransitionStart"),$n(aR,"onTransitionCancel"),$n(vw,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function P1(a,s){s=(s&4)!==0;for(var l=0;l<a.length;l++){var f=a[l],p=f.event;f=f.listeners;e:{var y=void 0;if(s)for(var j=f.length-1;0<=j;j--){var O=f[j],z=O.instance,X=O.currentTarget;if(O=O.listener,z!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=X;try{y(p)}catch(ie){hu(ie)}p.currentTarget=null,y=z}else for(j=0;j<f.length;j++){if(O=f[j],z=O.instance,X=O.currentTarget,O=O.listener,z!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=X;try{y(p)}catch(ie){hu(ie)}p.currentTarget=null,y=z}}}}function We(a,s){var l=s[xt];l===void 0&&(l=s[xt]=new Set);var f=a+"__bubble";l.has(f)||($1(s,a,2,!1),l.add(f))}function Xm(a,s,l){var f=0;s&&(f|=4),$1(l,a,f,s)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Jm(a){if(!a[Zu]){a[Zu]=!0,Jn.forEach(function(l){l!=="selectionchange"&&(BR.has(l)||Xm(l,!1,a),Xm(l,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Zu]||(s[Zu]=!0,Xm("selectionchange",!1,s))}}function $1(a,s,l,f){switch(mS(s)){case 2:var p=g4;break;case 8:p=p4;break;default:p=hg}l=p.bind(null,s,l,a),p=void 0,!yh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?a.addEventListener(s,l,{capture:!0,passive:p}):a.addEventListener(s,l,!0):p!==void 0?a.addEventListener(s,l,{passive:p}):a.addEventListener(s,l,!1)}function Zm(a,s,l,f,p){var y=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var j=f.tag;if(j===3||j===4){var O=f.stateNode.containerInfo;if(O===p)break;if(j===4)for(j=f.return;j!==null;){var z=j.tag;if((z===3||z===4)&&j.stateNode.containerInfo===p)return;j=j.return}for(;O!==null;){if(j=hn(O),j===null)return;if(z=j.tag,z===5||z===6||z===26||z===27){f=y=j;continue e}O=O.parentNode}}f=f.return}Hx(function(){var X=y,ie=ph(l),ue=[];e:{var Z=yw.get(a);if(Z!==void 0){var ne=uu,Ee=a;switch(a){case"keypress":if(lu(l)===0)break e;case"keydown":case"keyup":ne=MA;break;case"focusin":Ee="focus",ne=_h;break;case"focusout":Ee="blur",ne=_h;break;case"beforeblur":case"afterblur":ne=_h;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Yx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=_A;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=UA;break;case mw:case gw:case pw:ne=NA;break;case vw:ne=$A;break;case"scroll":case"scrollend":ne=xA;break;case"wheel":ne=BA;break;case"copy":case"cut":case"paste":ne=EA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Qx;break;case"toggle":case"beforetoggle":ne=FA}var qe=(s&4)!==0,St=!qe&&(a==="scroll"||a==="scrollend"),Y=qe?Z!==null?Z+"Capture":null:Z;qe=[];for(var F=X,Q;F!==null;){var ce=F;if(Q=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Q===null||Y===null||(ce=Jo(F,Y),ce!=null&&qe.push(Ol(F,ce,Q))),St)break;F=F.return}0<qe.length&&(Z=new ne(Z,Ee,null,l,ie),ue.push({event:Z,listeners:qe}))}}if((s&7)===0){e:{if(Z=a==="mouseover"||a==="pointerover",ne=a==="mouseout"||a==="pointerout",Z&&l!==gh&&(Ee=l.relatedTarget||l.fromElement)&&(hn(Ee)||Ee[He]))break e;if((ne||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,ne?(Ee=l.relatedTarget||l.toElement,ne=X,Ee=Ee?hn(Ee):null,Ee!==null&&(St=o(Ee),qe=Ee.tag,Ee!==St||qe!==5&&qe!==27&&qe!==6)&&(Ee=null)):(ne=null,Ee=X),ne!==Ee)){if(qe=Yx,ce="onMouseLeave",Y="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(qe=Qx,ce="onPointerLeave",Y="onPointerEnter",F="pointer"),St=ne==null?Z:Cr(ne),Q=Ee==null?Z:Cr(Ee),Z=new qe(ce,F+"leave",ne,l,ie),Z.target=St,Z.relatedTarget=Q,ce=null,hn(ie)===X&&(qe=new qe(Y,F+"enter",Ee,l,ie),qe.target=Q,qe.relatedTarget=St,ce=qe),St=ce,ne&&Ee)t:{for(qe=IR,Y=ne,F=Ee,Q=0,ce=Y;ce;ce=qe(ce))Q++;ce=0;for(var Me=F;Me;Me=qe(Me))ce++;for(;0<Q-ce;)Y=qe(Y),Q--;for(;0<ce-Q;)F=qe(F),ce--;for(;Q--;){if(Y===F||F!==null&&Y===F.alternate){qe=Y;break t}Y=qe(Y),F=qe(F)}qe=null}else qe=null;ne!==null&&z1(ue,Z,ne,qe,!1),Ee!==null&&St!==null&&z1(ue,St,Ee,qe,!0)}}e:{if(Z=X?Cr(X):window,ne=Z.nodeName&&Z.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Z.type==="file")var ot=nw;else if(tw(Z))if(aw)ot=ZA;else{ot=XA;var De=WA}else ne=Z.nodeName,!ne||ne.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&mh(X.elementType)&&(ot=nw):ot=JA;if(ot&&(ot=ot(a,X))){rw(ue,ot,l,ie);break e}De&&De(a,Z,X),a==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&hh(Z,"number",Z.value)}switch(De=X?Cr(X):window,a){case"focusin":(tw(De)||De.contentEditable==="true")&&(Ui=De,Ch=X,il=null);break;case"focusout":il=Ch=Ui=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,fw(ue,l,ie);break;case"selectionchange":if(tR)break;case"keydown":case"keyup":fw(ue,l,ie)}var Fe;if(jh)e:{switch(a){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else qi?Zx(a,l)&&(Ze="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Ze="onCompositionStart");Ze&&(Wx&&l.locale!=="ko"&&(qi||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&qi&&(Fe=Kx()):(Ga=ie,bh="value"in Ga?Ga.value:Ga.textContent,qi=!0)),De=ed(X,Ze),0<De.length&&(Ze=new Vx(Ze,a,null,l,ie),ue.push({event:Ze,listeners:De}),Fe?Ze.data=Fe:(Fe=ew(l),Fe!==null&&(Ze.data=Fe)))),(Fe=KA?GA(a,l):YA(a,l))&&(Ze=ed(X,"onBeforeInput"),0<Ze.length&&(De=new Vx("onBeforeInput","beforeinput",null,l,ie),ue.push({event:De,listeners:Ze}),De.data=Fe)),PR(ue,a,X,l,ie)}P1(ue,s)})}function Ol(a,s,l){return{instance:a,listener:s,currentTarget:l}}function ed(a,s){for(var l=s+"Capture",f=[];a!==null;){var p=a,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Jo(a,l),p!=null&&f.unshift(Ol(a,p,y)),p=Jo(a,s),p!=null&&f.push(Ol(a,p,y))),a.tag===3)return f;a=a.return}return[]}function IR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function z1(a,s,l,f,p){for(var y=s._reactName,j=[];l!==null&&l!==f;){var O=l,z=O.alternate,X=O.stateNode;if(O=O.tag,z!==null&&z===f)break;O!==5&&O!==26&&O!==27||X===null||(z=X,p?(X=Jo(l,y),X!=null&&j.unshift(Ol(l,X,z))):p||(X=Jo(l,y),X!=null&&j.push(Ol(l,X,z)))),l=l.return}j.length!==0&&a.push({event:s,listeners:j})}var FR=/\r\n?/g,HR=/\u0000|\uFFFD/g;function B1(a){return(typeof a=="string"?a:""+a).replace(FR,`
`).replace(HR,"")}function I1(a,s){return s=B1(s),B1(a)===s}function _t(a,s,l,f,p,y){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Ri(a,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Ri(a,""+f);break;case"className":Ms(a,"class",f);break;case"tabIndex":Ms(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ms(a,l,f);break;case"style":Ix(a,f,y);break;case"data":if(s!=="object"){Ms(a,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){a.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(l);break}f=iu(""+f),a.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&_t(a,s,"name",p.name,p,null),_t(a,s,"formEncType",p.formEncType,p,null),_t(a,s,"formMethod",p.formMethod,p,null),_t(a,s,"formTarget",p.formTarget,p,null)):(_t(a,s,"encType",p.encType,p,null),_t(a,s,"method",p.method,p,null),_t(a,s,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(l);break}f=iu(""+f),a.setAttribute(l,f);break;case"onClick":f!=null&&(a.onclick=ya);break;case"onScroll":f!=null&&We("scroll",a);break;case"onScrollEnd":f!=null&&We("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(l=f.__html,l!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}l=iu(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(l,""+f):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":f===!0?a.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(l,f):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(l,f):a.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(l):a.setAttribute(l,f);break;case"popover":We("beforetoggle",a),We("toggle",a),va(a,"popover",f);break;case"xlinkActuate":Pn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Pn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Pn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Pn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Pn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Pn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Pn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Pn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Pn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":va(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=yA.get(l)||l,va(a,l,f))}}function eg(a,s,l,f,p,y){switch(l){case"style":Ix(a,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(l=f.__html,l!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"children":typeof f=="string"?Ri(a,f):(typeof f=="number"||typeof f=="bigint")&&Ri(a,""+f);break;case"onScroll":f!=null&&We("scroll",a);break;case"onScrollEnd":f!=null&&We("scrollend",a);break;case"onClick":f!=null&&(a.onclick=ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rs.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),y=a[Se]||null,y=y!=null?y[l]:null,typeof y=="function"&&a.removeEventListener(s,y,p),typeof f=="function")){typeof y!="function"&&y!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(s,f,p);break e}l in a?a[l]=f:f===!0?a.setAttribute(l,""):va(a,l,f)}}}function Sr(a,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",a),We("load",a);var f=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var j=l[y];if(j!=null)switch(y){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:_t(a,s,y,j,l,null)}}p&&_t(a,s,"srcSet",l.srcSet,l,null),f&&_t(a,s,"src",l.src,l,null);return;case"input":We("invalid",a);var O=y=j=p=null,z=null,X=null;for(f in l)if(l.hasOwnProperty(f)){var ie=l[f];if(ie!=null)switch(f){case"name":p=ie;break;case"type":j=ie;break;case"checked":z=ie;break;case"defaultChecked":X=ie;break;case"value":y=ie;break;case"defaultValue":O=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,s));break;default:_t(a,s,f,ie,l,null)}}Px(a,y,O,z,X,j,p,!1);return;case"select":We("invalid",a),f=j=y=null;for(p in l)if(l.hasOwnProperty(p)&&(O=l[p],O!=null))switch(p){case"value":y=O;break;case"defaultValue":j=O;break;case"multiple":f=O;default:_t(a,s,p,O,l,null)}s=y,l=j,a.multiple=!!f,s!=null?Ai(a,!!f,s,!1):l!=null&&Ai(a,!!f,l,!0);return;case"textarea":We("invalid",a),y=p=f=null;for(j in l)if(l.hasOwnProperty(j)&&(O=l[j],O!=null))switch(j){case"value":f=O;break;case"defaultValue":p=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:_t(a,s,j,O,l,null)}zx(a,f,p,y);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(f=l[z],f!=null))switch(z){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:_t(a,s,z,f,l,null)}return;case"dialog":We("beforetoggle",a),We("toggle",a),We("cancel",a),We("close",a);break;case"iframe":case"object":We("load",a);break;case"video":case"audio":for(f=0;f<Dl.length;f++)We(Dl[f],a);break;case"image":We("error",a),We("load",a);break;case"details":We("toggle",a);break;case"embed":case"source":case"link":We("error",a),We("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(f=l[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:_t(a,s,X,f,l,null)}return;default:if(mh(s)){for(ie in l)l.hasOwnProperty(ie)&&(f=l[ie],f!==void 0&&eg(a,s,ie,f,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(f=l[O],f!=null&&_t(a,s,O,f,l,null))}function KR(a,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,j=null,O=null,z=null,X=null,ie=null;for(ne in l){var ue=l[ne];if(l.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":z=ue;default:f.hasOwnProperty(ne)||_t(a,s,ne,null,f,ue)}}for(var Z in f){var ne=f[Z];if(ue=l[Z],f.hasOwnProperty(Z)&&(ne!=null||ue!=null))switch(Z){case"type":y=ne;break;case"name":p=ne;break;case"checked":X=ne;break;case"defaultChecked":ie=ne;break;case"value":j=ne;break;case"defaultValue":O=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,s));break;default:ne!==ue&&_t(a,s,Z,ne,f,ue)}}fh(a,j,O,z,X,ie,y,p);return;case"select":ne=j=O=Z=null;for(y in l)if(z=l[y],l.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":ne=z;default:f.hasOwnProperty(y)||_t(a,s,y,null,f,z)}for(p in f)if(y=f[p],z=l[p],f.hasOwnProperty(p)&&(y!=null||z!=null))switch(p){case"value":Z=y;break;case"defaultValue":O=y;break;case"multiple":j=y;default:y!==z&&_t(a,s,p,y,f,z)}s=O,l=j,f=ne,Z!=null?Ai(a,!!l,Z,!1):!!f!=!!l&&(s!=null?Ai(a,!!l,s,!0):Ai(a,!!l,l?[]:"",!1));return;case"textarea":ne=Z=null;for(O in l)if(p=l[O],l.hasOwnProperty(O)&&p!=null&&!f.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:_t(a,s,O,null,f,p)}for(j in f)if(p=f[j],y=l[j],f.hasOwnProperty(j)&&(p!=null||y!=null))switch(j){case"value":Z=p;break;case"defaultValue":ne=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==y&&_t(a,s,j,p,f,y)}$x(a,Z,ne);return;case"option":for(var Ee in l)if(Z=l[Ee],l.hasOwnProperty(Ee)&&Z!=null&&!f.hasOwnProperty(Ee))switch(Ee){case"selected":a.selected=!1;break;default:_t(a,s,Ee,null,f,Z)}for(z in f)if(Z=f[z],ne=l[z],f.hasOwnProperty(z)&&Z!==ne&&(Z!=null||ne!=null))switch(z){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:_t(a,s,z,Z,f,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in l)Z=l[qe],l.hasOwnProperty(qe)&&Z!=null&&!f.hasOwnProperty(qe)&&_t(a,s,qe,null,f,Z);for(X in f)if(Z=f[X],ne=l[X],f.hasOwnProperty(X)&&Z!==ne&&(Z!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,s));break;default:_t(a,s,X,Z,f,ne)}return;default:if(mh(s)){for(var St in l)Z=l[St],l.hasOwnProperty(St)&&Z!==void 0&&!f.hasOwnProperty(St)&&eg(a,s,St,void 0,f,Z);for(ie in f)Z=f[ie],ne=l[ie],!f.hasOwnProperty(ie)||Z===ne||Z===void 0&&ne===void 0||eg(a,s,ie,Z,f,ne);return}}for(var Y in l)Z=l[Y],l.hasOwnProperty(Y)&&Z!=null&&!f.hasOwnProperty(Y)&&_t(a,s,Y,null,f,Z);for(ue in f)Z=f[ue],ne=l[ue],!f.hasOwnProperty(ue)||Z===ne||Z==null&&ne==null||_t(a,s,ue,Z,f,ne)}function F1(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var p=l[f],y=p.transferSize,j=p.initiatorType,O=p.duration;if(y&&O&&F1(j)){for(j=0,O=p.responseEnd,f+=1;f<l.length;f++){var z=l[f],X=z.startTime;if(X>O)break;var ie=z.transferSize,ue=z.initiatorType;ie&&F1(ue)&&(z=z.responseEnd,j+=ie*(z<O?1:(O-X)/(z-X)))}if(--f,s+=8*(y+j)/(p.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var tg=null,rg=null;function td(a){return a.nodeType===9?a:a.ownerDocument}function H1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K1(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function ng(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ag=null;function YR(){var a=window.event;return a&&a.type==="popstate"?a===ag?!1:(ag=a,!0):(ag=null,!1)}var G1=typeof setTimeout=="function"?setTimeout:void 0,VR=typeof clearTimeout=="function"?clearTimeout:void 0,Y1=typeof Promise=="function"?Promise:void 0,QR=typeof queueMicrotask=="function"?queueMicrotask:typeof Y1<"u"?function(a){return Y1.resolve(null).then(a).catch(WR)}:G1;function WR(a){setTimeout(function(){throw a})}function cs(a){return a==="head"}function V1(a,s){var l=s,f=0;do{var p=l.nextSibling;if(a.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(f===0){a.removeChild(p),uo(s);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")Al(a.ownerDocument.documentElement);else if(l==="head"){l=a.ownerDocument.head,Al(l);for(var y=l.firstChild;y;){var j=y.nextSibling,O=y.nodeName;y[ut]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=j}}else l==="body"&&Al(a.ownerDocument.body);l=p}while(l);uo(s)}function Q1(a,s){var l=a;a=0;do{var f=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(a===0)break;a--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||a++;l=f}while(l)}function sg(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":sg(l),Un(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function XR(a,s,l,f){for(;a.nodeType===1;){var p=l;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[ut])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=Sn(a.nextSibling),a===null)break}return null}function JR(a,s,l){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Sn(a.nextSibling),a===null))return null;return a}function W1(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Sn(a.nextSibling),a===null))return null;return a}function ig(a){return a.data==="$?"||a.data==="$~"}function og(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function ZR(a,s){var l=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||l.readyState!=="loading")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function Sn(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var lg=null;function X1(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="/$"||l==="/&"){if(s===0)return Sn(a.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}a=a.nextSibling}return null}function J1(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return a;s--}else l!=="/$"&&l!=="/&"||s++}a=a.previousSibling}return null}function Z1(a,s,l){switch(s=td(l),a){case"html":if(a=s.documentElement,!a)throw Error(n(452));return a;case"head":if(a=s.head,!a)throw Error(n(453));return a;case"body":if(a=s.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Al(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Un(a)}var jn=new Map,eS=new Set;function rd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ma=W.d;W.d={f:e4,r:t4,D:r4,C:n4,L:a4,m:s4,X:o4,S:i4,M:l4};function e4(){var a=Ma.f(),s=Yu();return a||s}function t4(a){var s=Mr(a);s!==null&&s.tag===5&&s.type==="form"?v_(s):Ma.r(a)}var oo=typeof document>"u"?null:document;function tS(a,s,l){var f=oo;if(f&&typeof s=="string"&&s){var p=pn(s);p='link[rel="'+a+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),eS.has(p)||(eS.add(p),a={rel:a,crossOrigin:l,href:s},f.querySelector(p)===null&&(s=f.createElement("link"),Sr(s,"link",a),Mt(s),f.head.appendChild(s)))}}function r4(a){Ma.D(a),tS("dns-prefetch",a,null)}function n4(a,s){Ma.C(a,s),tS("preconnect",a,s)}function a4(a,s,l){Ma.L(a,s,l);var f=oo;if(f&&a&&s){var p='link[rel="preload"][as="'+pn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+pn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+pn(l.imageSizes)+'"]')):p+='[href="'+pn(a)+'"]';var y=p;switch(s){case"style":y=lo(a);break;case"script":y=co(a)}jn.has(y)||(a=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:a,as:s},l),jn.set(y,a),f.querySelector(p)!==null||s==="style"&&f.querySelector(Rl(y))||s==="script"&&f.querySelector(Ml(y))||(s=f.createElement("link"),Sr(s,"link",a),Mt(s),f.head.appendChild(s)))}}function s4(a,s){Ma.m(a,s);var l=oo;if(l&&a){var f=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+pn(f)+'"][href="'+pn(a)+'"]',y=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=co(a)}if(!jn.has(y)&&(a=v({rel:"modulepreload",href:a},s),jn.set(y,a),l.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ml(y)))return}f=l.createElement("link"),Sr(f,"link",a),Mt(f),l.head.appendChild(f)}}}function i4(a,s,l){Ma.S(a,s,l);var f=oo;if(f&&a){var p=Xn(f).hoistableStyles,y=lo(a);s=s||"default";var j=p.get(y);if(!j){var O={loading:0,preload:null};if(j=f.querySelector(Rl(y)))O.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":s},l),(l=jn.get(y))&&cg(a,l);var z=j=f.createElement("link");Mt(z),Sr(z,"link",a),z._p=new Promise(function(X,ie){z.onload=X,z.onerror=ie}),z.addEventListener("load",function(){O.loading|=1}),z.addEventListener("error",function(){O.loading|=2}),O.loading|=4,nd(j,s,f)}j={type:"stylesheet",instance:j,count:1,state:O},p.set(y,j)}}}function o4(a,s){Ma.X(a,s);var l=oo;if(l&&a){var f=Xn(l).hoistableScripts,p=co(a),y=f.get(p);y||(y=l.querySelector(Ml(p)),y||(a=v({src:a,async:!0},s),(s=jn.get(p))&&ug(a,s),y=l.createElement("script"),Mt(y),Sr(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function l4(a,s){Ma.M(a,s);var l=oo;if(l&&a){var f=Xn(l).hoistableScripts,p=co(a),y=f.get(p);y||(y=l.querySelector(Ml(p)),y||(a=v({src:a,async:!0,type:"module"},s),(s=jn.get(p))&&ug(a,s),y=l.createElement("script"),Mt(y),Sr(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function rS(a,s,l,f){var p=(p=xe.current)?rd(p):null;if(!p)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=lo(l.href),l=Xn(p).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=lo(l.href);var y=Xn(p).hoistableStyles,j=y.get(a);if(j||(p=p.ownerDocument||p,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,j),(y=p.querySelector(Rl(a)))&&!y._p&&(j.instance=y,j.state.loading=5),jn.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},jn.set(a,l),y||c4(p,a,l,j.state))),s&&f===null)throw Error(n(528,""));return j}if(s&&f!==null)throw Error(n(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=co(l),l=Xn(p).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function lo(a){return'href="'+pn(a)+'"'}function Rl(a){return'link[rel="stylesheet"]['+a+"]"}function nS(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function c4(a,s,l,f){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=a.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Sr(s,"link",l),Mt(s),a.head.appendChild(s))}function co(a){return'[src="'+pn(a)+'"]'}function Ml(a){return"script[async]"+a}function aS(a,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=a.querySelector('style[data-href~="'+pn(l.href)+'"]');if(f)return s.instance=f,Mt(f),f;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Mt(f),Sr(f,"style",p),nd(f,l.precedence,a),s.instance=f;case"stylesheet":p=lo(l.href);var y=a.querySelector(Rl(p));if(y)return s.state.loading|=4,s.instance=y,Mt(y),y;f=nS(l),(p=jn.get(p))&&cg(f,p),y=(a.ownerDocument||a).createElement("link"),Mt(y);var j=y;return j._p=new Promise(function(O,z){j.onload=O,j.onerror=z}),Sr(y,"link",f),s.state.loading|=4,nd(y,l.precedence,a),s.instance=y;case"script":return y=co(l.src),(p=a.querySelector(Ml(y)))?(s.instance=p,Mt(p),p):(f=l,(p=jn.get(y))&&(f=v({},l),ug(f,p)),a=a.ownerDocument||a,p=a.createElement("script"),Mt(p),Sr(p,"link",f),a.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,nd(f,l.precedence,a));return s.instance}function nd(a,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,y=p,j=0;j<f.length;j++){var O=f[j];if(O.dataset.precedence===s)y=O;else if(y!==p)break}y?y.parentNode.insertBefore(a,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(a,s.firstChild))}function cg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function ug(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var ad=null;function sS(a,s,l){if(ad===null){var f=new Map,p=ad=new Map;p.set(l,f)}else p=ad,f=p.get(l),f||(f=new Map,p.set(l,f));if(f.has(a))return f;for(f.set(a,null),l=l.getElementsByTagName(a),p=0;p<l.length;p++){var y=l[p];if(!(y[ut]||y[we]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var j=y.getAttribute(s)||"";j=a+j;var O=f.get(j);O?O.push(y):f.set(j,[y])}}return f}function iS(a,s,l){a=a.ownerDocument||a,a.head.insertBefore(l,s==="title"?a.querySelector("head > title"):null)}function u4(a,s,l){if(l===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function oS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function d4(a,s,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=lo(f.href),y=s.querySelector(Rl(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=sd.bind(a),s.then(a,a)),l.state.loading|=4,l.instance=y,Mt(y);return}y=s.ownerDocument||s,f=nS(f),(p=jn.get(p))&&cg(f,p),y=y.createElement("link"),Mt(y);var j=y;j._p=new Promise(function(O,z){j.onload=O,j.onerror=z}),Sr(y,"link",f),l.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(a.count++,l=sd.bind(a),s.addEventListener("load",l),s.addEventListener("error",l))}}var dg=0;function f4(a,s){return a.stylesheets&&a.count===0&&od(a,a.stylesheets),0<a.count||0<a.imgCount?function(l){var f=setTimeout(function(){if(a.stylesheets&&od(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+s);0<a.imgBytes&&dg===0&&(dg=62500*GR());var p=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&od(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>dg?50:800)+s);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(p)}}:null}function sd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)od(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var id=null;function od(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,id=new Map,s.forEach(h4,a),id=null,sd.call(a))}function h4(a,s){if(!(s.state.loading&4)){var l=id.get(a);if(l)var f=l.get(null);else{l=new Map,id.set(a,l);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var j=p[y];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(l.set(j.dataset.precedence,j),f=j)}f&&l.set(null,f)}p=s.instance,j=p.getAttribute("data-precedence"),y=l.get(j)||f,y===f&&l.set(null,p),l.set(j,p),this.count++,f=sd.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),y?y.parentNode.insertBefore(p,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),s.state.loading|=4}}var Ll={$$typeof:T,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function m4(a,s,l,f,p,y,j,O,z){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.hiddenUpdates=Er(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function lS(a,s,l,f,p,y,j,O,z,X,ie,ue){return a=new m4(a,s,l,j,z,X,ie,ue,O),s=1,y===!0&&(s|=24),y=tn(3,null,null,s),a.current=y,y.stateNode=a,s=Hh(),s.refCount++,a.pooledCache=s,s.refCount++,y.memoizedState={element:f,isDehydrated:l,cache:s},Vh(y),a}function cS(a){return a?(a=zi,a):zi}function uS(a,s,l,f,p,y){p=cS(p),f.context===null?f.context=p:f.pendingContext=p,f=Ja(s),f.payload={element:l},y=y===void 0?null:y,y!==null&&(f.callback=y),l=Za(a,f,s),l!==null&&(Vr(l,a,s),hl(l,a,s))}function dS(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<s?l:s}}function fg(a,s){dS(a,s),(a=a.alternate)&&dS(a,s)}function fS(a){if(a.tag===13||a.tag===31){var s=Ps(a,67108864);s!==null&&Vr(s,a,67108864),fg(a,67108864)}}function hS(a){if(a.tag===13||a.tag===31){var s=on();s=Ne(s);var l=Ps(a,s);l!==null&&Vr(l,a,s),fg(a,s)}}var ld=!0;function g4(a,s,l,f){var p=P.T;P.T=null;var y=W.p;try{W.p=2,hg(a,s,l,f)}finally{W.p=y,P.T=p}}function p4(a,s,l,f){var p=P.T;P.T=null;var y=W.p;try{W.p=8,hg(a,s,l,f)}finally{W.p=y,P.T=p}}function hg(a,s,l,f){if(ld){var p=mg(f);if(p===null)Zm(a,s,f,cd,l),gS(a,f);else if(y4(p,a,s,l,f))f.stopPropagation();else if(gS(a,f),s&4&&-1<v4.indexOf(a)){for(;p!==null;){var y=Mr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var j=Pt(y.pendingLanes);if(j!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;j;){var z=1<<31-it(j);O.entanglements[1]|=z,j&=~z}na(y),(dt&6)===0&&(Ku=nt()+500,Tl(0))}}break;case 31:case 13:O=Ps(y,2),O!==null&&Vr(O,y,2),Yu(),fg(y,2)}if(y=mg(f),y===null&&Zm(a,s,f,cd,l),y===p)break;p=y}p!==null&&f.stopPropagation()}else Zm(a,s,f,null,l)}}function mg(a){return a=ph(a),gg(a)}var cd=null;function gg(a){if(cd=null,a=hn(a),a!==null){var s=o(a);if(s===null)a=null;else{var l=s.tag;if(l===13){if(a=c(s),a!==null)return a;a=null}else if(l===31){if(a=d(s),a!==null)return a;a=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return cd=a,null}function mS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case Ht:return 2;case jt:return 8;case Et:case Br:return 32;case Ir:return 268435456;default:return 32}default:return 32}}var pg=!1,us=null,ds=null,fs=null,ql=new Map,Ul=new Map,hs=[],v4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gS(a,s){switch(a){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(s.pointerId)}}function Pl(a,s,l,f,p,y){return a===null||a.nativeEvent!==y?(a={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Mr(s),s!==null&&fS(s)),a):(a.eventSystemFlags|=f,s=a.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),a)}function y4(a,s,l,f,p){switch(s){case"focusin":return us=Pl(us,a,s,l,f,p),!0;case"dragenter":return ds=Pl(ds,a,s,l,f,p),!0;case"mouseover":return fs=Pl(fs,a,s,l,f,p),!0;case"pointerover":var y=p.pointerId;return ql.set(y,Pl(ql.get(y)||null,a,s,l,f,p)),!0;case"gotpointercapture":return y=p.pointerId,Ul.set(y,Pl(Ul.get(y)||null,a,s,l,f,p)),!0}return!1}function pS(a){var s=hn(a.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){a.blockedOn=s,Ce(a.priority,function(){hS(l)});return}}else if(s===31){if(s=d(l),s!==null){a.blockedOn=s,Ce(a.priority,function(){hS(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ud(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var l=mg(a.nativeEvent);if(l===null){l=a.nativeEvent;var f=new l.constructor(l.type,l);gh=f,l.target.dispatchEvent(f),gh=null}else return s=Mr(l),s!==null&&fS(s),a.blockedOn=l,!1;s.shift()}return!0}function vS(a,s,l){ud(a)&&l.delete(s)}function b4(){pg=!1,us!==null&&ud(us)&&(us=null),ds!==null&&ud(ds)&&(ds=null),fs!==null&&ud(fs)&&(fs=null),ql.forEach(vS),Ul.forEach(vS)}function dd(a,s){a.blockedOn===s&&(a.blockedOn=null,pg||(pg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,b4)))}var fd=null;function yS(a){fd!==a&&(fd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){fd===a&&(fd=null);for(var s=0;s<a.length;s+=3){var l=a[s],f=a[s+1],p=a[s+2];if(typeof f!="function"){if(gg(f||l)===null)continue;break}var y=Mr(l);y!==null&&(a.splice(s,3),s-=3,mm(y,{pending:!0,data:p,method:l.method,action:f},f,p))}}))}function uo(a){function s(z){return dd(z,a)}us!==null&&dd(us,a),ds!==null&&dd(ds,a),fs!==null&&dd(fs,a),ql.forEach(s),Ul.forEach(s);for(var l=0;l<hs.length;l++){var f=hs[l];f.blockedOn===a&&(f.blockedOn=null)}for(;0<hs.length&&(l=hs[0],l.blockedOn===null);)pS(l),l.blockedOn===null&&hs.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var p=l[f],y=l[f+1],j=p[Se]||null;if(typeof y=="function")j||yS(l);else if(j){var O=null;if(y&&y.hasAttribute("formAction")){if(p=y,j=y[Se]||null)O=j.formAction;else if(gg(p)!==null)continue}else O=j.action;typeof O=="function"?l[f+1]=O:(l.splice(f,3),f-=3),yS(l)}}}function bS(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(j){return p=j})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,p=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function vg(a){this._internalRoot=a}hd.prototype.render=vg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(n(409));var l=s.current,f=on();uS(l,f,a,s,null,null)},hd.prototype.unmount=vg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;uS(a.current,2,null,a,null,null),Yu(),s[He]=null}};function hd(a){this._internalRoot=a}hd.prototype.unstable_scheduleHydration=function(a){if(a){var s=_e();a={blockedOn:null,target:a,priority:s};for(var l=0;l<hs.length&&s!==0&&s<hs[l].priority;l++);hs.splice(l,0,a),l===0&&pS(a)}};var xS=t.version;if(xS!=="19.2.0")throw Error(n(527,xS,"19.2.0"));W.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=m(s),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var x4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Re=md.inject(x4),Ae=md}catch{}}return zl.createRoot=function(a,s){if(!i(a))throw Error(n(299));var l=!1,f="",p=E_,y=C_,j=T_;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(j=s.onRecoverableError)),s=lS(a,1,!1,null,null,l,f,null,p,y,j,bS),a[He]=s.current,Jm(a),new vg(s)},zl.hydrateRoot=function(a,s,l){if(!i(a))throw Error(n(299));var f=!1,p="",y=E_,j=C_,O=T_,z=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.formState!==void 0&&(z=l.formState)),s=lS(a,1,!0,s,l??null,f,p,z,y,j,O,bS),s.context=cS(null),l=s.current,f=on(),f=Ne(f),p=Ja(f),p.callback=null,Za(l,p,f),l=f,s.current.lanes=l,$(s,l),na(s),a[He]=s.current,Jm(a),new hd(s)},zl.version="19.2.0",zl}var DS;function D4(){if(DS)return xg.exports;DS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xg.exports=T4(),xg.exports}var O4=D4();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var OC=e=>{throw TypeError(e)},A4=(e,t,r)=>t.has(e)||OC("Cannot "+r),jg=(e,t,r)=>(A4(e,t,"read from private field"),r?r.call(e):t.get(e)),R4=(e,t,r)=>t.has(e)?OC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),OS="popstate";function M4(e={}){function t(n,i){let{pathname:o,search:c,hash:d}=n.location;return fc("",{pathname:o,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ss(i)}return q4(t,r,null,e)}function Ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function L4(){return Math.random().toString(36).substring(2,10)}function AS(e,t){return{usr:e.state,key:e.key,idx:t}}function fc(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Cs(t):t,state:r,key:t&&t.key||n||L4()}}function Ss({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Cs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function q4(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,c=i.history,d="POP",h=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let _=g(),N=_==null?null:_-m;m=_,h&&h({action:d,location:w.location,delta:N})}function b(_,N){d="PUSH";let C=fc(w.location,_,N);m=g()+1;let T=AS(C,m),A=w.createHref(C);try{c.pushState(T,"",A)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(A)}o&&h&&h({action:d,location:w.location,delta:1})}function x(_,N){d="REPLACE";let C=fc(w.location,_,N);m=g();let T=AS(C,m),A=w.createHref(C);c.replaceState(T,"",A),o&&h&&h({action:d,location:w.location,delta:0})}function S(_){return AC(_)}let w={get action(){return d},get location(){return e(i,c)},listen(_){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(OS,v),h=_,()=>{i.removeEventListener(OS,v),h=null}},createHref(_){return t(i,_)},createURL:S,encodeLocation(_){let N=S(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:x,go(_){return c.go(_)}};return w}function AC(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ss(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var Ql,RS=class{constructor(e){if(R4(this,Ql,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(jg(this,Ql).has(e))return jg(this,Ql).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){jg(this,Ql).set(e,t)}};Ql=new WeakMap;var U4=new Set(["lazy","caseSensitive","path","id","index","children"]);function P4(e){return U4.has(e)}var $4=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function z4(e){return $4.has(e)}function B4(e){return e.index===!0}function hc(e,t,r=[],n={},i=!1){return e.map((o,c)=>{let d=[...r,String(c)],h=typeof o.id=="string"?o.id:d.join("-");if(Ve(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ve(i||!n[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),B4(o)){let m={...o,...t(o),id:h};return n[h]=m,m}else{let m={...o,...t(o),id:h,children:void 0};return n[h]=m,o.children&&(m.children=hc(o.children,t,d,n,i)),m}})}function bs(e,t,r="/"){return Ad(e,t,r,!1)}function Ad(e,t,r,n){let i=typeof t=="string"?Cs(t):t,o=On(i.pathname||"/",r);if(o==null)return null;let c=RC(e);F4(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let m=eM(o);d=J4(c[h],m,n)}return d}function I4(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function RC(e,t=[],r=[],n="",i=!1){let o=(c,d,h=i,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&h)return;Ve(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let v=oa([n,g.relativePath]),b=r.concat(g);c.children&&c.children.length>0&&(Ve(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),RC(c.children,t,b,v,h)),!(c.path==null&&!c.index)&&t.push({path:v,score:W4(v,c.index),routesMeta:b})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let h of MC(c.path))o(c,d,!0,h)}),t}function MC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let c=MC(n.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),i&&d.push(...c),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function F4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:X4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var H4=/^:[\w-]+$/,K4=3,G4=2,Y4=1,V4=10,Q4=-2,MS=e=>e==="*";function W4(e,t){let r=e.split("/"),n=r.length;return r.some(MS)&&(n+=Q4),t&&(n+=G4),r.filter(i=>!MS(i)).reduce((i,o)=>i+(H4.test(o)?K4:o===""?Y4:V4),n)}function X4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function J4(e,t,r=!1){let{routesMeta:n}=e,i={},o="/",c=[];for(let d=0;d<n.length;++d){let h=n[d],m=d===n.length-1,g=o==="/"?t:t.slice(o.length)||"/",v=Jd({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),b=h.route;if(!v&&m&&r&&!n[n.length-1].route.index&&(v=Jd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:oa([o,v.pathname]),pathnameBase:aM(oa([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=oa([o,v.pathnameBase]))}return c}function Jd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Z4(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:n.reduce((m,{paramName:g,isOptional:v},b)=>{if(g==="*"){let S=d[b]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const x=d[b];return v&&!x?m[g]=void 0:m[g]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:e}}function Z4(e,t=!1,r=!0){Qt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(n.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function eM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function On(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function tM({basename:e,pathname:t}){return t==="/"?e:oa([e,t])}function rM(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Cs(e):e;return{pathname:r?r.startsWith("/")?r:nM(r,t):t,search:sM(n),hash:iM(i)}}function nM(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ng(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jf(e){let t=LC(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Nf(e,t,r,n=!1){let i;typeof e=="string"?i=Cs(e):(i={...e},Ve(!i.pathname||!i.pathname.includes("?"),Ng("?","pathname","search",i)),Ve(!i.pathname||!i.pathname.includes("#"),Ng("#","pathname","hash",i)),Ve(!i.search||!i.search.includes("#"),Ng("#","search","hash",i)));let o=e===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=r;else{let v=t.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}d=v>=0?t[v]:"/"}let h=rM(i,d),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var oa=e=>e.join("/").replace(/\/\/+/g,"/"),aM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Zd=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function mc(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var qC=["POST","PUT","PATCH","DELETE"],oM=new Set(qC),lM=["GET",...qC],cM=new Set(lM),uM=new Set([301,302,303,307,308]),dM=new Set([307,308]),kg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ub=e=>hM.test(e),mM=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),UC="remix-router-transitions",PC=Symbol("ResetLoaderData");function gM(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Ve(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],i=e.mapRouteProperties||mM,o={},c=hc(e.routes,i,void 0,o),d,h=e.basename||"/";h.startsWith("/")||(h=`/${h}`);let m=e.dataStrategy||xM,g={...e.future},v=null,b=new Set,x=null,S=null,w=null,_=e.hydrationData!=null,N=bs(c,e.history.location,h),C=!1,T=null,A;if(N==null&&!e.patchRoutesOnNavigation){let $=kn(404,{pathname:e.history.location.pathname}),{matches:G,route:ee}=pd(c);A=!0,N=G,T={[ee.id]:$}}else if(N&&!e.hydrationData&&nr(N,c,e.history.location.pathname).active&&(N=null),N)if(N.some($=>$.route.lazy))A=!1;else if(!N.some($=>db($.route)))A=!0;else{let $=e.hydrationData?e.hydrationData.loaderData:null,G=e.hydrationData?e.hydrationData.errors:null;if(G){let ee=N.findIndex(de=>G[de.route.id]!==void 0);A=N.slice(0,ee+1).every(de=>!E0(de.route,$,G))}else A=N.every(ee=>!E0(ee.route,$,G))}else{A=!1,N=[];let $=nr(null,c,e.history.location.pathname);$.active&&$.matches&&(C=!0,N=$.matches)}let L,E={historyAction:e.history.action,location:e.history.location,matches:N,initialized:A,navigation:kg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||T,fetchers:new Map,blockers:new Map},D="POP",R=!1,q,B=!1,U=new Map,K=null,V=!1,te=!1,ge=new Set,P=new Map,W=0,J=-1,me=new Map,oe=new Set,M=new Map,H=new Map,se=new Set,fe=new Map,be,xe=null;function Oe(){if(v=e.history.listen(({action:$,location:G,delta:ee})=>{if(be){be(),be=void 0;return}Qt(fe.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=Oi({currentLocation:E.location,nextLocation:G,historyAction:$});if(de&&ee!=null){let pe=new Promise(Ne=>{be=Ne});e.history.go(ee*-1),ga(de,{state:"blocked",location:G,proceed(){ga(de,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),pe.then(()=>e.history.go(ee))},reset(){let Ne=new Map(E.blockers);Ne.set(de,Bl),le({blockers:Ne})}});return}return et($,G)}),r){LM(t,U);let $=()=>qM(t,U);t.addEventListener("pagehide",$),K=()=>t.removeEventListener("pagehide",$)}return E.initialized||et("POP",E.location,{initialHydration:!0}),L}function Le(){v&&v(),K&&K(),b.clear(),q&&q.abort(),E.fetchers.forEach(($,G)=>Ir(G)),E.blockers.forEach(($,G)=>Di(G))}function ae($){return b.add($),()=>b.delete($)}function le($,G={}){$.matches&&($.matches=$.matches.map(pe=>{let Ne=o[pe.route.id],ke=pe.route;return ke.element!==Ne.element||ke.errorElement!==Ne.errorElement||ke.hydrateFallbackElement!==Ne.hydrateFallbackElement?{...pe,route:Ne}:pe})),E={...E,...$};let ee=[],de=[];E.fetchers.forEach((pe,Ne)=>{pe.state==="idle"&&(se.has(Ne)?ee.push(Ne):de.push(Ne))}),se.forEach(pe=>{!E.fetchers.has(pe)&&!P.has(pe)&&ee.push(pe)}),[...b].forEach(pe=>pe(E,{deletedFetchers:ee,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),ee.forEach(pe=>Ir(pe)),de.forEach(pe=>E.fetchers.delete(pe))}function at($,G,{flushSync:ee}={}){let de=E.actionData!=null&&E.navigation.formMethod!=null&&Wr(E.navigation.formMethod)&&E.navigation.state==="loading"&&$.state?._isRedirect!==!0,pe;G.actionData?Object.keys(G.actionData).length>0?pe=G.actionData:pe=null:de?pe=E.actionData:pe=null;let Ne=G.loaderData?HS(E.loaderData,G.loaderData,G.matches||[],G.errors):E.loaderData,ke=E.blockers;ke.size>0&&(ke=new Map(ke),ke.forEach((we,Se)=>ke.set(Se,Bl)));let _e=V?!1:Kt($,G.matches||E.matches),Ce=R===!0||E.navigation.formMethod!=null&&Wr(E.navigation.formMethod)&&$.state?._isRedirect!==!0;d&&(c=d,d=void 0),V||D==="POP"||(D==="PUSH"?e.history.push($,$.state):D==="REPLACE"&&e.history.replace($,$.state));let Te;if(D==="POP"){let we=U.get(E.location.pathname);we&&we.has($.pathname)?Te={currentLocation:E.location,nextLocation:$}:U.has($.pathname)&&(Te={currentLocation:$,nextLocation:E.location})}else if(B){let we=U.get(E.location.pathname);we?we.add($.pathname):(we=new Set([$.pathname]),U.set(E.location.pathname,we)),Te={currentLocation:E.location,nextLocation:$}}le({...G,actionData:pe,loaderData:Ne,historyAction:D,location:$,initialized:!0,navigation:kg,revalidation:"idle",restoreScrollPosition:_e,preventScrollReset:Ce,blockers:ke},{viewTransitionOpts:Te,flushSync:ee===!0}),D="POP",R=!1,B=!1,V=!1,te=!1,xe?.resolve(),xe=null}async function Pe($,G){if(typeof $=="number"){e.history.go($);return}let ee=k0(E.location,E.matches,h,$,G?.fromRouteId,G?.relative),{path:de,submission:pe,error:Ne}=LS(!1,ee,G),ke=E.location,_e=fc(E.location,de,G&&G.state);_e={..._e,...e.history.encodeLocation(_e)};let Ce=G&&G.replace!=null?G.replace:void 0,Te="PUSH";Ce===!0?Te="REPLACE":Ce===!1||pe!=null&&Wr(pe.formMethod)&&pe.formAction===E.location.pathname+E.location.search&&(Te="REPLACE");let we=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,Se=(G&&G.flushSync)===!0,He=Oi({currentLocation:ke,nextLocation:_e,historyAction:Te});if(He){ga(He,{state:"blocked",location:_e,proceed(){ga(He,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),Pe($,G)},reset(){let xt=new Map(E.blockers);xt.set(He,Bl),le({blockers:xt})}});return}await et(Te,_e,{submission:pe,pendingError:Ne,preventScrollReset:we,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:Se})}function Xe(){xe||(xe=UM()),yr(),le({revalidation:"loading"});let $=xe.promise;return E.navigation.state==="submitting"?$:E.navigation.state==="idle"?(et(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),$):(et(D||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:B===!0}),$)}async function et($,G,ee){q&&q.abort(),q=null,D=$,V=(ee&&ee.startUninterruptedRevalidation)===!0,Pt(E.location,E.matches),R=(ee&&ee.preventScrollReset)===!0,B=(ee&&ee.enableViewTransition)===!0;let de=d||c,pe=ee&&ee.overrideNavigation,Ne=ee?.initialHydration&&E.matches&&E.matches.length>0&&!C?E.matches:bs(de,G,h),ke=(ee&&ee.flushSync)===!0;if(Ne&&E.initialized&&!te&&CM(E.location,G)&&!(ee&&ee.submission&&Wr(ee.submission.formMethod))){at(G,{matches:Ne},{flushSync:ke});return}let _e=nr(Ne,de,G.pathname);if(_e.active&&_e.matches&&(Ne=_e.matches),!Ne){let{error:br,notFoundMatches:Ct,route:ut}=Wn(G.pathname);at(G,{matches:Ct,loaderData:{},errors:{[ut.id]:br}},{flushSync:ke});return}q=new AbortController;let Ce=So(e.history,G,q.signal,ee&&ee.submission),Te=e.getContext?await e.getContext():new RS,we;if(ee&&ee.pendingError)we=[xs(Ne).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Wr(ee.submission.formMethod)){let br=await Ue(Ce,G,ee.submission,Ne,Te,_e.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:ke});if(br.shortCircuited)return;if(br.pendingActionResult){let[Ct,ut]=br.pendingActionResult;if(cn(ut)&&mc(ut.error)&&ut.error.status===404){q=null,at(G,{matches:br.matches,loaderData:{},errors:{[Ct]:ut.error}});return}}Ne=br.matches||Ne,we=br.pendingActionResult,pe=Eg(G,ee.submission),ke=!1,_e.active=!1,Ce=So(e.history,Ce.url,Ce.signal)}let{shortCircuited:Se,matches:He,loaderData:xt,errors:Xt}=await ht(Ce,G,Ne,Te,_e.active,pe,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,ke,we);Se||(q=null,at(G,{matches:He||Ne,...KS(we),loaderData:xt,errors:Xt}))}async function Ue($,G,ee,de,pe,Ne,ke,_e={}){yr();let Ce=RM(G,ee);if(le({navigation:Ce},{flushSync:_e.flushSync===!0}),Ne){let Se=await ar(de,G.pathname,$.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){if(Se.partialMatches.length===0){let{matches:xt,route:Xt}=pd(c);return{matches:xt,pendingActionResult:[Xt.id,{type:"error",error:Se.error}]}}let He=xs(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[He,{type:"error",error:Se.error}]}}else if(Se.matches)de=Se.matches;else{let{notFoundMatches:He,error:xt,route:Xt}=Wn(G.pathname);return{matches:He,pendingActionResult:[Xt.id,{type:"error",error:xt}]}}}let Te,we=Rd(de,G);if(!we.route.action&&!we.route.lazy)Te={type:"error",error:kn(405,{method:$.method,pathname:G.pathname,routeId:we.route.id})};else{let Se=Eo(i,o,$,de,we,ke?[]:n,pe),He=await ft($,Se,pe,null);if(Te=He[we.route.id],!Te){for(let xt of de)if(He[xt.route.id]){Te=He[xt.route.id];break}}if($.signal.aborted)return{shortCircuited:!0}}if(oi(Te)){let Se;return _e&&_e.replace!=null?Se=_e.replace:Se=BS(Te.response.headers.get("Location"),new URL($.url),h)===E.location.pathname+E.location.search,await gt($,Te,!0,{submission:ee,replace:Se}),{shortCircuited:!0}}if(cn(Te)){let Se=xs(de,we.route.id);return(_e&&_e.replace)!==!0&&(D="PUSH"),{matches:de,pendingActionResult:[Se.route.id,Te,we.route.id]}}return{matches:de,pendingActionResult:[we.route.id,Te]}}async function ht($,G,ee,de,pe,Ne,ke,_e,Ce,Te,we,Se){let He=Ne||Eg(G,ke),xt=ke||_e||YS(He),Xt=!V&&!Te;if(pe){if(Xt){let hr=Be(Se);le({navigation:He,...hr!==void 0?{actionData:hr}:{}},{flushSync:we})}let Ke=await ar(ee,G.pathname,$.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){if(Ke.partialMatches.length===0){let{matches:pa,route:Zn}=pd(c);return{matches:pa,loaderData:{},errors:{[Zn.id]:Ke.error}}}let hr=xs(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[hr]:Ke.error}}}else if(Ke.matches)ee=Ke.matches;else{let{error:hr,notFoundMatches:pa,route:Zn}=Wn(G.pathname);return{matches:pa,loaderData:{},errors:{[Zn.id]:hr}}}}let br=d||c,{dsMatches:Ct,revalidatingFetchers:ut}=qS($,de,i,o,e.history,E,ee,xt,G,Te?[]:n,Te===!0,te,ge,se,M,oe,br,h,e.patchRoutesOnNavigation!=null,Se);if(J=++W,!e.dataStrategy&&!Ct.some(Ke=>Ke.shouldLoad)&&!Ct.some(Ke=>Ke.route.middleware&&Ke.route.middleware.length>0)&&ut.length===0){let Ke=Ae();return at(G,{matches:ee,loaderData:{},errors:Se&&cn(Se[1])?{[Se[0]]:Se[1].error}:null,...KS(Se),...Ke?{fetchers:new Map(E.fetchers)}:{}},{flushSync:we}),{shortCircuited:!0}}if(Xt){let Ke={};if(!pe){Ke.navigation=He;let hr=Be(Se);hr!==void 0&&(Ke.actionData=hr)}ut.length>0&&(Ke.fetchers=dr(ut)),le(Ke,{flushSync:we})}ut.forEach(Ke=>{ve(Ke.key),Ke.controller&&P.set(Ke.key,Ke.controller)});let Un=()=>ut.forEach(Ke=>ve(Ke.key));q&&q.signal.addEventListener("abort",Un);let{loaderResults:hn,fetcherResults:Mr}=await nt(Ct,ut,$,de);if($.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",Un),ut.forEach(Ke=>P.delete(Ke.key));let Cr=vd(hn);if(Cr)return await gt($,Cr.result,!0,{replace:Ce}),{shortCircuited:!0};if(Cr=vd(Mr),Cr)return oe.add(Cr.key),await gt($,Cr.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:Xn,errors:Mt}=FS(E,ee,hn,Se,ut,Mr);Te&&E.errors&&(Mt={...E.errors,...Mt});let Jn=Ae(),Rs=st(J),mn=Jn||Rs||ut.length>0;return{matches:ee,loaderData:Xn,errors:Mt,...mn?{fetchers:new Map(E.fetchers)}:{}}}function Be($){if($&&!cn($[1]))return{[$[0]]:$[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function dr($){return $.forEach(G=>{let ee=E.fetchers.get(G.key),de=Il(void 0,ee?ee.data:void 0);E.fetchers.set(G.key,de)}),new Map(E.fetchers)}async function Wt($,G,ee,de){ve($);let pe=(de&&de.flushSync)===!0,Ne=d||c,ke=k0(E.location,E.matches,h,ee,G,de?.relative),_e=bs(Ne,ke,h),Ce=nr(_e,Ne,ke);if(Ce.active&&Ce.matches&&(_e=Ce.matches),!_e){jt($,G,kn(404,{pathname:ke}),{flushSync:pe});return}let{path:Te,submission:we,error:Se}=LS(!0,ke,de);if(Se){jt($,G,Se,{flushSync:pe});return}let He=e.getContext?await e.getContext():new RS,xt=(de&&de.preventScrollReset)===!0;if(we&&Wr(we.formMethod)){await bt($,G,Te,_e,He,Ce.active,pe,xt,we);return}M.set($,{routeId:G,path:Te}),await mt($,G,Te,_e,He,Ce.active,pe,xt,we)}async function bt($,G,ee,de,pe,Ne,ke,_e,Ce){yr(),M.delete($);let Te=E.fetchers.get($);Ht($,MM(Ce,Te),{flushSync:ke});let we=new AbortController,Se=So(e.history,ee,we.signal,Ce);if(Ne){let Gt=await ar(de,new URL(Se.url).pathname,Se.signal,$);if(Gt.type==="aborted")return;if(Gt.type==="error"){jt($,G,Gt.error,{flushSync:ke});return}else if(Gt.matches)de=Gt.matches;else{jt($,G,kn(404,{pathname:ee}),{flushSync:ke});return}}let He=Rd(de,ee);if(!He.route.action&&!He.route.lazy){let Gt=kn(405,{method:Ce.formMethod,pathname:ee,routeId:G});jt($,G,Gt,{flushSync:ke});return}P.set($,we);let xt=W,Xt=Eo(i,o,Se,de,He,n,pe),Ct=(await ft(Se,Xt,pe,$))[He.route.id];if(Se.signal.aborted){P.get($)===we&&P.delete($);return}if(se.has($)){if(oi(Ct)||cn(Ct)){Ht($,qa(void 0));return}}else{if(oi(Ct))if(P.delete($),J>xt){Ht($,qa(void 0));return}else return oe.add($),Ht($,Il(Ce)),gt(Se,Ct,!1,{fetcherSubmission:Ce,preventScrollReset:_e});if(cn(Ct)){jt($,G,Ct.error);return}}let ut=E.navigation.location||E.location,Un=So(e.history,ut,we.signal),hn=d||c,Mr=E.navigation.state!=="idle"?bs(hn,E.navigation.location,h):E.matches;Ve(Mr,"Didn't find any matches after fetcher action");let Cr=++W;me.set($,Cr);let Xn=Il(Ce,Ct.data);E.fetchers.set($,Xn);let{dsMatches:Mt,revalidatingFetchers:Jn}=qS(Un,pe,i,o,e.history,E,Mr,Ce,ut,n,!1,te,ge,se,M,oe,hn,h,e.patchRoutesOnNavigation!=null,[He.route.id,Ct]);Jn.filter(Gt=>Gt.key!==$).forEach(Gt=>{let va=Gt.key,Ms=E.fetchers.get(va),Pn=Il(void 0,Ms?Ms.data:void 0);E.fetchers.set(va,Pn),ve(va),Gt.controller&&P.set(va,Gt.controller)}),le({fetchers:new Map(E.fetchers)});let Rs=()=>Jn.forEach(Gt=>ve(Gt.key));we.signal.addEventListener("abort",Rs);let{loaderResults:mn,fetcherResults:Ke}=await nt(Mt,Jn,Un,pe);if(we.signal.aborted)return;if(we.signal.removeEventListener("abort",Rs),me.delete($),P.delete($),Jn.forEach(Gt=>P.delete(Gt.key)),E.fetchers.has($)){let Gt=qa(Ct.data);E.fetchers.set($,Gt)}let hr=vd(mn);if(hr)return gt(Un,hr.result,!1,{preventScrollReset:_e});if(hr=vd(Ke),hr)return oe.add(hr.key),gt(Un,hr.result,!1,{preventScrollReset:_e});let{loaderData:pa,errors:Zn}=FS(E,Mr,mn,void 0,Jn,Ke);st(Cr),E.navigation.state==="loading"&&Cr>J?(Ve(D,"Expected pending action"),q&&q.abort(),at(E.navigation.location,{matches:Mr,loaderData:pa,errors:Zn,fetchers:new Map(E.fetchers)})):(le({errors:Zn,loaderData:HS(E.loaderData,pa,Mr,Zn),fetchers:new Map(E.fetchers)}),te=!1)}async function mt($,G,ee,de,pe,Ne,ke,_e,Ce){let Te=E.fetchers.get($);Ht($,Il(Ce,Te?Te.data:void 0),{flushSync:ke});let we=new AbortController,Se=So(e.history,ee,we.signal);if(Ne){let ut=await ar(de,new URL(Se.url).pathname,Se.signal,$);if(ut.type==="aborted")return;if(ut.type==="error"){jt($,G,ut.error,{flushSync:ke});return}else if(ut.matches)de=ut.matches;else{jt($,G,kn(404,{pathname:ee}),{flushSync:ke});return}}let He=Rd(de,ee);P.set($,we);let xt=W,Xt=Eo(i,o,Se,de,He,n,pe),Ct=(await ft(Se,Xt,pe,$))[He.route.id];if(P.get($)===we&&P.delete($),!Se.signal.aborted){if(se.has($)){Ht($,qa(void 0));return}if(oi(Ct))if(J>xt){Ht($,qa(void 0));return}else{oe.add($),await gt(Se,Ct,!1,{preventScrollReset:_e});return}if(cn(Ct)){jt($,G,Ct.error);return}Ht($,qa(Ct.data))}}async function gt($,G,ee,{submission:de,fetcherSubmission:pe,preventScrollReset:Ne,replace:ke}={}){G.response.headers.has("X-Remix-Revalidate")&&(te=!0);let _e=G.response.headers.get("Location");Ve(_e,"Expected a Location header on the redirect Response"),_e=BS(_e,new URL($.url),h);let Ce=fc(E.location,_e,{_isRedirect:!0});if(r){let Xt=!1;if(G.response.headers.has("X-Remix-Reload-Document"))Xt=!0;else if(ub(_e)){const br=AC(_e,!0);Xt=br.origin!==t.location.origin||On(br.pathname,h)==null}if(Xt){ke?t.location.replace(_e):t.location.assign(_e);return}}q=null;let Te=ke===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:we,formAction:Se,formEncType:He}=E.navigation;!de&&!pe&&we&&Se&&He&&(de=YS(E.navigation));let xt=de||pe;if(dM.has(G.response.status)&&xt&&Wr(xt.formMethod))await et(Te,Ce,{submission:{...xt,formAction:_e},preventScrollReset:Ne||R,enableViewTransition:ee?B:void 0});else{let Xt=Eg(Ce,de);await et(Te,Ce,{overrideNavigation:Xt,fetcherSubmission:pe,preventScrollReset:Ne||R,enableViewTransition:ee?B:void 0})}}async function ft($,G,ee,de){let pe,Ne={};try{pe=await _M(m,$,G,de,ee,!1)}catch(ke){return G.filter(_e=>_e.shouldLoad).forEach(_e=>{Ne[_e.route.id]={type:"error",error:ke}}),Ne}if($.signal.aborted)return Ne;for(let[ke,_e]of Object.entries(pe))if(OM(_e)){let Ce=_e.result;Ne[ke]={type:"redirect",response:kM(Ce,$,ke,G,h)}}else Ne[ke]=await NM(_e);return Ne}async function nt($,G,ee,de){let pe=ft(ee,$,de,null),Ne=Promise.all(G.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let we=(await ft(Ce.request,Ce.matches,de,Ce.key))[Ce.match.route.id];return{[Ce.key]:we}}else return Promise.resolve({[Ce.key]:{type:"error",error:kn(404,{pathname:Ce.path})}})})),ke=await pe,_e=(await Ne).reduce((Ce,Te)=>Object.assign(Ce,Te),{});return{loaderResults:ke,fetcherResults:_e}}function yr(){te=!0,M.forEach(($,G)=>{P.has(G)&&ge.add(G),ve(G)})}function Ht($,G,ee={}){E.fetchers.set($,G),le({fetchers:new Map(E.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function jt($,G,ee,de={}){let pe=xs(E.matches,G);Ir($),le({errors:{[pe.route.id]:ee},fetchers:new Map(E.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function Et($){return H.set($,(H.get($)||0)+1),se.has($)&&se.delete($),E.fetchers.get($)||fM}function Br($,G){ve($,G?.reason),Ht($,qa(null))}function Ir($){let G=E.fetchers.get($);P.has($)&&!(G&&G.state==="loading"&&me.has($))&&ve($),M.delete($),me.delete($),oe.delete($),se.delete($),ge.delete($),E.fetchers.delete($)}function re($){let G=(H.get($)||0)-1;G<=0?(H.delete($),se.add($)):H.set($,G),le({fetchers:new Map(E.fetchers)})}function ve($,G){let ee=P.get($);ee&&(ee.abort(G),P.delete($))}function Re($){for(let G of $){let ee=Et(G),de=qa(ee.data);E.fetchers.set(G,de)}}function Ae(){let $=[],G=!1;for(let ee of oe){let de=E.fetchers.get(ee);Ve(de,`Expected fetcher: ${ee}`),de.state==="loading"&&(oe.delete(ee),$.push(ee),G=!0)}return Re($),G}function st($){let G=[];for(let[ee,de]of me)if(de<$){let pe=E.fetchers.get(ee);Ve(pe,`Expected fetcher: ${ee}`),pe.state==="loading"&&(ve(ee),me.delete(ee),G.push(ee))}return Re(G),G.length>0}function it($,G){let ee=E.blockers.get($)||Bl;return fe.get($)!==G&&fe.set($,G),ee}function Di($){E.blockers.delete($),fe.delete($)}function ga($,G){let ee=E.blockers.get($)||Bl;Ve(ee.state==="unblocked"&&G.state==="blocked"||ee.state==="blocked"&&G.state==="blocked"||ee.state==="blocked"&&G.state==="proceeding"||ee.state==="blocked"&&G.state==="unblocked"||ee.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${G.state}`);let de=new Map(E.blockers);de.set($,G),le({blockers:de})}function Oi({currentLocation:$,nextLocation:G,historyAction:ee}){if(fe.size===0)return;fe.size>1&&Qt(!1,"A router only supports one blocker at a time");let de=Array.from(fe.entries()),[pe,Ne]=de[de.length-1],ke=E.blockers.get(pe);if(!(ke&&ke.state==="proceeding")&&Ne({currentLocation:$,nextLocation:G,historyAction:ee}))return pe}function Wn($){let G=kn(404,{pathname:$}),ee=d||c,{matches:de,route:pe}=pd(ee);return{notFoundMatches:de,route:pe,error:G}}function Ka($,G,ee){if(x=$,w=G,S=ee||null,!_&&E.navigation===kg){_=!0;let de=Kt(E.location,E.matches);de!=null&&le({restoreScrollPosition:de})}return()=>{x=null,w=null,S=null}}function Rt($,G){return S&&S($,G.map(de=>I4(de,E.loaderData)))||$.key}function Pt($,G){if(x&&w){let ee=Rt($,G);x[ee]=w()}}function Kt($,G){if(x){let ee=Rt($,G),de=x[ee];if(typeof de=="number")return de}return null}function nr($,G,ee){if(e.patchRoutesOnNavigation)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:Ad(G,ee,h,!0)}}else return{active:!0,matches:Ad(G,ee,h,!0)||[]};return{active:!1,matches:null}}async function ar($,G,ee,de){if(!e.patchRoutesOnNavigation)return{type:"success",matches:$};let pe=$;for(;;){let Ne=d==null,ke=d||c,_e=o;try{await e.patchRoutesOnNavigation({signal:ee,path:G,matches:pe,fetcherKey:de,patch:(we,Se)=>{ee.aborted||US(we,Se,ke,_e,i,!1)}})}catch(we){return{type:"error",error:we,partialMatches:pe}}finally{Ne&&!ee.aborted&&(c=[...c])}if(ee.aborted)return{type:"aborted"};let Ce=bs(ke,G,h);if(Ce)return{type:"success",matches:Ce};let Te=Ad(ke,G,h,!0);if(!Te||pe.length===Te.length&&pe.every((we,Se)=>we.route.id===Te[Se].route.id))return{type:"success",matches:null};pe=Te}}function fr($){o={},d=hc($,i,void 0,o)}function Er($,G,ee=!1){let de=d==null;US($,G,d||c,o,i,ee),de&&(c=[...c],le({}))}return L={get basename(){return h},get future(){return g},get state(){return E},get routes(){return c},get window(){return t},initialize:Oe,subscribe:ae,enableScrollRestoration:Ka,navigate:Pe,fetch:Wt,revalidate:Xe,createHref:$=>e.history.createHref($),encodeLocation:$=>e.history.encodeLocation($),getFetcher:Et,resetFetcher:Br,deleteFetcher:re,dispose:Le,getBlocker:it,deleteBlocker:Di,patchRoutes:Er,_internalFetchControllers:P,_internalSetRoutes:fr,_internalSetStateDoNotUseOrYouWillBreakYourApp($){le($)}},L}function pM(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function k0(e,t,r,n,i,o){let c,d;if(i){c=[];for(let m of t)if(c.push(m),m.route.id===i){d=m;break}}else c=t,d=t[t.length-1];let h=Nf(n||".",jf(c),On(e.pathname,r)||e.pathname,o==="path");if(n==null&&(h.search=e.search,h.hash=e.hash),(n==null||n===""||n===".")&&d){let m=fb(h.search);if(d.route.index&&!m)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let g=new URLSearchParams(h.search),v=g.getAll("index");g.delete("index"),v.filter(x=>x).forEach(x=>g.append("index",x));let b=g.toString();h.search=b?`?${b}`:""}}return r!=="/"&&(h.pathname=tM({basename:r,pathname:h.pathname})),Ss(h)}function LS(e,t,r){if(!r||!pM(r))return{path:t};if(r.formMethod&&!AM(r.formMethod))return{path:t,error:kn(405,{method:r.formMethod})};let n=()=>({path:t,error:kn(400,{type:"invalid-body"})}),o=(r.formMethod||"get").toUpperCase(),c=HC(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Wr(o))return n();let v=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,[x,S])=>`${b}${x}=${S}
`,""):String(r.body);return{path:t,submission:{formMethod:o,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:v}}}else if(r.formEncType==="application/json"){if(!Wr(o))return n();try{let v=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:o,formAction:c,formEncType:r.formEncType,formData:void 0,json:v,text:void 0}}}catch{return n()}}}Ve(typeof FormData=="function","FormData is not available in this environment");let d,h;if(r.formData)d=T0(r.formData),h=r.formData;else if(r.body instanceof FormData)d=T0(r.body),h=r.body;else if(r.body instanceof URLSearchParams)d=r.body,h=IS(d);else if(r.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(r.body),h=IS(d)}catch{return n()}let m={formMethod:o,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Wr(m.formMethod))return{path:t,submission:m};let g=Cs(t);return e&&g.search&&fb(g.search)&&d.append("index",""),g.search=`?${d}`,{path:Ss(g),submission:m}}function qS(e,t,r,n,i,o,c,d,h,m,g,v,b,x,S,w,_,N,C,T){let A=T?cn(T[1])?T[1].error:T[1].data:void 0,L=i.createURL(o.location),E=i.createURL(h),D;if(g&&o.errors){let V=Object.keys(o.errors)[0];D=c.findIndex(te=>te.route.id===V)}else if(T&&cn(T[1])){let V=T[0];D=c.findIndex(te=>te.route.id===V)-1}let R=T?T[1].statusCode:void 0,q=R&&R>=400,B={currentUrl:L,currentParams:o.matches[0]?.params||{},nextUrl:E,nextParams:c[0].params,...d,actionResult:A,actionStatus:R},U=c.map((V,te)=>{let{route:ge}=V,P=null;if(D!=null&&te>D?P=!1:ge.lazy?P=!0:db(ge)?g?P=E0(ge,o.loaderData,o.errors):vM(o.loaderData,o.matches[te],V)&&(P=!0):P=!1,P!==null)return C0(r,n,e,V,m,t,P);let W=q?!1:v||L.pathname+L.search===E.pathname+E.search||L.search!==E.search||yM(o.matches[te],V),J={...B,defaultShouldRevalidate:W},me=ef(V,J);return C0(r,n,e,V,m,t,me,J)}),K=[];return S.forEach((V,te)=>{if(g||!c.some(H=>H.route.id===V.routeId)||x.has(te))return;let ge=o.fetchers.get(te),P=ge&&ge.state!=="idle"&&ge.data===void 0,W=bs(_,V.path,N);if(!W){if(C&&P)return;K.push({key:te,routeId:V.routeId,path:V.path,matches:null,match:null,request:null,controller:null});return}if(w.has(te))return;let J=Rd(W,V.path),me=new AbortController,oe=So(i,V.path,me.signal),M=null;if(b.has(te))b.delete(te),M=Eo(r,n,oe,W,J,m,t);else if(P)v&&(M=Eo(r,n,oe,W,J,m,t));else{let H={...B,defaultShouldRevalidate:q?!1:v};ef(J,H)&&(M=Eo(r,n,oe,W,J,m,t,H))}M&&K.push({key:te,routeId:V.routeId,path:V.path,matches:M,match:J,request:oe,controller:me})}),{dsMatches:U,revalidatingFetchers:K}}function db(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function E0(e,t,r){if(e.lazy)return!0;if(!db(e))return!1;let n=t!=null&&e.id in t,i=r!=null&&r[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function vM(e,t,r){let n=!t||r.route.id!==t.route.id,i=!e.hasOwnProperty(r.route.id);return n||i}function yM(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function ef(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function US(e,t,r,n,i,o){let c;if(e){let m=n[e];Ve(m,`No route found to patch children into: routeId = ${e}`),m.children||(m.children=[]),c=m.children}else c=r;let d=[],h=[];if(t.forEach(m=>{let g=c.find(v=>$C(m,v));g?h.push({existingRoute:g,newRoute:m}):d.push(m)}),d.length>0){let m=hc(d,i,[e||"_","patch",String(c?.length||"0")],n);c.push(...m)}if(o&&h.length>0)for(let m=0;m<h.length;m++){let{existingRoute:g,newRoute:v}=h[m],b=g,[x]=hc([v],i,[],{},!0);Object.assign(b,{element:x.element?x.element:b.element,errorElement:x.errorElement?x.errorElement:b.errorElement,hydrateFallbackElement:x.hydrateFallbackElement?x.hydrateFallbackElement:b.hydrateFallbackElement})}}function $C(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>t.children?.some(i=>$C(r,i))):!1}var PS=new WeakMap,zC=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let i=r[t.id];if(Ve(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[e];if(!o)return;let c=PS.get(i);c||(c={},PS.set(i,c));let d=c[e];if(d)return d;let h=(async()=>{let m=P4(e),v=i[e]!==void 0&&e!=="hasErrorBoundary";if(m)Qt(!m,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(v)Qt(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=await o();b!=null&&(Object.assign(i,{[e]:b}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(b=>b===void 0)&&(i.lazy=void 0))})();return c[e]=h,h},$S=new WeakMap;function bM(e,t,r,n,i){let o=r[e.id];if(Ve(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let g=$S.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let v=(async()=>{Ve(typeof e.lazy=="function","No lazy route function found");let b=await e.lazy(),x={};for(let S in b){let w=b[S];if(w===void 0)continue;let _=z4(S),C=o[S]!==void 0&&S!=="hasErrorBoundary";_?Qt(!_,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):C?Qt(!C,`Route "${o.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):x[S]=w}Object.assign(o,x),Object.assign(o,{...n(o),lazy:void 0})})();return $S.set(o,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let c=Object.keys(e.lazy),d=[],h;for(let g of c){if(i&&i.includes(g))continue;let v=zC({key:g,route:e,manifest:r,mapRouteProperties:n});v&&(d.push(v),g===t&&(h=v))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m?.catch(()=>{}),h?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:h}}async function zS(e){let t=e.matches.filter(i=>i.shouldLoad),r={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,o)=>{r[t[o].route.id]=i}),r}async function xM(e){return e.matches.some(t=>t.route.middleware)?BC(e,()=>zS(e)):zS(e)}function BC(e,t){return wM(e,t,n=>n,TM,r);function r(n,i,o){if(o)return Promise.resolve(Object.assign(o.value,{[i]:{type:"error",result:n}}));{let{matches:c}=e,d=Math.min(Math.max(c.findIndex(m=>m.route.id===i),0),Math.max(c.findIndex(m=>m.unstable_shouldCallHandler()),0)),h=xs(c,c[d].route.id).route.id;return Promise.resolve({[h]:{type:"error",result:n}})}}}async function wM(e,t,r,n,i){let{matches:o,request:c,params:d,context:h}=e,m=o.flatMap(v=>v.route.middleware?v.route.middleware.map(b=>[v.route.id,b]):[]);return await IC({request:c,params:d,context:h},m,t,r,n,i)}async function IC(e,t,r,n,i,o,c=0){let{request:d}=e;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let h=t[c];if(!h)return await r();let[m,g]=h,v,b=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");try{return v={value:await IC(e,t,r,n,i,o,c+1)},v.value}catch(x){return v={value:await o(x,m,v)},v.value}};try{let x=await g(e,b),S=x!=null?n(x):void 0;return i(S)?S:v?S??v.value:(v={value:await b()},v.value)}catch(x){return await o(x,m,v)}}function FC(e,t,r,n,i){let o=zC({key:"middleware",route:n.route,manifest:t,mapRouteProperties:e}),c=bM(n.route,Wr(r.method)?"action":"loader",t,e,i);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function C0(e,t,r,n,i,o,c,d=null){let h=!1,m=FC(e,t,r,n,i);return{...n,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(g){return h=!0,d?typeof g=="boolean"?ef(n,{...d,defaultShouldRevalidate:g}):ef(n,d):c},resolve(g){let{lazy:v,loader:b,middleware:x}=n.route,S=h||c||g&&!Wr(r.method)&&(v||b),w=x&&x.length>0&&!b&&!v;return S&&!w?SM({request:r,match:n,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Eo(e,t,r,n,i,o,c,d=null){return n.map(h=>h.route.id!==i.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:FC(e,t,r,h,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:C0(e,t,r,h,o,c,!0,d))}async function _M(e,t,r,n,i,o){r.some(m=>m._lazyPromises?.middleware)&&await Promise.all(r.map(m=>m._lazyPromises?.middleware));let c={request:t,params:r[0].params,context:i,matches:r},h=await e({...c,fetcherKey:n,runClientMiddleware:m=>{let g=c;return BC(g,()=>m({...g,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return h}async function SM({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:i,scopedContext:o}){let c,d,h=Wr(e.method),m=h?"action":"loader",g=v=>{let b,x=new Promise((_,N)=>b=N);d=()=>b(),e.signal.addEventListener("abort",d);let S=_=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${t.route.id}]`)):v({request:e,params:t.params,context:o},..._!==void 0?[_]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(N=>S(N)):S())}}catch(_){return{type:"error",result:_}}})();return Promise.race([w,x])};try{let v=h?t.route.action:t.route.loader;if(r||n)if(v){let b,[x]=await Promise.all([g(v).catch(S=>{b=S}),r,n]);if(b!==void 0)throw b;c=x}else{await r;let b=h?t.route.action:t.route.loader;if(b)[c]=await Promise.all([g(b),n]);else if(m==="action"){let x=new URL(e.url),S=x.pathname+x.search;throw kn(405,{method:e.method,pathname:S,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(v)c=await g(v);else{let b=new URL(e.url),x=b.pathname+b.search;throw kn(404,{pathname:x})}}catch(v){return{type:"error",result:v}}finally{d&&e.signal.removeEventListener("abort",d)}return c}async function jM(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function NM(e){let{result:t,type:r}=e;if(KC(t)){let n;try{n=await jM(t)}catch(i){return{type:"error",error:i}}return r==="error"?{type:"error",error:new Zd(t.status,t.statusText,n),statusCode:t.status,headers:t.headers}:{type:"data",data:n,statusCode:t.status,headers:t.headers}}return r==="error"?GS(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Zd(t.init?.status||500,void 0,t.data),statusCode:mc(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:mc(t)?t.status:void 0}:GS(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function kM(e,t,r,n,i){let o=e.headers.get("Location");if(Ve(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ub(o)){let c=n.slice(0,n.findIndex(d=>d.route.id===r)+1);o=k0(new URL(t.url),c,i,o),e.headers.set("Location",o)}return e}function BS(e,t,r){if(ub(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),o=On(i.pathname,r)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function So(e,t,r,n){let i=e.createURL(HC(t)).toString(),o={signal:r};if(n&&Wr(n.formMethod)){let{formMethod:c,formEncType:d}=n;o.method=c.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(n.json)):d==="text/plain"?o.body=n.text:d==="application/x-www-form-urlencoded"&&n.formData?o.body=T0(n.formData):o.body=n.formData}return new Request(i,o)}function T0(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function IS(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function EM(e,t,r,n=!1,i=!1){let o={},c=null,d,h=!1,m={},g=r&&cn(r[1])?r[1].error:void 0;return e.forEach(v=>{if(!(v.route.id in t))return;let b=v.route.id,x=t[b];if(Ve(!oi(x),"Cannot handle redirect results in processLoaderData"),cn(x)){let S=x.error;if(g!==void 0&&(S=g,g=void 0),c=c||{},i)c[b]=S;else{let w=xs(e,b);c[w.route.id]==null&&(c[w.route.id]=S)}n||(o[b]=PC),h||(h=!0,d=mc(x.error)?x.error.status:500),x.headers&&(m[b]=x.headers)}else o[b]=x.data,x.statusCode&&x.statusCode!==200&&!h&&(d=x.statusCode),x.headers&&(m[b]=x.headers)}),g!==void 0&&r&&(c={[r[0]]:g},r[2]&&(o[r[2]]=void 0)),{loaderData:o,errors:c,statusCode:d||200,loaderHeaders:m}}function FS(e,t,r,n,i,o){let{loaderData:c,errors:d}=EM(t,r,n);return i.filter(h=>!h.matches||h.matches.some(m=>m.shouldLoad)).forEach(h=>{let{key:m,match:g,controller:v}=h;if(v&&v.signal.aborted)return;let b=o[m];if(Ve(b,"Did not find corresponding fetcher result"),cn(b)){let x=xs(e.matches,g?.route.id);d&&d[x.route.id]||(d={...d,[x.route.id]:b.error}),e.fetchers.delete(m)}else if(oi(b))Ve(!1,"Unhandled fetcher revalidation redirect");else{let x=qa(b.data);e.fetchers.set(m,x)}}),{loaderData:c,errors:d}}function HS(e,t,r,n){let i=Object.entries(t).filter(([,o])=>o!==PC).reduce((o,[c,d])=>(o[c]=d,o),{});for(let o of r){let c=o.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&o.route.loader&&(i[c]=e[c]),n&&n.hasOwnProperty(c))break}return i}function KS(e){return e?cn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function xs(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function pd(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function kn(e,{pathname:t,routeId:r,method:n,type:i,message:o}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(c="Bad Request",n&&t&&r?d=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:i==="invalid-body"&&(d="Unable to encode submission body")):e===403?(c="Forbidden",d=`Route "${r}" does not match URL "${t}"`):e===404?(c="Not Found",d=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",n&&t&&r?d=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(d=`Invalid request method "${n.toUpperCase()}"`)),new Zd(e||500,c,new Error(d),!0)}function vd(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,i]=t[r];if(oi(i))return{key:n,result:i}}}function HC(e){let t=typeof e=="string"?Cs(e):e;return Ss({...t,hash:""})}function CM(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function TM(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&DM(r))}function DM(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function OM(e){return KC(e.result)&&uM.has(e.result.status)}function cn(e){return e.type==="error"}function oi(e){return(e&&e.type)==="redirect"}function GS(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function KC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function AM(e){return cM.has(e.toUpperCase())}function Wr(e){return oM.has(e.toUpperCase())}function fb(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Rd(e,t){let r=typeof t=="string"?Cs(t).search:t.search;if(e[e.length-1].route.index&&fb(r||""))return e[e.length-1];let n=LC(e);return n[n.length-1]}function YS(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:o,json:c}=e;if(!(!t||!r||!n)){if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:c,text:void 0}}}function Eg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function RM(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Il(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function MM(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function qa(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function LM(e,t){try{let r=e.sessionStorage.getItem(UC);if(r){let n=JSON.parse(r);for(let[i,o]of Object.entries(n||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function qM(e,t){if(t.size>0){let r={};for(let[n,i]of t)r[n]=[...i];try{e.sessionStorage.setItem(UC,JSON.stringify(r))}catch(n){Qt(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function UM(){let e,t,r=new Promise((n,i)=>{e=async o=>{n(o);try{await r}catch{}},t=async o=>{i(o);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Ni=k.createContext(null);Ni.displayName="DataRouter";var qc=k.createContext(null);qc.displayName="DataRouterState";k.createContext(!1);var hb=k.createContext({isTransitioning:!1});hb.displayName="ViewTransition";var GC=k.createContext(new Map);GC.displayName="Fetchers";var PM=k.createContext(null);PM.displayName="Await";var Qn=k.createContext(null);Qn.displayName="Navigation";var kf=k.createContext(null);kf.displayName="Location";var Mn=k.createContext({outlet:null,matches:[],isDataRoute:!1});Mn.displayName="Route";var mb=k.createContext(null);mb.displayName="RouteError";function $M(e,{relative:t}={}){Ve(zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=k.useContext(Qn),{hash:i,pathname:o,search:c}=Pc(e,{relative:t}),d=o;return r!=="/"&&(d=o==="/"?r:oa([r,o])),n.createHref({pathname:d,search:c,hash:i})}function zo(){return k.useContext(kf)!=null}function da(){return Ve(zo(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(kf).location}var YC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VC(e){k.useContext(Qn).static||k.useLayoutEffect(e)}function Uc(){let{isDataRoute:e}=k.useContext(Mn);return e?e3():zM()}function zM(){Ve(zo(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Ni),{basename:t,navigator:r}=k.useContext(Qn),{matches:n}=k.useContext(Mn),{pathname:i}=da(),o=JSON.stringify(jf(n)),c=k.useRef(!1);return VC(()=>{c.current=!0}),k.useCallback((h,m={})=>{if(Qt(c.current,YC),!c.current)return;if(typeof h=="number"){r.go(h);return}let g=Nf(h,JSON.parse(o),i,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:oa([t,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[t,r,o,i,e])}var BM=k.createContext(null);function IM(e){let t=k.useContext(Mn).outlet;return k.useMemo(()=>t&&k.createElement(BM.Provider,{value:e},t),[t,e])}function Fa(){let{matches:e}=k.useContext(Mn),t=e[e.length-1];return t?t.params:{}}function Pc(e,{relative:t}={}){let{matches:r}=k.useContext(Mn),{pathname:n}=da(),i=JSON.stringify(jf(r));return k.useMemo(()=>Nf(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function FM(e,t,r,n,i){Ve(zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(Qn),{matches:c}=k.useContext(Mn),d=c[c.length-1],h=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let C=v&&v.path||"";QC(m,!v||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=da(),x;x=b;let S=x.pathname||"/",w=S;if(g!=="/"){let C=g.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=bs(e,{pathname:w});return Qt(v||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Qt(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),VM(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:oa([g,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:oa([g,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),c,r,n,i)}function HM(){let e=ZM(),t=mc(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:i},r):null,c)}var KM=k.createElement(HM,null),GM=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(Mn.Provider,{value:this.props.routeContext},k.createElement(mb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YM({routeContext:e,match:t,children:r}){let n=k.useContext(Ni);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Mn.Provider,{value:e},r)}function VM(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=r?.errors;if(c!=null){let m=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Ve(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,h=-1;if(r)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:v,errors:b}=r,x=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||x){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let b,x=!1,S=null,w=null;r&&(b=c&&g.route.id?c[g.route.id]:void 0,S=g.route.errorElement||KM,d&&(h<0&&v===0?(QC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):h===v&&(x=!0,w=g.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,v+1)),N=()=>{let C;return b?C=S:x?C=w:g.route.Component?C=k.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=m,k.createElement(YM,{match:g,routeContext:{outlet:m,matches:_,isDataRoute:r!=null},children:C})};return r&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?k.createElement(GM,{location:r.location,revalidation:r.revalidation,component:S,error:b,children:N(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):N()},null)}function gb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QM(e){let t=k.useContext(Ni);return Ve(t,gb(e)),t}function WM(e){let t=k.useContext(qc);return Ve(t,gb(e)),t}function XM(e){let t=k.useContext(Mn);return Ve(t,gb(e)),t}function pb(e){let t=XM(e),r=t.matches[t.matches.length-1];return Ve(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function JM(){return pb("useRouteId")}function ZM(){let e=k.useContext(mb),t=WM("useRouteError"),r=pb("useRouteError");return e!==void 0?e:t.errors?.[r]}function e3(){let{router:e}=QM("useNavigate"),t=pb("useNavigate"),r=k.useRef(!1);return VC(()=>{r.current=!0}),k.useCallback(async(i,o={})=>{Qt(r.current,YC),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var VS={};function QC(e,t,r){!t&&!VS[e]&&(VS[e]=!0,Qt(!1,r))}var QS={};function WS(e,t){!e&&!QS[t]&&(QS[t]=!0,console.warn(t))}function t3(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:k.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:k.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:k.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var r3=["HydrateFallback","hydrateFallbackElement"],n3=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function a3({router:e,flushSync:t,unstable_onError:r}){let[n,i]=k.useState(e.state),[o,c]=k.useState(),[d,h]=k.useState({isTransitioning:!1}),[m,g]=k.useState(),[v,b]=k.useState(),[x,S]=k.useState(),w=k.useRef(new Map),_=k.useCallback(L=>{i(E=>(L.errors&&r&&Object.entries(L.errors).forEach(([D,R])=>{E.errors?.[D]!==R&&r(R)}),L))},[r]),N=k.useCallback((L,{deletedFetchers:E,flushSync:D,viewTransitionOpts:R})=>{L.fetchers.forEach((B,U)=>{B.data!==void 0&&w.current.set(U,B.data)}),E.forEach(B=>w.current.delete(B)),WS(D===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let q=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(WS(R==null||q,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!q){t&&D?t(()=>_(L)):k.startTransition(()=>_(L));return}if(t&&D){t(()=>{v&&(m&&m.resolve(),v.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let B=e.window.document.startViewTransition(()=>{t(()=>_(L))});B.finished.finally(()=>{t(()=>{g(void 0),b(void 0),c(void 0),h({isTransitioning:!1})})}),t(()=>b(B));return}v?(m&&m.resolve(),v.skipTransition(),S({state:L,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(c(L),h({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[e.window,t,v,m,_]);k.useLayoutEffect(()=>e.subscribe(N),[e,N]),k.useEffect(()=>{d.isTransitioning&&!d.flushSync&&g(new n3)},[d]),k.useEffect(()=>{if(m&&o&&e.window){let L=o,E=m.promise,D=e.window.document.startViewTransition(async()=>{k.startTransition(()=>_(L)),await E});D.finished.finally(()=>{g(void 0),b(void 0),c(void 0),h({isTransitioning:!1})}),b(D)}},[o,m,e.window,_]),k.useEffect(()=>{m&&o&&n.location.key===o.location.key&&m.resolve()},[m,v,n.location,o]),k.useEffect(()=>{!d.isTransitioning&&x&&(c(x.state),h({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),S(void 0))},[d.isTransitioning,x]);let C=k.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:L=>e.navigate(L),push:(L,E,D)=>e.navigate(L,{state:E,preventScrollReset:D?.preventScrollReset}),replace:(L,E,D)=>e.navigate(L,{replace:!0,state:E,preventScrollReset:D?.preventScrollReset})}),[e]),T=e.basename||"/",A=k.useMemo(()=>({router:e,navigator:C,static:!1,basename:T,unstable_onError:r}),[e,C,T,r]);return k.createElement(k.Fragment,null,k.createElement(Ni.Provider,{value:A},k.createElement(qc.Provider,{value:n},k.createElement(GC.Provider,{value:w.current},k.createElement(hb.Provider,{value:d},k.createElement(o3,{basename:T,location:n.location,navigationType:n.historyAction,navigator:C},k.createElement(s3,{routes:e.routes,future:e.future,state:n,unstable_onError:r})))))),null)}var s3=k.memo(i3);function i3({routes:e,future:t,state:r,unstable_onError:n}){return FM(e,void 0,r,n,t)}function WC({to:e,replace:t,state:r,relative:n}){Ve(zo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=k.useContext(Qn);Qt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=k.useContext(Mn),{pathname:c}=da(),d=Uc(),h=Nf(e,jf(o),c,n==="path"),m=JSON.stringify(h);return k.useEffect(()=>{d(JSON.parse(m),{replace:t,state:r,relative:n})},[d,m,n,t,r]),null}function XC(e){return IM(e.context)}function o3({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:o=!1}){Ve(!zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof r=="string"&&(r=Cs(r));let{pathname:h="/",search:m="",hash:g="",state:v=null,key:b="default"}=r,x=k.useMemo(()=>{let S=On(h,c);return S==null?null:{location:{pathname:S,search:m,hash:g,state:v,key:b},navigationType:n}},[c,h,m,g,v,b,n]);return Qt(x!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:k.createElement(Qn.Provider,{value:d},k.createElement(kf.Provider,{children:t,value:x}))}var Md="get",Ld="application/x-www-form-urlencoded";function Ef(e){return e!=null&&typeof e.tagName=="string"}function l3(e){return Ef(e)&&e.tagName.toLowerCase()==="button"}function c3(e){return Ef(e)&&e.tagName.toLowerCase()==="form"}function u3(e){return Ef(e)&&e.tagName.toLowerCase()==="input"}function d3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function f3(e,t){return e.button===0&&(!t||t==="_self")&&!d3(e)}var yd=null;function h3(){if(yd===null)try{new FormData(document.createElement("form"),0),yd=!1}catch{yd=!0}return yd}var m3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cg(e){return e!=null&&!m3.has(e)?(Qt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ld}"`),null):e}function g3(e,t){let r,n,i,o,c;if(c3(e)){let d=e.getAttribute("action");n=d?On(d,t):null,r=e.getAttribute("method")||Md,i=Cg(e.getAttribute("enctype"))||Ld,o=new FormData(e)}else if(l3(e)||u3(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(n=h?On(h,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||Md,i=Cg(e.getAttribute("formenctype"))||Cg(d.getAttribute("enctype"))||Ld,o=new FormData(d,e),!h3()){let{name:m,type:g,value:v}=e;if(g==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,v)}}else{if(Ef(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Md,n=null,i=Ld,c=e}return o&&i==="text/plain"&&(c=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function p3(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&On(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function v3(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function y3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function b3(e,t,r){let n=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let c=await v3(o,r);return c.links?c.links():[]}return[]}));return S3(n.flat(1).filter(y3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function XS(e,t,r,n,i,o){let c=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,d=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return o==="assets"?t.filter((h,m)=>c(h,m)||d(h,m)):o==="data"?t.filter((h,m)=>{let g=n.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function x3(e,t,{includeHydrateFallback:r}={}){return w3(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function w3(e){return[...new Set(e)]}function _3(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function S3(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let o=JSON.stringify(_3(i));return r.has(o)||(r.add(o),n.push({key:o,link:i})),n},[])}function JC(){let e=k.useContext(Ni);return vb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function j3(){let e=k.useContext(qc);return vb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var yb=k.createContext(void 0);yb.displayName="FrameworkContext";function ZC(){let e=k.useContext(yb);return vb(e,"You must render this element inside a <HydratedRouter> element"),e}function N3(e,t){let r=k.useContext(yb),[n,i]=k.useState(!1),[o,c]=k.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=t,b=k.useRef(null);k.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=N=>{N.forEach(C=>{c(C.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[e]),k.useEffect(()=>{if(n){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[n]);let x=()=>{i(!0)},S=()=>{i(!1),c(!1)};return r?e!=="intent"?[o,b,{}]:[o,b,{onFocus:Fl(d,x),onBlur:Fl(h,S),onMouseEnter:Fl(m,x),onMouseLeave:Fl(g,S),onTouchStart:Fl(v,x)}]:[!1,b,{}]}function Fl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function k3({page:e,...t}){let{router:r}=JC(),n=k.useMemo(()=>bs(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?k.createElement(C3,{page:e,matches:n,...t}):null}function E3(e){let{manifest:t,routeModules:r}=ZC(),[n,i]=k.useState([]);return k.useEffect(()=>{let o=!1;return b3(e,t,r).then(c=>{o||i(c)}),()=>{o=!0}},[e,t,r]),n}function C3({page:e,matches:t,...r}){let n=da(),{manifest:i,routeModules:o}=ZC(),{basename:c}=JC(),{loaderData:d,matches:h}=j3(),m=k.useMemo(()=>XS(e,t,h,i,n,"data"),[e,t,h,i,n]),g=k.useMemo(()=>XS(e,t,h,i,n,"assets"),[e,t,h,i,n]),v=k.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,w=!1;if(t.forEach(N=>{let C=i.routes[N.route.id];!C||!C.hasLoader||(!m.some(T=>T.route.id===N.route.id)&&N.route.id in d&&o[N.route.id]?.shouldRevalidate||C.hasClientLoader?w=!0:S.add(N.route.id))}),S.size===0)return[];let _=p3(e,c,"data");return w&&S.size>0&&_.searchParams.set("_routes",t.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[_.pathname+_.search]},[c,d,n,i,m,t,e,o]),b=k.useMemo(()=>x3(g,i),[g,i]),x=E3(g);return k.createElement(k.Fragment,null,v.map(S=>k.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),b.map(S=>k.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),x.map(({key:S,link:w})=>k.createElement("link",{key:S,nonce:r.nonce,...w})))}function T3(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var eT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eT&&(window.__reactRouterVersion="7.9.3")}catch{}function D3(e,t){return gM({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:M4({window:t?.window}),hydrationData:t?.hydrationData||O3(),routes:e,mapRouteProperties:t3,hydrationRouteProperties:r3,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function O3(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:A3(e.errors)}),e}function A3(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new Zd(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let c=new o(i.message);c.stack="",r[n]=c}catch{}}if(r[n]==null){let o=new Error(i.message);o.stack="",r[n]=o}}else r[n]=i;return r}var tT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=k.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:c,state:d,target:h,to:m,preventScrollReset:g,viewTransition:v,...b},x){let{basename:S}=k.useContext(Qn),w=typeof m=="string"&&tT.test(m),_,N=!1;if(typeof m=="string"&&w&&(_=m,eT))try{let q=new URL(window.location.href),B=m.startsWith("//")?new URL(q.protocol+m):new URL(m),U=On(B.pathname,S);B.origin===q.origin&&U!=null?m=U+B.search+B.hash:N=!0}catch{Qt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=$M(m,{relative:i}),[T,A,L]=N3(n,b),E=q3(m,{replace:c,state:d,target:h,preventScrollReset:g,relative:i,viewTransition:v});function D(q){t&&t(q),q.defaultPrevented||E(q)}let R=k.createElement("a",{...b,...L,href:_||C,onClick:N||o?t:D,ref:T3(x,A),target:h,"data-discover":!w&&r==="render"?"true":void 0});return T&&!w?k.createElement(k.Fragment,null,R,k.createElement(k3,{page:C})):R});ln.displayName="Link";var R3=k.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:c,viewTransition:d,children:h,...m},g){let v=Pc(c,{relative:m.relative}),b=da(),x=k.useContext(qc),{navigator:S,basename:w}=k.useContext(Qn),_=x!=null&&B3(v)&&d===!0,N=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,C=b.pathname,T=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(C=C.toLowerCase(),T=T?T.toLowerCase():null,N=N.toLowerCase()),T&&w&&(T=On(T,w)||T);const A=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let L=C===N||!i&&C.startsWith(N)&&C.charAt(A)==="/",E=T!=null&&(T===N||!i&&T.startsWith(N)&&T.charAt(N.length)==="/"),D={isActive:L,isPending:E,isTransitioning:_},R=L?t:void 0,q;typeof n=="function"?q=n(D):q=[n,L?"active":null,E?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(D):o;return k.createElement(ln,{...m,"aria-current":R,className:q,ref:g,style:B,to:c,viewTransition:d},typeof h=="function"?h(D):h)});R3.displayName="NavLink";var M3=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:o,method:c=Md,action:d,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:v,...b},x)=>{let S=$3(),w=z3(d,{relative:m}),_=c.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&tT.test(d),C=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let A=T.nativeEvent.submitter,L=A?.getAttribute("formmethod")||c;S(A||T.currentTarget,{fetcherKey:t,method:L,navigate:r,replace:i,state:o,relative:m,preventScrollReset:g,viewTransition:v})};return k.createElement("form",{ref:x,method:_,action:w,onSubmit:n?h:C,...b,"data-discover":!N&&e==="render"?"true":void 0})});M3.displayName="Form";function L3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rT(e){let t=k.useContext(Ni);return Ve(t,L3(e)),t}function q3(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:c}={}){let d=Uc(),h=da(),m=Pc(e,{relative:o});return k.useCallback(g=>{if(f3(g,t)){g.preventDefault();let v=r!==void 0?r:Ss(h)===Ss(m);d(e,{replace:v,state:n,preventScrollReset:i,relative:o,viewTransition:c})}},[h,d,m,r,n,t,e,i,o,c])}var U3=0,P3=()=>`__${String(++U3)}__`;function $3(){let{router:e}=rT("useSubmit"),{basename:t}=k.useContext(Qn),r=JM();return k.useCallback(async(n,i={})=>{let{action:o,method:c,encType:d,formData:h,body:m}=g3(n,t);if(i.navigate===!1){let g=i.fetcherKey||P3();await e.fetch(g,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function z3(e,{relative:t}={}){let{basename:r}=k.useContext(Qn),n=k.useContext(Mn);Ve(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...Pc(e||".",{relative:t})},c=da();if(e==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:oa([r,o.pathname])),Ss(o)}function B3(e,{relative:t}={}){let r=k.useContext(hb);Ve(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=rT("useViewTransitionState"),i=Pc(e,{relative:t});if(!r.isTransitioning)return!1;let o=On(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=On(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Jd(i.pathname,c)!=null||Jd(i.pathname,o)!=null}var li=DC();const nT=$r(li);function I3(e){return k.createElement(a3,{flushSync:li.flushSync,...e})}var Bo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},F3={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},H3=class{#e=F3;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},ci=new H3;function K3(e){setTimeout(e,0)}var hi=typeof window>"u"||"Deno"in globalThis;function qr(){}function G3(e,t){return typeof e=="function"?e(t):e}function D0(e){return typeof e=="number"&&e>=0&&e!==1/0}function aT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _s(e,t){return typeof e=="function"?e(t):e}function En(e,t){return typeof e=="function"?e(t):e}function JS(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:c,stale:d}=e;if(c){if(n){if(t.queryHash!==bb(c,t.options))return!1}else if(!gc(t.queryKey,c))return!1}if(r!=="all"){const h=t.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||i&&i!==t.state.fetchStatus||o&&!o(t))}function ZS(e,t){const{exact:r,status:n,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(mi(t.options.mutationKey)!==mi(o))return!1}else if(!gc(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function bb(e,t){return(t?.queryKeyHashFn||mi)(e)}function mi(e){return JSON.stringify(e,(t,r)=>O0(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function gc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>gc(e[r],t[r])):!1}var Y3=Object.prototype.hasOwnProperty;function sT(e,t){if(e===t)return e;const r=ej(e)&&ej(t);if(!r&&!(O0(e)&&O0(t)))return t;const i=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),c=o.length,d=r?new Array(c):{};let h=0;for(let m=0;m<c;m++){const g=r?m:o[m],v=e[g],b=t[g];if(v===b){d[g]=v,(r?m<i:Y3.call(e,g))&&h++;continue}if(v===null||b===null||typeof v!="object"||typeof b!="object"){d[g]=b;continue}const x=sT(v,b);d[g]=x,x===v&&h++}return i===c&&h===i?e:d}function tf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ej(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function O0(e){if(!tj(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!tj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tj(e){return Object.prototype.toString.call(e)==="[object Object]"}function V3(e){return new Promise(t=>{ci.setTimeout(t,e)})}function A0(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?sT(e,t):t}function Q3(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function W3(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var xb=Symbol();function iT(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===xb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function oT(e,t){return typeof e=="function"?e(...t):!!e}var X3=class extends Bo{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!hi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},wb=new X3;function R0(){let e,t;const r=new Promise((i,o)=>{e=i,t=o});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var J3=K3;function Z3(){let e=[],t=0,r=d=>{d()},n=d=>{d()},i=J3;const o=d=>{t?e.push(d):i(()=>{r(d)})},c=()=>{const d=e;e=[],d.length&&i(()=>{n(()=>{d.forEach(h=>{r(h)})})})};return{batch:d=>{let h;t++;try{h=d()}finally{t--,t||c()}return h},batchCalls:d=>(...h)=>{o(()=>{d(...h)})},schedule:o,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{i=d}}}var lr=Z3(),e5=class extends Bo{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!hi&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},rf=new e5;function t5(e){return Math.min(1e3*2**e,3e4)}function lT(e){return(e??"online")==="online"?rf.isOnline():!0}var M0=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function cT(e){let t=!1,r=0,n;const i=R0(),o=()=>i.status!=="pending",c=w=>{if(!o()){const _=new M0(w);b(_),e.onCancel?.(_)}},d=()=>{t=!0},h=()=>{t=!1},m=()=>wb.isFocused()&&(e.networkMode==="always"||rf.isOnline())&&e.canRun(),g=()=>lT(e.networkMode)&&e.canRun(),v=w=>{o()||(n?.(),i.resolve(w))},b=w=>{o()||(n?.(),i.reject(w))},x=()=>new Promise(w=>{n=_=>{(o()||m())&&w(_)},e.onPause?.()}).then(()=>{n=void 0,o()||e.onContinue?.()}),S=()=>{if(o())return;let w;const _=r===0?e.initialPromise:void 0;try{w=_??e.fn()}catch(N){w=Promise.reject(N)}Promise.resolve(w).then(v).catch(N=>{if(o())return;const C=e.retry??(hi?0:3),T=e.retryDelay??t5,A=typeof T=="function"?T(r,N):T,L=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,N);if(t||!L){b(N);return}r++,e.onFail?.(r,N),V3(A).then(()=>m()?void 0:x()).then(()=>{t?b(N):S()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(n?.(),i),cancelRetry:d,continueRetry:h,canStart:g,start:()=>(g()?S():x().then(S),i)}}var uT=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),D0(this.gcTime)&&(this.#e=ci.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hi?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ci.clearTimeout(this.#e),this.#e=void 0)}},r5=class extends uT{#e;#t;#r;#a;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=rj(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=rj(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=A0(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(qr).catch(qr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>En(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>_s(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!aT(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const d=iT(this.options,t),m=(()=>{const g={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(g),g})();return this.#o=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:i};return n(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#s({type:"fetch",meta:c.fetchOptions?.meta}),this.#n=cT({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof M0&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,h)=>{this.#s({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#n.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#r.config.onSuccess?.(d,this),this.#r.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof M0){if(d.silent)return this.#n.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#s({type:"error",error:d}),this.#r.config.onError?.(d,this),this.#r.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...dT(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),lr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function dT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var n5=class extends Bo{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#o=R0(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#i;#o;#s;#g;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),nj(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return L0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return L0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof En(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),t._defaulted&&!tf(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&aj(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==r||En(this.options.enabled,this.#t)!==En(t.enabled,this.#t)||_s(this.options.staleTime,this.#t)!==_s(t.staleTime,this.#t))&&this.#p();const i=this.#v();n&&(this.#t!==r||En(this.options.enabled,this.#t)!==En(t.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return s5(this,r)&&(this.#a=r,this.#i=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#_();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(qr)),t}#p(){this.#x();const e=_s(this.options.staleTime,this.#t);if(hi||this.#a.isStale||!D0(e))return;const r=aT(this.#a.dataUpdatedAt,e)+1;this.#c=ci.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(hi||En(this.options.enabled,this.#t)===!1||!D0(this.#l)||this.#l===0)&&(this.#u=ci.setInterval(()=>{(this.options.refetchIntervalInBackground||wb.isFocused())&&this.#d()},this.#l))}#b(){this.#p(),this.#y(this.#v())}#x(){this.#c&&(ci.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(ci.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,i=this.#a,o=this.#n,c=this.#i,h=e!==r?e.state:this.#r,{state:m}=e;let g={...m},v=!1,b;if(t._optimisticResults){const R=this.hasListeners(),q=!R&&nj(e,t),B=R&&aj(e,r,t,n);(q||B)&&(g={...g,...dT(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:x,errorUpdatedAt:S,status:w}=g;b=g.data;let _=!1;if(t.placeholderData!==void 0&&b===void 0&&w==="pending"){let R;i?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(R=i.data,_=!0):R=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,R!==void 0&&(w="success",b=A0(i?.data,R,t),v=!0)}if(t.select&&b!==void 0&&!_)if(i&&b===o?.data&&t.select===this.#g)b=this.#f;else try{this.#g=t.select,b=t.select(b),b=A0(i?.data,b,t),this.#f=b,this.#s=null}catch(R){this.#s=R}this.#s&&(x=this.#s,b=this.#f,S=Date.now(),w="error");const N=g.fetchStatus==="fetching",C=w==="pending",T=w==="error",A=C&&N,L=b!==void 0,D={status:w,fetchStatus:g.fetchStatus,isPending:C,isSuccess:w==="success",isError:T,isInitialLoading:A,isLoading:A,data:b,dataUpdatedAt:g.dataUpdatedAt,error:x,errorUpdatedAt:S,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:N,isRefetching:N&&!C,isLoadingError:T&&!L,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:T&&L,isStale:_b(e,t),refetch:this.refetch,promise:this.#o,isEnabled:En(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=U=>{D.status==="error"?U.reject(D.error):D.data!==void 0&&U.resolve(D.data)},q=()=>{const U=this.#o=D.promise=R0();R(U)},B=this.#o;switch(B.status){case"pending":e.queryHash===r.queryHash&&R(B);break;case"fulfilled":(D.status==="error"||D.data!==B.value)&&q();break;case"rejected":(D.status!=="error"||D.error!==B.reason)&&q();break}}return D}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#i=this.options,this.#n.data!==void 0&&(this.#h=this.#t),tf(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#m.size)return!0;const o=new Set(i??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#a).some(c=>{const d=c;return this.#a[d]!==e[d]&&o.has(d)})};this.#S({listeners:r()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){lr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function a5(e,t){return En(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function nj(e,t){return a5(e,t)||e.state.data!==void 0&&L0(e,t,t.refetchOnMount)}function L0(e,t,r){if(En(t.enabled,e)!==!1&&_s(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&_b(e,t)}return!1}function aj(e,t,r,n){return(e!==t||En(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&_b(e,r)}function _b(e,t){return En(t.enabled,e)!==!1&&e.isStaleByTime(_s(t.staleTime,e))}function s5(e,t){return!tf(e.getCurrentResult(),t)}function sj(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const m=async()=>{let g=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=iT(t.options,t.fetchOptions),x=async(S,w,_)=>{if(g)return Promise.reject();if(w==null&&S.pages.length)return Promise.resolve(S);const C=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:w,direction:_?"backward":"forward",meta:t.options.meta};return v(E),E})(),T=await b(C),{maxPages:A}=t.options,L=_?W3:Q3;return{pages:L(S.pages,T,A),pageParams:L(S.pageParams,w,A)}};if(i&&o.length){const S=i==="backward",w=S?i5:ij,_={pages:o,pageParams:c},N=w(n,_);d=await x(_,N,S)}else{const S=e??o.length;do{const w=h===0?c[0]??n.initialPageParam:ij(n,d);if(h>0&&w==null)break;d=await x(d,w),h++}while(h<S)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=m}}}function ij(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function i5(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var o5=class extends uT{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||fT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=cT({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{this.#n({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",i=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:i}),await this.#r.config.onMutate?.(e,this,r);const c=await this.options.onMutate?.(e,r);c!==this.state.context&&this.#n({type:"pending",context:c,variables:e,isPaused:i})}const o=await this.#a.start();return await this.#r.config.onSuccess?.(o,e,this.state.context,this,r),await this.options.onSuccess?.(o,e,this.state.context,r),await this.#r.config.onSettled?.(o,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(o,null,e,this.state.context,r),this.#n({type:"success",data:o}),o}catch(o){try{throw await this.#r.config.onError?.(o,e,this.state.context,this,r),await this.options.onError?.(o,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,o,e,this.state.context,r),o}finally{this.#n({type:"error",error:o})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),lr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function fT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var l5=class extends Bo{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new o5({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=bd(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=bd(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=bd(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=bd(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){lr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ZS(t,r))}findAll(e={}){return this.getAll().filter(t=>ZS(e,t))}notify(e){lr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return lr.batch(()=>Promise.all(e.map(t=>t.continue().catch(qr))))}};function bd(e){return e.options.scope?.id}var c5=class extends Bo{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),tf(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&mi(r.mutationKey)!==mi(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#i()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??fT();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){lr.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,i),this.#a.onSettled?.(t.data,null,r,n,i)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,i),this.#a.onSettled?.(void 0,t.error,r,n,i))}this.listeners.forEach(r=>{r(this.#t)})})}},u5=class extends Bo{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,i=t.queryHash??bb(n,t);let o=this.get(i);return o||(o=new r5({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>JS(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>JS(e,r)):t}notify(e){lr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){lr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},d5=class{#e;#t;#r;#a;#n;#i;#o;#s;constructor(e={}){this.#e=e.queryCache||new u5,this.#t=e.mutationCache||new l5,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=wb.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=rf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(_s(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(n.queryHash)?.state.data,c=G3(t,o);if(c!==void 0)return this.#e.build(this,n).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return lr.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;lr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return lr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=lr.batch(()=>this.#e.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(qr).catch(qr)}invalidateQueries(e,t={}){return lr.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=lr.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(qr)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(qr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(_s(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qr).catch(qr)}fetchInfiniteQuery(e){return e.behavior=sj(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qr).catch(qr)}ensureInfiniteQueryData(e){return e.behavior=sj(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(mi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{gc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(mi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{gc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===xb&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},hT=k.createContext(void 0),kr=e=>{const t=k.useContext(hT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},f5=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(hT.Provider,{value:e,children:t})),mT=k.createContext(!1),h5=()=>k.useContext(mT);mT.Provider;function m5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var g5=k.createContext(m5()),p5=()=>k.useContext(g5),v5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},y5=e=>{k.useEffect(()=>{e.clearReset()},[e])},b5=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||oT(r,[e.error,n])),x5=e=>{if(e.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},w5=(e,t)=>e.isLoading&&e.isFetching&&!t,_5=(e,t)=>e?.suspense&&t.isPending,oj=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function S5(e,t,r){const n=h5(),i=p5(),o=kr(),c=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=n?"isRestoring":"optimistic",x5(c),v5(c,i),y5(i);const d=!o.getQueryCache().get(c.queryHash),[h]=k.useState(()=>new t(o,c)),m=h.getOptimisticResult(c),g=!n&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(v=>{const b=g?h.subscribe(lr.batchCalls(v)):qr;return h.updateResult(),b},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),k.useEffect(()=>{h.setOptions(c)},[c,h]),_5(c,m))throw oj(c,h,i);if(b5({result:m,errorResetBoundary:i,throwOnError:c.throwOnError,query:o.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,m),c.experimental_prefetchInRender&&!hi&&w5(m,n)&&(d?oj(c,h,i):o.getQueryCache().get(c.queryHash)?.promise)?.catch(qr).finally(()=>{h.updateResult()}),c.notifyOnChangeProps?m:h.trackResult(m)}function ct(e,t){return S5(e,n5)}function Ge(e,t){const r=kr(),[n]=k.useState(()=>new c5(r,e));k.useEffect(()=>{n.setOptions(e)},[n,e]);const i=k.useSyncExternalStore(k.useCallback(c=>n.subscribe(lr.batchCalls(c)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=k.useCallback((c,d)=>{n.mutate(c,d).catch(qr)},[n]);if(i.error&&oT(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}const j5="modulepreload",N5=function(e){return"/todo-app/"+e},lj={},$c=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let m=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");i=m(r.map(g=>{if(g=N5(g),g in lj)return;lj[g]=!0;const v=g.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":j5,v||(x.as="script"),x.crossOrigin="",x.href=g,h&&x.setAttribute("nonce",h),document.head.appendChild(x),v)return new Promise((S,w)=>{x.addEventListener("load",S),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return i.then(d=>{for(const h of d||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})},k5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$c(async()=>{const{default:n}=await Promise.resolve().then(()=>Io);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Sb extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class cj extends Sb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uj extends Sb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dj extends Sb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var q0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(q0||(q0={}));var E5=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class C5{constructor(t,{headers:r={},customFetch:n,region:i=q0.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=k5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return E5(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:c,signal:d}=r;let h={},{region:m}=r;m||(m=this.region);const g=new URL(`${this.url}/${t}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let v;c&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(h["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(h["Content-Type"]="application/json",v=JSON.stringify(c)));const b=yield this.fetch(g.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),i),body:v,signal:d}).catch(_=>{throw _.name==="AbortError"?_:new cj(_)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new uj(b);if(!b.ok)throw new dj(b);let S=((n=b.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return S==="application/json"?w=yield b.json():S==="application/octet-stream"?w=yield b.blob():S==="text/event-stream"?w=b:S==="multipart/form-data"?w=yield b.formData():w=yield b.text(),{data:w,error:null,response:b}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new cj(i)}:{data:null,error:i,response:i instanceof dj||i instanceof uj?i.context:void 0}}})}}var gr={},fo={},ho={},mo={},go={},po={},T5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},To=T5();const D5=To.fetch,gT=To.fetch.bind(To),pT=To.Headers,O5=To.Request,A5=To.Response,Io=Object.freeze(Object.defineProperty({__proto__:null,Headers:pT,Request:O5,Response:A5,default:gT,fetch:D5},Symbol.toStringTag,{value:"Module"})),R5=_4(Io);var xd={},fj;function vT(){if(fj)return xd;fj=1,Object.defineProperty(xd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return xd.default=e,xd}var hj;function yT(){if(hj)return po;hj=1;var e=po&&po.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(po,"__esModule",{value:!0});const t=e(R5),r=e(vT());class n{constructor(o){var c,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(c=o.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=new Headers(this.headers),this.headers.set(o,c),this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,v,b,x;let S=null,w=null,_=null,N=m.status,C=m.statusText;if(m.ok){if(this.method!=="HEAD"){const E=await m.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?w=E:w=JSON.parse(E))}const A=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),L=(b=m.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");A&&L&&L.length>1&&(_=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(S={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,N=406,C="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const A=await m.text();try{S=JSON.parse(A),Array.isArray(S)&&m.status===404&&(w=[],S=null,N=200,C="OK")}catch{m.status===404&&A===""?(N=204,C="No Content"):S={message:A}}if(S&&this.isMaybeSingle&&(!((x=S?.details)===null||x===void 0)&&x.includes("0 rows"))&&(S=null,N=200,C="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:w,count:_,status:N,statusText:C}});return this.shouldThrowOnError||(h=h.catch(m=>{var g,v,b;return{error:{message:`${(g=m?.name)!==null&&g!==void 0?g:"FetchError"}: ${m?.message}`,details:`${(v=m?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(b=m?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,c)}returns(){return this}overrideTypes(){return this}}return po.default=n,po}var mj;function bT(){if(mj)return go;mj=1;var e=go&&go.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(go,"__esModule",{value:!0});const t=e(yT());class r extends t.default{select(i){let o=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${i}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,o,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(m,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var g;const v=[i?"analyze":null,o?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${v};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return go.default=r,go}var gj;function jb(){if(gj)return mo;gj=1;var e=mo&&mo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(mo,"__esModule",{value:!0});const t=e(bT());class r extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const c=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:c,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${h}fts${m}.${o}`),this}match(i){return Object.entries(i).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(i,o,c){return this.url.searchParams.append(i,`not.${o}.${c}`),this}or(i,{foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,o,c){return this.url.searchParams.append(i,`${o}.${c}`),this}}return mo.default=r,mo}var pj;function xT(){if(pj)return ho;pj=1;var e=ho&&ho.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ho,"__esModule",{value:!0});const t=e(jb());class r{constructor(i,{headers:o={},schema:c,fetch:d}){this.url=i,this.headers=new Headers(o),this.schema=c,this.fetch=d}select(i,{head:o=!1,count:c}={}){const d=o?"HEAD":"GET";let h=!1;const m=(i??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:c=!0}={}){var d;const h="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(v.length>0){const b=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:o}={}){var c;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var o;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return ho.default=r,ho}var vj;function M5(){if(vj)return fo;vj=1;var e=fo&&fo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(fo,"__esModule",{value:!0});const t=e(xT()),r=e(jb());class n{constructor(o,{headers:c={},schema:d,fetch:h}={}){this.url=o,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(o){const c=new URL(`${this.url}/${o}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:d=!1,get:h=!1,count:m}={}){var g;let v;const b=new URL(`${this.url}/rpc/${o}`);let x;d||h?(v=d?"HEAD":"GET",Object.entries(c).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{b.searchParams.append(w,_)})):(v="POST",x=c);const S=new Headers(this.headers);return m&&S.set("Prefer",`count=${m}`),new r.default({method:v,url:b,headers:S,schema:this.schemaName,body:x,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return fo.default=n,fo}var yj;function L5(){if(yj)return gr;yj=1;var e=gr&&gr.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(gr,"__esModule",{value:!0}),gr.PostgrestError=gr.PostgrestBuilder=gr.PostgrestTransformBuilder=gr.PostgrestFilterBuilder=gr.PostgrestQueryBuilder=gr.PostgrestClient=void 0;const t=e(M5());gr.PostgrestClient=t.default;const r=e(xT());gr.PostgrestQueryBuilder=r.default;const n=e(jb());gr.PostgrestFilterBuilder=n.default;const i=e(bT());gr.PostgrestTransformBuilder=i.default;const o=e(yT());gr.PostgrestBuilder=o.default;const c=e(vT());return gr.PostgrestError=c.default,gr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:c.default},gr}var q5=L5();const U5=$r(q5),{PostgrestClient:P5,PostgrestQueryBuilder:sG,PostgrestFilterBuilder:iG,PostgrestTransformBuilder:oG,PostgrestBuilder:lG,PostgrestError:cG}=U5;class $5{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const z5="2.15.5",B5=`realtime-js/${z5}`,I5="1.0.0",U0=1e4,F5=1e3,H5=100;var tc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(tc||(tc={}));var ir;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ir||(ir={}));var In;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(In||(In={}));var P0;(function(e){e.websocket="websocket"})(P0||(P0={}));var si;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(si||(si={}));class K5{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),o=r.getUint8(2);let c=this.HEADER_LENGTH+2;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+o));c=c+o;const m=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class wT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tt||(Tt={}));const bj=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,c)=>(o[c]=G5(c,e,t,i),o),{})},G5=(e,t,r,n)=>{const i=t.find(d=>d.name===e),o=i?.type,c=r[e];return o&&!n.includes(o)?_T(o,c):$0(c)},_T=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return W5(t,r)}switch(e){case Tt.bool:return Y5(t);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return V5(t);case Tt.json:case Tt.jsonb:return Q5(t);case Tt.timestamp:return X5(t);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return $0(t);default:return $0(t)}},$0=e=>e,Y5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},V5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Q5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},W5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const c=e.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(d=>_T(t,d))}return e},X5=e=>typeof e=="string"?e.replace(" ","T"):e,ST=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Tg{constructor(t,r,n={},i=U0){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xj||(xj={}));class rc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rc.syncState(this.state,i,o,c),this.pendingDiffs.forEach(h=>{this.state=rc.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=rc.syncDiff(this.state,i,o,c),d())}),this.onJoin((i,o,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:c})}),this.onLeave((i,o,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const o=this.cloneDeep(t),c=this.transformState(r),d={},h={};return this.map(o,(m,g)=>{c[m]||(h[m]=g)}),this.map(c,(m,g)=>{const v=o[m];if(v){const b=g.map(_=>_.presence_ref),x=v.map(_=>_.presence_ref),S=g.filter(_=>x.indexOf(_.presence_ref)<0),w=v.filter(_=>b.indexOf(_.presence_ref)<0);S.length>0&&(d[m]=S),w.length>0&&(h[m]=w)}else d[m]=g}),this.syncDiff(o,{joins:d,leaves:h},n,i)}static syncDiff(t,r,n,i){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(d,h)=>{var m;const g=(m=t[d])!==null&&m!==void 0?m:[];if(t[d]=this.cloneDeep(h),g.length>0){const v=t[d].map(x=>x.presence_ref),b=g.filter(x=>v.indexOf(x.presence_ref)<0);t[d].unshift(...b)}n(d,g,h)}),this.map(c,(d,h)=>{let m=t[d];if(!m)return;const g=h.map(v=>v.presence_ref);m=m.filter(v=>g.indexOf(v.presence_ref)<0),t[d]=m,i(d,m,h),m.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wj||(wj={}));var nc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(nc||(nc={}));var Ua;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ua||(Ua={}));class Nb{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Tg(this,In.join,this.params,this.timeout),this.rejoinTimer=new wT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ir.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(In.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new rc(this),this.broadcastEndpointURL=ST(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ir.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[nc.PRESENCE]&&this.bindings[nc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},b={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(Ua.CHANNEL_ERROR,x)),this._onClose(()=>t?.(Ua.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket.setAuth(),x===void 0){t?.(Ua.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(S=w?.length)!==null&&S!==void 0?S:0,N=[];for(let C=0;C<_;C++){const T=w[C],{filter:{event:A,schema:L,table:E,filter:D}}=T,R=x&&x[C];if(R&&R.event===A&&R.schema===L&&R.table===E&&R.filter===D)N.push(Object.assign(Object.assign({},T),{id:R.id}));else{this.unsubscribe(),this.state=ir.errored,t?.(Ua.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ua.SUBSCRIBED);return}}).receive("error",x=>{this.state=ir.errored,t?.(Ua.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ua.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ir.joined&&t===nc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:c}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,d,h;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ir.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(In.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Tg(this,In.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ir.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Tg(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>H5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,o;const c=t.toLocaleLowerCase(),{close:d,error:h,leave:m,join:g}=In;if(n&&[d,h,m,g].indexOf(c)>=0&&n!==this._joinRef())return;let b=this._onMessage(c,r,n);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var S,w,_;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(w=x.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(x=>x.callback(b,n)):(o=this.bindings[c])===null||o===void 0||o.filter(x=>{var S,w,_,N,C,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const A=x.id,L=(S=x.filter)===null||S===void 0?void 0:S.event;return A&&((w=r.ids)===null||w===void 0?void 0:w.includes(A))&&(L==="*"||L?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const A=(C=(N=x?.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return A==="*"||A===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:w,table:_,commit_timestamp:N,type:C,errors:T}=S;b=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:N,eventType:C,new:{},old:{},errors:T}),this._getPayloadRecords(S))}x.callback(b,n)})}_isClosed(){return this.state===ir.closed}_isJoined(){return this.state===ir.joined}_isJoining(){return this.state===ir.joining}_isLeaving(){return this.state===ir.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Nb.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(In.close,{},t)}_onError(t){this._on(In.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ir.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=bj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=bj(t.columns,t.old_record)),r}}const Dg=()=>{},wd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},J5=[1e3,2e3,5e3,1e4],Z5=1e4,e6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class t6{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=U0,this.transport=null,this.heartbeatIntervalMs=wd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dg,this.ref=0,this.reconnectTimer=null,this.logger=Dg,this.conn=null,this.sendBuffer=[],this.serializer=new K5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...c)=>$c(async()=>{const{default:d}=await Promise.resolve().then(()=>Io);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...c)=>o(...c)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${P0.websocket}`,this.httpEndpoint=ST(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:I5}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case tc.connecting:return si.Connecting;case tc.open:return si.Open;case tc.closing:return si.Closing;default:return si.Closed}}isConnected(){return this.connectionState()===si.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new Nb(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:i,ref:o}=t,c=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(F5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},wd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:c}=r,d=c?`(${c})`:"",h=o.status||"";this.log("receive",`${h} ${n} ${i} ${d}`.trim(),o),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(In.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([e6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:B5};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(In.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new wT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,o,c,d,h,m,g;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:U0,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:wd.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:Dg,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(v=>J5[v-1]||Z5),this.encode=(m=t?.encode)!==null&&m!==void 0?m:((v,b)=>b(JSON.stringify(v))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class kb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function rr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class r6 extends kb{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class z0 extends kb{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var n6=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const jT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$c(async()=>{const{default:n}=await Promise.resolve().then(()=>Io);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},a6=()=>n6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $c(()=>Promise.resolve().then(()=>Io),void 0)).Response:Response}),B0=e=>{if(Array.isArray(e))return e.map(r=>B0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=B0(n)}),t},s6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ki=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const Og=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),i6=(e,t,r)=>ki(void 0,void 0,void 0,function*(){const n=yield a6();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const o=e.status||500,c=i?.statusCode||o+"";t(new r6(Og(i),o,c))}).catch(i=>{t(new z0(Og(i),i))}):t(new z0(Og(e),e))}),o6=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(s6(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function zc(e,t,r,n,i,o){return ki(this,void 0,void 0,function*(){return new Promise((c,d)=>{e(r,o6(t,n,i,o)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>i6(h,d,n))})})}function nf(e,t,r,n){return ki(this,void 0,void 0,function*(){return zc(e,"GET",t,r,n)})}function sa(e,t,r,n,i){return ki(this,void 0,void 0,function*(){return zc(e,"POST",t,n,i,r)})}function I0(e,t,r,n,i){return ki(this,void 0,void 0,function*(){return zc(e,"PUT",t,n,i,r)})}function l6(e,t,r,n){return ki(this,void 0,void 0,function*(){return zc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function NT(e,t,r,n,i){return ki(this,void 0,void 0,function*(){return zc(e,"DELETE",t,n,i,r)})}var c6=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class u6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return c6(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rr(t))return{data:null,error:t};throw t}})}}var d6=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class f6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new u6(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return d6(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rr(t))return{data:null,error:t};throw t}})}}var Qr=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const h6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_j={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class m6{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=jT(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Qr(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},_j),i);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const m=this._removeEmptyFolders(r),g=this._getFinalPath(m),v=yield(t=="PUT"?I0:sa)(this.fetch,`${this.url}/object/${g}`,o,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rr(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Qr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),c=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:_j.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const v=yield I0(this.fetch,d.toString(),h,{headers:g});return{data:{path:o,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(rr(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,r){return Qr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const o=yield sa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+o.url),d=c.searchParams.get("token");if(!d)throw new kb("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Qr(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Qr(this,void 0,void 0,function*(){try{return{data:{path:(yield sa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Qr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield sa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Qr(this,void 0,void 0,function*(){try{const i=yield sa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),c=o?`?${o}`:"",d=this._getFinalPath(t),h=()=>nf(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new f6(h,this.shouldThrowOnError)}info(t){return Qr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield nf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:B0(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}exists(t){return Qr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield l6(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n)&&n instanceof z0){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&i.push(o);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&i.push(h);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${m}`)}}}remove(t){return Qr(this,void 0,void 0,function*(){try{return{data:yield NT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Qr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},h6),r),{prefix:t||""});return{data:yield sa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}listV2(t,r){return Qr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield sa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const g6="2.12.2",p6={"X-Client-Info":`storage-js/${g6}`};var vo=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class v6{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},p6),r),this.fetch=jT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return vo(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rr(t))return{data:null,error:t};throw t}})}getBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return vo(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return vo(this,void 0,void 0,function*(){try{return{data:yield I0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield NT(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}}class y6 extends v6{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new m6(this.url,this.headers,t,this.fetch)}}const b6="2.58.0";let Wl="";typeof Deno<"u"?Wl="deno":typeof document<"u"?Wl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wl="react-native":Wl="node";const x6={"X-Client-Info":`supabase-js-${Wl}/${b6}`},w6={headers:x6},_6={schema:"public"},S6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},j6={};var N6=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const k6=e=>{let t;return e?t=e:typeof fetch>"u"?t=gT:t=fetch,(...r)=>t(...r)},E6=()=>typeof Headers>"u"?pT:Headers,C6=(e,t,r)=>{const n=k6(r),i=E6();return(o,c)=>N6(void 0,void 0,void 0,function*(){var d;const h=(d=yield t())!==null&&d!==void 0?d:e;let m=new i(c?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),n(o,Object.assign(Object.assign({},c),{headers:m}))})};var T6=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};function D6(e){return e.endsWith("/")?e:e+"/"}function O6(e,t){var r,n;const{db:i,auth:o,realtime:c,global:d}=e,{db:h,auth:m,realtime:g,global:v}=t,b={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},g),c),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>T6(this,void 0,void 0,function*(){return""})};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function A6(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(D6(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kT="2.72.0",jo=30*1e3,F0=3,Ag=F0*jo,R6="http://localhost:9999",M6="supabase.auth.token",L6={"X-Client-Info":`gotrue-js/${kT}`},H0="X-Supabase-Api-Version",ET={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,U6=600*1e3;class Eb extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class P6 extends Eb{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $6(e){return ze(e)&&e.name==="AuthApiError"}class CT extends Eb{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ts extends Eb{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class vs extends Ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function z6(e){return ze(e)&&e.name==="AuthSessionMissingError"}class Hl extends Ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _d extends Ts{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Sd extends Ts{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B6(e){return ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class Sj extends Ts{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class K0 extends Ts{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Rg(e){return ze(e)&&e.name==="AuthRetryableFetchError"}class jj extends Ts{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class G0 extends Ts{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const af="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nj=` 	
\r=`.split(""),I6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Nj.length;t+=1)e[Nj[t].charCodeAt(0)]=-2;for(let t=0;t<af.length;t+=1)e[af[t].charCodeAt(0)]=t;return e})();function kj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(af[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(af[n]),t.queuedBits-=6}}function TT(e,t,r){const n=I6[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ej(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=c=>{K6(c,n,r)};for(let c=0;c<e.length;c+=1)TT(e.charCodeAt(c),i,o);return t.join("")}function F6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function H6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}F6(n,t)}}function K6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function G6(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)TT(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Y6(e){const t=[];return H6(e,r=>t.push(r)),new Uint8Array(t)}function V6(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>kj(i,r,n)),kj(null,r,n),t.join("")}function Q6(e){return Math.round(Date.now()/1e3)+e}function W6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Nn=()=>typeof window<"u"&&typeof document<"u",Xs={tested:!1,writable:!1},DT=()=>{if(!Nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xs.tested)return Xs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xs.tested=!0,Xs.writable=!0}catch{Xs.tested=!0,Xs.writable=!1}return Xs.writable};function X6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const OT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$c(async()=>{const{default:n}=await Promise.resolve().then(()=>Io);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},J6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",No=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Js=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},gs=async(e,t)=>{await e.removeItem(t)};class Cf{constructor(){this.promise=new Cf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Cf.promiseConstructor=Promise;function Mg(e){const t=e.split(".");if(t.length!==3)throw new G0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!q6.test(t[n]))throw new G0("JWT not in base64url format");return{header:JSON.parse(Ej(t[0])),payload:JSON.parse(Ej(t[1])),signature:G6(t[2]),raw:{header:t[0],payload:t[1]}}}async function Z6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eL(e,t){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await e(o);if(!t(o,null,c)){n(c);return}}catch(c){if(!t(o,c)){i(c);return}}})()})}function tL(e){return("0"+e.toString(16)).substr(-2)}function rL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,tL).join("")}async function nL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function aL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await nL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yo(e,t,r=!1){const n=rL();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await No(e,`${t}-code-verifier`,i);const o=await aL(n);return[o,n===o?"plain":"s256"]}const sL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iL(e){const t=e.headers.get(H0);if(!t||!t.match(sL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function oL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bo(e){if(!cL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cj(e){return JSON.parse(JSON.stringify(e))}var uL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const ni=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dL=[502,503,504];async function Tj(e){var t;if(!J6(e))throw new K0(ni(e),0);if(dL.includes(e.status))throw new K0(ni(e),e.status);let r;try{r=await e.json()}catch(o){throw new CT(ni(o),o)}let n;const i=iL(e);if(i&&i.getTime()>=ET["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new jj(ni(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new vs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new jj(ni(r),e.status,r.weak_password.reasons);throw new P6(ni(r),e.status||500,n)}const fL=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ye(e,t,r,n){var i;const o=Object.assign({},n?.headers);o[H0]||(o[H0]=ET["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await hL(e,t,r+d,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function hL(e,t,r,n,i,o){const c=fL(t,n,i,o);let d;try{d=await e(r,Object.assign({},c))}catch(h){throw console.error(h),new K0(ni(h),0)}if(d.ok||await Tj(d),n?.noResolveJson)return d;try{return await d.json()}catch(h){await Tj(h)}}function aa(e){var t;let r=null;vL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Q6(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Dj(e){const t=aa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ws(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function mL(e){return{data:e,error:null}}function gL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=e,c=uL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function pL(e){return e}function vL(e){return e.access_token&&e.refresh_token&&e.expires_in}const qg=["global","local","others"];var yL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class bL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=OT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=qg[0]){if(qg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qg.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ws})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=yL(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:gL,redirectTo:r?.redirectTo})}catch(r){if(ze(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ws})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,o,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:pL});if(g.error)throw g.error;const v=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);m[`${_}Page`]=w}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(ze(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){bo(t);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ws})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){bo(t);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ws})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){bo(t);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ws})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){bo(t.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _deleteFactor(t){bo(t.userId),bo(t.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}}function Oj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function xL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xo={debug:!!(globalThis&&DT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wL extends AT{}async function _L(e,t,r){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function RT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function SL(e){return parseInt(e,16)}function jL(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function NL(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:c,notBefore:d,requestId:h,resources:m,scheme:g,uri:v,version:b}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=RT(e.address),S=g?`${g}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${x}

${w}`;let N=`URI: ${v}
Version: ${b}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),h&&(N+=`
Request ID: ${h}`),m){let C=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);C+=`
- ${T}`}N+=C}return`${_}
${N}`}xL();const kL={url:R6,storageKey:M6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:L6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Aj(e,t,r){return await r()}const wo={};class pc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pc.nextInstanceID,pc.nextInstanceID+=1,this.instanceID>0&&Nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},kL),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new bL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=OT(i.fetch),this.lock=i.lock||Aj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Nn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=_L:this.lock=Aj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:DT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Oj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Oj(this.memoryStorage)),Nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=wo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){wo[this.storageKey]=Object.assign(Object.assign({},wo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=wo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){wo[this.storageKey]=Object.assign(Object.assign({},wo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kT}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=X6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Nn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),B6(o)){const h=(t=o.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ze(r)?{error:r}:{error:new CT("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const o=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:aa}),{data:c,error:d}=o;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(ze(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,i;try{let o;if("email"in t){const{email:g,password:v,options:b}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await yo(this.storage,this.storageKey)),o=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:g,password:v,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:x,code_challenge_method:S},xform:aa})}else if("phone"in t){const{phone:g,password:v,options:b}=t;o=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(n=b?.data)!==null&&n!==void 0?n:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:aa})}else throw new _d("You must provide either an email or phone number and a password");const{data:c,error:d}=o;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(ze(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:c,options:d}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Dj})}else if("phone"in t){const{phone:o,password:c,options:d}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Dj})}else throw new _d("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,o,c,d,h,m,g,v,b;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:w,wallet:_,statement:N,options:C}=t;let T;if(Nn())if(typeof _=="object")T=_;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")T=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const A=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),L=await T.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=RT(L[0]);let D=(n=C?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const q=await T.request({method:"eth_chainId"});D=SL(q)}const R={domain:A.host,address:E,statement:N,uri:A.href,version:"1",chainId:D,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=C?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=C?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=C?.signInWithEthereum)===null||g===void 0?void 0:g.resources};x=NL(R),S=await T.request({method:"personal_sign",params:[jL(x),E]})}try{const{data:w,error:_}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:aa});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Hl}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(ze(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(t){var r,n,i,o,c,d,h,m,g,v,b,x;let S,w;if("message"in t)S=t.message,w=t.signature;else{const{chain:_,wallet:N,statement:C,options:T}=t;let A;if(Nn())if(typeof N=="object")A=N;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))A=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=N}const L=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const E=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),C?{statement:C}:null));let D;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")D=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)D=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)S=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),w=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${L.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(i=(n=T?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=T?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((v=(g=T?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...T.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const E=await A.signMessage(new TextEncoder().encode(S),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:_,error:N}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:V6(w)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:aa});if(N)throw N;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Hl}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:N})}catch(_){if(ze(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await Js(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:o,error:c}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:aa});if(await gs(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Hl}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:c})}catch(o){if(ze(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:o,nonce:c}=t,d=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:aa}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Hl}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,o,c;try{if("email"in t){const{email:d,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await yo(this.storage,this.storageKey));const{error:v}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:d,options:h}=t,{data:m,error:g}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:g}}throw new _d("You must provide either an email or phone number.")}catch(d){if(ze(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var r,n;try{let i,o;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:aa});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let o=null,c=null;return this.flowType==="pkce"&&([o,c]=await yo(this.storage,this.storageKey)),await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:mL})}catch(o){if(ze(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new vs;const{error:i}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:o}=t,{error:c}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:i,options:o}=t,{data:c,error:d}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new _d("You must provide either an email or phone number and a type")}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Js(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ag:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await Js(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Lg()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,m,g)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,g))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ws}):await this._useSession(async r=>{var n,i,o;const{data:c,error:d}=r;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vs}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:ws})})}catch(r){if(ze(r))return z6(r)&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new vs;const c=i.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await yo(this.storage,this.storageKey));const{data:m,error:g}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:ws});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vs;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:c}=Mg(t.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{session:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;o={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ze(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:d}=r;if(d)throw d;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new vs;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Nn())throw new Sd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Sd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Sj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sj("No code detected.");const{data:C,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:c,expires_in:d,expires_at:h,token_type:m}=t;if(!o||!d||!c||!m)throw new Sd("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(d);let b=g+v;h&&(b=parseInt(h));const x=b-g;x*1e3<=jo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const S=b-v;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,g);const{data:w,error:_}=await this._getUser(o);if(_)throw _;const N={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:v,expires_at:b,refresh_token:c,token_type:m,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(n){if(ze(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Js(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{error:o};const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!($6(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=W6(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await yo(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ze(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var c,d,h,m,g;const{data:v,error:b}=o;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",x,{headers:this.headers,jwt:(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Nn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(ze(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:c}=r;if(c)throw c;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await eL(async i=>(i>0&&await Z6(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:aa})),(i,o)=>{const c=200*Math.pow(2,i);return o&&Rg(o)&&Date.now()+c-n<jo})}catch(n){if(this._debug(r,"error",n),ze(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Nn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Js(this.storage,this.storageKey);if(i&&this.userStorage){let c=await Js(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await No(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c?.user)!==null&&t!==void 0?t:Lg()}else if(i&&!i.user&&!i.user){const c=await Js(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await gs(this.storage,this.storageKey+"-user"),await No(this.storage,this.storageKey,i)):i.user=Lg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ag;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Ag}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Rg(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new vs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Cf;const{data:o,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!o.session)throw new vs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={session:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(i,"error",o),ze(o)){const c={session:null,error:o};return Rg(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(h){o.push(h)}});if(await Promise.all(c),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await No(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=Cj(i);await No(this.storage,this.storageKey,o)}else{const i=Cj(r);await No(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await gs(this.storage,this.storageKey),await gs(this.storage,this.storageKey+"-code-verifier"),await gs(this.storage,this.storageKey+"-user"),this.userStorage&&await gs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),jo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/jo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${jo}ms, refresh threshold is ${F0} ticks`),i<=F0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof AT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,c]=await yo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await Ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:m}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:c,error:d}=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(r){if(ze(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ze(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],i=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),o=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Mg(i.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const g=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+U6>i)return n;const{data:o,error:c}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:S}=await this.getSession();if(S||!x.session)return{data:null,error:S};n=x.session.access_token}const{header:i,payload:o,signature:c,raw:{header:d,payload:h}}=Mg(n);r?.allowExpired||oL(o.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:o,header:i,signature:c},error:null}}const g=lL(i.alg),v=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,c,Y6(`${d}.${h}`)))throw new G0("Invalid JWT signature");return{data:{claims:o,header:i,signature:c},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}}pc.nextInstanceID=0;const EL=pc;class CL extends EL{constructor(t){super(t)}}var TL=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(v){c(v)}}function h(g){try{m(n.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class DL{constructor(t,r,n){var i,o,c;this.supabaseUrl=t,this.supabaseKey=r;const d=A6(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:_6,realtime:j6,auth:Object.assign(Object.assign({},S6),{storageKey:h}),global:w6},g=O6(n??{},m);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=C6(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new P5(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new y6(this.storageUrl.href,this.headers,this.fetch,n?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new C5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return TL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:c,flowType:d,lock:h,debug:m},g,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CL({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),g),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,flowType:d,lock:h,debug:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new t6(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const OL=(e,t,r)=>new DL(e,t,r);function AL(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}AL()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const RL="https://btiyyxmiwngikpuygpsq.supabase.co",ML="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ0aXl5eG1pd25naWtwdXlncHNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxNzA0MDUsImV4cCI6MjA3NDc0NjQwNX0.4tt9SZ0VRsCObhvTKJzqb1IEkfGwi8IL_yI8PHjMvdo",Or=OL(RL,ML,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),MT=()=>Or,LL={facebook:{primaryText:{max:125,recommended:90},headline:{max:27,recommended:25},description:{max:30,recommended:27},graphicsCopy:{max:20,recommended:15}},instagram:{primaryText:{max:125,recommended:90},headline:{max:27,recommended:25},description:{max:30,recommended:27},graphicsCopy:{max:20,recommended:15}},google:{primaryText:{max:90,recommended:80},headline:{max:30,recommended:25},description:{max:90,recommended:80},graphicsCopy:{max:25,recommended:20}},linkedin:{primaryText:{max:150,recommended:120},headline:{max:200,recommended:150},description:{max:300,recommended:250},graphicsCopy:{max:30,recommended:25}},twitter:{primaryText:{max:280,recommended:250},headline:{max:100,recommended:80},description:{max:280,recommended:250},graphicsCopy:{max:15,recommended:12}},tiktok:{primaryText:{max:100,recommended:80},headline:{max:100,recommended:80},description:{max:100,recommended:80},graphicsCopy:{max:10,recommended:8}},custom:{primaryText:{max:200,recommended:150},headline:{max:100,recommended:80},description:{max:200,recommended:150},graphicsCopy:{max:30,recommended:25}}};async function qL(e){const t=LL[e.platform],{cardTitle:r,cardDescription:n,platform:i,tone:o="professional",objective:c="conversion"}=e;return await new Promise(h=>setTimeout(h,2e3)),{facebook:{graphics_copy:Zs(r,t.graphicsCopy.recommended),subheadline:ei(r,o,t.headline.recommended),description:ti(n,c,t.description.recommended),primary_text:ri(r,n,o,c,t.primaryText.recommended)},instagram:{graphics_copy:Zs(r,t.graphicsCopy.recommended,!0),subheadline:ei(r,o,t.headline.recommended,!0),description:ti(n,c,t.description.recommended,!0),primary_text:ri(r,n,o,c,t.primaryText.recommended,!0)},google:{graphics_copy:Zs(r,t.graphicsCopy.recommended),subheadline:ei(r,"professional",t.headline.recommended),description:ti(n,c,t.description.recommended),primary_text:ri(r,n,"professional",c,t.primaryText.recommended)},linkedin:{graphics_copy:Zs(r,t.graphicsCopy.recommended),subheadline:ei(r,"professional",t.headline.recommended),description:ti(n,"leads",t.description.recommended),primary_text:ri(r,n,"professional","leads",t.primaryText.recommended)},twitter:{graphics_copy:Zs(r,t.graphicsCopy.recommended,!1,!0),subheadline:ei(r,o,t.headline.recommended,!1,!0),description:ti(n,c,t.description.recommended,!1,!0),primary_text:ri(r,n,o,c,t.primaryText.recommended,!1,!0)},tiktok:{graphics_copy:Zs(r,t.graphicsCopy.recommended,!0,!1,!0),subheadline:ei(r,"playful",t.headline.recommended,!0,!1,!0),description:ti(n,"engagement",t.description.recommended,!0,!1,!0),primary_text:ri(r,n,"playful","engagement",t.primaryText.recommended,!0,!1,!0)},custom:{graphics_copy:Zs(r,t.graphicsCopy.recommended),subheadline:ei(r,o,t.headline.recommended),description:ti(n,c,t.description.recommended),primary_text:ri(r,n,o,c,t.primaryText.recommended)}}[i]}function Zs(e,t,r=!1,n=!1,i=!1){const o=e.substring(0,t-2);return i?`${o} 🔥`:r?`${o} ✨`:n?o:`${o}!`}function ei(e,t,r,n=!1,i=!1,o=!1){let d=`${{professional:"Discover",casual:"Check out",playful:"Get ready for",urgent:"Don't miss",informative:"Learn about"}[t]} ${e}`;return o&&(d+=" - viral content"),n&&(d+=" in style"),d.substring(0,r)}function ti(e,t,r,n=!1,i=!1,o=!1){const c={awareness:"Learn more",conversion:"Get started today",engagement:"Join the conversation",traffic:"Visit our site",leads:"Contact us now"};let d=e||"Transform your experience with our solution";i&&(d=d.substring(0,r-15));const h=c[t];let m=`${d}. ${h}`;return o&&(m+=" [Trending]"),n&&(m+=" [Visual]"),m.substring(0,r)}function ri(e,t,r,n,i,o=!1,c=!1,d=!1){const h={professional:"Experience the difference with",casual:"Ready to try something amazing?",playful:"Get excited about",urgent:"Limited time:",informative:"Here's what you need to know about"},m={awareness:"Discover more today.",conversion:"Start your journey now!",engagement:"Join thousands of satisfied users.",traffic:"Visit us to learn more.",leads:"Contact our team for details."};let g=`${h[r]} ${e}. ${t||"Transform your experience with our innovative solution."} ${m[n]}`;return d&&(g+=" #trending #viral"),o&&(g+=" [Visual Content]"),g.substring(0,i)}const UL=()=>`activity_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,PL=()=>{const e=localStorage.getItem("currentUser");if(e)try{return JSON.parse(e)}catch(t){console.warn("Failed to parse stored user:",t)}return{id:"demo-user-id",name:"Demo User"}},$L=e=>{localStorage.setItem("currentUser",JSON.stringify({id:e.id,name:e.name||e.email?.split("@")[0]||"User"}))},vr=(e,t={},r,n)=>{const i=PL();return{id:UL(),type:e,meta:t,actor_id:i.id,actor_name:i.name,created_at:new Date().toISOString()}},fn=(e,t)=>{const r={...e};r.activity||(r.activity=[]),r.activity.unshift(t);const n=qT(),i=n.findIndex(o=>o.id===e.id);return i!==-1&&(n[i]=r,Ut(n),he=n),r},zL=[{id:"demo-card-1",list_id:"demo-list-1",title:"Welcome! Try editing this card",description:"This card demonstrates all features. Click to edit and add labels, checklists, comments, and more!",position:1e3,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:null,workspace_id:"guest-workspace",board_id:"demo-board-1",created_by:"guest-user",card_labels:[{label_id:"label-1",labels:{id:"label-1",name:"Priority",color:"#ef4444"}}],checklists:[{id:"checklist-1",title:"Getting Started",position:1,checklist_items:[{id:"item-1",text:"Click to edit this card",done:!1,position:1},{id:"item-2",text:"Try adding a new checklist item",done:!1,position:2},{id:"item-3",text:"Check off completed items",done:!0,position:3}]}],comments:[{id:"comment-1",author_id:"guest-user",created_at:new Date().toISOString()}]},{id:"demo-card-2",list_id:"demo-list-2",title:"Drag cards between lists",description:"You can drag and drop cards to reorganize them!",position:1e3,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:"2025-01-15",workspace_id:"guest-workspace",board_id:"demo-board-1",created_by:"guest-user"},{id:"card-1",list_id:"list-1",title:"Welcome to the Demo!",description:"This is a sample card to show how the app works. Click to edit!",position:1e3,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:null,workspace_id:"guest-workspace",board_id:"board-1",created_by:"guest-user"},{id:"card-2",list_id:"list-1",title:"Try dragging cards between lists",description:"Drag and drop functionality is fully working!",position:2e3,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:"2025-01-15",workspace_id:"guest-workspace",board_id:"board-1",created_by:"guest-user"},{id:"card-3",list_id:"list-2",title:"Sample card in progress",description:'This card is in the "In Progress" list',position:1e3,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:null,workspace_id:"guest-workspace",board_id:"board-1",created_by:"guest-user"},{id:"card-4",list_id:"list-3",title:"Completed task example",description:"This task has been completed!",position:1e3,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:null,workspace_id:"guest-workspace",board_id:"board-1",created_by:"guest-user"}],LT="todo-app-cards";function qT(){try{const e=localStorage.getItem(LT);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to load cards from localStorage:",e)}return[...zL]}function Ut(e){try{localStorage.setItem(LT,JSON.stringify(e))}catch(t){console.warn("Failed to save cards to localStorage:",t)}}let he=qT();async function Ei(e){return he.filter(r=>r.board_id===e)}async function UT(e,t){let r="guest-board";try{const o=localStorage.getItem("todo-app-lists");if(o){const d=JSON.parse(o).find(h=>h.id===e);d&&(r=d.board_id)}}catch{console.warn("Could not find board ID for list:",e)}const n=Date.now(),i={id:`card-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,list_id:e,title:t,description:null,position:n,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),date_start:null,date_end:null,workspace_id:"guest-workspace",board_id:r,created_by:"guest-user"};return he.push(i),Ut(he),i}async function PT(e,t){const r=he.findIndex(c=>c.id===e);if(r===-1)throw new Error("Card not found");const n=he[r],i={...n,...t,updated_at:new Date().toISOString()},o=[];return t.title!==void 0&&t.title!==n.title&&o.push(vr("title_changed",{field_name:"title",old_value:n.title,new_value:t.title})),t.description!==void 0&&t.description!==n.description&&o.push(vr("description_changed",{field_name:"description",old_value:n.description,new_value:t.description})),t.date_start!==void 0&&t.date_start!==n.date_start&&o.push(vr("date_start_changed",{field_name:"date_start",old_value:n.date_start,new_value:t.date_start})),t.date_end!==void 0&&t.date_end!==n.date_end&&o.push(vr("date_end_changed",{field_name:"date_end",old_value:n.date_end,new_value:t.date_end})),(t.location_address!==void 0&&t.location_address!==n.location_address||t.location_lat!==void 0&&t.location_lat!==n.location_lat||t.location_lng!==void 0&&t.location_lng!==n.location_lng)&&o.push(vr("location_changed",{field_name:"location",old_value:{address:n.location_address,lat:n.location_lat,lng:n.location_lng},new_value:{address:t.location_address??n.location_address,lat:t.location_lat??n.location_lat,lng:t.location_lng??n.location_lng}})),o.length>0&&(i.activity||(i.activity=[]),i.activity.unshift(...o)),he[r]=i,Ut(he),i}async function BL(e,t,r){const n=he.findIndex(i=>i.id===e);n!==-1&&(he[n]={...he[n],list_id:t,position:r,updated_at:new Date().toISOString()},Ut(he))}async function IL(e){const t=he.findIndex(r=>r.id===e);if(t!==-1)if(he[t].board_id==="archive-board")he.splice(t,1),Ut(he);else throw new Error("Cards must be archived before they can be deleted")}async function Cb(e,t,r){const n=he.findIndex(i=>i.id===e);if(n!==-1){let i=r;if(!i){try{const o=localStorage.getItem("todo-app-lists");if(o){const d=JSON.parse(o).filter(h=>h.board_id===t);d.length>0&&(i=d[0].id)}}catch{console.warn("Could not find lists for target board:",t)}i||(i=`${t}-list-1`)}he[n]={...he[n],board_id:t,list_id:i,position:Date.now(),updated_at:new Date().toISOString()},Ut(he)}}async function FL(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=t.id||`label-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,i=he[r];i.card_labels||(i.card_labels=[]),i.card_labels.find(c=>c.labels?.name===t.name)||(i.card_labels.push({label_id:n,labels:{id:n,name:t.name,color:t.color}}),he[r]={...i,updated_at:new Date().toISOString()},Ut(he))}}async function HL(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=`checklist-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,i=he[r];i.checklists||(i.checklists=[]),i.checklists.push({id:n,title:t,position:i.checklists.length+1,checklist_items:[]});const o=vr("checklist_added",{target_id:n,target_name:t,details:`Added checklist "${t}"`}),c={...i,updated_at:new Date().toISOString()};return he[r]=fn(c,o),n}throw new Error("Card not found")}async function KL(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=he[r];if(n.checklists){const i=n.checklists.find(o=>o.id===t);if(n.checklists=n.checklists.filter(o=>o.id!==t),i){const o=vr("checklist_removed",{target_id:t,target_name:i.title||"Untitled checklist",details:`Removed checklist "${i.title||"Untitled checklist"}"`}),c={...n,updated_at:new Date().toISOString()};he[r]=fn(c,o)}else he[r]={...n,updated_at:new Date().toISOString()},Ut(he)}}}async function GL(e,t,r){const n=he.findIndex(i=>i.id===e);if(n!==-1){const i=he[n],o=i.checklists?.find(c=>c.id===t);if(o){const c=`item-${Date.now()}-${Math.random().toString(36).substring(2,8)}`;o.checklist_items||(o.checklist_items=[]),o.checklist_items.push({id:c,text:r,done:!1,position:o.checklist_items.length+1});const d=vr("checklist_item_added",{target_id:c,target_name:r,details:`Added task "${r}" to checklist "${o.title||"Untitled checklist"}"`}),h={...i,updated_at:new Date().toISOString()};return he[n]=fn(h,d),Ut(he),c}}throw new Error("Card or checklist not found")}async function YL(e,t,r){const n=he.findIndex(i=>i.id===e);if(n!==-1){const i=he[n],c=i.checklists?.find(d=>d.id===t)?.checklist_items?.find(d=>d.id===r);if(c){c.done=!c.done,c.done?c.completed_at=new Date().toISOString():c.completed_at=null;const d=c.done?"checklist_item_completed":"checklist_item_uncompleted",h=vr(d,{target_id:r,target_name:c.text||"Untitled task",details:c.done?`Completed task "${c.text}"`:`Uncompleted task "${c.text}"`}),m={...i,updated_at:new Date().toISOString()};he[n]=fn(m,h),Ut(he)}}}async function VL(e,t,r){const n=he.findIndex(i=>i.id===e);if(n!==-1){const i=he[n],o=i.checklists?.find(c=>c.id===t);if(o&&o.checklist_items){const c=o.checklist_items.find(d=>d.id===r);if(o.checklist_items=o.checklist_items.filter(d=>d.id!==r),c){const d=vr("checklist_item_removed",{target_id:r,target_name:c.text||"Untitled task",details:`Removed task "${c.text}" from checklist "${o.title||"Untitled checklist"}"`}),h={...i,updated_at:new Date().toISOString()};he[n]=fn(h,d),Ut(he)}else he[n]={...i,updated_at:new Date().toISOString()},Ut(he)}}}async function QL(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=`attachment-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,i=he[r];i.attachments||(i.attachments=[]),i.attachments.push({id:n,name:t.name,url:t.url,mime:t.mime,size:t.size,created_at:new Date().toISOString()});const o=vr("attachment_added",{target_id:n,target_name:t.name,details:`Added attachment "${t.name}" (${(t.size/1024).toFixed(1)} KB)`}),c={...i,updated_at:new Date().toISOString()};return he[r]=fn(c,o),n}throw new Error("Card not found")}async function WL(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=he[r];if(n.attachments){const i=n.attachments.find(o=>o.id===t);if(n.attachments=n.attachments.filter(o=>o.id!==t),i){const o=vr("attachment_removed",{target_id:t,target_name:i.name,details:`Removed attachment "${i.name}"`}),c={...n,updated_at:new Date().toISOString()};he[r]=fn(c,o)}else he[r]={...n,updated_at:new Date().toISOString()},Ut(he)}}}async function XL(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=`member-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,i=he[r];if(i.assigned_members||(i.assigned_members=[]),!i.assigned_members.find(c=>c.email===t.email||c.name===t.name)){i.assigned_members.push({id:n,name:t.name,email:t.email,avatar:t.avatar,assigned_at:new Date().toISOString()});const c=vr("member_assigned",{target_id:n,target_name:t.name,details:`Assigned ${t.name} to card`}),d={...i,updated_at:new Date().toISOString()};he[r]=fn(d,c)}return n}throw new Error("Card not found")}async function JL(e,t,r,n){const i=he.findIndex(o=>o.id===e);if(i!==-1){const o=he[i],d=o.checklists?.find(m=>m.id===t)?.checklist_items?.find(m=>m.id===r),h=o.assigned_members?.find(m=>m.id===n);if(d&&h){const m=d.assigned_member_name;d.assigned_to=n,d.assigned_member_name=h.name;const g=vr("checklist_item_assigned",{target_id:r,target_name:d.text||"Untitled task",details:m?`Reassigned task "${d.text}" from ${m} to ${h.name}`:`Assigned ${h.name} to task "${d.text}"`}),v={...o,updated_at:new Date().toISOString()};he[i]=fn(v,g),Ut(he)}}}async function ZL(e,t,r,n){const i=he.findIndex(o=>o.id===e);if(i!==-1){const o=he[i],d=o.checklists?.find(h=>h.id===t)?.checklist_items?.find(h=>h.id===r);if(d){const h=d.due_date;d.due_date=n;const g=vr(n?"checklist_item_due_date_set":"checklist_item_due_date_removed",{target_id:r,target_name:d.text||"Untitled task",old_value:h,new_value:n,details:n?`Set due date for task "${d.text}" to ${new Date(n).toLocaleDateString()}`:`Removed due date from task "${d.text}"`}),v={...o,updated_at:new Date().toISOString()};he[i]=fn(v,g),Ut(he)}}}async function eq(e,t,r,n){const i=he.findIndex(o=>o.id===e);if(i!==-1){const o=he[i],d=o.checklists?.find(h=>h.id===t)?.checklist_items?.find(h=>h.id===r);if(d){const h=d.start_date;d.start_date=n;const g=vr(n?"checklist_item_start_date_set":"checklist_item_start_date_removed",{target_id:r,target_name:d.text||"Untitled task",old_value:h,new_value:n,details:n?`Set start date for task "${d.text}" to ${new Date(n).toLocaleDateString()}`:`Removed start date from task "${d.text}"`}),v={...o,updated_at:new Date().toISOString()};he[i]=fn(v,g),Ut(he)}}}async function tq(e,t,r,n){const i=he.findIndex(o=>o.id===e);if(i!==-1){const o=he[i],d=o.checklists?.find(h=>h.id===t)?.checklist_items?.find(h=>h.id===r);if(d){const m=[{id:"urgent",name:"Urgent",color:"#ef4444"},{id:"feature",name:"Feature",color:"#3b82f6"},{id:"bug",name:"Bug",color:"#f59e0b"},{id:"enhancement",name:"Enhancement",color:"#10b981"},{id:"documentation",name:"Documentation",color:"#8b5cf6"},{id:"research",name:"Research",color:"#ec4899"}].find(g=>g.id===n);if(m&&(d.labels||(d.labels=[]),!d.labels.some(g=>g.id===n))){d.labels.push(m);const g=vr("checklist_item_label_added",{target_id:r,target_name:d.text||"Untitled task",details:`Added label "${m.name}" to task "${d.text}"`}),v={...o,updated_at:new Date().toISOString()};he[i]=fn(v,g),Ut(he)}}}}async function rq(e,t,r,n){const i=he.findIndex(o=>o.id===e);if(i!==-1){const o=he[i],d=o.checklists?.find(h=>h.id===t)?.checklist_items?.find(h=>h.id===r);if(d&&d.labels){const h=d.labels.find(m=>m.id===n);if(d.labels=d.labels.filter(m=>m.id!==n),h){const m=vr("checklist_item_label_removed",{target_id:r,target_name:d.text||"Untitled task",details:`Removed label "${h.name}" from task "${d.text}"`}),g={...o,updated_at:new Date().toISOString()};he[i]=fn(g,m),Ut(he)}}}}async function nq(){return[{id:"urgent",name:"Urgent",color:"#ef4444"},{id:"feature",name:"Feature",color:"#3b82f6"},{id:"bug",name:"Bug",color:"#f59e0b"},{id:"enhancement",name:"Enhancement",color:"#10b981"},{id:"documentation",name:"Documentation",color:"#8b5cf6"},{id:"research",name:"Research",color:"#ec4899"}]}async function aq(e,t,r){const n=he.find(o=>o.id===e);if(!n)throw new Error("Card not found");const i={cardTitle:n.title,cardDescription:typeof n.description=="string"?n.description:"",platform:t,targetAudience:r?.targetAudience,tone:r?.tone||"professional",objective:r?.objective||"conversion"};try{const o=await qL(i),c=`ad-copy-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,d=he.findIndex(h=>h.id===e);if(d!==-1){he[d].ad_copies||(he[d].ad_copies=[]);const h={id:c,title:`${t.charAt(0).toUpperCase()+t.slice(1)} Ad Copy`,platform:t,graphics_copy:o.graphics_copy,subheadline:o.subheadline,description:o.description,primary_text:o.primary_text,generated_at:new Date().toISOString(),ai_model_used:"Mock AI Service",is_approved:!1,position:he[d].ad_copies.length+1};return he[d].ad_copies.push(h),he[d].updated_at=new Date().toISOString(),Ut(he),c}throw new Error("Failed to save ad copy")}catch(o){throw console.error("Failed to generate ad copy:",o),o}}async function $T(e,t,r){const n=he.findIndex(i=>i.id===e);if(n!==-1){const i=he[n],o=i.ad_copies?.findIndex(c=>c.id===t);o!==void 0&&o!==-1&&i.ad_copies&&(i.ad_copies[o]={...i.ad_copies[o],...r},he[n].updated_at=new Date().toISOString(),Ut(he))}}async function sq(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=he[r];n.ad_copies&&(n.ad_copies=n.ad_copies.filter(i=>i.id!==t),he[r].updated_at=new Date().toISOString(),Ut(he))}}async function iq(e,t){await $T(e,t,{is_approved:!0})}const zT="todo-app-labels",oq=[{id:"label-1",name:"Final Form",color:"#22C55E",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-2",name:"Viking Customers",color:"#A3A833",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-3",name:"Dealer Order Form",color:"#D2691E",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-4",name:"",color:"#CD853F",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-5",name:"",color:"#DC143C",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-6",name:"",color:"#8A2BE2",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-7",name:"QMC Customers",color:"#4169E1",workspace_id:"guest-workspace",created_at:new Date().toISOString()},{id:"label-8",name:"",color:"#1E90FF",workspace_id:"guest-workspace",created_at:new Date().toISOString()}];function lq(){try{const e=localStorage.getItem(zT);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to load labels from localStorage:",e)}return[...oq]}function Tb(e){try{localStorage.setItem(zT,JSON.stringify(e))}catch(t){console.warn("Failed to save labels to localStorage:",t)}}let Fn=lq();async function cq(e="guest-workspace"){return Fn.filter(r=>r.workspace_id===e).map(r=>({...r,card_count:he.filter(n=>n.card_labels?.some(i=>i.label_id===r.id)).length}))}async function uq(e){const t={id:`label-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,name:e.name,color:e.color,workspace_id:e.workspace_id||"guest-workspace",created_at:new Date().toISOString()};return Fn.push(t),Tb(Fn),t}async function dq(e,t){const r=Fn.findIndex(n=>n.id===e);r!==-1&&(Fn[r]={...Fn[r],...t},Tb(Fn))}async function fq(e){he.forEach(t=>{t.card_labels&&(t.card_labels=t.card_labels.filter(r=>r.label_id!==e))}),Ut(he),Fn=Fn.filter(t=>t.id!==e),Tb(Fn)}async function hq(e,t){const r=he.findIndex(i=>i.id===e),n=Fn.find(i=>i.id===t);if(r!==-1&&n){const i=he[r];i.card_labels||(i.card_labels=[]),i.card_labels.find(c=>c.label_id===t)||(i.card_labels.push({label_id:t,labels:{id:t,name:n.name,color:n.color}}),he[r]={...i,updated_at:new Date().toISOString()},Ut(he))}}async function BT(e,t){const r=he.findIndex(n=>n.id===e);if(r!==-1){const n=he[r];n.card_labels&&(n.card_labels=n.card_labels.filter(i=>i.label_id!==t),he[r]={...n,updated_at:new Date().toISOString()},Ut(he))}}const IT=k.createContext(void 0);function mq({children:e}){const[t,r]=k.useState(null),[n,i]=k.useState(!0),[o,c]=k.useState(!1),d=MT();k.useEffect(()=>{if(t){const b=t.user_metadata?.full_name||t.user_metadata?.name||t.email?.split("@")[0]||"User";$L({id:t.id,name:b,email:t.email})}},[t]),k.useEffect(()=>{d.auth.getSession().then(({data:{session:x},error:S})=>{if(S){console.warn("Auth session error, enabling demo mode:",S.message),c(!0);const w={id:"demo-user-"+Date.now(),email:"demo@example.com",user_metadata:{full_name:"Demo User"},app_metadata:{},aud:"authenticated",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};r(w)}else r(x?.user??null);i(!1)}).catch(x=>{console.warn("Auth initialization failed, enabling demo mode:",x),c(!0);const S={id:"demo-user-"+Date.now(),email:"demo@example.com",user_metadata:{full_name:"Demo User"},app_metadata:{},aud:"authenticated",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};r(S),i(!1)});const{data:{subscription:b}}=d.auth.onAuthStateChange((x,S)=>{r(S?.user??null),i(!1)});return()=>b.unsubscribe()},[d.auth]);const v={user:t,loading:n,signIn:async(b,x)=>{const{error:S}=await d.auth.signInWithPassword({email:b,password:x});if(S)throw S},signUp:async(b,x)=>{const{error:S}=await d.auth.signUp({email:b,password:x});if(S)throw S},signOut:async()=>{const{error:b}=await d.auth.signOut();if(b)throw b},isDemoMode:o};return u.jsx(IT.Provider,{value:v,children:e})}function fa(){const e=k.useContext(IT);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const gq=k.createContext(void 0);function pq({children:e}){const[t,r]=k.useState({}),[n,i]=k.useState({enableAssignee:!1,enableLabels:!1,enableDueDate:!1,enableStatus:!1}),o=()=>{r({})},c=Object.values(t).some(h=>h!==void 0&&h!==""&&h!==null),d={filters:t,filterOptions:n,setFilters:r,setFilterOptions:i,clearFilters:o,isFilterActive:c};return u.jsx(gq.Provider,{value:d,children:e})}const qt={name:"Default",description:"Default theme for the application",is_default:!0,is_active:!0,colors:{primary:"#3b82f6",secondary:"#6b7280",accent:"#10b981",background:"#ffffff",cardBackground:"#f9fafb",listBackground:"#f3f4f6",text:"#111827",textSecondary:"#6b7280",textMuted:"#9ca3af",textInverted:"#ffffff",border:"#d1d5db",borderLight:"#e5e7eb",borderDark:"#9ca3af",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6",hover:"#f3f4f6",focus:"#dbeafe",disabled:"#f3f4f6",shadow:"rgba(0, 0, 0, 0.1)",overlay:"rgba(0, 0, 0, 0.5)",cardText:"#111827",cardTitle:"#1f2937",cardSubtitle:"#6b7280",cardBorder:"#e5e7eb",listText:"#111827",listTitle:"#1f2937",listBorder:"#d1d5db",boardBackground:"#f9fafb",boardText:"#111827",boardTitle:"#1f2937",navBackground:"#ffffff",navText:"#374151",navHover:"#f3f4f6",navActive:"#3b82f6",buttonPrimary:"#3b82f6",buttonPrimaryText:"#ffffff",buttonSecondary:"#f3f4f6",buttonSecondaryText:"#374151",buttonDanger:"#ef4444",buttonDangerText:"#ffffff"},typography:{fontFamily:"Inter, system-ui, sans-serif",fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"}},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem"},borderRadius:{sm:"0.25rem",md:"0.5rem",lg:"0.75rem",full:"9999px"},shadows:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)"}},FT="todo-app-themes";function vq(){try{const e=localStorage.getItem(FT);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to load themes from localStorage:",e)}return[{id:"1",...qt,created_by:"admin",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",name:"Dark",description:"Dark theme for low-light environments",is_default:!1,is_active:!0,created_by:"admin",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),colors:{primary:"#6366f1",secondary:"#8b5cf6",accent:"#06b6d4",background:"#1f2937",cardBackground:"#374151",listBackground:"#2d3748",text:"#f9fafb",textSecondary:"#d1d5db",textMuted:"#9ca3af",textInverted:"#1f2937",border:"#4b5563",borderLight:"#6b7280",borderDark:"#374151",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#6366f1",hover:"#4b5563",focus:"#6366f1",disabled:"#4b5563",shadow:"rgba(0, 0, 0, 0.5)",overlay:"rgba(0, 0, 0, 0.7)",cardText:"#f9fafb",cardTitle:"#ffffff",cardSubtitle:"#d1d5db",cardBorder:"#4b5563",listText:"#f9fafb",listTitle:"#ffffff",listBorder:"#4b5563",boardBackground:"#1f2937",boardText:"#f9fafb",boardTitle:"#ffffff",navBackground:"#374151",navText:"#f9fafb",navHover:"#4b5563",navActive:"#6366f1",buttonPrimary:"#6366f1",buttonPrimaryText:"#ffffff",buttonSecondary:"#4b5563",buttonSecondaryText:"#f9fafb",buttonDanger:"#ef4444",buttonDangerText:"#ffffff"},typography:qt.typography,spacing:qt.spacing,borderRadius:qt.borderRadius,shadows:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.3)",md:"0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.3), 0 8px 10px -6px rgb(0 0 0 / 0.3)"}},{id:"3",name:"Ocean",description:"Ocean-inspired blue theme",is_default:!1,is_active:!0,created_by:"admin",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),colors:{primary:"#0891b2",secondary:"#06b6d4",accent:"#0284c7",background:"#f0f9ff",cardBackground:"#ffffff",listBackground:"#e0f2fe",text:"#0c4a6e",textSecondary:"#0369a1",textMuted:"#0891b2",textInverted:"#ffffff",border:"#bae6fd",borderLight:"#e0f2fe",borderDark:"#7dd3fc",success:"#059669",warning:"#d97706",error:"#dc2626",info:"#0891b2",hover:"#e0f2fe",focus:"#0891b2",disabled:"#f0f9ff",shadow:"rgba(8, 145, 178, 0.2)",overlay:"rgba(12, 74, 110, 0.5)",cardText:"#0c4a6e",cardTitle:"#164e63",cardSubtitle:"#0369a1",cardBorder:"#bae6fd",listText:"#0c4a6e",listTitle:"#164e63",listBorder:"#7dd3fc",boardBackground:"#f0f9ff",boardText:"#0c4a6e",boardTitle:"#164e63",navBackground:"#ffffff",navText:"#0c4a6e",navHover:"#e0f2fe",navActive:"#0891b2",buttonPrimary:"#0891b2",buttonPrimaryText:"#ffffff",buttonSecondary:"#e0f2fe",buttonSecondaryText:"#0c4a6e",buttonDanger:"#dc2626",buttonDangerText:"#ffffff"},typography:qt.typography,spacing:qt.spacing,borderRadius:qt.borderRadius,shadows:qt.shadows}]}function Db(e){try{localStorage.setItem(FT,JSON.stringify(e))}catch(t){console.warn("Failed to save themes to localStorage:",t)}}let un=vq();const Tf=async()=>{try{return un}catch(e){throw console.error("Error fetching themes:",e),e}},HT=async e=>{try{const t={id:Date.now().toString(),...e,created_by:"current-user",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_default:!1,is_active:!0,typography:{...qt.typography,...e.typography},spacing:{...qt.spacing,...e.spacing},borderRadius:{...qt.borderRadius,...e.borderRadius},shadows:{...qt.shadows,...e.shadows}};return un.push(t),Db(un),t}catch(t){throw console.error("Error creating theme:",t),t}},yq=async e=>{try{const t=un.find(i=>i.id===e.id);if(!t)throw new Error("Theme not found");const r={...t,...e,typography:e.typography?{...t.typography,...e.typography}:t.typography,spacing:e.spacing?{...t.spacing,...e.spacing}:t.spacing,borderRadius:e.borderRadius?{...t.borderRadius,...e.borderRadius}:t.borderRadius,shadows:e.shadows?{...t.shadows,...e.shadows}:t.shadows,updated_at:new Date().toISOString()},n=un.findIndex(i=>i.id===e.id);return un[n]=r,Db(un),r}catch(t){throw console.error("Error updating theme:",t),t}},bq=async e=>{try{const t=un.find(r=>r.id===e);if(!t)throw new Error("Theme not found");if(t.is_default)throw new Error("Cannot delete default theme");un=un.filter(r=>r.id!==e)}catch(t){throw console.error("Error deleting theme:",t),t}},Ob=async e=>{try{un=un.map(t=>({...t,is_default:t.id===e})),Db(un)}catch(t){throw console.error("Error setting default theme:",t),t}},KT=k.createContext(void 0),GT=()=>{const e=k.useContext(KT);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},xq=({children:e})=>{const[t,r]=k.useState(null),{data:n=[],isLoading:i}=ct({queryKey:["themes"],queryFn:Tf}),o=n.find(h=>h.is_default)||n[0]||null;k.useEffect(()=>{if(o)jd(o),r(o);else if(!i&&n.length===0){const h={...qt,id:"default",created_by:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};jd(h),r(h)}},[o,i,n.length]),k.useEffect(()=>{const h={...qt,id:"default",created_by:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};jd(h)},[]);const d={currentTheme:o,setActiveTheme:async h=>{try{await Ob(h);const m=n.find(g=>g.id===h);m&&(jd(m),r(m))}catch(m){console.error("Failed to set active theme:",m)}},isLoading:i,appliedTheme:t};return u.jsx(KT.Provider,{value:d,children:e})};function jd(e){const t=document.documentElement;e.colors&&Object.entries(e.colors).forEach(([n,i])=>{t.style.setProperty(`--color-${n}`,i)}),e.typography&&(e.typography.fontFamily&&(t.style.setProperty("--typography-fontFamily",e.typography.fontFamily),document.body.style.fontFamily=e.typography.fontFamily),e.typography.fontSize&&Object.entries(e.typography.fontSize).forEach(([n,i])=>{t.style.setProperty(`--typography-fontSize-${n}`,i)}),e.typography.fontWeight&&Object.entries(e.typography.fontWeight).forEach(([n,i])=>{t.style.setProperty(`--typography-fontWeight-${n}`,i)})),e.spacing&&Object.entries(e.spacing).forEach(([n,i])=>{t.style.setProperty(`--spacing-${n}`,i)}),e.borderRadius&&Object.entries(e.borderRadius).forEach(([n,i])=>{t.style.setProperty(`--border-radius-${n}`,i)}),e.shadows&&Object.entries(e.shadows).forEach(([n,i])=>{t.style.setProperty(`--shadow-${n}`,i)}),document.body.style.backgroundColor=e.colors.background,document.body.style.color=e.colors.text,document.body.style.fontFamily=e.typography.fontFamily;const r=document.createElement("div");r.style.display="none",document.body.appendChild(r),document.body.removeChild(r),t.setAttribute("data-theme",e.name),t.setAttribute("data-theme-id",e.id),window.dispatchEvent(new CustomEvent("themeChanged",{detail:{theme:e}}))}const wq=new d5({defaultOptions:{queries:{staleTime:300*1e3,retry:1}}});function _q(){return u.jsx(f5,{client:wq,children:u.jsx(mq,{children:u.jsx(xq,{children:u.jsx(pq,{children:u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:u.jsx(XC,{})})})})})})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Rj=e=>{const t=jq(e);return t.charAt(0).toUpperCase()+t.slice(1)},YT=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Nq=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:c,...d},h)=>k.createElement("svg",{ref:h,...kq,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:YT("lucide",i),...!o&&!Nq(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,g])=>k.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t)=>{const r=k.forwardRef(({className:n,...i},o)=>k.createElement(Eq,{ref:o,iconNode:t,className:YT(`lucide-${Sq(Rj(e))}`,`lucide-${e}`,n),...i}));return r.displayName=Rj(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ab=je("activity",Cq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Dn=je("archive",Tq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Oq=je("arrow-left",Dq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pa=je("calendar",Aq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Mq=je("chart-column",Rq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$a=je("check",Lq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rb=je("chevron-down",qq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Pq=je("chevron-left",Uq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],VT=je("chevron-right",$q);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mb=je("circle-alert",zq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],QT=je("circle-check-big",Bq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Y0=je("circle-x",Iq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Do=je("clock",Fq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ui=je("copy",Hq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Mj=je("database",Kq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ac=je("download",Gq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Lb=je("ellipsis",Yq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Qq=je("external-link",Vq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],qb=je("eye-off",Wq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oo=je("eye",Xq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],sf=je("facebook",Jq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ao=je("file-text",Zq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],tU=je("grip-vertical",eU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],nU=je("house",rU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sU=je("info",aU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],oU=je("instagram",iU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],cU=je("linkedin",lU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],dU=je("mail",uU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qd=je("map-pin",fU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Lj=je("message-circle",hU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],gU=je("message-square",mU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M5 12h14",key:"1ays0h"}]],WT=je("minus",pU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Df=je("move",vU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],bU=je("music",yU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],js=je("palette",xU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],sc=je("paperclip",wU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],SU=je("panels-top-left",_U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],NU=je("pen-line",jU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vc=je("pen",kU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],CU=je("play",EU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Hn=je("plus",TU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],XT=je("refresh-cw",DU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],AU=je("rotate-ccw",OU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ub=je("save",RU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],JT=je("search",MU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],of=je("settings",LU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ZT=je("shield",qU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ic=je("sparkles",UU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yc=je("square-check-big",PU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gi=je("square-pen",$U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],BU=je("star",zU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],lf=je("tag",IU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],HU=je("target",FU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],qj=je("terminal",KU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],za=je("trash-2",GU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],VU=je("trending-up",YU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eD=je("triangle-alert",QU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],XU=je("twitter",WU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],ZU=je("type",JU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],tD=je("upload",e8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],r8=je("user-check",t8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Uj=je("user-minus",n8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Pj=je("user-plus",a8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],i8=je("user-x",s8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rD=je("user",o8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ro=je("users",l8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pr=je("x",c8),nD="todo-app-boards",Pb={id:"archive-board",workspace_id:"guest-workspace",name:"Archive",created_at:new Date().toISOString()},$j=[];function Ci(){try{const e=localStorage.getItem(nD);return e?JSON.parse(e):[...$j]}catch(e){return console.warn("Failed to load boards from localStorage:",e),[...$j]}}function Of(e){try{localStorage.setItem(nD,JSON.stringify(e))}catch(t){console.warn("Failed to save boards to localStorage:",t)}}let It=Ci();async function ha(e){return It=Ci(),[...It.filter(n=>n.archived!==!0).map(n=>({...n,workspace_id:e})),{...Pb,workspace_id:e}]}async function $b(e){return e==="archive-board"?Pb:(It=Ci(),It.find(r=>r.id===e)||null)}async function zb(e,t){const r={id:`board-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,workspace_id:e,name:t,created_at:new Date().toISOString()};return It.push(r),Of(It),It=Ci(),r}async function u8(e){if(e===Pb.id){console.warn("Cannot delete the Archive board");return}const t=It.findIndex(n=>n.id===e);if(t===-1){console.warn("Board not found:",e);return}const r=It[t];console.log("�️ Deleting board:",r.name,"(ID:",e,")"),It.splice(t,1),Of(It),console.log("💾 Deleted board and saved to localStorage"),It=Ci(),console.log("🔄 Reloaded boards from localStorage. Active boards:",It.length)}async function d8(e){return u8(e)}async function f8(e,t){const r=It.findIndex(n=>n.id===e);r!==-1&&(It[r].name=t,Of(It),It=Ci())}async function h8(e,t){const r=It.findIndex(n=>n.id===e);r!==-1&&(It[r].position=t,It[r].updated_at=new Date().toISOString(),Of(It),It=Ci())}async function m8(e){return ha(e)}function g8(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return k.useMemo(()=>n=>{t.forEach(i=>i(n))},t)}const Af=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Bb(e){return"nodeType"in e}function zr(e){var t,r;return e?Fo(e)?e:Bb(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Ib(e){const{Document:t}=zr(e);return e instanceof t}function Bc(e){return Fo(e)?!1:e instanceof zr(e).HTMLElement}function aD(e){return e instanceof zr(e).SVGElement}function Ho(e){return e?Fo(e)?e.document:Bb(e)?Ib(e)?e:Bc(e)||aD(e)?e.ownerDocument:document:document:document}const Kn=Af?k.useLayoutEffect:k.useEffect;function Rf(e){const t=k.useRef(e);return Kn(()=>{t.current=e}),k.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function p8(){const e=k.useRef(null),t=k.useCallback((n,i)=>{e.current=setInterval(n,i)},[]),r=k.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function bc(e,t){t===void 0&&(t=[e]);const r=k.useRef(e);return Kn(()=>{r.current!==e&&(r.current=e)},t),r}function Ic(e,t){const r=k.useRef();return k.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function cf(e){const t=Rf(e),r=k.useRef(null),n=k.useCallback(i=>{i!==r.current&&t?.(i,r.current),r.current=i},[]);return[r,n]}function uf(e){const t=k.useRef();return k.useEffect(()=>{t.current=e},[e]),t.current}let Ug={};function Fc(e,t){return k.useMemo(()=>{if(t)return t;const r=Ug[e]==null?0:Ug[e]+1;return Ug[e]=r,e+"-"+r},[e,t])}function sD(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((o,c)=>{const d=Object.entries(c);for(const[h,m]of d){const g=o[h];g!=null&&(o[h]=g+e*m)}return o},{...t})}}const Co=sD(1),xc=sD(-1);function v8(e){return"clientX"in e&&"clientY"in e}function Mf(e){if(!e)return!1;const{KeyboardEvent:t}=zr(e.target);return t&&e instanceof t}function y8(e){if(!e)return!1;const{TouchEvent:t}=zr(e.target);return t&&e instanceof t}function df(e){if(y8(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return v8(e)?{x:e.clientX,y:e.clientY}:null}const Gn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Gn.Translate.toString(e),Gn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),zj="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function b8(e){return e.matches(zj)?e:e.querySelector(zj)}const x8={display:"none"};function w8(e){let{id:t,value:r}=e;return I.createElement("div",{id:t,style:x8},r)}function _8(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return I.createElement("div",{id:t,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function S8(){const[e,t]=k.useState("");return{announce:k.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const iD=k.createContext(null);function j8(e){const t=k.useContext(iD);k.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function N8(){const[e]=k.useState(()=>new Set),t=k.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[k.useCallback(n=>{let{type:i,event:o}=n;e.forEach(c=>{var d;return(d=c[i])==null?void 0:d.call(c,o)})},[e]),t]}const k8={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},E8={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function C8(e){let{announcements:t=E8,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=k8}=e;const{announce:o,announcement:c}=S8(),d=Fc("DndLiveRegion"),[h,m]=k.useState(!1);if(k.useEffect(()=>{m(!0)},[]),j8(k.useMemo(()=>({onDragStart(v){let{active:b}=v;o(t.onDragStart({active:b}))},onDragMove(v){let{active:b,over:x}=v;t.onDragMove&&o(t.onDragMove({active:b,over:x}))},onDragOver(v){let{active:b,over:x}=v;o(t.onDragOver({active:b,over:x}))},onDragEnd(v){let{active:b,over:x}=v;o(t.onDragEnd({active:b,over:x}))},onDragCancel(v){let{active:b,over:x}=v;o(t.onDragCancel({active:b,over:x}))}}),[o,t])),!h)return null;const g=I.createElement(I.Fragment,null,I.createElement(w8,{id:n,value:i.draggable}),I.createElement(_8,{id:d,announcement:c}));return r?li.createPortal(g,r):g}var or;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(or||(or={}));function ff(){}function hf(e,t){return k.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Fb(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return k.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Yn=Object.freeze({x:0,y:0});function oD(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function T8(e,t){const r=df(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function lD(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function D8(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function Bj(e){let{left:t,top:r,height:n,width:i}=e;return[{x:t,y:r},{x:t+i,y:r},{x:t,y:r+n},{x:t+i,y:r+n}]}function cD(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function Ij(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const uD=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=Ij(t,t.left,t.top),o=[];for(const c of n){const{id:d}=c,h=r.get(d);if(h){const m=oD(Ij(h),i);o.push({id:d,data:{droppableContainer:c,value:m}})}}return o.sort(lD)},O8=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=Bj(t),o=[];for(const c of n){const{id:d}=c,h=r.get(d);if(h){const m=Bj(h),g=i.reduce((b,x,S)=>b+oD(m[S],x),0),v=Number((g/4).toFixed(4));o.push({id:d,data:{droppableContainer:c,value:v}})}}return o.sort(lD)};function A8(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),c=i-n,d=o-r;if(n<i&&r<o){const h=t.width*t.height,m=e.width*e.height,g=c*d,v=g/(h+m-g);return Number(v.toFixed(4))}return 0}const R8=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=[];for(const o of n){const{id:c}=o,d=r.get(c);if(d){const h=A8(d,t);h>0&&i.push({id:c,data:{droppableContainer:o,value:h}})}}return i.sort(D8)};function M8(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function dD(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Yn}function L8(e){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.reduce((c,d)=>({...c,top:c.top+e*d.y,bottom:c.bottom+e*d.y,left:c.left+e*d.x,right:c.right+e*d.x}),{...r})}}const q8=L8(1);function fD(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function U8(e,t,r){const n=fD(t);if(!n)return e;const{scaleX:i,scaleY:o,x:c,y:d}=n,h=e.left-c-(1-i)*parseFloat(r),m=e.top-d-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),g=i?e.width/i:e.width,v=o?e.height/o:e.height;return{width:g,height:v,top:m,right:h+g,bottom:m+v,left:h}}const P8={ignoreTransform:!1};function Ko(e,t){t===void 0&&(t=P8);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:m,transformOrigin:g}=zr(e).getComputedStyle(e);m&&(r=U8(r,m,g))}const{top:n,left:i,width:o,height:c,bottom:d,right:h}=r;return{top:n,left:i,width:o,height:c,bottom:d,right:h}}function Fj(e){return Ko(e,{ignoreTransform:!0})}function $8(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function z8(e,t){return t===void 0&&(t=zr(e).getComputedStyle(e)),t.position==="fixed"}function B8(e,t){t===void 0&&(t=zr(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?r.test(o):!1})}function Lf(e,t){const r=[];function n(i){if(t!=null&&r.length>=t||!i)return r;if(Ib(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!Bc(i)||aD(i)||r.includes(i))return r;const o=zr(e).getComputedStyle(i);return i!==e&&B8(i,o)&&r.push(i),z8(i,o)?r:n(i.parentNode)}return e?n(e):r}function hD(e){const[t]=Lf(e,1);return t??null}function Pg(e){return!Af||!e?null:Fo(e)?e:Bb(e)?Ib(e)||e===Ho(e).scrollingElement?window:Bc(e)?e:null:null}function mD(e){return Fo(e)?e.scrollX:e.scrollLeft}function gD(e){return Fo(e)?e.scrollY:e.scrollTop}function V0(e){return{x:mD(e),y:gD(e)}}var pr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(pr||(pr={}));function pD(e){return!Af||!e?!1:e===document.scrollingElement}function vD(e){const t={x:0,y:0},r=pD(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,c=e.scrollTop>=n.y,d=e.scrollLeft>=n.x;return{isTop:i,isLeft:o,isBottom:c,isRight:d,maxScroll:n,minScroll:t}}const I8={x:.2,y:.2};function F8(e,t,r,n,i){let{top:o,left:c,right:d,bottom:h}=r;n===void 0&&(n=10),i===void 0&&(i=I8);const{isTop:m,isBottom:g,isLeft:v,isRight:b}=vD(e),x={x:0,y:0},S={x:0,y:0},w={height:t.height*i.y,width:t.width*i.x};return!m&&o<=t.top+w.height?(x.y=pr.Backward,S.y=n*Math.abs((t.top+w.height-o)/w.height)):!g&&h>=t.bottom-w.height&&(x.y=pr.Forward,S.y=n*Math.abs((t.bottom-w.height-h)/w.height)),!b&&d>=t.right-w.width?(x.x=pr.Forward,S.x=n*Math.abs((t.right-w.width-d)/w.width)):!v&&c<=t.left+w.width&&(x.x=pr.Backward,S.x=n*Math.abs((t.left+w.width-c)/w.width)),{direction:x,speed:S}}function H8(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:c}=window;return{top:0,left:0,right:o,bottom:c,width:o,height:c}}const{top:t,left:r,right:n,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:i,width:e.clientWidth,height:e.clientHeight}}function yD(e){return e.reduce((t,r)=>Co(t,V0(r)),Yn)}function K8(e){return e.reduce((t,r)=>t+mD(r),0)}function G8(e){return e.reduce((t,r)=>t+gD(r),0)}function bD(e,t){if(t===void 0&&(t=Ko),!e)return;const{top:r,left:n,bottom:i,right:o}=t(e);hD(e)&&(i<=0||o<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Y8=[["x",["left","right"],K8],["y",["top","bottom"],G8]];class Hb{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Lf(r),i=yD(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,c,d]of Y8)for(const h of c)Object.defineProperty(this,h,{get:()=>{const m=d(n),g=i[o]-m;return this.rect[h]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class oc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var i;(i=this.target)==null||i.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function V8(e){const{EventTarget:t}=zr(e);return e instanceof t?e:Ho(e)}function $g(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Cn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Cn||(Cn={}));function Hj(e){e.preventDefault()}function Q8(e){e.stopPropagation()}var rt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(rt||(rt={}));const xD={start:[rt.Space,rt.Enter],cancel:[rt.Esc],end:[rt.Space,rt.Enter,rt.Tab]},W8=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case rt.Right:return{...r,x:r.x+25};case rt.Left:return{...r,x:r.x-25};case rt.Down:return{...r,y:r.y+25};case rt.Up:return{...r,y:r.y-25}}};class Kb{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new oc(Ho(r)),this.windowListeners=new oc(zr(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Cn.Resize,this.handleCancel),this.windowListeners.add(Cn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Cn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&bD(n),r(Yn)}handleKeyDown(t){if(Mf(t)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:o=xD,coordinateGetter:c=W8,scrollBehavior:d="smooth"}=i,{code:h}=t;if(o.end.includes(h)){this.handleEnd(t);return}if(o.cancel.includes(h)){this.handleCancel(t);return}const{collisionRect:m}=n.current,g=m?{x:m.left,y:m.top}:Yn;this.referenceCoordinates||(this.referenceCoordinates=g);const v=c(t,{active:r,context:n.current,currentCoordinates:g});if(v){const b=xc(v,g),x={x:0,y:0},{scrollableAncestors:S}=n.current;for(const w of S){const _=t.code,{isTop:N,isRight:C,isLeft:T,isBottom:A,maxScroll:L,minScroll:E}=vD(w),D=H8(w),R={x:Math.min(_===rt.Right?D.right-D.width/2:D.right,Math.max(_===rt.Right?D.left:D.left+D.width/2,v.x)),y:Math.min(_===rt.Down?D.bottom-D.height/2:D.bottom,Math.max(_===rt.Down?D.top:D.top+D.height/2,v.y))},q=_===rt.Right&&!C||_===rt.Left&&!T,B=_===rt.Down&&!A||_===rt.Up&&!N;if(q&&R.x!==v.x){const U=w.scrollLeft+b.x,K=_===rt.Right&&U<=L.x||_===rt.Left&&U>=E.x;if(K&&!b.y){w.scrollTo({left:U,behavior:d});return}K?x.x=w.scrollLeft-U:x.x=_===rt.Right?w.scrollLeft-L.x:w.scrollLeft-E.x,x.x&&w.scrollBy({left:-x.x,behavior:d});break}else if(B&&R.y!==v.y){const U=w.scrollTop+b.y,K=_===rt.Down&&U<=L.y||_===rt.Up&&U>=E.y;if(K&&!b.x){w.scrollTo({top:U,behavior:d});return}K?x.y=w.scrollTop-U:x.y=_===rt.Down?w.scrollTop-L.y:w.scrollTop-E.y,x.y&&w.scrollBy({top:-x.y,behavior:d});break}}this.handleMove(t,Co(xc(v,this.referenceCoordinates),x))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Kb.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=xD,onActivation:i}=t,{active:o}=r;const{code:c}=e.nativeEvent;if(n.start.includes(c)){const d=o.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Kj(e){return!!(e&&"distance"in e)}function Gj(e){return!!(e&&"delay"in e)}class Gb{constructor(t,r,n){var i;n===void 0&&(n=V8(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:o}=t,{target:c}=o;this.props=t,this.events=r,this.document=Ho(c),this.documentListeners=new oc(this.document),this.listeners=new oc(n),this.windowListeners=new oc(zr(c)),this.initialCoordinates=(i=df(o))!=null?i:Yn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Cn.Resize,this.handleCancel),this.windowListeners.add(Cn.DragStart,Hj),this.windowListeners.add(Cn.VisibilityChange,this.handleCancel),this.windowListeners.add(Cn.ContextMenu,Hj),this.documentListeners.add(Cn.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Gj(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Kj(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:i}=this.props;i(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Cn.Click,Q8,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Cn.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:i,props:o}=this,{onMove:c,options:{activationConstraint:d}}=o;if(!i)return;const h=(r=df(t))!=null?r:Yn,m=xc(i,h);if(!n&&d){if(Kj(d)){if(d.tolerance!=null&&$g(m,d.tolerance))return this.handleCancel();if($g(m,d.distance))return this.handleStart()}if(Gj(d)&&$g(m,d.tolerance))return this.handleCancel();this.handlePending(d,m);return}t.cancelable&&t.preventDefault(),c(h)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===rt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const X8={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Hc extends Gb{constructor(t){const{event:r}=t,n=Ho(r.target);super(t,X8,n)}}Hc.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const J8={move:{name:"mousemove"},end:{name:"mouseup"}};var Q0;(function(e){e[e.RightClick=2]="RightClick"})(Q0||(Q0={}));class Z8 extends Gb{constructor(t){super(t,J8,Ho(t.event.target))}}Z8.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===Q0.RightClick?!1:(n?.({event:r}),!0)}}];const zg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class eP extends Gb{constructor(t){super(t,zg)}static setup(){return window.addEventListener(zg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(zg.move.name,t)};function t(){}}}eP.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var lc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(lc||(lc={}));var mf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(mf||(mf={}));function tP(e){let{acceleration:t,activator:r=lc.Pointer,canScroll:n,draggingRect:i,enabled:o,interval:c=5,order:d=mf.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:g,delta:v,threshold:b}=e;const x=nP({delta:v,disabled:!o}),[S,w]=p8(),_=k.useRef({x:0,y:0}),N=k.useRef({x:0,y:0}),C=k.useMemo(()=>{switch(r){case lc.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case lc.DraggableRect:return i}},[r,i,h]),T=k.useRef(null),A=k.useCallback(()=>{const E=T.current;if(!E)return;const D=_.current.x*N.current.x,R=_.current.y*N.current.y;E.scrollBy(D,R)},[]),L=k.useMemo(()=>d===mf.TreeOrder?[...m].reverse():m,[d,m]);k.useEffect(()=>{if(!o||!m.length||!C){w();return}for(const E of L){if(n?.(E)===!1)continue;const D=m.indexOf(E),R=g[D];if(!R)continue;const{direction:q,speed:B}=F8(E,R,C,t,b);for(const U of["x","y"])x[U][q[U]]||(B[U]=0,q[U]=0);if(B.x>0||B.y>0){w(),T.current=E,S(A,c),_.current=B,N.current=q;return}}_.current={x:0,y:0},N.current={x:0,y:0},w()},[t,A,n,w,o,c,JSON.stringify(C),JSON.stringify(x),S,m,L,g,JSON.stringify(b)])}const rP={x:{[pr.Backward]:!1,[pr.Forward]:!1},y:{[pr.Backward]:!1,[pr.Forward]:!1}};function nP(e){let{delta:t,disabled:r}=e;const n=uf(t);return Ic(i=>{if(r||!n||!i)return rP;const o={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[pr.Backward]:i.x[pr.Backward]||o.x===-1,[pr.Forward]:i.x[pr.Forward]||o.x===1},y:{[pr.Backward]:i.y[pr.Backward]||o.y===-1,[pr.Forward]:i.y[pr.Forward]||o.y===1}}},[r,t,n])}function aP(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Ic(i=>{var o;return t==null?null:(o=n??i)!=null?o:null},[n,t])}function sP(e,t){return k.useMemo(()=>e.reduce((r,n)=>{const{sensor:i}=n,o=i.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,n)}));return[...r,...o]},[]),[e,t])}var wc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(wc||(wc={}));var W0;(function(e){e.Optimized="optimized"})(W0||(W0={}));const Yj=new Map;function iP(e,t){let{dragging:r,dependencies:n,config:i}=t;const[o,c]=k.useState(null),{frequency:d,measure:h,strategy:m}=i,g=k.useRef(e),v=_(),b=bc(v),x=k.useCallback(function(N){N===void 0&&(N=[]),!b.current&&c(C=>C===null?N:C.concat(N.filter(T=>!C.includes(T))))},[b]),S=k.useRef(null),w=Ic(N=>{if(v&&!r)return Yj;if(!N||N===Yj||g.current!==e||o!=null){const C=new Map;for(let T of e){if(!T)continue;if(o&&o.length>0&&!o.includes(T.id)&&T.rect.current){C.set(T.id,T.rect.current);continue}const A=T.node.current,L=A?new Hb(h(A),A):null;T.rect.current=L,L&&C.set(T.id,L)}return C}return N},[e,o,r,v,h]);return k.useEffect(()=>{g.current=e},[e]),k.useEffect(()=>{v||x()},[r,v]),k.useEffect(()=>{o&&o.length>0&&c(null)},[JSON.stringify(o)]),k.useEffect(()=>{v||typeof d!="number"||S.current!==null||(S.current=setTimeout(()=>{x(),S.current=null},d))},[d,v,x,...n]),{droppableRects:w,measureDroppableContainers:x,measuringScheduled:o!=null};function _(){switch(m){case wc.Always:return!1;case wc.BeforeDragging:return r;default:return!r}}}function Yb(e,t){return Ic(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function oP(e,t){return Yb(e,t)}function lP(e){let{callback:t,disabled:r}=e;const n=Rf(t),i=k.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,r]);return k.useEffect(()=>()=>i?.disconnect(),[i]),i}function qf(e){let{callback:t,disabled:r}=e;const n=Rf(t),i=k.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[r]);return k.useEffect(()=>()=>i?.disconnect(),[i]),i}function cP(e){return new Hb(Ko(e),e)}function Vj(e,t,r){t===void 0&&(t=cP);const[n,i]=k.useState(null);function o(){i(h=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=h??r)!=null?m:null}const g=t(e);return JSON.stringify(h)===JSON.stringify(g)?h:g})}const c=lP({callback(h){if(e)for(const m of h){const{type:g,target:v}=m;if(g==="childList"&&v instanceof HTMLElement&&v.contains(e)){o();break}}}}),d=qf({callback:o});return Kn(()=>{o(),e?(d?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[e]),n}function uP(e){const t=Yb(e);return dD(e,t)}const Qj=[];function dP(e){const t=k.useRef(e),r=Ic(n=>e?n&&n!==Qj&&e&&t.current&&e.parentNode===t.current.parentNode?n:Lf(e):Qj,[e]);return k.useEffect(()=>{t.current=e},[e]),r}function fP(e){const[t,r]=k.useState(null),n=k.useRef(e),i=k.useCallback(o=>{const c=Pg(o.target);c&&r(d=>d?(d.set(c,V0(c)),new Map(d)):null)},[]);return k.useEffect(()=>{const o=n.current;if(e!==o){c(o);const d=e.map(h=>{const m=Pg(h);return m?(m.addEventListener("scroll",i,{passive:!0}),[m,V0(m)]):null}).filter(h=>h!=null);r(d.length?new Map(d):null),n.current=e}return()=>{c(e),c(o)};function c(d){d.forEach(h=>{const m=Pg(h);m?.removeEventListener("scroll",i)})}},[i,e]),k.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,c)=>Co(o,c),Yn):yD(e):Yn,[e,t])}function Wj(e,t){t===void 0&&(t=[]);const r=k.useRef(null);return k.useEffect(()=>{r.current=null},t),k.useEffect(()=>{const n=e!==Yn;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?xc(e,r.current):Yn}function hP(e){k.useEffect(()=>{if(!Af)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function mP(e,t){return k.useMemo(()=>e.reduce((r,n)=>{let{eventName:i,handler:o}=n;return r[i]=c=>{o(c,t)},r},{}),[e,t])}function wD(e){return k.useMemo(()=>e?$8(e):null,[e])}const Xj=[];function gP(e,t){t===void 0&&(t=Ko);const[r]=e,n=wD(r?zr(r):null),[i,o]=k.useState(Xj);function c(){o(()=>e.length?e.map(h=>pD(h)?n:new Hb(t(h),h)):Xj)}const d=qf({callback:c});return Kn(()=>{d?.disconnect(),c(),e.forEach(h=>d?.observe(h))},[e]),i}function _D(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Bc(t)?t:e}function pP(e){let{measure:t}=e;const[r,n]=k.useState(null),i=k.useCallback(m=>{for(const{target:g}of m)if(Bc(g)){n(v=>{const b=t(g);return v?{...v,width:b.width,height:b.height}:b});break}},[t]),o=qf({callback:i}),c=k.useCallback(m=>{const g=_D(m);o?.disconnect(),g&&o?.observe(g),n(g?t(g):null)},[t,o]),[d,h]=cf(c);return k.useMemo(()=>({nodeRef:d,rect:r,setRef:h}),[r,d,h])}const vP=[{sensor:Hc,options:{}},{sensor:Kb,options:{}}],yP={current:{}},Ud={draggable:{measure:Fj},droppable:{measure:Fj,strategy:wc.WhileDragging,frequency:W0.Optimized},dragOverlay:{measure:Ko}};class cc extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const bP={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new cc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ff},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ud,measureDroppableContainers:ff,windowRect:null,measuringScheduled:!1},SD={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ff,draggableNodes:new Map,over:null,measureDroppableContainers:ff},Kc=k.createContext(SD),jD=k.createContext(bP);function xP(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new cc}}}function wP(e,t){switch(t.type){case or.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case or.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case or.DragEnd:case or.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case or.RegisterDroppable:{const{element:r}=t,{id:n}=r,i=new cc(e.droppable.containers);return i.set(n,r),{...e,droppable:{...e.droppable,containers:i}}}case or.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const c=new cc(e.droppable.containers);return c.set(r,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:c}}}case or.UnregisterDroppable:{const{id:r,key:n}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const o=new cc(e.droppable.containers);return o.delete(r),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function _P(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:i}=k.useContext(Kc),o=uf(n),c=uf(r?.id);return k.useEffect(()=>{if(!t&&!n&&o&&c!=null){if(!Mf(o)||document.activeElement===o.target)return;const d=i.get(c);if(!d)return;const{activatorNode:h,node:m}=d;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[h.current,m.current]){if(!g)continue;const v=b8(g);if(v){v.focus();break}}})}},[n,t,i,c,o]),null}function ND(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...n}),r):r}function SP(e){return k.useMemo(()=>({draggable:{...Ud.draggable,...e?.draggable},droppable:{...Ud.droppable,...e?.droppable},dragOverlay:{...Ud.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function jP(e){let{activeNode:t,measure:r,initialRect:n,config:i=!0}=e;const o=k.useRef(!1),{x:c,y:d}=typeof i=="boolean"?{x:i,y:i}:i;Kn(()=>{if(!c&&!d||!t){o.current=!1;return}if(o.current||!n)return;const m=t?.node.current;if(!m||m.isConnected===!1)return;const g=r(m),v=dD(g,n);if(c||(v.x=0),d||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const b=hD(m);b&&b.scrollBy({top:v.y,left:v.x})}},[t,c,d,n,r])}const Uf=k.createContext({...Yn,scaleX:1,scaleY:1});var ys;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ys||(ys={}));const Vb=k.memo(function(t){var r,n,i,o;let{id:c,accessibility:d,autoScroll:h=!0,children:m,sensors:g=vP,collisionDetection:v=R8,measuring:b,modifiers:x,...S}=t;const w=k.useReducer(wP,void 0,xP),[_,N]=w,[C,T]=N8(),[A,L]=k.useState(ys.Uninitialized),E=A===ys.Initialized,{draggable:{active:D,nodes:R,translate:q},droppable:{containers:B}}=_,U=D!=null?R.get(D):null,K=k.useRef({initial:null,translated:null}),V=k.useMemo(()=>{var Rt;return D!=null?{id:D,data:(Rt=U?.data)!=null?Rt:yP,rect:K}:null},[D,U]),te=k.useRef(null),[ge,P]=k.useState(null),[W,J]=k.useState(null),me=bc(S,Object.values(S)),oe=Fc("DndDescribedBy",c),M=k.useMemo(()=>B.getEnabled(),[B]),H=SP(b),{droppableRects:se,measureDroppableContainers:fe,measuringScheduled:be}=iP(M,{dragging:E,dependencies:[q.x,q.y],config:H.droppable}),xe=aP(R,D),Oe=k.useMemo(()=>W?df(W):null,[W]),Le=Ka(),ae=oP(xe,H.draggable.measure);jP({activeNode:D!=null?R.get(D):null,config:Le.layoutShiftCompensation,initialRect:ae,measure:H.draggable.measure});const le=Vj(xe,H.draggable.measure,ae),at=Vj(xe?xe.parentElement:null),Pe=k.useRef({activatorEvent:null,active:null,activeNode:xe,collisionRect:null,collisions:null,droppableRects:se,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Xe=B.getNodeFor((r=Pe.current.over)==null?void 0:r.id),et=pP({measure:H.dragOverlay.measure}),Ue=(n=et.nodeRef.current)!=null?n:xe,ht=E?(i=et.rect)!=null?i:le:null,Be=!!(et.nodeRef.current&&et.rect),dr=uP(Be?null:le),Wt=wD(Ue?zr(Ue):null),bt=dP(E?Xe??xe:null),mt=gP(bt),gt=ND(x,{transform:{x:q.x-dr.x,y:q.y-dr.y,scaleX:1,scaleY:1},activatorEvent:W,active:V,activeNodeRect:le,containerNodeRect:at,draggingNodeRect:ht,over:Pe.current.over,overlayNodeRect:et.rect,scrollableAncestors:bt,scrollableAncestorRects:mt,windowRect:Wt}),ft=Oe?Co(Oe,q):null,nt=fP(bt),yr=Wj(nt),Ht=Wj(nt,[le]),jt=Co(gt,yr),Et=ht?q8(ht,gt):null,Br=V&&Et?v({active:V,collisionRect:Et,droppableRects:se,droppableContainers:M,pointerCoordinates:ft}):null,Ir=cD(Br,"id"),[re,ve]=k.useState(null),Re=Be?gt:Co(gt,Ht),Ae=M8(Re,(o=re?.rect)!=null?o:null,le),st=k.useRef(null),it=k.useCallback((Rt,Pt)=>{let{sensor:Kt,options:nr}=Pt;if(te.current==null)return;const ar=R.get(te.current);if(!ar)return;const fr=Rt.nativeEvent,Er=new Kt({active:te.current,activeNode:ar,event:fr,options:nr,context:Pe,onAbort(G){if(!R.get(G))return;const{onDragAbort:de}=me.current,pe={id:G};de?.(pe),C({type:"onDragAbort",event:pe})},onPending(G,ee,de,pe){if(!R.get(G))return;const{onDragPending:ke}=me.current,_e={id:G,constraint:ee,initialCoordinates:de,offset:pe};ke?.(_e),C({type:"onDragPending",event:_e})},onStart(G){const ee=te.current;if(ee==null)return;const de=R.get(ee);if(!de)return;const{onDragStart:pe}=me.current,Ne={activatorEvent:fr,active:{id:ee,data:de.data,rect:K}};li.unstable_batchedUpdates(()=>{pe?.(Ne),L(ys.Initializing),N({type:or.DragStart,initialCoordinates:G,active:ee}),C({type:"onDragStart",event:Ne}),P(st.current),J(fr)})},onMove(G){N({type:or.DragMove,coordinates:G})},onEnd:$(or.DragEnd),onCancel:$(or.DragCancel)});st.current=Er;function $(G){return async function(){const{active:de,collisions:pe,over:Ne,scrollAdjustedTranslate:ke}=Pe.current;let _e=null;if(de&&ke){const{cancelDrop:Ce}=me.current;_e={activatorEvent:fr,active:de,collisions:pe,delta:ke,over:Ne},G===or.DragEnd&&typeof Ce=="function"&&await Promise.resolve(Ce(_e))&&(G=or.DragCancel)}te.current=null,li.unstable_batchedUpdates(()=>{N({type:G}),L(ys.Uninitialized),ve(null),P(null),J(null),st.current=null;const Ce=G===or.DragEnd?"onDragEnd":"onDragCancel";if(_e){const Te=me.current[Ce];Te?.(_e),C({type:Ce,event:_e})}})}}},[R]),Di=k.useCallback((Rt,Pt)=>(Kt,nr)=>{const ar=Kt.nativeEvent,fr=R.get(nr);if(te.current!==null||!fr||ar.dndKit||ar.defaultPrevented)return;const Er={active:fr};Rt(Kt,Pt.options,Er)===!0&&(ar.dndKit={capturedBy:Pt.sensor},te.current=nr,it(Kt,Pt))},[R,it]),ga=sP(g,Di);hP(g),Kn(()=>{le&&A===ys.Initializing&&L(ys.Initialized)},[le,A]),k.useEffect(()=>{const{onDragMove:Rt}=me.current,{active:Pt,activatorEvent:Kt,collisions:nr,over:ar}=Pe.current;if(!Pt||!Kt)return;const fr={active:Pt,activatorEvent:Kt,collisions:nr,delta:{x:jt.x,y:jt.y},over:ar};li.unstable_batchedUpdates(()=>{Rt?.(fr),C({type:"onDragMove",event:fr})})},[jt.x,jt.y]),k.useEffect(()=>{const{active:Rt,activatorEvent:Pt,collisions:Kt,droppableContainers:nr,scrollAdjustedTranslate:ar}=Pe.current;if(!Rt||te.current==null||!Pt||!ar)return;const{onDragOver:fr}=me.current,Er=nr.get(Ir),$=Er&&Er.rect.current?{id:Er.id,rect:Er.rect.current,data:Er.data,disabled:Er.disabled}:null,G={active:Rt,activatorEvent:Pt,collisions:Kt,delta:{x:ar.x,y:ar.y},over:$};li.unstable_batchedUpdates(()=>{ve($),fr?.(G),C({type:"onDragOver",event:G})})},[Ir]),Kn(()=>{Pe.current={activatorEvent:W,active:V,activeNode:xe,collisionRect:Et,collisions:Br,droppableRects:se,draggableNodes:R,draggingNode:Ue,draggingNodeRect:ht,droppableContainers:B,over:re,scrollableAncestors:bt,scrollAdjustedTranslate:jt},K.current={initial:ht,translated:Et}},[V,xe,Br,Et,R,Ue,ht,se,B,re,bt,jt]),tP({...Le,delta:q,draggingRect:Et,pointerCoordinates:ft,scrollableAncestors:bt,scrollableAncestorRects:mt});const Oi=k.useMemo(()=>({active:V,activeNode:xe,activeNodeRect:le,activatorEvent:W,collisions:Br,containerNodeRect:at,dragOverlay:et,draggableNodes:R,droppableContainers:B,droppableRects:se,over:re,measureDroppableContainers:fe,scrollableAncestors:bt,scrollableAncestorRects:mt,measuringConfiguration:H,measuringScheduled:be,windowRect:Wt}),[V,xe,le,W,Br,at,et,R,B,se,re,fe,bt,mt,H,be,Wt]),Wn=k.useMemo(()=>({activatorEvent:W,activators:ga,active:V,activeNodeRect:le,ariaDescribedById:{draggable:oe},dispatch:N,draggableNodes:R,over:re,measureDroppableContainers:fe}),[W,ga,V,le,N,oe,R,re,fe]);return I.createElement(iD.Provider,{value:T},I.createElement(Kc.Provider,{value:Wn},I.createElement(jD.Provider,{value:Oi},I.createElement(Uf.Provider,{value:Ae},m)),I.createElement(_P,{disabled:d?.restoreFocus===!1})),I.createElement(C8,{...d,hiddenTextDescribedById:oe}));function Ka(){const Rt=ge?.autoScrollEnabled===!1,Pt=typeof h=="object"?h.enabled===!1:h===!1,Kt=E&&!Rt&&!Pt;return typeof h=="object"?{...h,enabled:Kt}:{enabled:Kt}}}),NP=k.createContext(null),Jj="button",kP="Draggable";function EP(e){let{id:t,data:r,disabled:n=!1,attributes:i}=e;const o=Fc(kP),{activators:c,activatorEvent:d,active:h,activeNodeRect:m,ariaDescribedById:g,draggableNodes:v,over:b}=k.useContext(Kc),{role:x=Jj,roleDescription:S="draggable",tabIndex:w=0}=i??{},_=h?.id===t,N=k.useContext(_?Uf:NP),[C,T]=cf(),[A,L]=cf(),E=mP(c,t),D=bc(r);Kn(()=>(v.set(t,{id:t,key:o,node:C,activatorNode:A,data:D}),()=>{const q=v.get(t);q&&q.key===o&&v.delete(t)}),[v,t]);const R=k.useMemo(()=>({role:x,tabIndex:w,"aria-disabled":n,"aria-pressed":_&&x===Jj?!0:void 0,"aria-roledescription":S,"aria-describedby":g.draggable}),[n,x,w,_,S,g.draggable]);return{active:h,activatorEvent:d,activeNodeRect:m,attributes:R,isDragging:_,listeners:n?void 0:E,node:C,over:b,setNodeRef:T,setActivatorNodeRef:L,transform:N}}function kD(){return k.useContext(jD)}const CP="Droppable",TP={timeout:25};function ED(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:i}=e;const o=Fc(CP),{active:c,dispatch:d,over:h,measureDroppableContainers:m}=k.useContext(Kc),g=k.useRef({disabled:r}),v=k.useRef(!1),b=k.useRef(null),x=k.useRef(null),{disabled:S,updateMeasurementsFor:w,timeout:_}={...TP,...i},N=bc(w??n),C=k.useCallback(()=>{if(!v.current){v.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{m(Array.isArray(N.current)?N.current:[N.current]),x.current=null},_)},[_]),T=qf({callback:C,disabled:S||!c}),A=k.useCallback((R,q)=>{T&&(q&&(T.unobserve(q),v.current=!1),R&&T.observe(R))},[T]),[L,E]=cf(A),D=bc(t);return k.useEffect(()=>{!T||!L.current||(T.disconnect(),v.current=!1,T.observe(L.current))},[L,T]),k.useEffect(()=>(d({type:or.RegisterDroppable,element:{id:n,key:o,disabled:r,node:L,rect:b,data:D}}),()=>d({type:or.UnregisterDroppable,key:o,id:n})),[n]),k.useEffect(()=>{r!==g.current.disabled&&(d({type:or.SetDroppableDisabled,id:n,key:o,disabled:r}),g.current.disabled=r)},[n,o,r,d]),{active:c,rect:b,isOver:h?.id===n,node:L,over:h,setNodeRef:E}}function DP(e){let{animation:t,children:r}=e;const[n,i]=k.useState(null),[o,c]=k.useState(null),d=uf(r);return!r&&!n&&d&&i(d),Kn(()=>{if(!o)return;const h=n?.key,m=n?.props.id;if(h==null||m==null){i(null);return}Promise.resolve(t(m,o)).then(()=>{i(null)})},[t,n,o]),I.createElement(I.Fragment,null,r,n?k.cloneElement(n,{ref:c}):null)}const OP={x:0,y:0,scaleX:1,scaleY:1};function AP(e){let{children:t}=e;return I.createElement(Kc.Provider,{value:SD},I.createElement(Uf.Provider,{value:OP},t))}const RP={position:"fixed",touchAction:"none"},MP=e=>Mf(e)?"transform 250ms ease":void 0,LP=k.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:i,children:o,className:c,rect:d,style:h,transform:m,transition:g=MP}=e;if(!d)return null;const v=i?m:{...m,scaleX:1,scaleY:1},b={...RP,width:d.width,height:d.height,top:d.top,left:d.left,transform:Gn.Transform.toString(v),transformOrigin:i&&n?T8(n,d):void 0,transition:typeof g=="function"?g(n):g,...h};return I.createElement(r,{className:c,style:b,ref:t},o)}),qP=e=>t=>{let{active:r,dragOverlay:n}=t;const i={},{styles:o,className:c}=e;if(o!=null&&o.active)for(const[d,h]of Object.entries(o.active))h!==void 0&&(i[d]=r.node.style.getPropertyValue(d),r.node.style.setProperty(d,h));if(o!=null&&o.dragOverlay)for(const[d,h]of Object.entries(o.dragOverlay))h!==void 0&&n.node.style.setProperty(d,h);return c!=null&&c.active&&r.node.classList.add(c.active),c!=null&&c.dragOverlay&&n.node.classList.add(c.dragOverlay),function(){for(const[h,m]of Object.entries(i))r.node.style.setProperty(h,m);c!=null&&c.active&&r.node.classList.remove(c.active)}},UP=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:Gn.Transform.toString(t)},{transform:Gn.Transform.toString(r)}]},PP={duration:250,easing:"ease",keyframes:UP,sideEffects:qP({styles:{active:{opacity:"0"}}})};function $P(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=e;return Rf((o,c)=>{if(t===null)return;const d=r.get(o);if(!d)return;const h=d.node.current;if(!h)return;const m=_D(c);if(!m)return;const{transform:g}=zr(c).getComputedStyle(c),v=fD(g);if(!v)return;const b=typeof t=="function"?t:zP(t);return bD(h,i.draggable.measure),b({active:{id:o,data:d.data,node:h,rect:i.draggable.measure(h)},draggableNodes:r,dragOverlay:{node:c,rect:i.dragOverlay.measure(m)},droppableContainers:n,measuringConfiguration:i,transform:v})})}function zP(e){const{duration:t,easing:r,sideEffects:n,keyframes:i}={...PP,...e};return o=>{let{active:c,dragOverlay:d,transform:h,...m}=o;if(!t)return;const g={x:d.rect.left-c.rect.left,y:d.rect.top-c.rect.top},v={scaleX:h.scaleX!==1?c.rect.width*h.scaleX/d.rect.width:1,scaleY:h.scaleY!==1?c.rect.height*h.scaleY/d.rect.height:1},b={x:h.x-g.x,y:h.y-g.y,...v},x=i({...m,active:c,dragOverlay:d,transform:{initial:h,final:b}}),[S]=x,w=x[x.length-1];if(JSON.stringify(S)===JSON.stringify(w))return;const _=n?.({active:c,dragOverlay:d,...m}),N=d.node.animate(x,{duration:t,easing:r,fill:"forwards"});return new Promise(C=>{N.onfinish=()=>{_?.(),C()}})}}let Zj=0;function BP(e){return k.useMemo(()=>{if(e!=null)return Zj++,Zj},[e])}const IP=I.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:i,transition:o,modifiers:c,wrapperElement:d="div",className:h,zIndex:m=999}=e;const{activatorEvent:g,active:v,activeNodeRect:b,containerNodeRect:x,draggableNodes:S,droppableContainers:w,dragOverlay:_,over:N,measuringConfiguration:C,scrollableAncestors:T,scrollableAncestorRects:A,windowRect:L}=kD(),E=k.useContext(Uf),D=BP(v?.id),R=ND(c,{activatorEvent:g,active:v,activeNodeRect:b,containerNodeRect:x,draggingNodeRect:_.rect,over:N,overlayNodeRect:_.rect,scrollableAncestors:T,scrollableAncestorRects:A,transform:E,windowRect:L}),q=Yb(b),B=$P({config:n,draggableNodes:S,droppableContainers:w,measuringConfiguration:C}),U=q?_.setRef:void 0;return I.createElement(AP,null,I.createElement(DP,{animation:B},v&&D?I.createElement(LP,{key:D,id:v.id,ref:U,as:d,activatorEvent:g,adjustScale:t,className:h,transition:o,rect:q,style:{zIndex:m,...i},transform:R},r):null))});function Pf(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function FP(e,t){return e.reduce((r,n,i)=>{const o=t.get(n);return o&&(r[i]=o),r},Array(e.length))}function Nd(e){return e!==null&&e>=0}function HP(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function KP(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const kd={scaleX:1,scaleY:1},GP=e=>{var t;let{rects:r,activeNodeRect:n,activeIndex:i,overIndex:o,index:c}=e;const d=(t=r[i])!=null?t:n;if(!d)return null;const h=YP(r,c,i);if(c===i){const m=r[o];return m?{x:i<o?m.left+m.width-(d.left+d.width):m.left-d.left,y:0,...kd}:null}return c>i&&c<=o?{x:-d.width-h,y:0,...kd}:c<i&&c>=o?{x:d.width+h,y:0,...kd}:{x:0,y:0,...kd}};function YP(e,t,r){const n=e[t],i=e[t-1],o=e[t+1];return!n||!i&&!o?0:r<t?i?n.left-(i.left+i.width):o.left-(n.left+n.width):o?o.left-(n.left+n.width):n.left-(i.left+i.width)}const CD=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e;const o=Pf(t,n,r),c=t[i],d=o[i];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},Ed={scaleX:1,scaleY:1},Qb=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:i,rects:o,overIndex:c}=e;const d=(t=o[r])!=null?t:n;if(!d)return null;if(i===r){const m=o[c];return m?{x:0,y:r<c?m.top+m.height-(d.top+d.height):m.top-d.top,...Ed}:null}const h=VP(o,i,r);return i>r&&i<=c?{x:0,y:-d.height-h,...Ed}:i<r&&i>=c?{x:0,y:d.height+h,...Ed}:{x:0,y:0,...Ed}};function VP(e,t,r){const n=e[t],i=e[t-1],o=e[t+1];return n?r<t?i?n.top-(i.top+i.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const TD="Sortable",DD=I.createContext({activeIndex:-1,containerId:TD,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:CD,disabled:{draggable:!1,droppable:!1}});function $f(e){let{children:t,id:r,items:n,strategy:i=CD,disabled:o=!1}=e;const{active:c,dragOverlay:d,droppableRects:h,over:m,measureDroppableContainers:g}=kD(),v=Fc(TD,r),b=d.rect!==null,x=k.useMemo(()=>n.map(E=>typeof E=="object"&&"id"in E?E.id:E),[n]),S=c!=null,w=c?x.indexOf(c.id):-1,_=m?x.indexOf(m.id):-1,N=k.useRef(x),C=!HP(x,N.current),T=_!==-1&&w===-1||C,A=KP(o);Kn(()=>{C&&S&&g(x)},[C,x,S,g]),k.useEffect(()=>{N.current=x},[x]);const L=k.useMemo(()=>({activeIndex:w,containerId:v,disabled:A,disableTransforms:T,items:x,overIndex:_,useDragOverlay:b,sortedRects:FP(x,h),strategy:i}),[w,v,A.draggable,A.droppable,T,x,_,h,b,i]);return I.createElement(DD.Provider,{value:L},t)}const QP=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return Pf(r,n,i).indexOf(t)},WP=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:o,newIndex:c,previousItems:d,previousContainerId:h,transition:m}=e;return!m||!n||d!==o&&i===c?!1:r?!0:c!==i&&t===h},XP={duration:200,easing:"ease"},OD="transform",JP=Gn.Transition.toString({property:OD,duration:0,easing:"linear"}),ZP={roleDescription:"sortable"};function e$(e){let{disabled:t,index:r,node:n,rect:i}=e;const[o,c]=k.useState(null),d=k.useRef(r);return Kn(()=>{if(!t&&r!==d.current&&n.current){const h=i.current;if(h){const m=Ko(n.current,{ignoreTransform:!0}),g={x:h.left-m.left,y:h.top-m.top,scaleX:h.width/m.width,scaleY:h.height/m.height};(g.x||g.y)&&c(g)}}r!==d.current&&(d.current=r)},[t,r,n,i]),k.useEffect(()=>{o&&c(null)},[o]),o}function zf(e){let{animateLayoutChanges:t=WP,attributes:r,disabled:n,data:i,getNewIndex:o=QP,id:c,strategy:d,resizeObserverConfig:h,transition:m=XP}=e;const{items:g,containerId:v,activeIndex:b,disabled:x,disableTransforms:S,sortedRects:w,overIndex:_,useDragOverlay:N,strategy:C}=k.useContext(DD),T=t$(n,x),A=g.indexOf(c),L=k.useMemo(()=>({sortable:{containerId:v,index:A,items:g},...i}),[v,i,A,g]),E=k.useMemo(()=>g.slice(g.indexOf(c)),[g,c]),{rect:D,node:R,isOver:q,setNodeRef:B}=ED({id:c,data:L,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...h}}),{active:U,activatorEvent:K,activeNodeRect:V,attributes:te,setNodeRef:ge,listeners:P,isDragging:W,over:J,setActivatorNodeRef:me,transform:oe}=EP({id:c,data:L,attributes:{...ZP,...r},disabled:T.draggable}),M=g8(B,ge),H=!!U,se=H&&!S&&Nd(b)&&Nd(_),fe=!N&&W,be=fe&&se?oe:null,Oe=se?be??(d??C)({rects:w,activeNodeRect:V,activeIndex:b,overIndex:_,index:A}):null,Le=Nd(b)&&Nd(_)?o({id:c,items:g,activeIndex:b,overIndex:_}):A,ae=U?.id,le=k.useRef({activeId:ae,items:g,newIndex:Le,containerId:v}),at=g!==le.current.items,Pe=t({active:U,containerId:v,isDragging:W,isSorting:H,id:c,index:A,items:g,newIndex:le.current.newIndex,previousItems:le.current.items,previousContainerId:le.current.containerId,transition:m,wasDragging:le.current.activeId!=null}),Xe=e$({disabled:!Pe,index:A,node:R,rect:D});return k.useEffect(()=>{H&&le.current.newIndex!==Le&&(le.current.newIndex=Le),v!==le.current.containerId&&(le.current.containerId=v),g!==le.current.items&&(le.current.items=g)},[H,Le,v,g]),k.useEffect(()=>{if(ae===le.current.activeId)return;if(ae!=null&&le.current.activeId==null){le.current.activeId=ae;return}const Ue=setTimeout(()=>{le.current.activeId=ae},50);return()=>clearTimeout(Ue)},[ae]),{active:U,activeIndex:b,attributes:te,data:L,rect:D,index:A,newIndex:Le,items:g,isOver:q,isSorting:H,isDragging:W,listeners:P,node:R,overIndex:_,over:J,setNodeRef:M,setActivatorNodeRef:me,setDroppableNodeRef:B,setDraggableNodeRef:ge,transform:Xe??Oe,transition:et()};function et(){if(Xe||at&&le.current.newIndex===A)return JP;if(!(fe&&!Mf(K)||!m)&&(H||Pe))return Gn.Transition.toString({...m,property:OD})}}function t$(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}function gf(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const r$=[rt.Down,rt.Right,rt.Up,rt.Left],n$=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:i,droppableContainers:o,over:c,scrollableAncestors:d}}=t;if(r$.includes(e.code)){if(e.preventDefault(),!r||!n)return;const h=[];o.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const b=i.get(v.id);if(b)switch(e.code){case rt.Down:n.top<b.top&&h.push(v);break;case rt.Up:n.top>b.top&&h.push(v);break;case rt.Left:n.left>b.left&&h.push(v);break;case rt.Right:n.left<b.left&&h.push(v);break}});const m=O8({collisionRect:n,droppableRects:i,droppableContainers:h});let g=cD(m,"id");if(g===c?.id&&m.length>1&&(g=m[1].id),g!=null){const v=o.get(r.id),b=o.get(g),x=b?i.get(b.id):null,S=b?.node.current;if(S&&x&&v&&b){const _=Lf(S).some((E,D)=>d[D]!==E),N=AD(v,b),C=a$(v,b),T=_||!N?{x:0,y:0}:{x:C?n.width-x.width:0,y:C?n.height-x.height:0},A={x:x.left,y:x.top};return T.x&&T.y?A:xc(A,T)}}}};function AD(e,t){return!gf(e)||!gf(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function a$(e,t){return!gf(e)||!gf(t)||!AD(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function s$({board:e,isEditing:t,editName:r,onStartEdit:n,onSaveEdit:i,onEditNameChange:o,onArchiveBoard:c}){const{boardId:d}=Fa(),{attributes:h,listeners:m,setNodeRef:g,transform:v,transition:b,isDragging:x}=zf({id:e.id}),S={transform:Gn.Transform.toString(v),transition:b,opacity:x?.5:1},w=()=>{i(e.id)};return t?u.jsx("div",{ref:g,style:S,className:"group relative",children:u.jsxs("form",{onSubmit:_=>{_.preventDefault(),i(e.id)},className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",value:r,onChange:_=>o(_.target.value),className:"flex-1 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0}),u.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"}),u.jsx("button",{type:"button",onClick:w,className:"px-2 py-1 text-xs bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"})]})}):u.jsx("div",{ref:g,style:S,className:"group relative",children:u.jsxs("div",{className:`flex items-center px-3 py-2 rounded-lg transition-colors ${d===e.id?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[u.jsx(ln,{to:`/b/${e.id}/board`,className:"flex-1 text-sm font-medium truncate",...h,...m,children:e.name}),u.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center space-x-1 ml-2",children:[u.jsx("button",{onClick:_=>{_.preventDefault(),_.stopPropagation(),n(e)},className:`p-1 rounded ${d===e.id?"hover:bg-blue-700":"hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:"Edit board name",children:u.jsx(gi,{className:"w-3 h-3"})}),c&&u.jsx("button",{onClick:_=>{_.preventDefault(),_.stopPropagation(),console.log("🖱️ Delete button clicked for board:",e.id),c(e.id)},className:`p-1 rounded hover:bg-red-500 hover:text-white ${d===e.id?"text-white hover:bg-red-700":"text-red-600 dark:text-red-400"}`,title:"Delete board",children:u.jsx(Dn,{className:"w-3 h-3"})})]})]})})}function i$({isCollapsed:e,onToggle:t}){const{user:r}=fa(),{boardId:n}=Fa(),i=da(),o=kr(),[c,d]=k.useState(""),[h,m]=k.useState(!1),[g,v]=k.useState(null),[b,x]=k.useState(""),S=Fb(hf(Hc),hf(Kb,{coordinateGetter:n$})),{data:w=[],isLoading:_}=ct({queryKey:["boards",r?.id],queryFn:()=>r?.id?ha(r.id):Promise.resolve([]),enabled:!!r?.id}),N=w.filter(U=>U.name!=="Archive").sort((U,K)=>(U.position||0)-(K.position||0)),C=w.find(U=>U.name==="Archive"),T=Ge({mutationFn:async U=>{console.log("🚀 Starting delete mutation for board:",U),await d8(U),console.log("✅ Delete mutation completed for board:",U)},onSuccess:()=>{console.log("📢 Delete mutation onSuccess called - invalidating queries"),o.invalidateQueries({queryKey:["boards",r?.id]}),o.invalidateQueries({queryKey:["my-boards"]}),console.log("✨ All queries invalidated")},onError:U=>{console.error("❌ Delete mutation failed:",U)}}),A=Ge({mutationFn:({name:U,userId:K})=>zb(K,U),onSuccess:()=>{o.invalidateQueries({queryKey:["boards",r?.id]}),o.invalidateQueries({queryKey:["my-boards"]}),d(""),m(!1)}}),L=Ge({mutationFn:({id:U,data:K})=>K.name!==void 0?f8(U,K.name):K.position!==void 0?h8(U,K.position):Promise.resolve(),onSuccess:()=>{o.invalidateQueries({queryKey:["boards",r?.id]}),o.invalidateQueries({queryKey:["my-boards"]})}}),E=U=>{U.preventDefault(),c.trim()&&r?.id&&A.mutate({name:c.trim(),userId:r.id})},D=U=>{v(U.id),x(U.name)},R=U=>{b.trim()&&L.mutate({id:U,data:{name:b.trim()}}),v(null),x("")},q=U=>{console.log("🔔 handleDeleteBoard called with boardId:",U);const K=w.find(V=>V.id===U);console.log("📋 Board to delete:",K),confirm(`Are you sure you want to delete "${K?.name}"? This action cannot be undone.`)?(console.log("✔️ User confirmed delete"),T.mutate(U)):console.log("❌ User cancelled delete")};function B(U){const{active:K,over:V}=U;if(K.id!==V.id){const te=N.findIndex(W=>W.id===K.id),ge=N.findIndex(W=>W.id===V.id);Pf(N,te,ge).forEach((W,J)=>{const me=(J+1)*1e3;W.position!==me&&L.mutate({id:W.id,data:{position:me}})})}}return e?u.jsxs("div",{className:"w-16 bg-gray-100 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[u.jsx("button",{onClick:t,className:"p-4 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:u.jsx(VT,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),u.jsxs("div",{className:"flex flex-col items-center space-y-3 mt-4",children:[N.slice(0,3).map(U=>u.jsx(ln,{to:`/b/${U.id}/board`,className:`w-10 h-10 rounded-lg flex items-center justify-center text-sm font-medium transition-colors ${n===U.id?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:U.name,children:U.name.charAt(0).toUpperCase()},U.id)),C&&u.jsx(ln,{to:`/b/${C.id}/board`,className:`w-10 h-10 rounded-lg flex items-center justify-center transition-colors ${n===C.id?"bg-red-600 text-white":"bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30"}`,title:"Archive",children:u.jsx(Dn,{className:"w-4 h-4"})})]})]}):u.jsxs("div",{className:"w-80 bg-gray-100 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[u.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:"Boards"}),u.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",children:u.jsx(Pq,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),u.jsxs("div",{className:"p-4 space-y-2 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs(ln,{to:"/",className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${i.pathname==="/"?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[u.jsx(nU,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Home"})]}),u.jsxs(ln,{to:"/calendar",className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${i.pathname==="/calendar"?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[u.jsx(Pa,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Calendar"})]}),u.jsxs(ln,{to:"/archive",className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${i.pathname==="/archive"?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[u.jsx(Dn,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Archive"})]}),u.jsxs(ln,{to:"/themes",className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${i.pathname==="/themes"?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[u.jsx(of,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Themes"})]}),(r?.email?.includes("admin")||r?.id==="ad146555-19f4-4eb7-8d22-9ccdedd6a917")&&u.jsxs(ln,{to:"/admin",className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${i.pathname==="/admin"?"bg-red-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[u.jsx(ZT,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Admin"})]})]}),u.jsxs("div",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[_?u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading boards..."}):u.jsxs(u.Fragment,{children:[u.jsx(Vb,{sensors:S,collisionDetection:uD,onDragEnd:B,children:u.jsx($f,{items:N.map(U=>U.id),strategy:Qb,children:u.jsx("div",{className:"space-y-1",children:N.map(U=>u.jsx(s$,{board:U,isEditing:g===U.id,editName:b,onStartEdit:D,onSaveEdit:R,onEditNameChange:x,onArchiveBoard:q},U.id))})})}),C&&u.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Archive"}),u.jsxs(ln,{to:`/b/${C.id}/board`,className:`flex items-center px-3 py-2 rounded-lg transition-colors ${n===C.id?"bg-red-600 text-white":"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"}`,children:[u.jsx(Dn,{className:"w-4 h-4 mr-3"}),u.jsx("span",{className:"text-sm font-medium",children:C.name})]})]})]}),u.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:h?u.jsxs("form",{onSubmit:E,className:"space-y-2",children:[u.jsx("input",{type:"text",value:c,onChange:U=>d(U.target.value),placeholder:"Board name",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",autoFocus:!0}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{type:"submit",disabled:!c.trim()||A.isPending,className:"flex-1 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:A.isPending?"Creating...":"Create Board"}),u.jsx("button",{type:"button",onClick:()=>{m(!1),d("")},className:"px-3 py-2 text-sm bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Cancel"})]})]}):u.jsxs("button",{onClick:()=>m(!0),className:"w-full flex items-center px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[u.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Create new board"]})})]})]})}function o$({onToggleViews:e}){const t=Uc(),r=kr(),{user:n,signOut:i}=fa(),[o,c]=k.useState(!1),[d,h]=k.useState(!1),[m,g]=k.useState(!1),v=n?.id||"2a8f10d6-4368-43db-ab1d-ab783ec6e935",{data:b}=ct({queryKey:["boards",n?.id],queryFn:()=>ha(v),enabled:!!n?.id}),x=async()=>{const w=prompt("Enter board name:");if(w?.trim())try{const _=await zb(v,w.trim());await r.invalidateQueries({queryKey:["boards",n?.id]}),t(`/b/${_.id}/board`)}catch(_){console.error("Error creating board:",_)}},S=()=>{const w=document.documentElement,_=w.style.getPropertyValue("--color-background")==="#1f2937";_?(Object.entries({primary:"#3b82f6",secondary:"#6b7280",background:"#ffffff",cardBackground:"#f8fafc",text:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb"}).forEach(([C,T])=>{w.style.setProperty(`--color-${C}`,T)}),document.body.style.backgroundColor="#ffffff",document.body.style.color="#1f2937"):(Object.entries({primary:"#3b82f6",secondary:"#6b7280",background:"#1f2937",cardBackground:"#374151",text:"#f9fafb",textSecondary:"#d1d5db",border:"#4b5563"}).forEach(([C,T])=>{w.style.setProperty(`--color-${C}`,T)}),document.body.style.backgroundColor="#1f2937",document.body.style.color="#f9fafb"),window.dispatchEvent(new CustomEvent("themeChanged")),console.log("Theme toggled!",_?"Light":"Dark")};return u.jsxs("div",{className:"h-16 bg-white dark:bg-gray-800 border-b dark:border-gray-700 flex items-center justify-between px-4",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white cursor-pointer",onClick:()=>t("/"),children:"Todo"}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>h(!d),className:"flex items-center space-x-1 px-3 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:[u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Boards"}),u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&u.jsx("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"p-2",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Your boards"}),u.jsx("div",{className:"space-y-1",children:b&&b.length>0?b.map(w=>u.jsx("button",{onClick:()=>{t(`/b/${w.id}/board`),h(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:w.name},w.id)):u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 px-3 py-2",children:"No boards yet"})})]})})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>g(!m),className:"flex items-center space-x-1 px-3 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:[u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Create"}),u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})]}),m&&u.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-lg z-50",children:u.jsx("div",{className:"p-2",children:u.jsx("button",{onClick:()=>{x(),g(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:"Create Board"})})})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[e&&u.jsx("button",{onClick:e,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:"Toggle Views Panel",children:u.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),u.jsx("button",{onClick:S,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:"Test Theme Toggle",children:u.jsx(js,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),n&&u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>c(!o),className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:n.email?.[0]?.toUpperCase()}),u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:n.email})]}),o&&u.jsx("div",{className:"absolute top-full right-0 mt-1 w-48 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"p-2",children:[u.jsx("button",{onClick:()=>{t("/admin"),c(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:"Admin"}),u.jsx("button",{onClick:()=>{i(),c(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:"Sign Out"})]})})]})]})]})}function l$({isOpen:e,onClose:t}){const r=da(),n=Uc(),o=Fa().boardId,c=[{id:"board",name:"Board",icon:"📋",path:o?`/b/${o}/board`:"/"},{id:"table",name:"Table",icon:"📊",path:o?`/b/${o}/table`:"/table"},{id:"calendar",name:"Calendar",icon:"📅",path:o?`/b/${o}/calendar`:"/calendar"},{id:"timeline",name:"Timeline",icon:"⏰",path:o?`/b/${o}/timeline`:"/timeline"},{id:"map",name:"Map",icon:"🗺️",path:o?`/b/${o}/map`:"/map"}],d=[{id:"master-calendar",name:"Master Calendar",icon:"📅",path:"/master-calendar",description:"View all boards in one calendar"},{id:"all-maps",name:"All Maps",icon:"�️",path:"/all-maps",description:"View all pinned locations from all boards"}],h=c.find(g=>r.pathname===g.path)||d.find(g=>r.pathname===g.path),m=g=>{n(g),t()};return u.jsxs(u.Fragment,{children:[e&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:t}),u.jsxs("div",{className:`fixed top-0 right-0 h-full w-80 bg-white dark:bg-gray-800 shadow-xl z-50 transform transition-transform duration-300 ${e?"translate-x-0":"translate-x-full"}`,children:[u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Views"}),u.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:u.jsx("span",{className:"text-xl",children:"✕"})})]})}),u.jsxs("div",{className:"p-4 space-y-6",children:[o&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Board Views"}),u.jsx("div",{className:"space-y-1",children:c.map(g=>u.jsxs("button",{onClick:()=>m(g.path),className:`w-full flex items-center gap-3 px-3 py-2 rounded-md text-left transition-colors ${h?.id===g.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[u.jsx("span",{className:"text-lg",children:g.icon}),u.jsx("span",{className:"font-medium",children:g.name}),h?.id===g.id&&u.jsx("span",{className:"ml-auto text-blue-500",children:"✓"})]},g.id))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Workspace Views"}),u.jsx("div",{className:"space-y-1",children:d.map(g=>u.jsxs("button",{onClick:()=>m(g.path),className:`w-full flex items-start gap-3 px-3 py-3 rounded-md text-left transition-colors ${h?.id===g.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[u.jsx("span",{className:"text-lg mt-0.5",children:g.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:g.name}),u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:g.description})]}),h?.id===g.id&&u.jsx("span",{className:"text-blue-500 mt-1",children:"✓"})]},g.id))})]})]})]})]})}function c$(){const[e,t]=k.useState(!1),[r,n]=k.useState(!1);return u.jsxs("div",{className:"h-screen flex bg-gray-50 dark:bg-gray-900",children:[u.jsx(i$,{isCollapsed:e,onToggle:()=>t(!e)}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx(o$,{onToggleViews:()=>n(!r)}),u.jsx("main",{className:"flex-1 overflow-auto",children:u.jsx(XC,{})})]}),u.jsx(l$,{isOpen:r,onClose:()=>n(!1)})]})}function u$({children:e}){const{user:t,loading:r,isGuest:n}=fa();return r?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."})]})}):!t&&!n?u.jsx(WC,{to:"/login",replace:!0}):u.jsx(u.Fragment,{children:e})}function d$(){const e=Uc(),t=kr(),{user:r}=fa(),[n,i]=k.useState(!1),o=r?.id||"2a8f10d6-4368-43db-ab1d-ab783ec6e935",{data:c,isLoading:d,error:h}=ct({queryKey:["boards",r?.id],queryFn:()=>ha(o),enabled:!!r?.id}),m=async g=>{g.preventDefault();const b=new FormData(g.currentTarget).get("name");if(b?.trim())try{const x=await zb(o,b.trim());await t.invalidateQueries({queryKey:["boards",r?.id]}),await t.invalidateQueries({queryKey:["my-boards"]}),e(`/b/${x.id}/board`),i(!1)}catch(x){console.error("Failed to create board",x),alert("Failed to create board. Check console for details.")}};return u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Your boards"}),u.jsx("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"+ Create Board"})]}),d?u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading…"}):h?u.jsx("div",{className:"text-red-500",children:"Failed to load boards."}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:(c??[]).map(g=>u.jsxs("button",{className:"p-4 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 text-left shadow-sm hover:shadow-md transition-shadow",onClick:()=>e(`/b/${g.id}/board`),children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:g.name}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Click to open"})]},g.id))}),n&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Create New Board"}),u.jsxs("form",{onSubmit:m,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Board Name"}),u.jsx("input",{type:"text",id:"name",name:"name",required:!0,autoFocus:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter board name..."})]}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Board"})]})]})]})})]})})}function f$(){const[e,t]=k.useState(""),[r,n]=k.useState(""),[i,o]=k.useState(!1),[c,d]=k.useState(""),[h,m]=k.useState(!1),{signIn:g,signUp:v,signInAsGuest:b,user:x}=fa();if(x)return u.jsx(WC,{to:"/b/board-1/board",replace:!0});const S=async _=>{_.preventDefault(),d(""),m(!0);try{i?(await v(e,r),d("Please check your email for verification link")):await g(e,r)}catch(N){d(N.message||"Authentication failed")}finally{m(!1)}},w=async()=>{m(!0),d("");try{await g("demo@example.com","demo123456")}catch{d("Demo login failed. Please create an account or use your own credentials.")}finally{m(!1)}};return u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:i?"Create your account":"Sign in to your account"}),u.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Project Management App"})]}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:S,children:[u.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-800 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:_=>t(_.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-800 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:_=>n(_.target.value)})]})]}),c&&u.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:c}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Loading...":i?"Sign up":"Sign in"})}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("button",{type:"button",onClick:()=>o(!i),className:"text-blue-600 hover:text-blue-500 text-sm",children:i?"Already have an account? Sign in":"Don't have an account? Sign up"})}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-gray-50 dark:bg-gray-900 text-gray-500 dark:text-gray-400",children:"Or"})})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("button",{type:"button",onClick:w,disabled:h,className:"w-full flex justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed mb-3",children:"Try Demo Account"}),u.jsx("button",{type:"button",onClick:b,disabled:h,className:"w-full flex justify-center py-2 px-4 border border-green-300 dark:border-green-600 rounded-md shadow-sm text-sm font-medium text-green-700 dark:text-green-300 bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue as Guest (No Sign-up Required)"})]})]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"This is a demo app. In production, ensure proper security measures."})})]})})}function h$(){return u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-900 dark:text-white",children:"Pricing"}),u.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"Pricing plans will be displayed here."})]})})}const m$=[{id:"demo-list-1",board_id:"demo-board-1",name:"To Do",position:1e3,created_at:new Date().toISOString()},{id:"demo-list-2",board_id:"demo-board-1",name:"In Progress",position:2e3,created_at:new Date().toISOString()},{id:"demo-list-3",board_id:"demo-board-1",name:"Done",position:3e3,created_at:new Date().toISOString()},{id:"list-1",board_id:"board-1",name:"To Do",position:1e3,created_at:new Date().toISOString()},{id:"list-2",board_id:"board-1",name:"In Progress",position:2e3,created_at:new Date().toISOString()},{id:"list-3",board_id:"board-1",name:"Done",position:3e3,created_at:new Date().toISOString()},{id:"archive-list-1",board_id:"archive-board",name:"Archived Cards",position:1e3,created_at:new Date().toISOString()},{id:"archive-list-2",board_id:"archive-board",name:"Archived Lists",position:2e3,created_at:new Date().toISOString()},{id:"archive-list-3",board_id:"archive-board",name:"Archived Boards",position:3e3,created_at:new Date().toISOString()}],RD="todo-app-lists";function g$(){try{const e=localStorage.getItem(RD);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to load lists from localStorage:",e)}return[...m$]}function Gc(e){try{localStorage.setItem(RD,JSON.stringify(e))}catch(t){console.warn("Failed to save lists to localStorage:",t)}}let jr=g$();async function Bf(e){return jr.filter(r=>r.board_id===e)}async function p$(e,t){const r=Math.max(...jr.map(i=>i.position),0)+1e3,n={id:`list-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,board_id:e,name:t,position:r,created_at:new Date().toISOString()};return jr.push(n),Gc(jr),n}async function MD(e,t){const r=jr.findIndex(n=>n.id===e);r>=0&&(jr[r].board_id=t,Gc(jr))}async function eN(e,t){const r=jr.findIndex(n=>n.id===e);r>=0&&(jr[r].position=t,Gc(jr))}async function LD(e){const t=jr.findIndex(r=>r.id===e);if(t>=0)if(jr[t].board_id==="archive-board")jr.splice(t,1),Gc(jr);else throw new Error("Lists must be archived before they can be deleted")}async function v$(e,t){const r=jr.findIndex(n=>n.id===e);r>=0&&(jr[r].name=t,Gc(jr))}function y$({card:e,onClose:t,isOpen:r,onEdit:n}){const[i,o]=k.useState(!1),c=kr(),d=e.workspace_id,h=ct({queryKey:["boards",d],queryFn:()=>ha(d),enabled:r}),m=Ge({mutationFn:({targetBoardId:_})=>Cb(e.id,_),onSuccess:()=>{c.invalidateQueries({queryKey:["cards"]}),c.invalidateQueries({queryKey:["lists"]}),t()},onError:_=>{console.error("Failed to move card:",_),alert("Failed to move card. Please try again.")}}),g=Ge({mutationFn:()=>IL(e.id),onSuccess:()=>{c.invalidateQueries({queryKey:["cards",e.board_id]}),t()},onError:_=>{console.error("Failed to delete card:",_),alert("Failed to delete card. Please try again.")}}),v=h.data||[],x=v.find(_=>_.id===e.board_id)?.name==="Archive",S=v.find(_=>_.name==="Archive"),w=v.filter(_=>_.id!==e.board_id);return r?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{o(!1),t()}}),u.jsxs("div",{className:"absolute right-0 top-6 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 py-2 min-w-48 relative",children:[n&&u.jsxs("button",{onClick:()=>{n(),t()},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[u.jsx(gi,{className:"w-4 h-4"}),"Edit"]}),w.length>0&&u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>o(!i),className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Df,{className:"w-4 h-4"}),"Move"]}),u.jsx(Rb,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&u.jsxs("div",{className:"absolute left-0 top-full z-60 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 py-1 min-w-48 max-h-60 overflow-y-auto",children:[u.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-600",children:"Select Board"}),w.map(_=>u.jsx("button",{onClick:()=>{m.mutate({targetBoardId:_.id}),o(!1),t()},disabled:m.isPending,className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-600 last:border-b-0 disabled:opacity-50",children:m.isPending?"Moving...":_.name},_.id))]})]}),!x&&S&&u.jsxs("button",{onClick:()=>{m.mutate({targetBoardId:S.id}),t()},disabled:m.isPending,className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2 disabled:opacity-50",children:[u.jsx(Dn,{className:"w-4 h-4"}),m.isPending?"Archiving...":"Archive"]}),x&&u.jsxs("button",{onClick:()=>{g.mutate(),t()},disabled:g.isPending,className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 disabled:opacity-50",children:[u.jsx(za,{className:"w-4 h-4"}),g.isPending?"Deleting...":"Delete Permanently"]})]})]}):null}function b$({card:e}){const[t,r]=k.useState(1),[n,i]=k.useState(""),[o,c]=k.useState("professional"),[d,h]=k.useState("conversion"),[m,g]=k.useState(""),[v,b]=k.useState([]),[x,S]=k.useState(null),[w,_]=k.useState(!1),N=(E,D)=>{const R=[`Transform Your ${e.title} Experience`,`Discover Amazing ${e.title} Solutions`,`Get Started with ${e.title} Today`,`${e.title} Made Simple`,`Unlock the Power of ${e.title}`],q=[`Experience the difference with our innovative ${e.title} solution. Join thousands of satisfied customers.`,`Ready to take your ${e.title} to the next level? Get started now and see results fast.`];return{id:`graphic-${E}-${D}`,headlines:R.map(B=>o==="playful"?`🎉 ${B}`:o==="urgent"?`⚡ ${B} - Limited Time!`:o==="casual"?`Hey! ${B}`:B),descriptions:q.map(B=>o==="urgent"?`${B} Don't miss out!`:o==="casual"?`${B} It's that easy!`:B)}},C=E=>{const D=[];for(let R=0;R<3;R++)D.push(N(E,R));return{id:`adset-${E}`,name:`Ad Set ${E+1}`,graphicTexts:D}},T=()=>{_(!0),setTimeout(()=>{const E=[];for(let R=0;R<t;R++)E.push(C(R));const D={id:`campaign-${Date.now()}`,campaignName:n||`${e.title} Campaign`,adSets:E,platform:"facebook",tone:o,objective:d,targetAudience:m,created_at:new Date().toISOString()};b(R=>[D,...R]),S(D.id),_(!1)},2e3)},A=E=>{navigator.clipboard.writeText(E)},L=E=>{b(D=>D.filter(R=>R.id!==E))};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx(sf,{className:"w-5 h-5 text-blue-600"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Facebook Ads Campaign Generator"})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg space-y-4",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Campaign Setup"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Campaign Name"}),u.jsx("input",{type:"text",value:n,onChange:E=>i(E.target.value),placeholder:`${e.title} Campaign`,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Number of Ad Sets"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>r(Math.max(1,t-1)),className:"p-1 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600",children:u.jsx(WT,{className:"w-4 h-4"})}),u.jsx("input",{type:"number",value:t,onChange:E=>r(Math.max(1,parseInt(E.target.value)||1)),min:"1",max:"10",className:"w-20 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-center"}),u.jsx("button",{onClick:()=>r(Math.min(10,t+1)),className:"p-1 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600",children:u.jsx(Hn,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tone"}),u.jsxs("select",{value:o,onChange:E=>c(E.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"professional",children:"Professional"}),u.jsx("option",{value:"casual",children:"Casual"}),u.jsx("option",{value:"playful",children:"Playful"}),u.jsx("option",{value:"urgent",children:"Urgent"}),u.jsx("option",{value:"informative",children:"Informative"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Campaign Objective"}),u.jsxs("select",{value:d,onChange:E=>h(E.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"awareness",children:"Brand Awareness"}),u.jsx("option",{value:"conversion",children:"Conversion"}),u.jsx("option",{value:"engagement",children:"Engagement"}),u.jsx("option",{value:"traffic",children:"Traffic"}),u.jsx("option",{value:"leads",children:"Lead Generation"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target Audience"}),u.jsx("input",{type:"text",value:m,onChange:E=>g(E.target.value),placeholder:"e.g., 25-35 professionals interested in technology",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),u.jsxs("button",{onClick:T,disabled:w,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-4 py-2 rounded-md transition-colors",children:[w?u.jsx(XT,{className:"w-4 h-4 animate-spin"}):u.jsx(ic,{className:"w-4 h-4"}),u.jsx("span",{children:w?"Generating Campaign...":"Generate Facebook Campaign"})]})]}),v.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Generated Campaigns"}),v.map(E=>u.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(sf,{className:"w-5 h-5 text-blue-600"}),u.jsxs("div",{children:[u.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:E.campaignName}),u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[E.adSets.length," Ad Sets • ",E.tone," • ",E.objective]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>S(x===E.id?null:E.id),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-800 rounded",children:x===E.id?u.jsx(qb,{className:"w-4 h-4"}):u.jsx(Oo,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>L(E.id),className:"p-1 hover:bg-red-100 dark:hover:bg-red-800 rounded text-red-600",children:u.jsx(za,{className:"w-4 h-4"})})]})]}),x===E.id&&u.jsx("div",{className:"p-4 space-y-6",children:E.adSets.map(D=>u.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[u.jsx("h6",{className:"font-medium text-gray-900 dark:text-white mb-4",children:D.name}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:D.graphicTexts.map((R,q)=>u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[u.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Graphic Text ",q+1]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Headlines (5)"}),u.jsx("div",{className:"space-y-2",children:R.headlines.map((B,U)=>u.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-700 p-2 rounded text-sm",children:[u.jsx("span",{className:"flex-1",children:B}),u.jsx("button",{onClick:()=>A(B),className:"ml-2 p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:u.jsx(ui,{className:"w-3 h-3"})})]},U))})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Descriptions (2)"}),u.jsx("div",{className:"space-y-2",children:R.descriptions.map((B,U)=>u.jsxs("div",{className:"flex items-start justify-between bg-white dark:bg-gray-700 p-2 rounded text-sm",children:[u.jsx("span",{className:"flex-1",children:B}),u.jsx("button",{onClick:()=>A(B),className:"ml-2 p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:u.jsx(ui,{className:"w-3 h-3"})})]},U))})]})]},R.id))})]},D.id))})]},E.id))]})]})}const x$=e=>{switch(e){case"facebook":return u.jsx(sf,{className:"w-4 h-4"});case"instagram":return u.jsx(oU,{className:"w-4 h-4"});case"linkedin":return u.jsx(cU,{className:"w-4 h-4"});case"twitter":return u.jsx(XU,{className:"w-4 h-4"});case"google":return u.jsx(JT,{className:"w-4 h-4"});case"tiktok":return u.jsx(bU,{className:"w-4 h-4"});case"custom":return u.jsx(Ao,{className:"w-4 h-4"});default:return u.jsx(Ao,{className:"w-4 h-4"})}},w$={facebook:"bg-blue-500",instagram:"bg-pink-500",linkedin:"bg-blue-700",twitter:"bg-sky-500",google:"bg-red-500",tiktok:"bg-black",custom:"bg-gray-500"};function _$({card:e}){const[t,r]=k.useState("general"),[n,i]=k.useState("facebook"),[o,c]=k.useState("professional"),[d,h]=k.useState("conversion"),[m,g]=k.useState(""),[v,b]=k.useState(null),[x,S]=k.useState({}),[w,_]=k.useState(new Set),N=kr(),C=Ge({mutationFn:()=>aq(e.id,n,{targetAudience:m||void 0,tone:o,objective:d}),onSuccess:()=>{N.invalidateQueries({queryKey:["cards",e.board_id]})},onError:K=>{console.error("Failed to generate ad copy:",K),alert("Failed to generate ad copy. Please try again.")}}),T=Ge({mutationFn:({adCopyId:K,updates:V})=>$T(e.id,K,V),onSuccess:()=>{N.invalidateQueries({queryKey:["cards",e.board_id]}),b(null),S({})}}),A=Ge({mutationFn:K=>sq(e.id,K),onSuccess:()=>{N.invalidateQueries({queryKey:["cards",e.board_id]})}}),L=Ge({mutationFn:K=>iq(e.id,K),onSuccess:()=>{N.invalidateQueries({queryKey:["cards",e.board_id]})}}),E=K=>{b(K.id),S({graphics_copy:K.graphics_copy,subheadline:K.subheadline,description:K.description,primary_text:K.primary_text})},D=()=>{v&&T.mutate({adCopyId:v,updates:x})},R=()=>{b(null),S({})},q=K=>{navigator.clipboard.writeText(K)},B=K=>{const V=new Set(w);V.has(K)?V.delete(K):V.add(K),_(V)},U=e.ad_copies||[];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ic,{className:"w-5 h-5 text-purple-500"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"AI Ad Copy Generator"})]}),u.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:u.jsxs("nav",{className:"-mb-px flex space-x-8",children:[u.jsx("button",{onClick:()=>r("general"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="general"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"General Ad Copy"}),u.jsxs("button",{onClick:()=>r("facebook"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t==="facebook"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[u.jsx(sf,{className:"w-4 h-4"}),u.jsx("span",{children:"Facebook Campaigns"})]})]})}),t==="general"?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Platform"}),u.jsxs("select",{value:n,onChange:K=>i(K.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"facebook",children:"Facebook"}),u.jsx("option",{value:"instagram",children:"Instagram"}),u.jsx("option",{value:"linkedin",children:"LinkedIn"}),u.jsx("option",{value:"twitter",children:"Twitter"}),u.jsx("option",{value:"google",children:"Google Ads"}),u.jsx("option",{value:"tiktok",children:"TikTok"}),u.jsx("option",{value:"custom",children:"Custom"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tone"}),u.jsxs("select",{value:o,onChange:K=>c(K.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"professional",children:"Professional"}),u.jsx("option",{value:"casual",children:"Casual"}),u.jsx("option",{value:"playful",children:"Playful"}),u.jsx("option",{value:"urgent",children:"Urgent"}),u.jsx("option",{value:"informative",children:"Informative"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Objective"}),u.jsxs("select",{value:d,onChange:K=>h(K.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"awareness",children:"Brand Awareness"}),u.jsx("option",{value:"conversion",children:"Conversion"}),u.jsx("option",{value:"engagement",children:"Engagement"}),u.jsx("option",{value:"traffic",children:"Traffic"}),u.jsx("option",{value:"leads",children:"Lead Generation"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target Audience (Optional)"}),u.jsx("input",{type:"text",value:m,onChange:K=>g(K.target.value),placeholder:"e.g., 25-35 professionals",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),u.jsxs("button",{onClick:()=>C.mutate(),disabled:C.isPending,className:"w-full flex items-center justify-center space-x-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-4 py-2 rounded-md transition-colors",children:[C.isPending?u.jsx(XT,{className:"w-4 h-4 animate-spin"}):u.jsx(ic,{className:"w-4 h-4"}),u.jsx("span",{children:C.isPending?"Generating...":"Generate Ad Copy"})]})]}),U.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"text-md font-medium text-gray-900 dark:text-gray-100",children:["Generated Ad Copies (",U.length,")"]}),U.map(K=>{const V=w.has(K.id),te=v===K.id;return u.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-gray-800",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white ${w$[K.platform]}`,children:[u.jsx("span",{className:"mr-1",children:x$(K.platform)})," ",K.title]}),K.is_approved&&u.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[u.jsx($a,{className:"w-3 h-3 mr-1"}),"Approved"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>B(K.id),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:V?u.jsx(qb,{className:"w-4 h-4"}):u.jsx(Oo,{className:"w-4 h-4"})}),!te&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>E(K),className:"p-1 text-blue-500 hover:text-blue-700",children:u.jsx(NU,{className:"w-4 h-4"})}),!K.is_approved&&u.jsx("button",{onClick:()=>L.mutate(K.id),className:"p-1 text-green-500 hover:text-green-700",children:u.jsx($a,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>A.mutate(K.id),className:"p-1 text-red-500 hover:text-red-700",children:u.jsx(za,{className:"w-4 h-4"})})]})]})]}),V&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Graphics Copy"}),u.jsx("button",{onClick:()=>q(te?x.graphics_copy:K.graphics_copy),className:"p-1 text-gray-400 hover:text-gray-600",children:u.jsx(ui,{className:"w-3 h-3"})})]}),te?u.jsx("input",{type:"text",value:x.graphics_copy,onChange:ge=>S({...x,graphics_copy:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}):u.jsx("p",{className:"text-sm bg-gray-100 dark:bg-gray-700 p-2 rounded font-mono",children:K.graphics_copy})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Subheadline"}),u.jsx("button",{onClick:()=>q(te?x.subheadline:K.subheadline),className:"p-1 text-gray-400 hover:text-gray-600",children:u.jsx(ui,{className:"w-3 h-3"})})]}),te?u.jsx("input",{type:"text",value:x.subheadline,onChange:ge=>S({...x,subheadline:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}):u.jsx("p",{className:"text-sm bg-gray-100 dark:bg-gray-700 p-2 rounded",children:K.subheadline})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),u.jsx("button",{onClick:()=>q(te?x.description:K.description),className:"p-1 text-gray-400 hover:text-gray-600",children:u.jsx(ui,{className:"w-3 h-3"})})]}),te?u.jsx("textarea",{value:x.description,onChange:ge=>S({...x,description:ge.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}):u.jsx("p",{className:"text-sm bg-gray-100 dark:bg-gray-700 p-2 rounded",children:K.description})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Primary Text"}),u.jsx("button",{onClick:()=>q(te?x.primary_text:K.primary_text),className:"p-1 text-gray-400 hover:text-gray-600",children:u.jsx(ui,{className:"w-3 h-3"})})]}),te?u.jsx("textarea",{value:x.primary_text,onChange:ge=>S({...x,primary_text:ge.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}):u.jsx("p",{className:"text-sm bg-gray-100 dark:bg-gray-700 p-2 rounded",children:K.primary_text})]}),te&&u.jsxs("div",{className:"flex space-x-2 pt-2",children:[u.jsxs("button",{onClick:D,disabled:T.isPending,className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:[u.jsx($a,{className:"w-3 h-3"}),u.jsx("span",{children:"Save"})]}),u.jsx("button",{onClick:R,className:"flex items-center space-x-1 bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm",children:u.jsx("span",{children:"Cancel"})})]}),u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:["Generated ",new Date(K.generated_at).toLocaleString(),K.ai_model_used&&` • ${K.ai_model_used}`]})]})]},K.id)})]}),U.length===0&&u.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[u.jsx(ic,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{children:"No ad copies generated yet."}),u.jsx("p",{className:"text-sm",children:"Use the generator above to create AI-powered ad copy!"})]})]}):u.jsx(b$,{card:e})]})}const S$={card_created:Hn,card_updated:gi,card_moved:Df,card_archived:Dn,card_restored:Dn,title_changed:gi,description_changed:Ao,date_start_changed:Pa,date_end_changed:Pa,location_changed:qd,member_assigned:Pj,member_removed:Uj,label_added:lf,label_removed:lf,attachment_added:sc,attachment_removed:sc,checklist_added:yc,checklist_removed:yc,checklist_item_added:Hn,checklist_item_removed:WT,checklist_item_completed:$a,checklist_item_uncompleted:Pr,checklist_item_due_date_set:Pa,checklist_item_due_date_removed:Pa,checklist_item_assigned:Pj,checklist_item_unassigned:Uj,checklist_item_priority_changed:Mb,comment_added:gU,comment_removed:za},j$={card_created:"text-blue-500 bg-blue-50",card_updated:"text-blue-500 bg-blue-50",card_moved:"text-blue-500 bg-blue-50",card_archived:"text-gray-500 bg-gray-50",card_restored:"text-green-500 bg-green-50",title_changed:"text-purple-500 bg-purple-50",description_changed:"text-purple-500 bg-purple-50",date_start_changed:"text-indigo-500 bg-indigo-50",date_end_changed:"text-indigo-500 bg-indigo-50",location_changed:"text-emerald-500 bg-emerald-50",member_assigned:"text-orange-500 bg-orange-50",member_removed:"text-red-500 bg-red-50",label_added:"text-pink-500 bg-pink-50",label_removed:"text-red-500 bg-red-50",attachment_added:"text-green-500 bg-green-50",attachment_removed:"text-red-500 bg-red-50",checklist_added:"text-cyan-500 bg-cyan-50",checklist_removed:"text-red-500 bg-red-50",checklist_item_added:"text-cyan-500 bg-cyan-50",checklist_item_removed:"text-red-500 bg-red-50",checklist_item_completed:"text-green-500 bg-green-50",checklist_item_uncompleted:"text-yellow-500 bg-yellow-50",checklist_item_due_date_set:"text-indigo-500 bg-indigo-50",checklist_item_due_date_removed:"text-gray-500 bg-gray-50",checklist_item_assigned:"text-orange-500 bg-orange-50",checklist_item_unassigned:"text-red-500 bg-red-50",checklist_item_priority_changed:"text-amber-500 bg-amber-50",comment_added:"text-teal-500 bg-teal-50",comment_removed:"text-red-500 bg-red-50"};function N$(e){const{type:t,meta:r}=e;switch(t){case"title_changed":return`changed title from "${r.old_value}" to "${r.new_value}"`;case"description_changed":return r.new_value?"updated description":"removed description";case"date_start_changed":return r.new_value?`set start date to ${new Date(r.new_value).toLocaleDateString()}`:"removed start date";case"date_end_changed":return r.new_value?`set end date to ${new Date(r.new_value).toLocaleDateString()}`:"removed end date";case"location_changed":return r.new_value?.address?`set location to "${r.new_value.address}"`:"updated location";case"member_assigned":return`assigned ${r.target_name} to this card`;case"member_removed":return`removed ${r.target_name} from this card`;case"label_added":return`added label "${r.target_name}"`;case"label_removed":return`removed label "${r.target_name}"`;case"attachment_added":return`added attachment "${r.target_name}"`;case"attachment_removed":return`removed attachment "${r.target_name}"`;case"checklist_added":return`added checklist "${r.target_name}"`;case"checklist_removed":return`removed checklist "${r.target_name}"`;case"checklist_item_added":return`added task "${r.target_name}"`;case"checklist_item_removed":return`removed task "${r.target_name}"`;case"checklist_item_completed":return`completed task "${r.target_name}"`;case"checklist_item_uncompleted":return`uncompleted task "${r.target_name}"`;case"checklist_item_due_date_set":return`set due date for "${r.target_name}" to ${new Date(r.new_value).toLocaleDateString()}`;case"checklist_item_due_date_removed":return`removed due date from "${r.target_name}"`;case"checklist_item_assigned":return r.details||`assigned task "${r.target_name}"`;case"checklist_item_unassigned":return`unassigned task "${r.target_name}"`;case"checklist_item_priority_changed":return`changed priority of "${r.target_name}" to ${r.new_value}`;case"comment_added":return"added a comment";case"comment_removed":return"removed a comment";default:return r.details||`performed ${t.replace(/_/g," ")}`}}function tN(e){const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/1e3);return n<60?"just now":n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:n<604800?`${Math.floor(n/86400)}d ago`:t.toLocaleDateString()}function k$({card:e,showLimit:t=10,showActorNames:r=!0,compact:n=!1}){const[i,o]=k.useState(!1),c=e.activity||[],d=i?c:c.slice(0,t),h=c.length>t;return c.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[u.jsx(Do,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),u.jsx("p",{className:"text-sm",children:"No activity yet"})]}):u.jsxs("div",{className:"space-y-3",children:[d.map(m=>{const g=S$[m.type]||gi,v=j$[m.type]||"text-gray-500 bg-gray-50";return u.jsxs("div",{className:`flex items-start space-x-3 ${n?"py-1":"py-2"}`,children:[u.jsx("div",{className:`p-1.5 rounded-full ${v}`,children:u.jsx(g,{className:"w-3 h-3"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:`text-sm ${n?"leading-tight":""}`,children:u.jsxs("span",{className:"text-gray-900 dark:text-gray-100",children:[r&&m.actor_name&&u.jsxs("span",{className:"font-medium",children:[m.actor_name," "]}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:N$(m)})]})}),!n&&u.jsxs("div",{className:"flex items-center space-x-2 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[u.jsx(Do,{className:"w-3 h-3"}),u.jsx("span",{children:tN(m.created_at)})]})]}),n&&u.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 shrink-0",children:tN(m.created_at)})]},m.id)}),h&&!i&&u.jsxs("button",{onClick:()=>o(!0),className:"w-full py-2 px-3 text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",children:["Show ",c.length-t," more activities"]}),i&&h&&u.jsx("button",{onClick:()=>o(!1),className:"w-full py-2 px-3 text-sm text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900/20 rounded-md transition-colors",children:"Show less"})]})}function E$({isOpen:e,onClose:t,cardId:r,selectedLabelIds:n=[],onLabelsChange:i}){const[o,c]=k.useState(""),[d,h]=k.useState(n),[m,g]=k.useState(!1),[v,b]=k.useState(""),[x,S]=k.useState("#3B82F6"),[w,_]=k.useState(null),[N,C]=k.useState(""),[T,A]=k.useState(!1),L=kr(),E=ct({queryKey:["labels"],queryFn:()=>cq(),enabled:e}),D=Ge({mutationFn:uq,onSuccess:()=>{L.invalidateQueries({queryKey:["labels"]}),g(!1),b(""),S("#3B82F6")}}),R=Ge({mutationFn:({id:oe,name:M})=>dq(oe,{name:M}),onSuccess:()=>{L.invalidateQueries({queryKey:["labels"]}),_(null),C("")}}),q=Ge({mutationFn:fq,onSuccess:()=>{L.invalidateQueries({queryKey:["labels"]})}}),B=Ge({mutationFn:({labelId:oe})=>r?hq(r,oe):Promise.resolve(),onSuccess:()=>{r&&L.invalidateQueries({queryKey:["cards"]})}}),U=Ge({mutationFn:({labelId:oe})=>r?BT(r,oe):Promise.resolve(),onSuccess:()=>{r&&L.invalidateQueries({queryKey:["cards"]})}});k.useEffect(()=>{h(n)},[n]);const V=(E.data||[]).filter(oe=>oe.name.toLowerCase().includes(o.toLowerCase())),te=oe=>{const M=d.includes(oe)?d.filter(H=>H!==oe):[...d,oe];h(M),i?.(M),r&&(d.includes(oe)?U.mutate({labelId:oe}):B.mutate({labelId:oe}))},ge=()=>{v.trim()&&D.mutate({name:v,color:x})},P=(oe,M)=>{_(oe),C(M)},W=()=>{w&&N.trim()&&R.mutate({id:w,name:N})},J=oe=>{if(confirm("Are you sure you want to delete this label? This action cannot be undone.")&&(q.mutate(oe),d.includes(oe))){const M=d.filter(H=>H!==oe);h(M),i?.(M)}},me=["#22C55E","#A3A833","#D2691E","#CD853F","#DC143C","#8A2BE2","#4169E1","#1E90FF","#20B2AA","#FFD700","#FF6347","#DDA0DD"];return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-gray-800 text-white rounded-lg w-96 max-w-90vw max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Labels"}),u.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-700 rounded",children:u.jsx(Pr,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-4 border-b border-gray-700",children:u.jsxs("div",{className:"relative",children:[u.jsx(JT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",value:o,onChange:oe=>c(oe.target.value),placeholder:"Search labels...",className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsxs("div",{className:"p-2",children:[u.jsx("div",{className:"text-sm font-medium text-gray-300 mb-2 px-2",children:"Labels"}),V.map(oe=>u.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-700 rounded-md group",children:[u.jsx("div",{className:`w-4 h-4 border border-gray-500 rounded flex items-center justify-center cursor-pointer ${d.includes(oe.id)?"bg-blue-500 border-blue-500":""}`,onClick:()=>te(oe.id),children:d.includes(oe.id)&&u.jsx($a,{className:"w-3 h-3 text-white"})}),u.jsxs("div",{className:`flex-1 px-3 py-2 rounded-md text-white font-medium flex items-center justify-between cursor-pointer ${oe.name?"":"opacity-80"}`,style:{backgroundColor:oe.color},onClick:()=>te(oe.id),children:[w===oe.id?u.jsx("input",{type:"text",value:N,onChange:M=>C(M.target.value),onKeyDown:M=>{M.key==="Enter"&&W(),M.key==="Escape"&&_(null)},onBlur:W,className:"bg-transparent border-none outline-none text-white placeholder-gray-200",placeholder:"Enter label name",autoFocus:!0,onClick:M=>M.stopPropagation()}):u.jsxs("span",{children:[oe.name||(T?`Color: ${oe.color}`:""),!oe.name&&!T&&u.jsxs("span",{className:"text-xs opacity-70",children:["Color: ",oe.color.toUpperCase()]})]}),u.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100",children:[u.jsx("button",{onClick:M=>{M.stopPropagation(),P(oe.id,oe.name)},className:"p-1 hover:bg-black hover:bg-opacity-20 rounded",title:"Edit label",children:u.jsx(vc,{className:"w-3 h-3"})}),u.jsx("button",{onClick:M=>{M.stopPropagation(),J(oe.id)},className:"p-1 hover:bg-black hover:bg-opacity-20 rounded text-red-300 hover:text-red-200",title:"Delete label",children:u.jsx(za,{className:"w-3 h-3"})})]})]})]},oe.id))]})}),u.jsxs("div",{className:"border-t border-gray-700 p-4 space-y-3",children:[m?u.jsxs("div",{className:"space-y-3",children:[u.jsx("input",{type:"text",value:v,onChange:oe=>b(oe.target.value),placeholder:"Enter label name",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.jsx("div",{className:"w-full h-12 rounded-md border-2 border-gray-600 cursor-pointer",style:{backgroundColor:x},onClick:()=>{const M=(me.indexOf(x)+1)%me.length;S(me[M])}}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:ge,disabled:!v.trim()||D.isPending,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white py-2 px-4 rounded-md text-sm font-medium",children:"Create"}),u.jsx("button",{onClick:()=>{g(!1),b(""),S("#3B82F6")},className:"px-4 py-2 text-gray-300 hover:text-white text-sm",children:"Cancel"})]})]}):u.jsx("button",{onClick:()=>g(!0),className:"w-full text-left text-gray-300 hover:text-white py-2 text-sm",children:"Create a new label"}),u.jsx("button",{onClick:()=>{},className:"w-full text-left text-gray-300 hover:text-white py-2 text-sm",children:"Show more labels"}),u.jsxs("button",{onClick:()=>A(!T),className:"w-full text-left text-gray-300 hover:text-white py-2 text-sm",children:[T?"Disable":"Enable"," colorblind friendly mode"]})]})]})}):null}function C$({isOpen:e,onClose:t,initialName:r="",initialColor:n="#3B82F6",onLabelCreated:i}){const[o,c]=k.useState(r),[d,h]=k.useState(n),m=kr(),g=["#22C55E","#16A34A","#15803D","#166534","#EAB308","#CA8A04","#A16207","#92400E","#F97316","#EA580C","#DC2626","#B91C1C","#EF4444","#DC2626","#B91C1C","#991B1B","#8B5CF6","#7C3AED","#6D28D9","#5B21B6","#3B82F6","#2563EB","#1D4ED8","#1E40AF","#06B6D4","#0891B2","#0E7490","#155E75","#0EA5E9","#0284C7","#0369A1","#075985","#84CC16","#65A30D","#4D7C0F","#365314","#EC4899","#DB2777","#BE185D","#9D174D","#10B981","#059669","#047857","#065F46"],v=Ge({mutationFn:async w=>{const _={id:`label-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,name:w.name,color:w.color,workspace_id:"ws-1",created_at:new Date().toISOString()};return await new Promise(N=>setTimeout(N,500)),_},onSuccess:w=>{m.invalidateQueries({queryKey:["labels"]}),i?.(w),b()}}),b=()=>{c(r),h(n),t()},x=()=>{o.trim()&&v.mutate({name:o.trim(),color:d})},S=()=>{h("#6B7280")};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-gray-800 text-white rounded-lg w-96 max-w-90vw max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-700 rounded",children:u.jsx(Oq,{className:"w-5 h-5"})}),u.jsx("h2",{className:"text-lg font-semibold",children:"Create label"})]}),u.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-700 rounded",children:u.jsx(Pr,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-4",children:u.jsx("div",{className:"w-full h-16 rounded-md flex items-center justify-center text-white font-medium",style:{backgroundColor:d},children:o||"Label preview"})}),u.jsxs("div",{className:"px-4 pb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),u.jsx("input",{type:"text",value:o,onChange:w=>c(w.target.value),placeholder:"Enter label title",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:50})]}),u.jsxs("div",{className:"px-4 pb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Select a color"}),u.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:g.map(w=>u.jsx("button",{onClick:()=>h(w),className:`w-12 h-12 rounded-md border-2 hover:scale-105 transition-transform ${d===w?"border-white border-4":"border-gray-600 hover:border-gray-400"}`,style:{backgroundColor:w},title:w},w))}),u.jsxs("button",{onClick:S,className:"w-full text-left text-red-400 hover:text-red-300 py-2 text-sm flex items-center space-x-2",children:[u.jsx(Pr,{className:"w-4 h-4"}),u.jsx("span",{children:"Remove color"})]})]}),u.jsx("div",{className:"border-t border-gray-700 p-4",children:u.jsx("button",{onClick:x,disabled:!o.trim()||v.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-2 px-4 rounded-md font-medium transition-colors",children:v.isPending?"Creating...":"Create"})})]})}):null}function qD({selectedUsers:e=[],onUsersChange:t,placeholder:r="Select users...",maxUsers:n=10,compact:i=!1}){const[o,c]=k.useState(!1),[d,h]=k.useState(""),[m,g]=k.useState([]),[v,b]=k.useState(!1),[x,S]=k.useState(null),w=k.useRef(null),_=k.useRef(null);k.useEffect(()=>{(async()=>{b(!0),S(null);try{const{data:{user:D}}=await Or.auth.getUser();let R=[{id:"user-1",email:"john.doe@example.com",user_metadata:{full_name:"John Doe",avatar_url:""},created_at:new Date().toISOString()},{id:"user-2",email:"jane.smith@example.com",user_metadata:{full_name:"Jane Smith",avatar_url:""},created_at:new Date().toISOString()},{id:"user-3",email:"mike.wilson@example.com",user_metadata:{full_name:"Mike Wilson",avatar_url:""},created_at:new Date().toISOString()},{id:"user-4",email:"sarah.brown@example.com",user_metadata:{full_name:"Sarah Brown",avatar_url:""},created_at:new Date().toISOString()},{id:"user-5",email:"david.clark@example.com",user_metadata:{full_name:"David Clark",avatar_url:""},created_at:new Date().toISOString()}];D&&R.findIndex(B=>B.id===D.id)===-1&&R.unshift({id:D.id,email:D.email||"",user_metadata:{full_name:D.user_metadata?.full_name||D.email?.split("@")[0]||"Current User",avatar_url:D.user_metadata?.avatar_url||""},created_at:D.created_at||new Date().toISOString()}),g(R)}catch(D){console.error("Error in user management:",D),S("Failed to load users"),g([{id:"user-1",email:"john.doe@example.com",user_metadata:{full_name:"John Doe",avatar_url:""},created_at:new Date().toISOString()},{id:"user-2",email:"jane.smith@example.com",user_metadata:{full_name:"Jane Smith",avatar_url:""},created_at:new Date().toISOString()}])}finally{b(!1)}})()},[]),k.useEffect(()=>{const E=D=>{w.current&&!w.current.contains(D.target)&&(c(!1),h(""))};if(o)return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[o]);const N=m.filter(E=>{const D=E.user_metadata?.full_name||E.user_metadata?.name||"",R=E.email||"",q=d.toLowerCase();return D.toLowerCase().includes(q)||R.toLowerCase().includes(q)}),C=E=>e.some(D=>D.id===E),T=E=>{if(C(E.id)||e.length>=n)return;const D={id:E.id,name:E.user_metadata?.full_name||E.user_metadata?.name||E.email?.split("@")[0]||"Unknown User",email:E.email,avatar:E.user_metadata?.avatar_url};t([...e,D]),h(""),i||c(!1)},A=E=>{t(e.filter(D=>D.id!==E))},L=E=>E.split(" ").map(D=>D[0]).join("").toUpperCase().slice(0,2);return u.jsxs("div",{ref:w,className:"relative",children:[e.length>0&&u.jsx("div",{className:`flex flex-wrap gap-1 mb-2 ${i?"max-w-32":""}`,children:e.map(E=>u.jsxs("div",{className:`flex items-center gap-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full text-xs ${i?"max-w-20":""}`,children:[E.avatar?u.jsx("img",{src:E.avatar,alt:E.name,className:"w-4 h-4 rounded-full"}):u.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs",children:L(E.name)}),u.jsx("span",{className:`truncate ${i?"max-w-12":""}`,children:i?E.name.split(" ")[0]:E.name}),u.jsx("button",{onClick:()=>A(E.id),className:"text-blue-600 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-100",children:u.jsx(Pr,{className:"w-3 h-3"})})]},E.id))}),u.jsxs("div",{className:`flex items-center justify-between p-2 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer hover:border-gray-400 dark:hover:border-gray-500 bg-white dark:bg-gray-700 ${i?"text-xs":"text-sm"}`,onClick:()=>c(!o),children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(rD,{className:`text-gray-400 ${i?"w-3 h-3":"w-4 h-4"}`}),u.jsx("input",{ref:_,type:"text",value:d,onChange:E=>h(E.target.value),onFocus:()=>c(!0),placeholder:e.length===0?r:"Add more users...",className:`flex-1 bg-transparent outline-none text-gray-900 dark:text-gray-100 ${i?"text-xs":"text-sm"}`})]}),u.jsx(Rb,{className:`text-gray-400 transition-transform ${o?"rotate-180":""} ${i?"w-3 h-3":"w-4 h-4"}`})]}),o&&u.jsxs("div",{className:`absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg z-50 max-h-60 overflow-y-auto ${i?"text-xs":"text-sm"}`,children:[v&&u.jsx("div",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"Loading users..."}),x&&u.jsx("div",{className:"p-3 text-center text-red-500",children:x}),!v&&!x&&N.length===0&&u.jsx("div",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:d?"No users found":"No users available"}),!v&&!x&&N.map(E=>{const D=C(E.id),R=E.user_metadata?.full_name||E.user_metadata?.name||E.email?.split("@")[0]||"Unknown User";return u.jsxs("div",{className:`flex items-center gap-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer ${D?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-900 dark:text-gray-100"}`,onClick:()=>T(E),children:[E.user_metadata?.avatar_url?u.jsx("img",{src:E.user_metadata.avatar_url,alt:R,className:`rounded-full ${i?"w-6 h-6":"w-8 h-8"}`}):u.jsx("div",{className:`bg-gray-500 rounded-full flex items-center justify-center text-white font-medium ${i?"w-6 h-6 text-xs":"w-8 h-8 text-sm"}`,children:L(R)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:`font-medium truncate ${i?"text-xs":"text-sm"}`,children:R}),E.email&&u.jsx("div",{className:"text-gray-500 dark:text-gray-400 truncate text-xs",children:E.email})]}),D&&u.jsx("div",{className:"text-blue-500",children:"✓"})]},E.id)})]})]})}function T$({checklist:e,cardAssignedMembers:t=[],availableLabels:r=[],onChecklistUpdate:n,onChecklistDelete:i,onItemToggle:o,onItemUpdate:c,onItemAdd:d,onItemDelete:h,onItemAssign:m,onItemDueDateSet:g,onItemStartDateSet:v,onItemLabelAdd:b,onItemLabelRemove:x}){const[S,w]=k.useState(!1),[_,N]=k.useState(!1),[C,T]=k.useState(e.title||""),[A,L]=k.useState(""),[E,D]=k.useState(!1),[R,q]=k.useState(null),[B,U]=k.useState(""),[K,V]=k.useState(null),te=k.useRef(null),ge=k.useRef(null),P=k.useRef(null),W=k.useRef(null),J=e.checklist_items||[],me=J.filter(ae=>ae.done).length,oe=J.length,M=oe>0?me/oe*100:0;k.useEffect(()=>{const ae=le=>{W.current&&!W.current.contains(le.target)&&V(null)};return document.addEventListener("mousedown",ae),()=>document.removeEventListener("mousedown",ae)},[]),k.useEffect(()=>{_&&te.current&&(te.current.focus(),te.current.select())},[_]),k.useEffect(()=>{E&&ge.current&&ge.current.focus()},[E]),k.useEffect(()=>{R&&P.current&&(P.current.focus(),P.current.select())},[R]);const H=()=>{C.trim()!==e.title&&n({...e,title:C.trim()}),N(!1)},se=()=>{A.trim()&&(d(e.id,A.trim()),L(""),D(!1))},fe=ae=>{q(ae.id),U(ae.text||""),V(null)},be=()=>{R&&B.trim()&&c(R,{text:B.trim()}),q(null),U("")},xe=ae=>{switch(ae){case"high":return"text-red-500 bg-red-50";case"medium":return"text-yellow-500 bg-yellow-50";case"low":return"text-green-500 bg-green-50";default:return"text-gray-500 bg-gray-50"}},Oe=ae=>{switch(ae){case"high":return"🔴";case"medium":return"🟡";case"low":return"🟢";default:return""}},Le=ae=>ae?new Date(ae)<new Date&&!J.find(le=>le.due_date===ae)?.done:!1;return u.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800 overflow-hidden",children:[u.jsx("div",{className:"p-3 bg-white dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx("button",{onClick:()=>w(!S),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:S?u.jsx(VT,{className:"w-4 h-4 text-gray-500"}):u.jsx(Rb,{className:"w-4 h-4 text-gray-500"})}),u.jsx(yc,{className:"w-4 h-4 text-gray-500"}),_?u.jsx("input",{ref:te,value:C,onChange:ae=>T(ae.target.value),onBlur:H,onKeyDown:ae=>{ae.key==="Enter"&&H(),ae.key==="Escape"&&(T(e.title||""),N(!1))},className:"flex-1 px-2 py-1 text-sm font-medium bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded"}):u.jsx("button",{onClick:()=>N(!0),className:"flex-1 text-left text-sm font-medium text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400",children:e.title||"Untitled Checklist"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[u.jsxs("span",{children:[me,"/",oe]}),u.jsx("div",{className:"w-16 h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${M}%`}})})]}),u.jsx("button",{onClick:()=>i(e.id),className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",title:"Delete checklist",children:u.jsx(za,{className:"w-4 h-4"})})]})]})}),!S&&u.jsxs("div",{className:"p-3 space-y-2",children:[J.map(ae=>u.jsxs("div",{className:`group flex items-start gap-3 p-2 rounded-md hover:bg-white dark:hover:bg-gray-700 ${ae.done?"opacity-60":""}`,children:[u.jsx("button",{onClick:()=>o(ae.id),className:`mt-0.5 w-4 h-4 rounded border-2 flex items-center justify-center transition-colors ${ae.done?"bg-green-500 border-green-500 text-white":"border-gray-300 dark:border-gray-500 hover:border-green-400"}`,children:ae.done&&u.jsx($a,{className:"w-3 h-3"})}),u.jsx("div",{className:"flex-1 min-w-0",children:R===ae.id?u.jsx("input",{ref:P,value:B,onChange:le=>U(le.target.value),onBlur:be,onKeyDown:le=>{le.key==="Enter"&&be(),le.key==="Escape"&&(q(null),U(""))},className:"w-full px-2 py-1 text-sm bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded"}):u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:`text-sm ${ae.done?"line-through text-gray-500":"text-gray-900 dark:text-gray-100"}`,children:ae.text||""}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[ae.priority&&u.jsxs("span",{className:`px-1.5 py-0.5 rounded-full text-xs ${xe(ae.priority)}`,children:[Oe(ae.priority)," ",ae.priority]}),ae.assigned_member_name&&u.jsxs("span",{className:"px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full",children:["👤 ",ae.assigned_member_name]}),ae.start_date&&u.jsxs("span",{className:"px-1.5 py-0.5 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded-full",children:["🟢 ",new Date(ae.start_date).toLocaleDateString()]}),ae.due_date&&u.jsxs("span",{className:`px-1.5 py-0.5 rounded-full ${Le(ae.due_date)?"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:["📅 ",new Date(ae.due_date).toLocaleDateString()]}),ae.labels&&ae.labels.length>0&&u.jsx("div",{className:"flex flex-wrap gap-1",children:ae.labels.map(le=>u.jsx("span",{className:"px-1.5 py-0.5 rounded-full text-xs text-white",style:{backgroundColor:le.color},children:le.name},le.id))})]})]})}),u.jsxs("div",{className:"relative",ref:W,children:[u.jsx("button",{onClick:()=>V(K===ae.id?null:ae.id),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Lb,{className:"w-4 h-4"})}),K===ae.id&&u.jsx("div",{className:"fixed bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-md shadow-lg z-[60] max-h-96 overflow-y-auto min-w-[280px]",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",maxWidth:"90vw",maxHeight:"80vh"},children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"px-3 py-2 border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-600 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Task Options"}),u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-300 truncate",children:['"',ae.text||"Untitled task",'"']})]}),u.jsx("button",{onClick:()=>V(null),className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:u.jsx(Pr,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"p-2 border-t border-gray-200 dark:border-gray-600",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Priority:"}),u.jsx("div",{className:"flex gap-1",children:["high","medium","low",null].map(le=>u.jsx("button",{onClick:()=>{c(ae.id,{priority:le})},className:`px-2 py-1 text-xs rounded ${ae.priority===le?le==="high"?"bg-red-500 text-white":le==="medium"?"bg-yellow-500 text-white":le==="low"?"bg-green-500 text-white":"bg-gray-500 text-white":le==="high"?"bg-red-100 text-red-700 hover:bg-red-200":le==="medium"?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":le==="low"?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:le==="high"?"High":le==="medium"?"Medium":le==="low"?"Low":"None"},le||"none"))})]}),u.jsxs("button",{onClick:()=>fe(ae),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 border-t border-gray-200 dark:border-gray-600",children:[u.jsx(vc,{className:"w-4 h-4"}),"Edit text"]}),u.jsxs("div",{className:"p-2 border-t border-gray-200 dark:border-gray-600",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Start Date:"}),u.jsx("input",{type:"date",value:ae.start_date?ae.start_date.split("T")[0]:"",onChange:le=>{v(ae.id,le.target.value||null)},className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-500 rounded bg-white dark:bg-gray-600 text-gray-900 dark:text-white"}),ae.start_date&&u.jsx("button",{onClick:()=>{v(ae.id,null)},className:"mt-2 text-xs text-red-600 dark:text-red-400 hover:underline",children:"Clear"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Due Date:"}),u.jsx("input",{type:"date",value:ae.due_date?ae.due_date.split("T")[0]:"",onChange:le=>{g(ae.id,le.target.value||null)},className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-500 rounded bg-white dark:bg-gray-600 text-gray-900 dark:text-white"}),ae.due_date&&u.jsx("button",{onClick:()=>{g(ae.id,null)},className:"mt-2 text-xs text-red-600 dark:text-red-400 hover:underline",children:"Clear"})]})]}),u.jsxs("div",{className:"flex gap-1 mt-3",children:[u.jsx("button",{onClick:()=>{const le=new Date().toISOString().split("T")[0];g(ae.id,le)},className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 hover:bg-blue-200 rounded",children:"Today"}),u.jsx("button",{onClick:()=>{const le=new Date;le.setDate(le.getDate()+1),g(ae.id,le.toISOString().split("T")[0])},className:"px-2 py-1 text-xs bg-green-100 text-green-700 hover:bg-green-200 rounded",children:"Tomorrow"}),u.jsx("button",{onClick:()=>{const le=new Date;le.setDate(le.getDate()+7),g(ae.id,le.toISOString().split("T")[0])},className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 hover:bg-purple-200 rounded",children:"Next Week"})]})]}),u.jsxs("button",{onClick:()=>fe(ae),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 border-t border-gray-200 dark:border-gray-600",children:[u.jsx(vc,{className:"w-4 h-4"}),"Edit text"]}),u.jsxs("div",{className:"p-2 border-t border-gray-200 dark:border-gray-600",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Labels:"}),u.jsxs("div",{className:"space-y-2",children:[ae.labels&&ae.labels.length>0&&u.jsx("div",{className:"flex flex-wrap gap-1",children:ae.labels.map(le=>u.jsxs("button",{onClick:()=>x(ae.id,le.id),className:"group px-2 py-1 rounded-full text-xs text-white hover:opacity-80 flex items-center gap-1",style:{backgroundColor:le.color},title:"Click to remove",children:[le.name,u.jsx(Pr,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]},le.id))}),r.length>0&&u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-xs text-gray-400",children:"Add label:"}),u.jsx("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:r.filter(le=>!ae.labels?.some(at=>at.id===le.id)).map(le=>u.jsx("button",{onClick:()=>b(ae.id,le.id),className:"px-2 py-1 rounded-full text-xs text-white hover:opacity-80",style:{backgroundColor:le.color},children:le.name},le.id))})]})]})]}),u.jsxs("div",{className:"p-2 border-t border-gray-200 dark:border-gray-600",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Assign to:"}),u.jsx(qD,{selectedUsers:ae.assigned_to?t.filter(le=>le.id===ae.assigned_to):[],onUsersChange:le=>{le.length>0?m(ae.id,le[0].id):c(ae.id,{assigned_to:null,assigned_member_name:null})},placeholder:"Select member",maxUsers:1,compact:!0})]}),u.jsxs("button",{onClick:()=>{h(ae.id),V(null)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 border-t border-gray-200 dark:border-gray-600",children:[u.jsx(za,{className:"w-4 h-4"}),"Delete item"]})]})})]})]},ae.id)),E?u.jsxs("div",{className:"flex items-center gap-2 p-2",children:[u.jsx("div",{className:"w-4 h-4"})," ",u.jsx("input",{ref:ge,value:A,onChange:ae=>L(ae.target.value),onBlur:()=>{A.trim()||D(!1)},onKeyDown:ae=>{ae.key==="Enter"&&se(),ae.key==="Escape"&&(L(""),D(!1))},placeholder:"Add an item...",className:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded"}),u.jsx("button",{onClick:se,disabled:!A.trim(),className:"p-1 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded disabled:opacity-50",children:u.jsx($a,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>{L(""),D(!1)},className:"p-1 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:u.jsx(Pr,{className:"w-4 h-4"})})]}):u.jsxs("button",{onClick:()=>D(!0),className:"flex items-center gap-2 p-2 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-white dark:hover:bg-gray-700 rounded-md w-full",children:[u.jsx(Hn,{className:"w-4 h-4"}),"Add an item"]})]})]})}function D$({file:e,isOpen:t,onClose:r}){const[n,i]=k.useState(!0),[o,c]=k.useState(!1);if(!t)return null;const d=e.mime.startsWith("image/"),h=e.mime==="application/pdf",m=e.mime.startsWith("video/"),g=e.mime.startsWith("audio/"),v=e.mime.startsWith("text/")||e.mime==="application/json"||e.mime==="application/javascript",b=S=>{S.target===S.currentTarget&&r()},x=()=>d?u.jsx("img",{src:e.url,alt:e.name,className:"max-w-full max-h-full object-contain",onLoad:()=>i(!1),onError:()=>{i(!1),c(!0)}}):h?u.jsx("iframe",{src:e.url,className:"w-full h-full border-0",title:e.name,onLoad:()=>i(!1),onError:()=>{i(!1),c(!0)}}):m?u.jsx("video",{src:e.url,controls:!0,className:"max-w-full max-h-full",onLoadedData:()=>i(!1),onError:()=>{i(!1),c(!0)},children:"Your browser does not support video playback."}):g?u.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[u.jsx("audio",{src:e.url,controls:!0,className:"w-full max-w-md",onLoadedData:()=>i(!1),onError:()=>{i(!1),c(!0)},children:"Your browser does not support audio playback."}),u.jsx("p",{className:"mt-4 text-gray-600 text-center",children:e.name})]}):v?u.jsx("iframe",{src:e.url,className:"w-full h-full border-0 bg-white",title:e.name,onLoad:()=>i(!1),onError:()=>{i(!1),c(!0)}}):u.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:u.jsx(Qq,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.name}),u.jsx("p",{className:"text-gray-600 mb-4",children:"This file type cannot be previewed in the browser."}),u.jsxs("button",{onClick:()=>window.open(e.url,"_blank"),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:[u.jsx(ac,{className:"w-4 h-4"}),"Download File"]})]});return u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[70] p-4",onClick:b,children:u.jsxs("div",{className:"relative bg-white rounded-lg max-w-6xl max-h-[90vh] w-full h-full flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-white rounded-t-lg",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:e.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[e.mime," ",e.size&&`• ${O$(e.size)}`]})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[u.jsxs("button",{onClick:()=>window.open(e.url,"_blank"),className:"flex items-center gap-2 px-3 py-1 text-sm bg-blue-100 text-blue-700 hover:bg-blue-200 rounded",children:[u.jsx(ac,{className:"w-4 h-4"}),"Download"]}),u.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:u.jsx(Pr,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"flex-1 flex items-center justify-center p-4 bg-gray-50",children:[n&&u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"ml-2 text-gray-600",children:"Loading preview..."})]}),o&&u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-lg flex items-center justify-center mb-4 mx-auto",children:u.jsx(Pr,{className:"w-8 h-8 text-red-500"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Preview Error"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to preview this file."}),u.jsxs("button",{onClick:()=>window.open(e.url,"_blank"),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 mx-auto",children:[u.jsx(ac,{className:"w-4 h-4"}),"Download File"]})]}),!n&&!o&&x()]})]})})}function O$(e){if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]}function A$({card:e,isOpen:t,onClose:r,onSave:n}){const[i,o]=k.useState({...e,title:e.title||"",description:e.description||"",date_start:e.date_start||"",date_end:e.date_end||""}),[c,d]=k.useState(e.card_labels?.map(re=>re.label_id)||[]),[h,m]=k.useState([{id:"1",text:"Great progress on this task! The mockups look good.",author:"John Doe",createdAt:"2025-01-05T09:15:00Z"}]),[g,v]=k.useState(""),[b,x]=k.useState("details"),[S,w]=k.useState(!1),[_,N]=k.useState(!1),[C,T]=k.useState(!1),[A,L]=k.useState(!1),[E,D]=k.useState(!1),[R,q]=k.useState(!1),[B,U]=k.useState(!1),[K,V]=k.useState(!1),[te,ge]=k.useState(!1),[P,W]=k.useState(null),[J,me]=k.useState({name:"",email:""}),[oe,M]=k.useState({title:""}),[H,se]=k.useState({start_date:i.date_start||"",end_date:i.date_end||""}),[fe,be]=k.useState({name:"",url:"",file:null}),[xe,Oe]=k.useState({address:e.location_address||"",coordinates:e.location_lat&&e.location_lng?`${e.location_lat}, ${e.location_lng}`:""}),[Le,ae]=k.useState(!1),[le,at]=k.useState([]),Pe=kr(),Xe=Ge({mutationFn:re=>PT(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),et=Ge({mutationFn:re=>FL(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),Ue=Ge({mutationFn:re=>BT(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),ht=Ge({mutationFn:re=>QL(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),Be=Ge({mutationFn:re=>WL(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),dr=Ge({mutationFn:re=>XL(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),Wt=ct({queryKey:["boards",e.workspace_id],queryFn:()=>ha(e.workspace_id),enabled:t}),bt=Ge({mutationFn:({targetBoardId:re})=>Cb(e.id,re),onSuccess:()=>{Pe.invalidateQueries({queryKey:["cards"]}),Pe.invalidateQueries({queryKey:["lists"]}),r()},onError:re=>{console.error("Failed to move card:",re),alert("Failed to move card. Please try again.")}}),[mt,gt]=k.useState(!1);k.useEffect(()=>{(async()=>{try{const ve=await nq();at(ve)}catch(ve){console.error("Failed to load available checklist labels:",ve)}})()},[]),k.useEffect(()=>{const re=ve=>{ve.key==="Escape"&&!mt&&r()};if(t)return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[t,mt,r]),k.useEffect(()=>{B&&Oe({address:e.location_address||"",coordinates:e.location_lat&&e.location_lng?`${e.location_lat}, ${e.location_lng}`:""})},[B,e.location_address,e.location_lat,e.location_lng]);const ft=async()=>{try{gt(!0),await n(i),r()}catch(re){console.error("Failed to save card:",re)}finally{gt(!1)}},nt=(re,ve)=>{o({...i,[re]:ve})},yr=()=>{g.trim()&&(m(re=>[...re,{id:Date.now().toString(),text:g.trim(),author:"You",createdAt:new Date().toISOString()}]),v(""))},Ht=re=>{if(re===0)return"0 Bytes";const ve=1024,Re=["Bytes","KB","MB","GB"],Ae=Math.floor(Math.log(re)/Math.log(ve));return parseFloat((re/Math.pow(ve,Ae)).toFixed(2))+" "+Re[Ae]},jt=re=>{re.target===re.currentTarget&&!mt&&r()},Et=re=>{re.preventDefault(),ae(!0)},Br=re=>{re.preventDefault(),ae(!1)},Ir=re=>{re.preventDefault(),ae(!1);const ve=Array.from(re.dataTransfer.files);if(ve.length>0){const Re=ve[0],Ae=URL.createObjectURL(Re);ht.mutate({name:Re.name,url:Ae,mime:Re.type||"application/octet-stream",size:Re.size})}};return t?u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:jt,onDragOver:Et,onDragLeave:Br,onDrop:Ir,children:[u.jsxs("div",{className:`bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden relative
          ${Le?"ring-2 ring-blue-500 ring-opacity-50":""}`,onClick:re=>re.stopPropagation(),children:[Le&&u.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-10 flex items-center justify-center z-10 rounded-lg",children:u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border-2 border-dashed border-blue-500",children:[u.jsx(tD,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),u.jsx("p",{className:"text-blue-600 font-medium",children:"Drop file to upload"})]})}),u.jsxs("div",{className:"sticky top-0 bg-white text-gray-900 border-b px-6 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Card Details"}),u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("button",{onClick:()=>x("details"),className:`px-3 py-1 rounded-md text-sm font-medium ${b==="details"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Details"}),u.jsxs("button",{onClick:()=>x("activity"),className:`px-3 py-1 rounded-md text-sm font-medium ${b==="activity"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:["Activity (",(e.activity?.length||0)+h.length,")"]}),u.jsxs("button",{onClick:()=>x("ai-copy"),className:`flex items-center space-x-1 px-3 py-1 rounded-md text-sm font-medium ${b==="ai-copy"?"bg-purple-100 text-purple-700":"text-gray-500 hover:text-gray-700"}`,children:[u.jsx(ic,{className:"w-3 h-3"}),u.jsx("span",{children:"AI Copy"})]})]})]}),u.jsx("button",{onClick:r,disabled:mt,className:"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:u.jsx(Pr,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-1 p-6",children:b==="details"?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[u.jsx(vc,{className:"w-4 h-4"}),u.jsx("span",{children:"Title"})]}),u.jsx("input",{type:"text",value:i.title,onChange:re=>nt("title",re.target.value),className:"w-full p-3 border rounded-lg font-medium text-lg text-gray-900",placeholder:"Enter card title"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[u.jsx(lf,{className:"w-4 h-4"}),u.jsx("span",{children:"Labels"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.card_labels?.map(re=>{const ve=re.labels;return ve?u.jsxs("div",{className:"px-3 py-1 rounded-full text-sm font-medium text-white flex items-center space-x-2",style:{backgroundColor:ve.color},children:[u.jsx("span",{children:ve.name}),u.jsx("button",{onClick:()=>Ue.mutate(ve.id),className:"hover:bg-black hover:bg-opacity-20 rounded-full p-0.5",children:u.jsx(Pr,{className:"w-3 h-3"})})]},ve.id):null}),(!e.card_labels||e.card_labels.length===0)&&u.jsx("p",{className:"text-gray-500 text-sm",children:'No labels assigned. Click "Labels" in the sidebar to add some.'})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[u.jsx(Ao,{className:"w-4 h-4"}),u.jsx("span",{children:"Description"})]}),u.jsx("textarea",{value:i.description,onChange:re=>nt("description",re.target.value),className:"w-full p-3 border rounded-lg resize-none text-gray-900",rows:4,placeholder:"Add a more detailed description..."})]}),u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[u.jsx(Ro,{className:"w-4 h-4"}),u.jsx("span",{children:"Assigned Members"})]})}),u.jsx(qD,{selectedUsers:e.assigned_members?.map(({assigned_at:re,...ve})=>ve)||[],onUsersChange:re=>{const ve=re.map(Re=>({...Re,assigned_at:new Date().toISOString()}));Xe.mutate({assigned_members:ve})},placeholder:"Assign team members...",maxUsers:10,compact:!1})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[u.jsx(Pa,{className:"w-4 h-4"}),u.jsx("span",{children:"Start Date"})]}),u.jsx("input",{type:"date",value:i.date_start,onChange:re=>nt("date_start",re.target.value),className:"w-full p-3 border rounded-lg text-gray-900"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[u.jsx(Pa,{className:"w-4 h-4"}),u.jsx("span",{children:"Due Date"})]}),u.jsx("input",{type:"date",value:i.date_end,onChange:re=>nt("date_end",re.target.value),className:"w-full p-3 border rounded-lg text-gray-900"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[u.jsx($a,{className:"w-4 h-4"}),u.jsx("span",{children:"Checklists"})]}),u.jsx("button",{onClick:()=>L(!0),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ Add Checklist"})]}),u.jsx("div",{className:"space-y-3",children:e.checklists?.map(re=>u.jsx(T$,{checklist:re,cardAssignedMembers:e.assigned_members||[],availableLabels:le,onChecklistUpdate:ve=>{const Re=e.checklists?.map(Ae=>Ae.id===ve.id?ve:Ae);Xe.mutate({checklists:Re})},onChecklistDelete:ve=>{KL(e.id,ve),Pe.invalidateQueries({queryKey:["cards",e.board_id]})},onItemToggle:ve=>{const Re=e.checklists?.find(Ae=>Ae.checklist_items?.some(st=>st.id===ve));Re&&(YL(e.id,Re.id,ve),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))},onItemUpdate:(ve,Re)=>{const Ae=e.checklists?.map(st=>({...st,checklist_items:st.checklist_items?.map(it=>it.id===ve?{...it,...Re}:it)}));Xe.mutate({checklists:Ae})},onItemAdd:(ve,Re)=>{GL(e.id,ve,Re),Pe.invalidateQueries({queryKey:["cards",e.board_id]})},onItemDelete:ve=>{const Re=e.checklists?.find(Ae=>Ae.checklist_items?.some(st=>st.id===ve));Re&&(VL(e.id,Re.id,ve),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))},onItemAssign:(ve,Re)=>{const Ae=e.checklists?.find(st=>st.checklist_items?.some(it=>it.id===ve));Ae&&(JL(e.id,Ae.id,ve,Re),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))},onItemDueDateSet:(ve,Re)=>{const Ae=e.checklists?.find(st=>st.checklist_items?.some(it=>it.id===ve));Ae&&(ZL(e.id,Ae.id,ve,Re),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))},onItemStartDateSet:(ve,Re)=>{const Ae=e.checklists?.find(st=>st.checklist_items?.some(it=>it.id===ve));Ae&&(eq(e.id,Ae.id,ve,Re),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))},onItemLabelAdd:(ve,Re)=>{const Ae=e.checklists?.find(st=>st.checklist_items?.some(it=>it.id===ve));Ae&&(tq(e.id,Ae.id,ve,Re),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))},onItemLabelRemove:(ve,Re)=>{const Ae=e.checklists?.find(st=>st.checklist_items?.some(it=>it.id===ve));Ae&&(rq(e.id,Ae.id,ve,Re),Pe.invalidateQueries({queryKey:["cards",e.board_id]}))}},re.id))}),(!e.checklists||e.checklists.length===0)&&u.jsx("p",{className:"text-gray-500 text-sm",children:'No checklists yet. Click "Add Checklist" to create one.'})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[u.jsx(sc,{className:"w-4 h-4"}),u.jsxs("span",{children:["Attachments (",e.attachments?.length||0,")"]})]}),u.jsx("button",{onClick:()=>q(!0),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ Add Attachment"})]}),u.jsxs("div",{className:"space-y-2",children:[e.attachments?.map(re=>u.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[u.jsx(sc,{className:"w-4 h-4 text-gray-400"}),u.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>W({id:re.id,name:re.name||"Untitled",url:re.url,mime:re.mime,size:re.size}),children:[u.jsx("div",{className:"font-medium text-sm text-blue-600 hover:text-blue-800",children:re.name}),u.jsxs("div",{className:"text-xs text-gray-500",children:[re.size?Ht(re.size):"Unknown size"," • Added ",new Date(re.created_at).toLocaleDateString()," • Click to preview"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:ve=>{ve.stopPropagation(),W({id:re.id,name:re.name||"Untitled",url:re.url,mime:re.mime,size:re.size})},className:"text-blue-600 hover:text-blue-800 text-sm",children:"Preview"}),u.jsx("button",{onClick:ve=>{ve.stopPropagation(),window.open(re.url,"_blank")},className:"text-green-600 hover:text-green-800 text-sm",children:"Download"}),u.jsx("button",{onClick:ve=>{ve.stopPropagation(),Be.mutate(re.id)},className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]})]},re.id)),(!e.attachments||e.attachments.length===0)&&u.jsx("p",{className:"text-gray-500 text-sm",children:'No attachments. Click "Add Attachment" to upload files.'})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[u.jsx(qd,{className:"w-4 h-4"}),u.jsx("span",{children:"Location"})]}),u.jsx("button",{onClick:()=>U(!0),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:e.location_address?"Edit Location":"+ Add Location"})]}),e.location_address?u.jsx("div",{className:"p-3 border border-gray-200 rounded-lg",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(qd,{className:"w-4 h-4 text-gray-400 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-sm",children:e.location_address}),e.location_lat&&e.location_lng&&u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Coordinates: ",e.location_lat,", ",e.location_lng]})]}),u.jsx("button",{onClick:()=>{Xe.mutate({location_address:null,location_lat:null,location_lng:null})},className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]})}):u.jsx("p",{className:"text-gray-500 text-sm",children:'No location set. Click "Add Location" to set one.'})]})]}):b==="activity"?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center space-x-2",children:[u.jsx(Do,{className:"w-5 h-5"}),u.jsx("span",{children:"Activity Log"})]}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:u.jsx(k$,{card:e,showLimit:15,showActorNames:!0,compact:!1})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[u.jsx(rD,{className:"w-4 h-4"}),u.jsx("span",{children:"Add Comment"})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("textarea",{value:g,onChange:re=>v(re.target.value),className:"flex-1 p-3 border rounded-lg resize-none text-gray-900",rows:2,placeholder:"Write a comment..."}),u.jsx("button",{onClick:yr,disabled:!g.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 h-fit",children:"Post"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Comments"}),h.map(re=>u.jsxs("div",{className:"flex space-x-3 p-4 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:re.author.charAt(0)}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("span",{className:"font-medium text-sm",children:re.author}),u.jsx("span",{className:"text-xs text-gray-500",children:new Date(re.createdAt).toLocaleDateString()})]}),u.jsx("p",{className:"text-gray-700",children:re.text})]})]},re.id)),h.length===0&&u.jsx("p",{className:"text-gray-500 text-sm italic",children:"No comments yet. Be the first to comment!"})]})]}):u.jsx(_$,{card:e})}),u.jsxs("div",{className:"w-64 border-l bg-gray-50 text-gray-900 p-4",children:[u.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Actions"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{onClick:()=>w(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx(Ro,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Members"})]}),u.jsxs("button",{onClick:()=>N(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx(lf,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Labels"})]}),u.jsxs("button",{onClick:()=>L(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx($a,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Checklist"})]}),u.jsxs("button",{onClick:()=>D(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx(Pa,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Dates"})]}),u.jsxs("button",{onClick:()=>q(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx(sc,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Attachment"})]}),u.jsxs("button",{onClick:()=>U(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx(qd,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Location"})]}),u.jsx("hr",{className:"my-3"}),u.jsxs("button",{onClick:()=>{const re=document.querySelector("[data-move-section]");re&&re.scrollIntoView({behavior:"smooth"})},className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded",children:[u.jsx(Df,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Move"})]}),u.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify({title:e.title,description:e.description,labels:c,checklist:e.checklists||[],attachments:e.attachments||[],members:e.assigned_members||[]})),ge(!0),setTimeout(()=>ge(!1),2e3)},className:`w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded ${te?"bg-green-50":""}`,children:[u.jsx(ui,{className:`w-4 h-4 ${te?"text-green-600":""}`}),u.jsx("span",{className:`text-sm ${te?"text-green-600":""}`,children:te?"Copied!":"Copy"})]}),u.jsxs("button",{onClick:()=>V(!0),className:"w-full flex items-center space-x-2 p-2 text-left hover:bg-gray-100 rounded text-red-600",children:[u.jsx(Dn,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Archive"})]})]}),u.jsxs("div",{className:"mt-6","data-move-section":!0,children:[u.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Move to Board"}),u.jsx("div",{className:"space-y-2",children:(Wt.data||[]).filter(re=>re.id!==e.board_id).map(re=>u.jsxs("button",{onClick:()=>bt.mutate({targetBoardId:re.id}),disabled:bt.isPending||mt,className:"w-full text-left p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-300 transition-colors disabled:opacity-50",children:[u.jsx("div",{className:"font-medium text-xs",children:re.name}),bt.isPending&&u.jsx("div",{className:"text-xs text-blue-600",children:"Moving..."})]},re.id))})]})]})]}),S&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Member"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),u.jsx("input",{type:"text",value:J.name,onChange:re=>me({...J,name:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter member name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Optional)"}),u.jsx("input",{type:"email",value:J.email,onChange:re=>me({...J,email:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter member email"})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>{J.name.trim()&&(dr.mutate({name:J.name.trim(),email:J.email.trim()||void 0}),me({name:"",email:""}),w(!1))},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Add Member"}),u.jsx("button",{onClick:()=>{me({name:"",email:""}),w(!1)},className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})}),u.jsx(E$,{isOpen:_,onClose:()=>N(!1),cardId:e.id,selectedLabelIds:e.card_labels?.map(re=>re.label_id)||[],onLabelsChange:re=>{d(re),Pe.invalidateQueries({queryKey:["cards",e.board_id]})}}),u.jsx(C$,{isOpen:C,onClose:()=>T(!1),onLabelCreated:re=>{et.mutate({name:re.name,color:re.color})}}),A&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Checklist"}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Checklist Title"}),u.jsx("input",{type:"text",value:oe.title,onChange:re=>M({...oe,title:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter checklist title"})]})}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>{oe.title.trim()&&(HL(e.id,oe.title).then(()=>{Pe.invalidateQueries({queryKey:["cards",e.board_id]})}),M({title:""}),L(!1))},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Add Checklist"}),u.jsx("button",{onClick:()=>{M({title:""}),L(!1)},className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})}),E&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Set Dates"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),u.jsx("input",{type:"date",value:H.start_date,onChange:re=>se({...H,start_date:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),u.jsx("input",{type:"date",value:H.end_date,onChange:re=>se({...H,end_date:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>{Xe.mutate({date_start:H.start_date||null,date_end:H.end_date||null}),D(!1)},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Set Dates"}),u.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})}),R&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Attachment"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"File Name"}),u.jsx("input",{type:"text",value:fe.name,onChange:re=>be({...fe,name:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter file name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"File URL"}),u.jsx("input",{type:"url",value:fe.url,onChange:re=>be({...fe,url:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter file URL"})]}),u.jsxs("div",{className:"text-sm text-gray-500",children:["Or upload a file:",u.jsx("input",{type:"file",onChange:re=>{const ve=re.target.files?.[0];ve&&be({name:ve.name,url:URL.createObjectURL(ve),file:ve})},className:"w-full mt-1 p-2 border border-gray-300 rounded-md"})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>{if(fe.name&&fe.url){const re=fe.file?.size||0,ve=fe.file?.type||"application/octet-stream";ht.mutate({name:fe.name,url:fe.url,mime:ve,size:re}),be({name:"",url:"",file:null}),q(!1)}},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Add Attachment"}),u.jsx("button",{onClick:()=>{be({name:"",url:"",file:null}),q(!1)},className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})}),B&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:e.location_address?"Edit Location":"Add Location"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),u.jsx("input",{type:"text",value:xe.address,onChange:re=>Oe({...xe,address:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter address or location"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coordinates (Optional)"}),u.jsx("input",{type:"text",value:xe.coordinates,onChange:re=>Oe({...xe,coordinates:re.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"lat, lng (e.g., 40.7128, -74.0060)"})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>{if(xe.address.trim()){let re=null,ve=null;if(xe.coordinates.trim()){const Re=xe.coordinates.split(",").map(Ae=>parseFloat(Ae.trim()));Re.length===2&&!isNaN(Re[0])&&!isNaN(Re[1])&&(re=Re[0],ve=Re[1])}Xe.mutate({location_address:xe.address.trim(),location_lat:re,location_lng:ve}),Oe({address:"",coordinates:""}),U(!1)}},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:e.location_address?"Update Location":"Add Location"}),u.jsx("button",{onClick:()=>{Oe({address:"",coordinates:""}),U(!1)},className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})}),K&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-red-600",children:"Archive Card"}),u.jsxs("p",{className:"text-gray-700 mb-6",children:['Are you sure you want to archive "',e.title,'"? You can restore it later from the archive.']}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>{Xe.mutate({archived:!0}),V(!1),r()},className:"flex-1 bg-red-500 text-white py-2 px-4 rounded-md hover:bg-red-600",children:"Archive Card"}),u.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})}),u.jsxs("div",{className:"sticky bottom-0 bg-white text-gray-900 border-t px-6 py-4 flex space-x-3",children:[u.jsx("button",{onClick:ft,disabled:mt,className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:mt?"Saving...":"Save Changes"}),u.jsx("button",{onClick:r,disabled:mt,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"})]})]}),P&&u.jsx(D$,{isOpen:!!P,file:P,onClose:()=>W(null)})]}):null}function R$({card:e}){const[t,r]=I.useState(!1),[n,i]=k.useState(!1),o=k.useRef(null);k.useEffect(()=>{const N=C=>{o.current&&!o.current.contains(C.target)&&r(!1)};if(t)return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[t]);const{attributes:c,listeners:d,setNodeRef:h,transform:m,transition:g,isDragging:v}=zf({id:e.id,data:{type:"card",cardId:e.id,listId:e.list_id}}),b={transform:Gn.Transform.toString(m),transition:g},x=()=>{if(t){r(!1);return}i(!0)},S=async N=>{try{await PT(e.id,N)}catch(C){console.error("Failed to update card:",C)}},w=N=>{N.preventDefault(),N.stopPropagation(),r(!t)},_=!!(e.date_end&&new Date(e.date_end)<new Date);return u.jsxs("div",{ref:h,style:b,className:`group bg-white dark:bg-gray-700 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 cursor-pointer hover:shadow-md transition-shadow relative ${v?"opacity-50":""} ${_?"border-l-4 border-l-red-500":""}`,onClick:x,...c,...d,children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsx("div",{className:"font-medium text-gray-900 dark:text-white flex-1 pr-2",children:e.title}),u.jsxs("div",{className:"flex items-center gap-1",children:[e.assigned_members&&e.assigned_members.length>0&&u.jsxs("div",{className:"flex -space-x-1",children:[e.assigned_members.slice(0,3).map(N=>u.jsx("div",{className:"relative group",title:N.name,children:N.avatar?u.jsx("img",{src:N.avatar,alt:N.name,className:"w-6 h-6 rounded-full border-2 border-white dark:border-gray-700"}):u.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full border-2 border-white dark:border-gray-700 flex items-center justify-center text-white text-xs font-medium",children:N.name.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2)})},N.id)),e.assigned_members.length>3&&u.jsxs("div",{className:"w-6 h-6 bg-gray-400 rounded-full border-2 border-white dark:border-gray-700 flex items-center justify-center text-white text-xs font-medium",children:["+",e.assigned_members.length-3]})]}),u.jsx("button",{className:"context-menu-button p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-600 opacity-0 group-hover:opacity-100 transition-opacity ml-1",onClick:w,onMouseDown:N=>N.stopPropagation(),children:u.jsx(Lb,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]})]}),e.description&&typeof e.description=="string"&&e.description.trim()&&u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:e.description}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[e.card_labels&&e.card_labels.length>0&&u.jsx("div",{className:"flex gap-1",children:e.card_labels.slice(0,3).map((N,C)=>u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:N.labels?.color||"#gray"}},C))}),e.attachments&&e.attachments.length>0&&u.jsxs("span",{children:["📎 ",e.attachments.length]}),e.comments&&e.comments.length>0&&u.jsxs("span",{children:["💬 ",e.comments.length]})]}),e.date_end&&u.jsx("div",{className:`text-xs px-2 py-1 rounded ${_?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"}`,children:new Date(e.date_end).toLocaleDateString()})]}),t&&u.jsx("div",{ref:o,children:u.jsx(y$,{card:e,isOpen:t,onClose:()=>r(!1),onEdit:()=>i(!0)})}),u.jsx(A$,{card:e,isOpen:n,onClose:()=>i(!1),onSave:S})]})}function M$({list:e,onClose:t,isOpen:r}){const n=kr(),{user:i}=fa(),o=ct({queryKey:["boards",i?.id],queryFn:()=>i?.id?ha(i.id):Promise.resolve([]),enabled:r&&!!i?.id}),c=Ge({mutationFn:({targetBoardId:x})=>MD(e.id,x),onSuccess:()=>{n.invalidateQueries({queryKey:["lists"]}),n.invalidateQueries({queryKey:["cards"]}),t()},onError:x=>{console.error("Failed to move list:",x)}}),d=Ge({mutationFn:()=>LD(e.id),onSuccess:()=>{n.invalidateQueries({queryKey:["lists",e.board_id]}),t()},onError:x=>{console.error("Failed to delete list:",x)}}),h=o.data||[],g=h.find(x=>x.id===e.board_id)?.name==="Archive",v=h.find(x=>x.name==="Archive"),b=h.filter(x=>x.id!==e.board_id);return r?u.jsxs("div",{className:"absolute right-0 top-6 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 py-2 min-w-48",children:[u.jsxs("button",{onClick:()=>{console.log("Edit list:",e.name),t()},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[u.jsx(gi,{className:"w-4 h-4"}),"Rename List"]}),b.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),u.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Move to Board"}),b.map(x=>u.jsxs("button",{onClick:()=>c.mutate({targetBoardId:x.id}),disabled:c.isPending,className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[u.jsx(Df,{className:"w-4 h-4"}),x.name]},x.id))]}),!g&&v&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),u.jsxs("button",{onClick:()=>c.mutate({targetBoardId:v.id}),disabled:c.isPending,className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[u.jsx(Dn,{className:"w-4 h-4"}),"Archive List"]})]}),g&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),u.jsxs("button",{onClick:()=>d.mutate(),disabled:d.isPending,className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[u.jsx(za,{className:"w-4 h-4"}),"Delete Permanently"]})]})]}):null}function L$({title:e,listId:t,cards:r,highlighted:n,dragListeners:i,onUpdateList:o,onCreateCard:c,onDeleteList:d,onMoveCardToBoard:h,onMoveListToBoard:m,boards:g,currentBoardId:v}){const{boardId:b}=Fa(),x=kr(),[S,w]=I.useState(!1),[_,N]=I.useState(""),[C,T]=I.useState(!1),[A,L]=I.useState(!1),[E,D]=I.useState(e),{setNodeRef:R}=ED({id:t,data:{type:"list",listId:t}}),q=Ge({mutationFn:async P=>{if(c){c(t,P);return}await UT(t,P)},onSuccess:()=>{x.invalidateQueries({queryKey:["cards",b]}),w(!1),N("")},onError:P=>{console.error("Failed to create card:",P)}}),B=()=>{_.trim()&&q.mutate(_.trim())},U=P=>{P.key==="Enter"?B():P.key==="Escape"&&(w(!1),N(""))},K=()=>{E.trim()&&E.trim()!==e&&o&&o(t,{name:E.trim()}),L(!1)},V=P=>{P.key==="Enter"?K():P.key==="Escape"&&(D(e),L(!1))},te=()=>{L(!0),D(e)},ge=P=>{P.preventDefault(),P.stopPropagation(),T(!C)};return u.jsxs("div",{className:`w-80 bg-gray-100 dark:bg-gray-800 rounded-md border ${n?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 dark:border-gray-700"} flex flex-col group`,children:[u.jsxs("div",{className:"font-medium mb-2 p-3 flex items-center justify-between cursor-grab relative",...i,children:[A?u.jsx("input",{type:"text",value:E,onChange:P=>D(P.target.value),onBlur:K,onKeyDown:V,className:"flex-1 bg-transparent border-none outline-none text-gray-900 dark:text-white",autoFocus:!0}):u.jsx("div",{className:"text-left flex-1 text-gray-900 dark:text-white",onDoubleClick:te,children:e}),u.jsx("button",{className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 opacity-0 group-hover:opacity-100 transition-opacity",onClick:ge,onMouseDown:P=>P.stopPropagation(),children:u.jsx(Lb,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}),C&&u.jsx(M$,{list:{id:t,board_id:b||"",name:e,position:0},onClose:()=>T(!1),isOpen:C})]}),u.jsxs("div",{ref:R,className:"flex-1 px-3 pb-3 min-h-[1px]",children:[u.jsx($f,{items:r.map(P=>P.id),strategy:Qb,children:u.jsx("div",{className:"space-y-2",children:r.map(P=>u.jsx(R$,{card:P},P.id))})}),S?u.jsxs("div",{className:"mt-2",children:[u.jsx("input",{type:"text",value:_,onChange:P=>N(P.target.value),onKeyDown:U,onBlur:()=>{_.trim()||(w(!1),N(""))},placeholder:"Enter card title",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("button",{onClick:B,disabled:!_.trim()||q.isPending,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:q.isPending?"Adding...":"Add card"}),u.jsx("button",{onClick:()=>{w(!1),N("")},className:"px-3 py-1 text-gray-600 dark:text-gray-400 text-sm hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"})]})]}):u.jsxs("button",{onClick:()=>w(!0),className:"w-full mt-2 p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded flex items-center gap-2",children:[u.jsx(Hn,{className:"w-4 h-4"}),"Add a card"]})]})]})}function q$({list:e,cards:t,highlighted:r,onUpdateList:n,onCreateCard:i,onDeleteList:o,onMoveCardToBoard:c,onMoveListToBoard:d,boards:h,currentBoardId:m}){const{attributes:g,listeners:v,setNodeRef:b,transform:x,transition:S,isDragging:w}=zf({id:e.id,data:{type:"list",listId:e.id}}),_={transform:Gn.Transform.toString(x),transition:S};return u.jsx("div",{ref:b,style:_,className:`flex-shrink-0 ${w?"opacity-50":""}`,...g,children:u.jsx(L$,{title:e.name,listId:e.id,list:e,cards:t,highlighted:r,dragListeners:v,onUpdateList:n,onCreateCard:i,onDeleteList:o,onMoveCardToBoard:c,onMoveListToBoard:d,boards:h,currentBoardId:m})})}function U$(){const{boardId:e}=Fa(),{user:t}=fa(),r=ct({queryKey:["lists",e],queryFn:()=>Bf(e),enabled:!!e}),n=ct({queryKey:["cards",e],queryFn:()=>Ei(e),enabled:!!e}),i=ct({queryKey:["boards",t?.id],queryFn:()=>t?.id?ha(t.id):Promise.resolve([]),enabled:!!t?.id}),o=kr(),c=Fb(hf(Hc,{activationConstraint:{distance:5}})),[d,h]=I.useState(!1),[m,g]=I.useState(null),[v,b]=I.useState(null),[x,S]=I.useState(!1),[w,_]=I.useState(""),C=n.data??[],T=Ge({mutationFn:M=>p$(e,M),onSuccess:()=>{o.invalidateQueries({queryKey:["lists",e]}),S(!1),_("")},onError:M=>{console.error("Failed to create list:",M)}}),A=Ge({mutationFn:({id:M,data:H})=>H.name!==void 0?v$(M,H.name):H.position!==void 0?eN(M,H.position):Promise.resolve(),onSuccess:()=>{o.invalidateQueries({queryKey:["lists",e]})},onError:M=>{console.error("Failed to update list:",M)}}),L=Ge({mutationFn:M=>LD(M),onSuccess:()=>{o.invalidateQueries({queryKey:["lists",e]}),o.invalidateQueries({queryKey:["cards",e]})},onError:M=>{console.error("Failed to delete list:",M)}}),E=Ge({mutationFn:({listId:M,title:H})=>UT(M,H),onSuccess:()=>{o.invalidateQueries({queryKey:["cards",e]})},onError:M=>{console.error("Failed to create card:",M)}}),D=Ge({mutationFn:({cardId:M,targetBoardId:H,targetListId:se})=>Cb(M,H,se),onSuccess:()=>{o.invalidateQueries({queryKey:["cards",e]}),o.invalidateQueries({queryKey:["boards",t?.id]}),o.invalidateQueries({queryKey:["lists"]}),o.invalidateQueries({queryKey:["cards"]})},onError:M=>{console.error("Failed to move card:",M)}}),R=Ge({mutationFn:({listId:M,targetBoardId:H})=>MD(M,H),onSuccess:()=>{o.invalidateQueries({queryKey:["lists",e]}),o.invalidateQueries({queryKey:["boards",t?.id]}),o.invalidateQueries({queryKey:["lists"]}),o.invalidateQueries({queryKey:["cards"]})},onError:M=>{console.error("Failed to move list:",M)}});if(I.useEffect(()=>{const M=H=>h(!!H.detail);return window.addEventListener("card-modal-toggle",M),()=>window.removeEventListener("card-modal-toggle",M)},[]),I.useEffect(()=>{d&&(g(null),b(null))},[d]),I.useEffect(()=>{if(!e)return;const H=MT().channel(`board-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"lists",filter:`board_id=eq.${e}`},()=>o.invalidateQueries({queryKey:["lists",e]})).on("postgres_changes",{event:"*",schema:"public",table:"cards",filter:`board_id=eq.${e}`},()=>o.invalidateQueries({queryKey:["cards",e]})).subscribe();return()=>{H.unsubscribe()}},[e,o]),r.isLoading||n.isLoading)return u.jsx("div",{className:"p-4 text-gray-500 dark:text-gray-400",children:"Loading board…"});if(r.error||n.error)return u.jsx("div",{className:"p-4 text-red-500",children:"Failed to load board."});const q=r.data??[],B=(M,H,se)=>{D.mutate({cardId:M,targetBoardId:H,targetListId:se})},U=(M,H)=>{R.mutate({listId:M,targetBoardId:H})},K=M=>{const H=M.active.data.current?.type;H&&g({type:H,id:String(M.active.id)})},V=()=>{},te=()=>{w.trim()&&T.mutate(w.trim())},ge=M=>{M.key==="Enter"?te():M.key==="Escape"&&(S(!1),_(""))},P=(M,H)=>{A.mutate({id:M,data:H})},W=(M,H)=>{E.mutate({listId:M,title:H})},J=M=>{L.mutate(M)},me=async M=>{const{active:H,over:se}=M;if(!se||H.id===se.id)return;const fe=H.data.current,be=se.data.current,xe=fe?.type;if(xe==="card"){const Oe=fe?.listId;let Le=be?.listId;if(!Le&&be?.cardId&&(Le=be.listId),!Le||!Oe)return;const le=(o.getQueryData(["cards",e])??[]).filter(ht=>ht.list_id===Le),at=le.findIndex(ht=>ht.id===se.id),Pe=be?.type==="card"&&at!==-1?at:le.length,Xe=le[Pe-1]?.position??0,et=le[Pe]?.position??Xe+2e3,Ue=(Xe+et)/2;try{await BL(String(H.id),Le,Ue),await o.invalidateQueries({queryKey:["cards",e]})}catch(ht){console.error("Failed to move card:",ht)}}else if(xe==="list"){const Oe=o.getQueryData(["lists",e])??[],Le=Oe.findIndex(Xe=>Xe.id===H.id),ae=Oe.findIndex(Xe=>Xe.id===se.id);if(ae===-1||Le===-1||ae===Le)return;const le=[...Oe],[at]=le.splice(Le,1);le.splice(ae,0,at);const Pe=le.map((Xe,et)=>{const Ue=(et+1)*1e3;return Xe.position!==Ue?eN(Xe.id,Ue):Promise.resolve()});try{await Promise.all(Pe),await o.invalidateQueries({queryKey:["lists",e]})}catch(Xe){console.error("Failed to reorder lists:",Xe)}}},oe=()=>{g(null),b(null)};return u.jsx("div",{className:"h-full w-full overflow-x-auto overflow-y-hidden",children:u.jsxs(Vb,{sensors:c,onDragStart:K,onDragOver:V,onDragEnd:me,onDragCancel:oe,children:[u.jsx($f,{items:q.map(M=>M.id),strategy:GP,children:u.jsxs("div",{className:`flex gap-4 min-w-max items-start p-4 h-full ${d?"pointer-events-none select-none":""}`,children:[q.map(M=>u.jsx(q$,{list:M,cards:C.filter(H=>H.list_id===M.id),highlighted:v===M.id,onUpdateList:P,onCreateCard:W,onDeleteList:J,onMoveCardToBoard:B,onMoveListToBoard:U,boards:i.data||[],currentBoardId:e},M.id)),x?u.jsxs("div",{className:"w-80 bg-gray-100 dark:bg-gray-800 rounded-md border border-gray-300 dark:border-gray-600 p-3",children:[u.jsx("input",{type:"text",value:w,onChange:M=>_(M.target.value),onKeyDown:ge,onBlur:()=>{w.trim()||(S(!1),_(""))},placeholder:"Enter list title",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("button",{onClick:te,disabled:!w.trim()||T.isPending,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:T.isPending?"Adding...":"Add list"}),u.jsx("button",{onClick:()=>{S(!1),_("")},className:"px-3 py-1 text-gray-600 dark:text-gray-400 text-sm hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"})]})]}):u.jsxs("button",{onClick:()=>S(!0),className:"w-80 bg-gray-50 dark:bg-gray-900 rounded-md border-2 border-dashed border-gray-300 dark:border-gray-600 p-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500 flex items-center justify-center gap-2",children:[u.jsx(Hn,{className:"w-4 h-4"}),"Add another list"]})]})}),u.jsx(IP,{children:m?.type==="card"?u.jsx("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 rotate-3 transform",children:u.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Moving card..."})}):m?.type==="list"?u.jsx("div",{className:"w-80 bg-gray-100 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700 p-3 rotate-3 transform",children:u.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Moving list..."})}):null})]})})}function P$(){return u.jsx("div",{className:"h-full overflow-auto",children:u.jsx(U$,{})})}function $$(){const{boardId:e}=Fa(),{data:t,isLoading:r}=ct({queryKey:["board",e],queryFn:()=>$b(e),enabled:!!e}),{data:n=[],isLoading:i}=ct({queryKey:["lists",e],queryFn:()=>Bf(e),enabled:!!e}),{data:o=[],isLoading:c}=ct({queryKey:["cards",e],queryFn:()=>Ei(e),enabled:!!e});if(r||i||c)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading table view..."})});const d=o.reduce((m,g)=>(m[g.list_id]||(m[g.list_id]=[]),m[g.list_id].push(g),m),{}),h=[];return n.forEach(m=>{h.push({listName:m.name,isListHeader:!0});const g=d[m.id]||[];g.forEach(v=>{h.push({listName:m.name,card:v})}),g.length===0&&h.push({listName:m.name})}),u.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900",children:[u.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t?.name," - Table View"]}),u.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:[o.length," cards across ",n.length," lists"]})]}),u.jsx("div",{className:"flex-1 overflow-auto p-4",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"List"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Card Title"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Description"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Due Date"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Labels"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Created"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:h.map((m,g)=>u.jsxs("tr",{className:`${m.isListHeader?"bg-gray-50 dark:bg-gray-700":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[u.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:m.isListHeader?u.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["📋 ",m.listName]}):u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.listName})}),u.jsx("td",{className:"px-4 py-3",children:m.card?u.jsx("div",{className:"text-sm text-gray-900 dark:text-white font-medium",children:m.card.title}):m.isListHeader?u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:"List Section"}):u.jsx("span",{className:"text-xs text-gray-400 italic",children:"No cards"})}),u.jsx("td",{className:"px-4 py-3",children:m.card?.description&&u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 max-w-xs truncate",children:String(m.card.description)})}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:m.card?.date_end&&u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:new Date(m.card.date_end).toLocaleDateString()})}),u.jsx("td",{className:"px-4 py-3",children:m.card?.card_labels&&u.jsx("div",{className:"flex flex-wrap gap-1",children:m.card.card_labels.filter(v=>v.labels).map((v,b)=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:v.labels.color+"20",color:v.labels.color,border:`1px solid ${v.labels.color}40`},children:v.labels.name},b))})}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:m.card?.created_at&&u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(m.card.created_at).toLocaleDateString()})})]},g))})]})})})]})}function Ba(e){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(e)}function z$(e,t){if(Ba(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ba(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UD(e){var t=z$(e,"string");return Ba(t)=="symbol"?t:t+""}function ii(e,t,r){return(t=UD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){ii(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function If(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ua(e,t){if(e==null)return{};var r,n,i=If(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UD(n.key),n)}}function ur(e,t,r){return t&&nN(e.prototype,t),r&&nN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pf(e){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pf(e)}function PD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PD=function(){return!!e})()}function B$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I$(e,t){if(t&&(Ba(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B$(e)}function Ar(e,t,r){return t=pf(t),I$(e,PD()?Reflect.construct(t,r||[],pf(e).constructor):t.apply(e,r))}function vf(e,t){return vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},vf(e,t)}function Rr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vf(e,t)}function $D(e){if(Array.isArray(e))return e}function F$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,c,d=[],h=!0,m=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(h=(n=o.call(r)).done)&&(d.push(n.value),d.length!==t);h=!0);}catch(g){m=!0,i=g}finally{try{if(!h&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw i}}return d}}function X0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Wb(e,t){if(e){if(typeof e=="string")return X0(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X0(e,t):void 0}}function zD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pi(e,t){return $D(e)||F$(e,t)||Wb(e,t)||zD()}function BD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=BD(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Ft(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=BD(e))&&(n&&(n+=" "),n+=t);return n}function Bt(){return Bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bt.apply(null,arguments)}var Bg,aN;function H$(){if(aN)return Bg;aN=1;var e=function(t,r,n,i,o,c,d,h){if(!t){var m;if(r===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[n,i,o,c,d,h],v=0;m=new Error(r.replace(/%s/g,function(){return g[v++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return Bg=e,Bg}var K$=H$();const _c=$r(K$);var G$=function(){};function Y$(e,t){var r={};return Object.keys(e).forEach(function(n){r[Pd(n)]=G$}),r}function sN(e,t){return e[t]!==void 0}function Pd(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function V$(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function Q$(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vf(e,t)}function ID(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function FD(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function HD(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}ID.__suppressDeprecationWarning=!0;FD.__suppressDeprecationWarning=!0;HD.__suppressDeprecationWarning=!0;function W$(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var o=e.displayName||e.name,c=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+c+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=ID,t.componentWillReceiveProps=FD),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=HD;var d=t.componentDidUpdate;t.componentDidUpdate=function(m,g,v){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:v;d.call(this,m,g,b)}}return e}var X$="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function KD(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",i=V$(e),o=Object.keys(t),c=o.map(Pd);i||!r.length||_c(!1);var d=(function(m){Q$(g,m);function g(){for(var b,x=arguments.length,S=new Array(x),w=0;w<x;w++)S[w]=arguments[w];b=m.call.apply(m,[this].concat(S))||this,b.handlers=Object.create(null),o.forEach(function(N){var C=t[N],T=function(L){if(b.props[C]){var E;b._notifying=!0;for(var D=arguments.length,R=new Array(D>1?D-1:0),q=1;q<D;q++)R[q-1]=arguments[q];(E=b.props)[C].apply(E,[L].concat(R)),b._notifying=!1}b.unmounted||b.setState(function(B){var U,K=B.values;return{values:Bt(Object.create(null),K,(U={},U[N]=L,U))}})};b.handlers[C]=T}),r.length&&(b.attachRef=function(N){b.inner=N});var _=Object.create(null);return o.forEach(function(N){_[N]=b.props[Pd(N)]}),b.state={values:_,prevProps:{}},b}var v=g.prototype;return v.shouldComponentUpdate=function(){return!this._notifying},g.getDerivedStateFromProps=function(x,S){var w=S.values,_=S.prevProps,N={values:Bt(Object.create(null),w),prevProps:{}};return o.forEach(function(C){N.prevProps[C]=x[C],!sN(x,C)&&sN(_,C)&&(N.values[C]=x[Pd(C)])}),N},v.componentWillUnmount=function(){this.unmounted=!0},v.render=function(){var x=this,S=this.props,w=S.innerRef,_=If(S,["innerRef"]);c.forEach(function(C){delete _[C]});var N={};return o.forEach(function(C){var T=x.props[C];N[C]=T!==void 0?T:x.state.values[C]}),I.createElement(e,Bt({},_,N,this.handlers,{ref:w||this.attachRef}))},g})(I.Component);W$(d),d.displayName="Uncontrolled("+n+")",d.propTypes=Bt({innerRef:function(){}},Y$(t)),r.forEach(function(m){d.prototype[m]=function(){var v;return(v=this.inner)[m].apply(v,arguments)}});var h=d;return I.forwardRef&&(h=I.forwardRef(function(m,g){return I.createElement(d,Bt({},m,{innerRef:g,__source:{fileName:X$,lineNumber:128},__self:this}))}),h.propTypes=d.propTypes),h.ControlledComponent=e,h.deferControlTo=function(m,g,v){return g===void 0&&(g={}),KD(m,Bt({},t,g),v)},h}var Ig={exports:{}},Fg,iN;function J$(){if(iN)return Fg;iN=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fg=e,Fg}var Hg,oN;function Z$(){if(oN)return Hg;oN=1;var e=J$();function t(){}function r(){}return r.resetWarningCache=t,Hg=function(){function n(c,d,h,m,g,v){if(v!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},Hg}var lN;function ez(){return lN||(lN=1,Ig.exports=Z$()()),Ig.exports}var tz=ez();const ye=$r(tz);var yf="milliseconds",Sc="seconds",jc="minutes",Nc="hours",vi="day",Mo="week",kc="month",yi="year",bi="decade",xi="century",GD={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},rz={month:1,year:12,decade:120,century:1200};function nz(e){return[31,az(e),31,30,31,30,31,31,30,31,30,31]}function az(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Vn(e,t,r){switch(e=new Date(e),r){case yf:case Sc:case jc:case Nc:case vi:case Mo:return sz(e,t*GD[r]);case kc:case yi:case bi:case xi:return iz(e,t*rz[r])}throw new TypeError('Invalid units: "'+r+'"')}function sz(e,t){var r=new Date(+e+t);return oz(e,r)}function iz(e,t){var r=e.getFullYear(),n=e.getMonth(),i=e.getDate(),o=r*12+n+t,c=Math.trunc(o/12),d=o%12,h=Math.min(i,nz(c)[d]),m=new Date(e);return m.setFullYear(c),m.setDate(1),m.setMonth(d),m.setDate(h),m}function oz(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),i=n-r;return new Date(+t+i*GD.minutes)}function Ec(e,t,r){return Vn(e,-t,r)}function Nr(e,t,r){switch(e=new Date(e),t){case xi:case bi:case yi:e=xf(e,0);case kc:e=XD(e,1);case Mo:case vi:e=Dc(e,0);case Nc:e=Lo(e,0);case jc:e=Tc(e,0);case Sc:e=Cc(e,0)}return t===bi&&(e=Ec(e,wi(e)%10,"year")),t===xi&&(e=Ec(e,wi(e)%100,"year")),t===Mo&&(e=JD(e,0,r)),e}function bf(e,t,r){switch(e=new Date(e),e=Nr(e,t,r),t){case xi:case bi:case yi:case kc:case Mo:e=Vn(e,1,t),e=Ec(e,1,vi),e.setHours(23,59,59,999);break;case vi:e.setHours(23,59,59,999);break;case Nc:case jc:case Sc:e=Vn(e,1,t),e=Ec(e,1,yf)}return e}var Go=Vo(function(e,t){return e===t}),Xb=Vo(function(e,t){return e!==t}),Ff=Vo(function(e,t){return e>t}),Yc=Vo(function(e,t){return e>=t}),Jb=Vo(function(e,t){return e<t}),Yo=Vo(function(e,t){return e<=t});function YD(){return new Date(Math.min.apply(Math,arguments))}function VD(){return new Date(Math.max.apply(Math,arguments))}function QD(e,t,r,n){return n=n||"day",(!t||Yc(e,t,n))&&(!r||Yo(e,r,n))}var Cc=Ds("Milliseconds"),Tc=Ds("Seconds"),Lo=Ds("Minutes"),Dc=Ds("Hours"),WD=Ds("Day"),XD=Ds("Date"),xf=Ds("Month"),wi=Ds("FullYear");function lz(e,t){return t===void 0?wi(Nr(e,bi)):Vn(e,t+10,yi)}function cz(e,t){return t===void 0?wi(Nr(e,xi)):Vn(e,t+100,yi)}function JD(e,t,r){var n=(WD(e)+7-(r||0))%7;return t===void 0?n:Vn(e,t-n,vi)}function uz(e,t,r,n){var i,o,c;switch(r){case yf:case Sc:case jc:case Nc:case vi:case Mo:i=t.getTime()-e.getTime();break;case kc:case yi:case bi:case xi:i=(wi(t)-wi(e))*12+xf(t)-xf(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case yf:o=1;break;case Sc:o=1e3;break;case jc:o=1e3*60;break;case Nc:o=1e3*60*60;break;case vi:o=1e3*60*60*24;break;case Mo:o=1e3*60*60*24*7;break;case kc:o=1;break;case yi:o=12;break;case bi:o=120;break;case xi:o=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return c=i/o,n?c:Math.round(c)}function Ds(e){var t=(function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(e);return function(r,n){if(n===void 0)return r["get"+e]();var i=new Date(r);return i["set"+e](n),t&&i["get"+e]()!=n&&(e==="Hours"||n>=t&&i.getHours()-r.getHours()<Math.floor(n/t))&&i["set"+e](n+t),i}}function Vo(e){return function(t,r,n){return e(+Nr(t,n),+Nr(r,n))}}const cN=Object.freeze(Object.defineProperty({__proto__:null,add:Vn,century:cz,date:XD,day:WD,decade:lz,diff:uz,endOf:bf,eq:Go,gt:Ff,gte:Yc,hours:Dc,inRange:QD,lt:Jb,lte:Yo,max:VD,milliseconds:Cc,min:YD,minutes:Lo,month:xf,neq:Xb,seconds:Tc,startOf:Nr,subtract:Ec,weekday:JD,year:wi},Symbol.toStringTag,{value:"Module"}));function dz(e){if(Array.isArray(e))return X0(e)}function ZD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $d(e){return dz(e)||ZD(e)||Wb(e)||fz()}var Kg,uN;function eO(){if(uN)return Kg;uN=1;function e(t,r,n){var i=-1,o=t.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var c=Array(o);++i<o;)c[i]=t[i+r];return c}return Kg=e,Kg}var Gg,dN;function Vc(){if(dN)return Gg;dN=1;function e(t,r){return t===r||t!==t&&r!==r}return Gg=e,Gg}var Yg,fN;function tO(){if(fN)return Yg;fN=1;var e=typeof gd=="object"&&gd&&gd.Object===Object&&gd;return Yg=e,Yg}var Vg,hN;function ma(){if(hN)return Vg;hN=1;var e=tO(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Vg=r,Vg}var Qg,mN;function Qo(){if(mN)return Qg;mN=1;var e=ma(),t=e.Symbol;return Qg=t,Qg}var Wg,gN;function hz(){if(gN)return Wg;gN=1;var e=Qo(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function o(c){var d=r.call(c,i),h=c[i];try{c[i]=void 0;var m=!0}catch{}var g=n.call(c);return m&&(d?c[i]=h:delete c[i]),g}return Wg=o,Wg}var Xg,pN;function mz(){if(pN)return Xg;pN=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Xg=r,Xg}var Jg,vN;function Wo(){if(vN)return Jg;vN=1;var e=Qo(),t=hz(),r=mz(),n="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function c(d){return d==null?d===void 0?i:n:o&&o in Object(d)?t(d):r(d)}return Jg=c,Jg}var Zg,yN;function Ha(){if(yN)return Zg;yN=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Zg=e,Zg}var ep,bN;function Zb(){if(bN)return ep;bN=1;var e=Wo(),t=Ha(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function c(d){if(!t(d))return!1;var h=e(d);return h==n||h==i||h==r||h==o}return ep=c,ep}var tp,xN;function ex(){if(xN)return tp;xN=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return tp=t,tp}var rp,wN;function Qc(){if(wN)return rp;wN=1;var e=Zb(),t=ex();function r(n){return n!=null&&t(n.length)&&!e(n)}return rp=r,rp}var np,_N;function tx(){if(_N)return np;_N=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return np=r,np}var ap,SN;function Hf(){if(SN)return ap;SN=1;var e=Vc(),t=Qc(),r=tx(),n=Ha();function i(o,c,d){if(!n(d))return!1;var h=typeof c;return(h=="number"?t(d)&&r(c,d.length):h=="string"&&c in d)?e(d[c],o):!1}return ap=i,ap}var sp,jN;function gz(){if(jN)return sp;jN=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return sp=t,sp}var ip,NN;function pz(){if(NN)return ip;NN=1;var e=gz(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return ip=r,ip}var op,kN;function Os(){if(kN)return op;kN=1;function e(t){return t!=null&&typeof t=="object"}return op=e,op}var lp,EN;function Wc(){if(EN)return lp;EN=1;var e=Wo(),t=Os(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return lp=n,lp}var cp,CN;function vz(){if(CN)return cp;CN=1;var e=pz(),t=Ha(),r=Wc(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function h(m){if(typeof m=="number")return m;if(r(m))return n;if(t(m)){var g=typeof m.valueOf=="function"?m.valueOf():m;m=t(g)?g+"":g}if(typeof m!="string")return m===0?m:+m;m=e(m);var v=o.test(m);return v||c.test(m)?d(m.slice(2),v?2:8):i.test(m)?n:+m}return cp=h,cp}var up,TN;function rO(){if(TN)return up;TN=1;var e=vz(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*r}return i===i?i:0}return up=n,up}var dp,DN;function nO(){if(DN)return dp;DN=1;var e=rO();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return dp=t,dp}var fp,ON;function yz(){if(ON)return fp;ON=1;var e=eO(),t=Hf(),r=nO(),n=Math.ceil,i=Math.max;function o(c,d,h){(h?t(c,d,h):d===void 0)?d=1:d=i(r(d),0);var m=c==null?0:c.length;if(!m||d<1)return[];for(var g=0,v=0,b=Array(n(m/d));g<m;)b[v++]=e(c,g,g+=d);return b}return fp=o,fp}var bz=yz();const xz=$r(bz);function Xc(e){return e&&e.ownerDocument||document}function wz(e){var t=Xc(e);return t&&t.defaultView||window}function _z(e,t){return wz(e).getComputedStyle(e,t)}var Sz=/([A-Z])/g;function jz(e){return e.replace(Sz,"-$1").toLowerCase()}var Nz=/^ms-/;function Cd(e){return jz(e).replace(Nz,"-ms-")}var kz=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Ez(e){return!!(e&&kz.test(e))}function ko(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Cd(t))||_z(e).getPropertyValue(Cd(t));Object.keys(t).forEach(function(i){var o=t[i];!o&&o!==0?e.style.removeProperty(Cd(i)):Ez(i)?n+=i+"("+o+") ":r+=Cd(i)+": "+o+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function Oc(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function Cz(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function rx(e){return"window"in e&&e.window===e?e:Cz(e)&&e.defaultView||!1}function aO(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,i){var o=rx(n);if(i===void 0)return o?o[e]:n[t];o?o.scrollTo(o[e],i):n[t]=i}return r}const sO=aO("pageXOffset"),iO=aO("pageYOffset");function di(e){var t=Xc(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!Oc(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+iO(n)-(n.clientTop||0),left:r.left+sO(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var Tz=function(t){return!!t&&"offsetParent"in t};function Dz(e){for(var t=Xc(e),r=e&&e.offsetParent;Tz(r)&&r.nodeName!=="HTML"&&ko(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var Oz=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function oO(e,t){var r={top:0,left:0},n;if(ko(e,"position")==="fixed")n=e.getBoundingClientRect();else{var i=t||Dz(e);n=di(e),Oz(i)!=="html"&&(r=di(i));var o=String(ko(i,"borderTopWidth")||0);r.top+=parseInt(o,10)-iO(i)||0;var c=String(ko(i,"borderLeftWidth")||0);r.left+=parseInt(c,10)-sO(i)||0}var d=String(ko(e,"marginTop")||0),h=String(ko(e,"marginLeft")||0);return Bt({},n,{top:n.top-r.top-(parseInt(d,10)||0),left:n.left-r.left-(parseInt(h,10)||0)})}const nx=!!(typeof window<"u"&&window.document&&window.document.createElement);var AN=new Date().getTime();function Az(e){var t=new Date().getTime(),r=Math.max(0,16-(t-AN)),n=setTimeout(e,r);return AN=t,n}var Rz=["","webkit","moz","o","ms"],J0="clearTimeout",Z0=Az,RN=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};nx&&Rz.some(function(e){var t=RN(e,"request");return t in window&&(J0=RN(e,"cancel"),Z0=function(n){return window[t](n)}),!!Z0});var MN=function(t){typeof window[J0]=="function"&&window[J0](t)},lO=Z0,hp;function Mz(e,t){if(!hp){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;hp=function(o,c){return n.call(o,c)}}return hp(e,t)}var Lz=Function.prototype.bind.call(Function.prototype.call,[].slice);function qz(e,t){return Lz(e.querySelectorAll(t))}var eb=!1,tb=!1;try{var mp={get passive(){return eb=!0},get once(){return tb=eb=!0}};nx&&(window.addEventListener("test",mp,mp),window.removeEventListener("test",mp,!0))}catch{}function Uz(e,t,r,n){if(n&&typeof n!="boolean"&&!tb){var i=n.once,o=n.capture,c=r;!tb&&i&&(c=r.__once||function d(h){this.removeEventListener(t,d,o),r.call(this,h)},r.__once=c),e.addEventListener(t,c,eb?n:o)}e.addEventListener(t,r,n)}function Pz(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e},[e]),t}function LN(e){const t=Pz(e);return k.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function qN(){return k.useState(null)}function $z(){const e=k.useRef(!0),t=k.useRef(()=>e.current);return k.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function zz(e){const t=$z();return[e[0],k.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Xr="top",An="bottom",Rn="right",Jr="left",ax="auto",Jc=[Xr,An,Rn,Jr],qo="start",Ac="end",Bz="clippingParents",cO="viewport",Kl="popper",Iz="reference",UN=Jc.reduce(function(e,t){return e.concat([t+"-"+qo,t+"-"+Ac])},[]),sx=[].concat(Jc,[ax]).reduce(function(e,t){return e.concat([t,t+"-"+qo,t+"-"+Ac])},[]),Fz="beforeRead",Hz="read",Kz="afterRead",Gz="beforeMain",Yz="main",Vz="afterMain",Qz="beforeWrite",Wz="write",Xz="afterWrite",Jz=[Fz,Hz,Kz,Gz,Yz,Vz,Qz,Wz,Xz];function la(e){return e.split("-")[0]}function dn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function _i(e){var t=dn(e).Element;return e instanceof t||e instanceof Element}function ca(e){var t=dn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ix(e){if(typeof ShadowRoot>"u")return!1;var t=dn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var fi=Math.max,wf=Math.min,Uo=Math.round;function rb(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function uO(){return!/^((?!chrome|android).)*safari/i.test(rb())}function Po(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&ca(e)&&(i=e.offsetWidth>0&&Uo(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Uo(n.height)/e.offsetHeight||1);var c=_i(e)?dn(e):window,d=c.visualViewport,h=!uO()&&r,m=(n.left+(h&&d?d.offsetLeft:0))/i,g=(n.top+(h&&d?d.offsetTop:0))/o,v=n.width/i,b=n.height/o;return{width:v,height:b,top:g,right:m+v,bottom:g+b,left:m,x:m,y:g}}function ox(e){var t=Po(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function dO(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&ix(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ns(e){return e?(e.nodeName||"").toLowerCase():null}function Ia(e){return dn(e).getComputedStyle(e)}function Zz(e){return["table","td","th"].indexOf(Ns(e))>=0}function As(e){return((_i(e)?e.ownerDocument:e.document)||window.document).documentElement}function Kf(e){return Ns(e)==="html"?e:e.assignedSlot||e.parentNode||(ix(e)?e.host:null)||As(e)}function PN(e){return!ca(e)||Ia(e).position==="fixed"?null:e.offsetParent}function e7(e){var t=/firefox/i.test(rb()),r=/Trident/i.test(rb());if(r&&ca(e)){var n=Ia(e);if(n.position==="fixed")return null}var i=Kf(e);for(ix(i)&&(i=i.host);ca(i)&&["html","body"].indexOf(Ns(i))<0;){var o=Ia(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Zc(e){for(var t=dn(e),r=PN(e);r&&Zz(r)&&Ia(r).position==="static";)r=PN(r);return r&&(Ns(r)==="html"||Ns(r)==="body"&&Ia(r).position==="static")?t:r||e7(e)||t}function lx(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function uc(e,t,r){return fi(e,wf(t,r))}function t7(e,t,r){var n=uc(e,t,r);return n>r?r:n}function fO(){return{top:0,right:0,bottom:0,left:0}}function hO(e){return Object.assign({},fO(),e)}function mO(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var r7=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,hO(typeof t!="number"?t:mO(t,Jc))};function n7(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,c=r.modifiersData.popperOffsets,d=la(r.placement),h=lx(d),m=[Jr,Rn].indexOf(d)>=0,g=m?"height":"width";if(!(!o||!c)){var v=r7(i.padding,r),b=ox(o),x=h==="y"?Xr:Jr,S=h==="y"?An:Rn,w=r.rects.reference[g]+r.rects.reference[h]-c[h]-r.rects.popper[g],_=c[h]-r.rects.reference[h],N=Zc(o),C=N?h==="y"?N.clientHeight||0:N.clientWidth||0:0,T=w/2-_/2,A=v[x],L=C-b[g]-v[S],E=C/2-b[g]/2+T,D=uc(A,E,L),R=h;r.modifiersData[n]=(t={},t[R]=D,t.centerOffset=D-E,t)}}function a7(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||dO(t.elements.popper,i)&&(t.elements.arrow=i))}const s7={name:"arrow",enabled:!0,phase:"main",fn:n7,effect:a7,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $o(e){return e.split("-")[1]}var i7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function o7(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:Uo(r*i)/i||0,y:Uo(n*i)/i||0}}function $N(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,c=e.offsets,d=e.position,h=e.gpuAcceleration,m=e.adaptive,g=e.roundOffsets,v=e.isFixed,b=c.x,x=b===void 0?0:b,S=c.y,w=S===void 0?0:S,_=typeof g=="function"?g({x,y:w}):{x,y:w};x=_.x,w=_.y;var N=c.hasOwnProperty("x"),C=c.hasOwnProperty("y"),T=Jr,A=Xr,L=window;if(m){var E=Zc(r),D="clientHeight",R="clientWidth";if(E===dn(r)&&(E=As(r),Ia(E).position!=="static"&&d==="absolute"&&(D="scrollHeight",R="scrollWidth")),E=E,i===Xr||(i===Jr||i===Rn)&&o===Ac){A=An;var q=v&&E===L&&L.visualViewport?L.visualViewport.height:E[D];w-=q-n.height,w*=h?1:-1}if(i===Jr||(i===Xr||i===An)&&o===Ac){T=Rn;var B=v&&E===L&&L.visualViewport?L.visualViewport.width:E[R];x-=B-n.width,x*=h?1:-1}}var U=Object.assign({position:d},m&&i7),K=g===!0?o7({x,y:w},dn(r)):{x,y:w};if(x=K.x,w=K.y,h){var V;return Object.assign({},U,(V={},V[A]=C?"0":"",V[T]=N?"0":"",V.transform=(L.devicePixelRatio||1)<=1?"translate("+x+"px, "+w+"px)":"translate3d("+x+"px, "+w+"px, 0)",V))}return Object.assign({},U,(t={},t[A]=C?w+"px":"",t[T]=N?x+"px":"",t.transform="",t))}function l7(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,c=o===void 0?!0:o,d=r.roundOffsets,h=d===void 0?!0:d,m={placement:la(t.placement),variation:$o(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,$N(Object.assign({},m,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:h})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,$N(Object.assign({},m,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const c7={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:l7,data:{}};var Td={passive:!0};function u7(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,c=n.resize,d=c===void 0?!0:c,h=dn(t.elements.popper),m=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&m.forEach(function(g){g.addEventListener("scroll",r.update,Td)}),d&&h.addEventListener("resize",r.update,Td),function(){o&&m.forEach(function(g){g.removeEventListener("scroll",r.update,Td)}),d&&h.removeEventListener("resize",r.update,Td)}}const d7={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:u7,data:{}};var f7={left:"right",right:"left",bottom:"top",top:"bottom"};function zd(e){return e.replace(/left|right|bottom|top/g,function(t){return f7[t]})}var h7={start:"end",end:"start"};function zN(e){return e.replace(/start|end/g,function(t){return h7[t]})}function cx(e){var t=dn(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function ux(e){return Po(As(e)).left+cx(e).scrollLeft}function m7(e,t){var r=dn(e),n=As(e),i=r.visualViewport,o=n.clientWidth,c=n.clientHeight,d=0,h=0;if(i){o=i.width,c=i.height;var m=uO();(m||!m&&t==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}return{width:o,height:c,x:d+ux(e),y:h}}function g7(e){var t,r=As(e),n=cx(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=fi(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=fi(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),d=-n.scrollLeft+ux(e),h=-n.scrollTop;return Ia(i||r).direction==="rtl"&&(d+=fi(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:c,x:d,y:h}}function dx(e){var t=Ia(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function gO(e){return["html","body","#document"].indexOf(Ns(e))>=0?e.ownerDocument.body:ca(e)&&dx(e)?e:gO(Kf(e))}function dc(e,t){var r;t===void 0&&(t=[]);var n=gO(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=dn(n),c=i?[o].concat(o.visualViewport||[],dx(n)?n:[]):n,d=t.concat(c);return i?d:d.concat(dc(Kf(c)))}function nb(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function p7(e,t){var r=Po(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function BN(e,t,r){return t===cO?nb(m7(e,r)):_i(t)?p7(t,r):nb(g7(As(e)))}function v7(e){var t=dc(Kf(e)),r=["absolute","fixed"].indexOf(Ia(e).position)>=0,n=r&&ca(e)?Zc(e):e;return _i(n)?t.filter(function(i){return _i(i)&&dO(i,n)&&Ns(i)!=="body"}):[]}function y7(e,t,r,n){var i=t==="clippingParents"?v7(e):[].concat(t),o=[].concat(i,[r]),c=o[0],d=o.reduce(function(h,m){var g=BN(e,m,n);return h.top=fi(g.top,h.top),h.right=wf(g.right,h.right),h.bottom=wf(g.bottom,h.bottom),h.left=fi(g.left,h.left),h},BN(e,c,n));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function pO(e){var t=e.reference,r=e.element,n=e.placement,i=n?la(n):null,o=n?$o(n):null,c=t.x+t.width/2-r.width/2,d=t.y+t.height/2-r.height/2,h;switch(i){case Xr:h={x:c,y:t.y-r.height};break;case An:h={x:c,y:t.y+t.height};break;case Rn:h={x:t.x+t.width,y:d};break;case Jr:h={x:t.x-r.width,y:d};break;default:h={x:t.x,y:t.y}}var m=i?lx(i):null;if(m!=null){var g=m==="y"?"height":"width";switch(o){case qo:h[m]=h[m]-(t[g]/2-r[g]/2);break;case Ac:h[m]=h[m]+(t[g]/2-r[g]/2);break}}return h}function Rc(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.strategy,c=o===void 0?e.strategy:o,d=r.boundary,h=d===void 0?Bz:d,m=r.rootBoundary,g=m===void 0?cO:m,v=r.elementContext,b=v===void 0?Kl:v,x=r.altBoundary,S=x===void 0?!1:x,w=r.padding,_=w===void 0?0:w,N=hO(typeof _!="number"?_:mO(_,Jc)),C=b===Kl?Iz:Kl,T=e.rects.popper,A=e.elements[S?C:b],L=y7(_i(A)?A:A.contextElement||As(e.elements.popper),h,g,c),E=Po(e.elements.reference),D=pO({reference:E,element:T,placement:i}),R=nb(Object.assign({},T,D)),q=b===Kl?R:E,B={top:L.top-q.top+N.top,bottom:q.bottom-L.bottom+N.bottom,left:L.left-q.left+N.left,right:q.right-L.right+N.right},U=e.modifiersData.offset;if(b===Kl&&U){var K=U[i];Object.keys(B).forEach(function(V){var te=[Rn,An].indexOf(V)>=0?1:-1,ge=[Xr,An].indexOf(V)>=0?"y":"x";B[V]+=K[ge]*te})}return B}function b7(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,c=r.padding,d=r.flipVariations,h=r.allowedAutoPlacements,m=h===void 0?sx:h,g=$o(n),v=g?d?UN:UN.filter(function(S){return $o(S)===g}):Jc,b=v.filter(function(S){return m.indexOf(S)>=0});b.length===0&&(b=v);var x=b.reduce(function(S,w){return S[w]=Rc(e,{placement:w,boundary:i,rootBoundary:o,padding:c})[la(w)],S},{});return Object.keys(x).sort(function(S,w){return x[S]-x[w]})}function x7(e){if(la(e)===ax)return[];var t=zd(e);return[zN(e),t,zN(t)]}function w7(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,c=r.altAxis,d=c===void 0?!0:c,h=r.fallbackPlacements,m=r.padding,g=r.boundary,v=r.rootBoundary,b=r.altBoundary,x=r.flipVariations,S=x===void 0?!0:x,w=r.allowedAutoPlacements,_=t.options.placement,N=la(_),C=N===_,T=h||(C||!S?[zd(_)]:x7(_)),A=[_].concat(T).reduce(function(fe,be){return fe.concat(la(be)===ax?b7(t,{placement:be,boundary:g,rootBoundary:v,padding:m,flipVariations:S,allowedAutoPlacements:w}):be)},[]),L=t.rects.reference,E=t.rects.popper,D=new Map,R=!0,q=A[0],B=0;B<A.length;B++){var U=A[B],K=la(U),V=$o(U)===qo,te=[Xr,An].indexOf(K)>=0,ge=te?"width":"height",P=Rc(t,{placement:U,boundary:g,rootBoundary:v,altBoundary:b,padding:m}),W=te?V?Rn:Jr:V?An:Xr;L[ge]>E[ge]&&(W=zd(W));var J=zd(W),me=[];if(o&&me.push(P[K]<=0),d&&me.push(P[W]<=0,P[J]<=0),me.every(function(fe){return fe})){q=U,R=!1;break}D.set(U,me)}if(R)for(var oe=S?3:1,M=function(be){var xe=A.find(function(Oe){var Le=D.get(Oe);if(Le)return Le.slice(0,be).every(function(ae){return ae})});if(xe)return q=xe,"break"},H=oe;H>0;H--){var se=M(H);if(se==="break")break}t.placement!==q&&(t.modifiersData[n]._skip=!0,t.placement=q,t.reset=!0)}}const _7={name:"flip",enabled:!0,phase:"main",fn:w7,requiresIfExists:["offset"],data:{_skip:!1}};function IN(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function FN(e){return[Xr,Rn,An,Jr].some(function(t){return e[t]>=0})}function S7(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,c=Rc(t,{elementContext:"reference"}),d=Rc(t,{altBoundary:!0}),h=IN(c,n),m=IN(d,i,o),g=FN(h),v=FN(m);t.modifiersData[r]={referenceClippingOffsets:h,popperEscapeOffsets:m,isReferenceHidden:g,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}const j7={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:S7};function N7(e,t,r){var n=la(e),i=[Jr,Xr].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,c=o[0],d=o[1];return c=c||0,d=(d||0)*i,[Jr,Rn].indexOf(n)>=0?{x:d,y:c}:{x:c,y:d}}function k7(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,c=sx.reduce(function(g,v){return g[v]=N7(v,t.rects,o),g},{}),d=c[t.placement],h=d.x,m=d.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=h,t.modifiersData.popperOffsets.y+=m),t.modifiersData[n]=c}const E7={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:k7};function C7(e){var t=e.state,r=e.name;t.modifiersData[r]=pO({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const T7={name:"popperOffsets",enabled:!0,phase:"read",fn:C7,data:{}};function D7(e){return e==="x"?"y":"x"}function O7(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,c=r.altAxis,d=c===void 0?!1:c,h=r.boundary,m=r.rootBoundary,g=r.altBoundary,v=r.padding,b=r.tether,x=b===void 0?!0:b,S=r.tetherOffset,w=S===void 0?0:S,_=Rc(t,{boundary:h,rootBoundary:m,padding:v,altBoundary:g}),N=la(t.placement),C=$o(t.placement),T=!C,A=lx(N),L=D7(A),E=t.modifiersData.popperOffsets,D=t.rects.reference,R=t.rects.popper,q=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,B=typeof q=="number"?{mainAxis:q,altAxis:q}:Object.assign({mainAxis:0,altAxis:0},q),U=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,K={x:0,y:0};if(E){if(o){var V,te=A==="y"?Xr:Jr,ge=A==="y"?An:Rn,P=A==="y"?"height":"width",W=E[A],J=W+_[te],me=W-_[ge],oe=x?-R[P]/2:0,M=C===qo?D[P]:R[P],H=C===qo?-R[P]:-D[P],se=t.elements.arrow,fe=x&&se?ox(se):{width:0,height:0},be=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:fO(),xe=be[te],Oe=be[ge],Le=uc(0,D[P],fe[P]),ae=T?D[P]/2-oe-Le-xe-B.mainAxis:M-Le-xe-B.mainAxis,le=T?-D[P]/2+oe+Le+Oe+B.mainAxis:H+Le+Oe+B.mainAxis,at=t.elements.arrow&&Zc(t.elements.arrow),Pe=at?A==="y"?at.clientTop||0:at.clientLeft||0:0,Xe=(V=U?.[A])!=null?V:0,et=W+ae-Xe-Pe,Ue=W+le-Xe,ht=uc(x?wf(J,et):J,W,x?fi(me,Ue):me);E[A]=ht,K[A]=ht-W}if(d){var Be,dr=A==="x"?Xr:Jr,Wt=A==="x"?An:Rn,bt=E[L],mt=L==="y"?"height":"width",gt=bt+_[dr],ft=bt-_[Wt],nt=[Xr,Jr].indexOf(N)!==-1,yr=(Be=U?.[L])!=null?Be:0,Ht=nt?gt:bt-D[mt]-R[mt]-yr+B.altAxis,jt=nt?bt+D[mt]+R[mt]-yr-B.altAxis:ft,Et=x&&nt?t7(Ht,bt,jt):uc(x?Ht:gt,bt,x?jt:ft);E[L]=Et,K[L]=Et-bt}t.modifiersData[n]=K}}const A7={name:"preventOverflow",enabled:!0,phase:"main",fn:O7,requiresIfExists:["offset"]};function R7(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function M7(e){return e===dn(e)||!ca(e)?cx(e):R7(e)}function L7(e){var t=e.getBoundingClientRect(),r=Uo(t.width)/e.offsetWidth||1,n=Uo(t.height)/e.offsetHeight||1;return r!==1||n!==1}function q7(e,t,r){r===void 0&&(r=!1);var n=ca(t),i=ca(t)&&L7(t),o=As(t),c=Po(e,i,r),d={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(n||!n&&!r)&&((Ns(t)!=="body"||dx(o))&&(d=M7(t)),ca(t)?(h=Po(t,!0),h.x+=t.clientLeft,h.y+=t.clientTop):o&&(h.x=ux(o))),{x:c.left+d.scrollLeft-h.x,y:c.top+d.scrollTop-h.y,width:c.width,height:c.height}}function U7(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var c=[].concat(o.requires||[],o.requiresIfExists||[]);c.forEach(function(d){if(!r.has(d)){var h=t.get(d);h&&i(h)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function P7(e){var t=U7(e);return Jz.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function $7(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function z7(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var HN={placement:"bottom",modifiers:[],strategy:"absolute"};function KN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function B7(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?HN:i;return function(d,h,m){m===void 0&&(m=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},HN,o),modifiersData:{},elements:{reference:d,popper:h},attributes:{},styles:{}},v=[],b=!1,x={state:g,setOptions:function(N){var C=typeof N=="function"?N(g.options):N;w(),g.options=Object.assign({},o,g.options,C),g.scrollParents={reference:_i(d)?dc(d):d.contextElement?dc(d.contextElement):[],popper:dc(h)};var T=P7(z7([].concat(n,g.options.modifiers)));return g.orderedModifiers=T.filter(function(A){return A.enabled}),S(),x.update()},forceUpdate:function(){if(!b){var N=g.elements,C=N.reference,T=N.popper;if(KN(C,T)){g.rects={reference:q7(C,Zc(T),g.options.strategy==="fixed"),popper:ox(T)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(B){return g.modifiersData[B.name]=Object.assign({},B.data)});for(var A=0;A<g.orderedModifiers.length;A++){if(g.reset===!0){g.reset=!1,A=-1;continue}var L=g.orderedModifiers[A],E=L.fn,D=L.options,R=D===void 0?{}:D,q=L.name;typeof E=="function"&&(g=E({state:g,options:R,name:q,instance:x})||g)}}}},update:$7(function(){return new Promise(function(_){x.forceUpdate(),_(g)})}),destroy:function(){w(),b=!0}};if(!KN(d,h))return x;x.setOptions(m).then(function(_){!b&&m.onFirstUpdate&&m.onFirstUpdate(_)});function S(){g.orderedModifiers.forEach(function(_){var N=_.name,C=_.options,T=C===void 0?{}:C,A=_.effect;if(typeof A=="function"){var L=A({state:g,name:N,instance:x,options:T}),E=function(){};v.push(L||E)}})}function w(){v.forEach(function(_){return _()}),v=[]}return x}}var I7=B7({defaultModifiers:[j7,T7,c7,d7,E7,_7,A7,s7]}),GN=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},F7={name:"applyStyles",enabled:!1},H7={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,i=n.reference,o=n.popper;if("removeAttribute"in i){var c=(i.getAttribute("aria-describedby")||"").split(",").filter(function(d){return d.trim()!==o.id});c.length?i.setAttribute("aria-describedby",c.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,i=n.elements,o=i.popper,c=i.reference,d=(r=o.getAttribute("role"))==null?void 0:r.toLowerCase();if(o.id&&d==="tooltip"&&"setAttribute"in c){var h=c.getAttribute("aria-describedby");if(h&&h.split(",").indexOf(o.id)!==-1)return;c.setAttribute("aria-describedby",h?h+","+o.id:o.id)}}},K7=[];function G7(e,t,r){var n=r===void 0?{}:r,i=n.enabled,o=i===void 0?!0:i,c=n.placement,d=c===void 0?"bottom":c,h=n.strategy,m=h===void 0?"absolute":h,g=n.modifiers,v=g===void 0?K7:g,b=If(n,["enabled","placement","strategy","modifiers"]),x=k.useRef(),S=k.useCallback(function(){var A;(A=x.current)==null||A.update()},[]),w=k.useCallback(function(){var A;(A=x.current)==null||A.forceUpdate()},[]),_=zz(k.useState({placement:d,update:S,forceUpdate:w,attributes:{},styles:{popper:GN(m),arrow:{}}})),N=_[0],C=_[1],T=k.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(L){var E=L.state,D={},R={};Object.keys(E.elements).forEach(function(q){D[q]=E.styles[q],R[q]=E.attributes[q]}),C({state:E,styles:D,attributes:R,update:S,forceUpdate:w,placement:E.placement})}}},[S,w,C]);return k.useEffect(function(){!x.current||!o||x.current.setOptions({placement:d,strategy:m,modifiers:[].concat(v,[T,F7])})},[m,d,T,o]),k.useEffect(function(){if(!(!o||e==null||t==null))return x.current=I7(e,t,Bt({},b,{placement:d,strategy:m,modifiers:[].concat(v,[H7,T])})),function(){x.current!=null&&(x.current.destroy(),x.current=void 0,C(function(A){return Bt({},A,{attributes:{},styles:{popper:GN(m)}})}))}},[o,e,t]),N}function Y7(e,t,r,n){var i=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,i),r.__once&&e.removeEventListener(t,r.__once,i)}function Xl(e,t,r,n){return Uz(e,t,r,n),function(){Y7(e,t,r,n)}}var gp,YN;function V7(){if(YN)return gp;YN=1;var e=function(){};return gp=e,gp}var Q7=V7();const W7=$r(Q7);function X7(e){return e&&"setState"in e?nT.findDOMNode(e):e??null}const J7=(function(e){return Xc(X7(e))});var Z7=27,VN=function(){};function eB(e){return e.button===0}function tB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var QN=function(t){return t&&("current"in t?t.current:t)};function rB(e,t,r){var n=r===void 0?{}:r,i=n.disabled,o=n.clickTrigger,c=o===void 0?"click":o,d=k.useRef(!1),h=t||VN,m=k.useCallback(function(b){var x,S=QN(e);W7(!!S,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),d.current=!S||tB(b)||!eB(b)||!!Oc(S,(x=b.composedPath==null?void 0:b.composedPath()[0])!=null?x:b.target)},[e]),g=LN(function(b){d.current||h(b)}),v=LN(function(b){b.keyCode===Z7&&h(b)});k.useEffect(function(){if(!(i||e==null)){var b=window.event,x=J7(QN(e)),S=Xl(x,c,m,!0),w=Xl(x,c,function(C){if(C===b){b=void 0;return}g(C)}),_=Xl(x,"keyup",function(C){if(C===b){b=void 0;return}v(C)}),N=[];return"ontouchstart"in x.documentElement&&(N=[].slice.call(x.body.children).map(function(C){return Xl(C,"mousemove",VN)})),function(){S(),w(),_(),N.forEach(function(C){return C()})}}},[e,i,c,m,g,v])}function nB(e){var t={};return Array.isArray(e)?(e?.forEach(function(r){t[r.name]=r}),t):e||t}function aB(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function sB(e){var t,r,n,i,o=e.enabled,c=e.enableEvents,d=e.placement,h=e.flip,m=e.offset,g=e.fixed,v=e.containerPadding,b=e.arrowElement,x=e.popperConfig,S=x===void 0?{}:x,w=nB(S.modifiers);return Bt({},S,{placement:d,enabled:o,strategy:g?"fixed":S.strategy,modifiers:aB(Bt({},w,{eventListeners:{enabled:c},preventOverflow:Bt({},w.preventOverflow,{options:v?Bt({padding:v},(t=w.preventOverflow)==null?void 0:t.options):(r=w.preventOverflow)==null?void 0:r.options}),offset:{options:Bt({offset:m},(n=w.offset)==null?void 0:n.options)},arrow:Bt({},w.arrow,{enabled:!!b,options:Bt({},(i=w.arrow)==null?void 0:i.options,{element:b})}),flip:Bt({enabled:!!h},w.flip)}))})}function iB(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function oB(e,t){e.classList?e.classList.add(t):iB(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function WN(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function lB(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=WN(e.className,t):e.setAttribute("class",WN(e.className&&e.className.baseVal||"",t))}var Dd;function fx(e){if((!Dd&&Dd!==0||e)&&nx){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Dd=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Dd}var pp=function(t){var r;return typeof document>"u"?null:t==null?Xc().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function XN(e,t){var r=k.useState(function(){return pp(e)}),n=r[0],i=r[1];if(!n){var o=pp(e);o&&i(o)}return k.useEffect(function(){},[t,n]),k.useEffect(function(){var c=pp(e);c!==n&&i(c)},[e,n]),n}const JN=e=>!e||typeof e=="function"?e:t=>{e.current=t};function cB(e,t){const r=JN(e),n=JN(t);return i=>{r&&r(i),n&&n(i)}}function uB(e,t){return k.useMemo(()=>cB(e,t),[e,t])}var hx=I.forwardRef(function(e,t){var r=e.flip,n=e.offset,i=e.placement,o=e.containerPadding,c=o===void 0?5:o,d=e.popperConfig,h=d===void 0?{}:d,m=e.transition,g=qN(),v=g[0],b=g[1],x=qN(),S=x[0],w=x[1],_=uB(b,t),N=XN(e.container),C=XN(e.target),T=k.useState(!e.show),A=T[0],L=T[1],E=G7(C,v,sB({placement:i,enableEvents:!!e.show,containerPadding:c||5,flip:r,offset:n,arrowElement:S,popperConfig:h})),D=E.styles,R=E.attributes,q=If(E,["styles","attributes"]);e.show?A&&L(!1):!e.transition&&!A&&L(!0);var B=function(){L(!0),e.onExited&&e.onExited.apply(e,arguments)},U=e.show||m&&!A;if(rB(v,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!U)return null;var K=e.children(Bt({},q,{show:!!e.show,props:Bt({},R.popper,{style:D.popper,ref:_}),arrowProps:Bt({},R.arrow,{style:D.arrow,ref:w})}));if(m){var V=e.onExit,te=e.onExiting,ge=e.onEnter,P=e.onEntering,W=e.onEntered;K=I.createElement(m,{in:e.show,appear:!0,onExit:V,onExiting:te,onExited:B,onEnter:ge,onEntering:P,onEntered:W},K)}return N?nT.createPortal(K,N):null});hx.displayName="Overlay";hx.propTypes={show:ye.bool,placement:ye.oneOf(sx),target:ye.any,container:ye.any,flip:ye.bool,children:ye.func.isRequired,containerPadding:ye.number,popperConfig:ye.object,rootClose:ye.bool,rootCloseEvent:ye.oneOf(["click","mousedown"]),rootCloseDisabled:ye.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(t.rootClose){var o;return(o=ye.func).isRequired.apply(o,[t].concat(n))}return ye.func.apply(ye,[t].concat(n))},transition:ye.elementType,onEnter:ye.func,onEntering:ye.func,onEntered:ye.func,onExit:ye.func,onExiting:ye.func,onExited:ye.func};var vp,ZN;function dB(){if(ZN)return vp;ZN=1;function e(){this.__data__=[],this.size=0}return vp=e,vp}var yp,e2;function Gf(){if(e2)return yp;e2=1;var e=Vc();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return yp=t,yp}var bp,t2;function fB(){if(t2)return bp;t2=1;var e=Gf(),t=Array.prototype,r=t.splice;function n(i){var o=this.__data__,c=e(o,i);if(c<0)return!1;var d=o.length-1;return c==d?o.pop():r.call(o,c,1),--this.size,!0}return bp=n,bp}var xp,r2;function hB(){if(r2)return xp;r2=1;var e=Gf();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return xp=t,xp}var wp,n2;function mB(){if(n2)return wp;n2=1;var e=Gf();function t(r){return e(this.__data__,r)>-1}return wp=t,wp}var _p,a2;function gB(){if(a2)return _p;a2=1;var e=Gf();function t(r,n){var i=this.__data__,o=e(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return _p=t,_p}var Sp,s2;function Yf(){if(s2)return Sp;s2=1;var e=dB(),t=fB(),r=hB(),n=mB(),i=gB();function o(c){var d=-1,h=c==null?0:c.length;for(this.clear();++d<h;){var m=c[d];this.set(m[0],m[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Sp=o,Sp}var jp,i2;function pB(){if(i2)return jp;i2=1;var e=Yf();function t(){this.__data__=new e,this.size=0}return jp=t,jp}var Np,o2;function vB(){if(o2)return Np;o2=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Np=e,Np}var kp,l2;function yB(){if(l2)return kp;l2=1;function e(t){return this.__data__.get(t)}return kp=e,kp}var Ep,c2;function bB(){if(c2)return Ep;c2=1;function e(t){return this.__data__.has(t)}return Ep=e,Ep}var Cp,u2;function xB(){if(u2)return Cp;u2=1;var e=ma(),t=e["__core-js_shared__"];return Cp=t,Cp}var Tp,d2;function wB(){if(d2)return Tp;d2=1;var e=xB(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Tp=r,Tp}var Dp,f2;function vO(){if(f2)return Dp;f2=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Dp=r,Dp}var Op,h2;function _B(){if(h2)return Op;h2=1;var e=Zb(),t=wB(),r=Ha(),n=vO(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,h=c.toString,m=d.hasOwnProperty,g=RegExp("^"+h.call(m).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(b){if(!r(b)||t(b))return!1;var x=e(b)?g:o;return x.test(n(b))}return Op=v,Op}var Ap,m2;function SB(){if(m2)return Ap;m2=1;function e(t,r){return t?.[r]}return Ap=e,Ap}var Rp,g2;function Ti(){if(g2)return Rp;g2=1;var e=_B(),t=SB();function r(n,i){var o=t(n,i);return e(o)?o:void 0}return Rp=r,Rp}var Mp,p2;function mx(){if(p2)return Mp;p2=1;var e=Ti(),t=ma(),r=e(t,"Map");return Mp=r,Mp}var Lp,v2;function Vf(){if(v2)return Lp;v2=1;var e=Ti(),t=e(Object,"create");return Lp=t,Lp}var qp,y2;function jB(){if(y2)return qp;y2=1;var e=Vf();function t(){this.__data__=e?e(null):{},this.size=0}return qp=t,qp}var Up,b2;function NB(){if(b2)return Up;b2=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Up=e,Up}var Pp,x2;function kB(){if(x2)return Pp;x2=1;var e=Vf(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var c=this.__data__;if(e){var d=c[o];return d===t?void 0:d}return n.call(c,o)?c[o]:void 0}return Pp=i,Pp}var $p,w2;function EB(){if(w2)return $p;w2=1;var e=Vf(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var o=this.__data__;return e?o[i]!==void 0:r.call(o,i)}return $p=n,$p}var zp,_2;function CB(){if(_2)return zp;_2=1;var e=Vf(),t="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&i===void 0?t:i,this}return zp=r,zp}var Bp,S2;function TB(){if(S2)return Bp;S2=1;var e=jB(),t=NB(),r=kB(),n=EB(),i=CB();function o(c){var d=-1,h=c==null?0:c.length;for(this.clear();++d<h;){var m=c[d];this.set(m[0],m[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Bp=o,Bp}var Ip,j2;function DB(){if(j2)return Ip;j2=1;var e=TB(),t=Yf(),r=mx();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Ip=n,Ip}var Fp,N2;function OB(){if(N2)return Fp;N2=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Fp=e,Fp}var Hp,k2;function Qf(){if(k2)return Hp;k2=1;var e=OB();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Hp=t,Hp}var Kp,E2;function AB(){if(E2)return Kp;E2=1;var e=Qf();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Kp=t,Kp}var Gp,C2;function RB(){if(C2)return Gp;C2=1;var e=Qf();function t(r){return e(this,r).get(r)}return Gp=t,Gp}var Yp,T2;function MB(){if(T2)return Yp;T2=1;var e=Qf();function t(r){return e(this,r).has(r)}return Yp=t,Yp}var Vp,D2;function LB(){if(D2)return Vp;D2=1;var e=Qf();function t(r,n){var i=e(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return Vp=t,Vp}var Qp,O2;function gx(){if(O2)return Qp;O2=1;var e=DB(),t=AB(),r=RB(),n=MB(),i=LB();function o(c){var d=-1,h=c==null?0:c.length;for(this.clear();++d<h;){var m=c[d];this.set(m[0],m[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Qp=o,Qp}var Wp,A2;function qB(){if(A2)return Wp;A2=1;var e=Yf(),t=mx(),r=gx(),n=200;function i(o,c){var d=this.__data__;if(d instanceof e){var h=d.__data__;if(!t||h.length<n-1)return h.push([o,c]),this.size=++d.size,this;d=this.__data__=new r(h)}return d.set(o,c),this.size=d.size,this}return Wp=i,Wp}var Xp,R2;function px(){if(R2)return Xp;R2=1;var e=Yf(),t=pB(),r=vB(),n=yB(),i=bB(),o=qB();function c(d){var h=this.__data__=new e(d);this.size=h.size}return c.prototype.clear=t,c.prototype.delete=r,c.prototype.get=n,c.prototype.has=i,c.prototype.set=o,Xp=c,Xp}var Jp,M2;function UB(){if(M2)return Jp;M2=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Jp=t,Jp}var Zp,L2;function PB(){if(L2)return Zp;L2=1;function e(t){return this.__data__.has(t)}return Zp=e,Zp}var ev,q2;function $B(){if(q2)return ev;q2=1;var e=gx(),t=UB(),r=PB();function n(i){var o=-1,c=i==null?0:i.length;for(this.__data__=new e;++o<c;)this.add(i[o])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,ev=n,ev}var tv,U2;function zB(){if(U2)return tv;U2=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return tv=e,tv}var rv,P2;function BB(){if(P2)return rv;P2=1;function e(t,r){return t.has(r)}return rv=e,rv}var nv,$2;function yO(){if($2)return nv;$2=1;var e=$B(),t=zB(),r=BB(),n=1,i=2;function o(c,d,h,m,g,v){var b=h&n,x=c.length,S=d.length;if(x!=S&&!(b&&S>x))return!1;var w=v.get(c),_=v.get(d);if(w&&_)return w==d&&_==c;var N=-1,C=!0,T=h&i?new e:void 0;for(v.set(c,d),v.set(d,c);++N<x;){var A=c[N],L=d[N];if(m)var E=b?m(L,A,N,d,c,v):m(A,L,N,c,d,v);if(E!==void 0){if(E)continue;C=!1;break}if(T){if(!t(d,function(D,R){if(!r(T,R)&&(A===D||g(A,D,h,m,v)))return T.push(R)})){C=!1;break}}else if(!(A===L||g(A,L,h,m,v))){C=!1;break}}return v.delete(c),v.delete(d),C}return nv=o,nv}var av,z2;function bO(){if(z2)return av;z2=1;var e=ma(),t=e.Uint8Array;return av=t,av}var sv,B2;function IB(){if(B2)return sv;B2=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,o){n[++r]=[o,i]}),n}return sv=e,sv}var iv,I2;function FB(){if(I2)return iv;I2=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return iv=e,iv}var ov,F2;function HB(){if(F2)return ov;F2=1;var e=Qo(),t=bO(),r=Vc(),n=yO(),i=IB(),o=FB(),c=1,d=2,h="[object Boolean]",m="[object Date]",g="[object Error]",v="[object Map]",b="[object Number]",x="[object RegExp]",S="[object Set]",w="[object String]",_="[object Symbol]",N="[object ArrayBuffer]",C="[object DataView]",T=e?e.prototype:void 0,A=T?T.valueOf:void 0;function L(E,D,R,q,B,U,K){switch(R){case C:if(E.byteLength!=D.byteLength||E.byteOffset!=D.byteOffset)return!1;E=E.buffer,D=D.buffer;case N:return!(E.byteLength!=D.byteLength||!U(new t(E),new t(D)));case h:case m:case b:return r(+E,+D);case g:return E.name==D.name&&E.message==D.message;case x:case w:return E==D+"";case v:var V=i;case S:var te=q&c;if(V||(V=o),E.size!=D.size&&!te)return!1;var ge=K.get(E);if(ge)return ge==D;q|=d,K.set(E,D);var P=n(V(E),V(D),q,B,U,K);return K.delete(E),P;case _:if(A)return A.call(E)==A.call(D)}return!1}return ov=L,ov}var lv,H2;function vx(){if(H2)return lv;H2=1;function e(t,r){for(var n=-1,i=r.length,o=t.length;++n<i;)t[o+n]=r[n];return t}return lv=e,lv}var cv,K2;function Ln(){if(K2)return cv;K2=1;var e=Array.isArray;return cv=e,cv}var uv,G2;function xO(){if(G2)return uv;G2=1;var e=vx(),t=Ln();function r(n,i,o){var c=i(n);return t(n)?c:e(c,o(n))}return uv=r,uv}var dv,Y2;function KB(){if(Y2)return dv;Y2=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=0,c=[];++n<i;){var d=t[n];r(d,n,t)&&(c[o++]=d)}return c}return dv=e,dv}var fv,V2;function wO(){if(V2)return fv;V2=1;function e(){return[]}return fv=e,fv}var hv,Q2;function yx(){if(Q2)return hv;Q2=1;var e=KB(),t=wO(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(c){return c==null?[]:(c=Object(c),e(i(c),function(d){return n.call(c,d)}))}:t;return hv=o,hv}var mv,W2;function GB(){if(W2)return mv;W2=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return mv=e,mv}var gv,X2;function YB(){if(X2)return gv;X2=1;var e=Wo(),t=Os(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return gv=n,gv}var pv,J2;function bx(){if(J2)return pv;J2=1;var e=YB(),t=Os(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(c){return t(c)&&n.call(c,"callee")&&!i.call(c,"callee")};return pv=o,pv}var Jl={exports:{}},vv,Z2;function VB(){if(Z2)return vv;Z2=1;function e(){return!1}return vv=e,vv}Jl.exports;var ek;function Wf(){return ek||(ek=1,(function(e,t){var r=ma(),n=VB(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,c=o&&o.exports===i,d=c?r.Buffer:void 0,h=d?d.isBuffer:void 0,m=h||n;e.exports=m})(Jl,Jl.exports)),Jl.exports}var yv,tk;function QB(){if(tk)return yv;tk=1;var e=Wo(),t=ex(),r=Os(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",m="[object Map]",g="[object Number]",v="[object Object]",b="[object RegExp]",x="[object Set]",S="[object String]",w="[object WeakMap]",_="[object ArrayBuffer]",N="[object DataView]",C="[object Float32Array]",T="[object Float64Array]",A="[object Int8Array]",L="[object Int16Array]",E="[object Int32Array]",D="[object Uint8Array]",R="[object Uint8ClampedArray]",q="[object Uint16Array]",B="[object Uint32Array]",U={};U[C]=U[T]=U[A]=U[L]=U[E]=U[D]=U[R]=U[q]=U[B]=!0,U[n]=U[i]=U[_]=U[o]=U[N]=U[c]=U[d]=U[h]=U[m]=U[g]=U[v]=U[b]=U[x]=U[S]=U[w]=!1;function K(V){return r(V)&&t(V.length)&&!!U[e(V)]}return yv=K,yv}var bv,rk;function Xf(){if(rk)return bv;rk=1;function e(t){return function(r){return t(r)}}return bv=e,bv}var Zl={exports:{}};Zl.exports;var nk;function xx(){return nk||(nk=1,(function(e,t){var r=tO(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,c=o&&r.process,d=(function(){try{var h=i&&i.require&&i.require("util").types;return h||c&&c.binding&&c.binding("util")}catch{}})();e.exports=d})(Zl,Zl.exports)),Zl.exports}var xv,ak;function wx(){if(ak)return xv;ak=1;var e=QB(),t=Xf(),r=xx(),n=r&&r.isTypedArray,i=n?t(n):e;return xv=i,xv}var wv,sk;function _O(){if(sk)return wv;sk=1;var e=GB(),t=bx(),r=Ln(),n=Wf(),i=tx(),o=wx(),c=Object.prototype,d=c.hasOwnProperty;function h(m,g){var v=r(m),b=!v&&t(m),x=!v&&!b&&n(m),S=!v&&!b&&!x&&o(m),w=v||b||x||S,_=w?e(m.length,String):[],N=_.length;for(var C in m)(g||d.call(m,C))&&!(w&&(C=="length"||x&&(C=="offset"||C=="parent")||S&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,N)))&&_.push(C);return _}return wv=h,wv}var _v,ik;function _x(){if(ik)return _v;ik=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return _v=t,_v}var Sv,ok;function SO(){if(ok)return Sv;ok=1;function e(t,r){return function(n){return t(r(n))}}return Sv=e,Sv}var jv,lk;function WB(){if(lk)return jv;lk=1;var e=SO(),t=e(Object.keys,Object);return jv=t,jv}var Nv,ck;function XB(){if(ck)return Nv;ck=1;var e=_x(),t=WB(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!e(o))return t(o);var c=[];for(var d in Object(o))n.call(o,d)&&d!="constructor"&&c.push(d);return c}return Nv=i,Nv}var kv,uk;function eu(){if(uk)return kv;uk=1;var e=_O(),t=XB(),r=Qc();function n(i){return r(i)?e(i):t(i)}return kv=n,kv}var Ev,dk;function jO(){if(dk)return Ev;dk=1;var e=xO(),t=yx(),r=eu();function n(i){return e(i,r,t)}return Ev=n,Ev}var Cv,fk;function JB(){if(fk)return Cv;fk=1;var e=jO(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,c,d,h,m,g){var v=d&t,b=e(o),x=b.length,S=e(c),w=S.length;if(x!=w&&!v)return!1;for(var _=x;_--;){var N=b[_];if(!(v?N in c:n.call(c,N)))return!1}var C=g.get(o),T=g.get(c);if(C&&T)return C==c&&T==o;var A=!0;g.set(o,c),g.set(c,o);for(var L=v;++_<x;){N=b[_];var E=o[N],D=c[N];if(h)var R=v?h(D,E,N,c,o,g):h(E,D,N,o,c,g);if(!(R===void 0?E===D||m(E,D,d,h,g):R)){A=!1;break}L||(L=N=="constructor")}if(A&&!L){var q=o.constructor,B=c.constructor;q!=B&&"constructor"in o&&"constructor"in c&&!(typeof q=="function"&&q instanceof q&&typeof B=="function"&&B instanceof B)&&(A=!1)}return g.delete(o),g.delete(c),A}return Cv=i,Cv}var Tv,hk;function ZB(){if(hk)return Tv;hk=1;var e=Ti(),t=ma(),r=e(t,"DataView");return Tv=r,Tv}var Dv,mk;function eI(){if(mk)return Dv;mk=1;var e=Ti(),t=ma(),r=e(t,"Promise");return Dv=r,Dv}var Ov,gk;function tI(){if(gk)return Ov;gk=1;var e=Ti(),t=ma(),r=e(t,"Set");return Ov=r,Ov}var Av,pk;function rI(){if(pk)return Av;pk=1;var e=Ti(),t=ma(),r=e(t,"WeakMap");return Av=r,Av}var Rv,vk;function Jf(){if(vk)return Rv;vk=1;var e=ZB(),t=mx(),r=eI(),n=tI(),i=rI(),o=Wo(),c=vO(),d="[object Map]",h="[object Object]",m="[object Promise]",g="[object Set]",v="[object WeakMap]",b="[object DataView]",x=c(e),S=c(t),w=c(r),_=c(n),N=c(i),C=o;return(e&&C(new e(new ArrayBuffer(1)))!=b||t&&C(new t)!=d||r&&C(r.resolve())!=m||n&&C(new n)!=g||i&&C(new i)!=v)&&(C=function(T){var A=o(T),L=A==h?T.constructor:void 0,E=L?c(L):"";if(E)switch(E){case x:return b;case S:return d;case w:return m;case _:return g;case N:return v}return A}),Rv=C,Rv}var Mv,yk;function nI(){if(yk)return Mv;yk=1;var e=px(),t=yO(),r=HB(),n=JB(),i=Jf(),o=Ln(),c=Wf(),d=wx(),h=1,m="[object Arguments]",g="[object Array]",v="[object Object]",b=Object.prototype,x=b.hasOwnProperty;function S(w,_,N,C,T,A){var L=o(w),E=o(_),D=L?g:i(w),R=E?g:i(_);D=D==m?v:D,R=R==m?v:R;var q=D==v,B=R==v,U=D==R;if(U&&c(w)){if(!c(_))return!1;L=!0,q=!1}if(U&&!q)return A||(A=new e),L||d(w)?t(w,_,N,C,T,A):r(w,_,D,N,C,T,A);if(!(N&h)){var K=q&&x.call(w,"__wrapped__"),V=B&&x.call(_,"__wrapped__");if(K||V){var te=K?w.value():w,ge=V?_.value():_;return A||(A=new e),T(te,ge,N,C,A)}}return U?(A||(A=new e),n(w,_,N,C,T,A)):!1}return Mv=S,Mv}var Lv,bk;function Sx(){if(bk)return Lv;bk=1;var e=nI(),t=Os();function r(n,i,o,c,d){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,o,c,r,d)}return Lv=r,Lv}var qv,xk;function aI(){if(xk)return qv;xk=1;var e=Sx();function t(r,n){return e(r,n)}return qv=t,qv}var sI=aI();const iI=$r(sI);function Uv(e,t){var r=rx(e);return r?r.innerHeight:di(e).height}function NO(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(Mz(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}var Pv,wk;function oI(){if(wk)return Pv;wk=1;function e(t,r,n,i){for(var o=t.length,c=n+(i?1:-1);i?c--:++c<o;)if(r(t[c],c,t))return c;return-1}return Pv=e,Pv}var $v,_k;function lI(){if(_k)return $v;_k=1;var e=px(),t=Sx(),r=1,n=2;function i(o,c,d,h){var m=d.length,g=m,v=!h;if(o==null)return!g;for(o=Object(o);m--;){var b=d[m];if(v&&b[2]?b[1]!==o[b[0]]:!(b[0]in o))return!1}for(;++m<g;){b=d[m];var x=b[0],S=o[x],w=b[1];if(v&&b[2]){if(S===void 0&&!(x in o))return!1}else{var _=new e;if(h)var N=h(S,w,x,o,c,_);if(!(N===void 0?t(w,S,r|n,h,_):N))return!1}}return!0}return $v=i,$v}var zv,Sk;function kO(){if(Sk)return zv;Sk=1;var e=Ha();function t(r){return r===r&&!e(r)}return zv=t,zv}var Bv,jk;function cI(){if(jk)return Bv;jk=1;var e=kO(),t=eu();function r(n){for(var i=t(n),o=i.length;o--;){var c=i[o],d=n[c];i[o]=[c,d,e(d)]}return i}return Bv=r,Bv}var Iv,Nk;function EO(){if(Nk)return Iv;Nk=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Iv=e,Iv}var Fv,kk;function uI(){if(kk)return Fv;kk=1;var e=lI(),t=cI(),r=EO();function n(i){var o=t(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(c){return c===i||e(c,i,o)}}return Fv=n,Fv}var Hv,Ek;function jx(){if(Ek)return Hv;Ek=1;var e=Ln(),t=Wc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,c){if(e(o))return!1;var d=typeof o;return d=="number"||d=="symbol"||d=="boolean"||o==null||t(o)?!0:n.test(o)||!r.test(o)||c!=null&&o in Object(c)}return Hv=i,Hv}var Kv,Ck;function dI(){if(Ck)return Kv;Ck=1;var e=gx(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var c=arguments,d=i?i.apply(this,c):c[0],h=o.cache;if(h.has(d))return h.get(d);var m=n.apply(this,c);return o.cache=h.set(d,m)||h,m};return o.cache=new(r.Cache||e),o}return r.Cache=e,Kv=r,Kv}var Gv,Tk;function fI(){if(Tk)return Gv;Tk=1;var e=dI(),t=500;function r(n){var i=e(n,function(c){return o.size===t&&o.clear(),c}),o=i.cache;return i}return Gv=r,Gv}var Yv,Dk;function hI(){if(Dk)return Yv;Dk=1;var e=fI(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(c,d,h,m){o.push(h?m.replace(r,"$1"):d||c)}),o});return Yv=n,Yv}var Vv,Ok;function Nx(){if(Ok)return Vv;Ok=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=Array(i);++n<i;)o[n]=r(t[n],n,t);return o}return Vv=e,Vv}var Qv,Ak;function mI(){if(Ak)return Qv;Ak=1;var e=Qo(),t=Nx(),r=Ln(),n=Wc(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function c(d){if(typeof d=="string")return d;if(r(d))return t(d,c)+"";if(n(d))return o?o.call(d):"";var h=d+"";return h=="0"&&1/d==-1/0?"-0":h}return Qv=c,Qv}var Wv,Rk;function gI(){if(Rk)return Wv;Rk=1;var e=mI();function t(r){return r==null?"":e(r)}return Wv=t,Wv}var Xv,Mk;function Zf(){if(Mk)return Xv;Mk=1;var e=Ln(),t=jx(),r=hI(),n=gI();function i(o,c){return e(o)?o:t(o,c)?[o]:r(n(o))}return Xv=i,Xv}var Jv,Lk;function tu(){if(Lk)return Jv;Lk=1;var e=Wc();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Jv=t,Jv}var Zv,qk;function eh(){if(qk)return Zv;qk=1;var e=Zf(),t=tu();function r(n,i){i=e(i,n);for(var o=0,c=i.length;n!=null&&o<c;)n=n[t(i[o++])];return o&&o==c?n:void 0}return Zv=r,Zv}var ey,Uk;function pI(){if(Uk)return ey;Uk=1;var e=eh();function t(r,n,i){var o=r==null?void 0:e(r,n);return o===void 0?i:o}return ey=t,ey}var ty,Pk;function vI(){if(Pk)return ty;Pk=1;function e(t,r){return t!=null&&r in Object(t)}return ty=e,ty}var ry,$k;function yI(){if($k)return ry;$k=1;var e=Zf(),t=bx(),r=Ln(),n=tx(),i=ex(),o=tu();function c(d,h,m){h=e(h,d);for(var g=-1,v=h.length,b=!1;++g<v;){var x=o(h[g]);if(!(b=d!=null&&m(d,x)))break;d=d[x]}return b||++g!=v?b:(v=d==null?0:d.length,!!v&&i(v)&&n(x,v)&&(r(d)||t(d)))}return ry=c,ry}var ny,zk;function bI(){if(zk)return ny;zk=1;var e=vI(),t=yI();function r(n,i){return n!=null&&t(n,i,e)}return ny=r,ny}var ay,Bk;function xI(){if(Bk)return ay;Bk=1;var e=Sx(),t=pI(),r=bI(),n=jx(),i=kO(),o=EO(),c=tu(),d=1,h=2;function m(g,v){return n(g)&&i(v)?o(c(g),v):function(b){var x=t(b,g);return x===void 0&&x===v?r(b,g):e(v,x,d|h)}}return ay=m,ay}var sy,Ik;function th(){if(Ik)return sy;Ik=1;function e(t){return t}return sy=e,sy}var iy,Fk;function wI(){if(Fk)return iy;Fk=1;function e(t){return function(r){return r?.[t]}}return iy=e,iy}var oy,Hk;function _I(){if(Hk)return oy;Hk=1;var e=eh();function t(r){return function(n){return e(n,r)}}return oy=t,oy}var ly,Kk;function SI(){if(Kk)return ly;Kk=1;var e=wI(),t=_I(),r=jx(),n=tu();function i(o){return r(o)?e(n(o)):t(o)}return ly=i,ly}var cy,Gk;function rh(){if(Gk)return cy;Gk=1;var e=uI(),t=xI(),r=th(),n=Ln(),i=SI();function o(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?n(c)?t(c[0],c[1]):e(c):i(c)}return cy=o,cy}var uy,Yk;function jI(){if(Yk)return uy;Yk=1;var e=oI(),t=rh(),r=nO(),n=Math.max;function i(o,c,d){var h=o==null?0:o.length;if(!h)return-1;var m=d==null?0:r(d);return m<0&&(m=n(h+m,0)),e(o,t(c,3),m)}return uy=i,uy}var NI=jI();const kI=$r(NI);var dy,Vk;function EI(){if(Vk)return dy;Vk=1;var e=Math.ceil,t=Math.max;function r(n,i,o,c){for(var d=-1,h=t(e((i-n)/(o||1)),0),m=Array(h);h--;)m[c?h:++d]=n,n+=o;return m}return dy=r,dy}var fy,Qk;function CI(){if(Qk)return fy;Qk=1;var e=EI(),t=Hf(),r=rO();function n(i){return function(o,c,d){return d&&typeof d!="number"&&t(o,c,d)&&(c=d=void 0),o=r(o),c===void 0?(c=o,o=0):c=r(c),d=d===void 0?o<c?1:-1:r(d),e(o,c,d,i)}}return fy=n,fy}var hy,Wk;function TI(){if(Wk)return hy;Wk=1;var e=CI(),t=e();return hy=t,hy}var DI=TI();const OI=$r(DI);var Xk=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function AI(e,t){return!!(e===t||Xk(e)&&Xk(t))}function RI(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!AI(e[r],t[r]))return!1;return!0}function CO(e,t){t===void 0&&(t=RI);var r=null;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(r&&r.lastThis===this&&t(i,r.lastArgs))return r.lastResult;var c=e.apply(this,i);return r={lastResult:c,lastArgs:i,lastThis:this},c}return n.clear=function(){r=null},n}function ab(e,t){var r=rx(e);return r?r.innerWidth:di(e).width}var my,Jk;function MI(){if(Jk)return my;Jk=1;var e=Qo(),t=bx(),r=Ln(),n=e?e.isConcatSpreadable:void 0;function i(o){return r(o)||t(o)||!!(n&&o&&o[n])}return my=i,my}var gy,Zk;function TO(){if(Zk)return gy;Zk=1;var e=vx(),t=MI();function r(n,i,o,c,d){var h=-1,m=n.length;for(o||(o=t),d||(d=[]);++h<m;){var g=n[h];i>0&&o(g)?i>1?r(g,i-1,o,c,d):e(d,g):c||(d[d.length]=g)}return d}return gy=r,gy}var py,eE;function LI(){if(eE)return py;eE=1;function e(t){return function(r,n,i){for(var o=-1,c=Object(r),d=i(r),h=d.length;h--;){var m=d[t?h:++o];if(n(c[m],m,c)===!1)break}return r}}return py=e,py}var vy,tE;function qI(){if(tE)return vy;tE=1;var e=LI(),t=e();return vy=t,vy}var yy,rE;function kx(){if(rE)return yy;rE=1;var e=qI(),t=eu();function r(n,i){return n&&e(n,i,t)}return yy=r,yy}var by,nE;function UI(){if(nE)return by;nE=1;var e=Qc();function t(r,n){return function(i,o){if(i==null)return i;if(!e(i))return r(i,o);for(var c=i.length,d=n?c:-1,h=Object(i);(n?d--:++d<c)&&o(h[d],d,h)!==!1;);return i}}return by=t,by}var xy,aE;function PI(){if(aE)return xy;aE=1;var e=kx(),t=UI(),r=t(e);return xy=r,xy}var wy,sE;function $I(){if(sE)return wy;sE=1;var e=PI(),t=Qc();function r(n,i){var o=-1,c=t(n)?Array(n.length):[];return e(n,function(d,h,m){c[++o]=i(d,h,m)}),c}return wy=r,wy}var _y,iE;function zI(){if(iE)return _y;iE=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return _y=e,_y}var Sy,oE;function BI(){if(oE)return Sy;oE=1;var e=Wc();function t(r,n){if(r!==n){var i=r!==void 0,o=r===null,c=r===r,d=e(r),h=n!==void 0,m=n===null,g=n===n,v=e(n);if(!m&&!v&&!d&&r>n||d&&h&&g&&!m&&!v||o&&h&&g||!i&&g||!c)return 1;if(!o&&!d&&!v&&r<n||v&&i&&c&&!o&&!d||m&&i&&c||!h&&c||!g)return-1}return 0}return Sy=t,Sy}var jy,lE;function II(){if(lE)return jy;lE=1;var e=BI();function t(r,n,i){for(var o=-1,c=r.criteria,d=n.criteria,h=c.length,m=i.length;++o<h;){var g=e(c[o],d[o]);if(g){if(o>=m)return g;var v=i[o];return g*(v=="desc"?-1:1)}}return r.index-n.index}return jy=t,jy}var Ny,cE;function FI(){if(cE)return Ny;cE=1;var e=Nx(),t=eh(),r=rh(),n=$I(),i=zI(),o=Xf(),c=II(),d=th(),h=Ln();function m(g,v,b){v.length?v=e(v,function(w){return h(w)?function(_){return t(_,w.length===1?w[0]:w)}:w}):v=[d];var x=-1;v=e(v,o(r));var S=n(g,function(w,_,N){var C=e(v,function(T){return T(w)});return{criteria:C,index:++x,value:w}});return i(S,function(w,_){return c(w,_,b)})}return Ny=m,Ny}var ky,uE;function HI(){if(uE)return ky;uE=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return ky=e,ky}var Ey,dE;function DO(){if(dE)return Ey;dE=1;var e=HI(),t=Math.max;function r(n,i,o){return i=t(i===void 0?n.length-1:i,0),function(){for(var c=arguments,d=-1,h=t(c.length-i,0),m=Array(h);++d<h;)m[d]=c[i+d];d=-1;for(var g=Array(i+1);++d<i;)g[d]=c[d];return g[i]=o(m),e(n,this,g)}}return Ey=r,Ey}var Cy,fE;function KI(){if(fE)return Cy;fE=1;function e(t){return function(){return t}}return Cy=e,Cy}var Ty,hE;function OO(){if(hE)return Ty;hE=1;var e=Ti(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Ty=t,Ty}var Dy,mE;function GI(){if(mE)return Dy;mE=1;var e=KI(),t=OO(),r=th(),n=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return Dy=n,Dy}var Oy,gE;function YI(){if(gE)return Oy;gE=1;var e=800,t=16,r=Date.now;function n(i){var o=0,c=0;return function(){var d=r(),h=t-(d-c);if(c=d,h>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Oy=n,Oy}var Ay,pE;function AO(){if(pE)return Ay;pE=1;var e=GI(),t=YI(),r=t(e);return Ay=r,Ay}var Ry,vE;function RO(){if(vE)return Ry;vE=1;var e=th(),t=DO(),r=AO();function n(i,o){return r(t(i,o,e),i+"")}return Ry=n,Ry}var My,yE;function VI(){if(yE)return My;yE=1;var e=TO(),t=FI(),r=RO(),n=Hf(),i=r(function(o,c){if(o==null)return[];var d=c.length;return d>1&&n(o,c[0],c[1])?c=[]:d>2&&n(c[0],c[1],c[2])&&(c=[c[0]]),t(o,e(c,1),[])});return My=i,My}var QI=VI();const WI=$r(QI);function MO(e){return $D(e)||ZD(e)||Wb(e)||zD()}var Ly,bE;function XI(){if(bE)return Ly;bE=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return Ly=e,Ly}var qy,xE;function JI(){if(xE)return qy;xE=1;var e=Ha(),t=_x(),r=XI(),n=Object.prototype,i=n.hasOwnProperty;function o(c){if(!e(c))return r(c);var d=t(c),h=[];for(var m in c)m=="constructor"&&(d||!i.call(c,m))||h.push(m);return h}return qy=o,qy}var Uy,wE;function nh(){if(wE)return Uy;wE=1;var e=_O(),t=JI(),r=Qc();function n(i){return r(i)?e(i,!0):t(i)}return Uy=n,Uy}var Py,_E;function ZI(){if(_E)return Py;_E=1;var e=RO(),t=Vc(),r=Hf(),n=nh(),i=Object.prototype,o=i.hasOwnProperty,c=e(function(d,h){d=Object(d);var m=-1,g=h.length,v=g>2?h[2]:void 0;for(v&&r(h[0],h[1],v)&&(g=1);++m<g;)for(var b=h[m],x=n(b),S=-1,w=x.length;++S<w;){var _=x[S],N=d[_];(N===void 0||t(N,i[_])&&!o.call(d,_))&&(d[_]=b[_])}return d});return Py=c,Py}var e9=ZI();const t9=$r(e9);var $y,SE;function Ex(){if(SE)return $y;SE=1;var e=OO();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return $y=t,$y}var zy,jE;function r9(){if(jE)return zy;jE=1;var e=Ex(),t=kx(),r=rh();function n(i,o){var c={};return o=r(o,3),t(i,function(d,h,m){e(c,h,o(d,h,m))}),c}return zy=n,zy}var n9=r9();const a9=$r(n9);var By,NE;function LO(){if(NE)return By;NE=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i&&r(t[n],n,t)!==!1;);return t}return By=e,By}var Iy,kE;function qO(){if(kE)return Iy;kE=1;var e=Ex(),t=Vc(),r=Object.prototype,n=r.hasOwnProperty;function i(o,c,d){var h=o[c];(!(n.call(o,c)&&t(h,d))||d===void 0&&!(c in o))&&e(o,c,d)}return Iy=i,Iy}var Fy,EE;function ru(){if(EE)return Fy;EE=1;var e=qO(),t=Ex();function r(n,i,o,c){var d=!o;o||(o={});for(var h=-1,m=i.length;++h<m;){var g=i[h],v=c?c(o[g],n[g],g,o,n):void 0;v===void 0&&(v=n[g]),d?t(o,g,v):e(o,g,v)}return o}return Fy=r,Fy}var Hy,CE;function s9(){if(CE)return Hy;CE=1;var e=ru(),t=eu();function r(n,i){return n&&e(i,t(i),n)}return Hy=r,Hy}var Ky,TE;function i9(){if(TE)return Ky;TE=1;var e=ru(),t=nh();function r(n,i){return n&&e(i,t(i),n)}return Ky=r,Ky}var ec={exports:{}};ec.exports;var DE;function o9(){return DE||(DE=1,(function(e,t){var r=ma(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,c=o?r.Buffer:void 0,d=c?c.allocUnsafe:void 0;function h(m,g){if(g)return m.slice();var v=m.length,b=d?d(v):new m.constructor(v);return m.copy(b),b}e.exports=h})(ec,ec.exports)),ec.exports}var Gy,OE;function l9(){if(OE)return Gy;OE=1;function e(t,r){var n=-1,i=t.length;for(r||(r=Array(i));++n<i;)r[n]=t[n];return r}return Gy=e,Gy}var Yy,AE;function c9(){if(AE)return Yy;AE=1;var e=ru(),t=yx();function r(n,i){return e(n,t(n),i)}return Yy=r,Yy}var Vy,RE;function ah(){if(RE)return Vy;RE=1;var e=SO(),t=e(Object.getPrototypeOf,Object);return Vy=t,Vy}var Qy,ME;function UO(){if(ME)return Qy;ME=1;var e=vx(),t=ah(),r=yx(),n=wO(),i=Object.getOwnPropertySymbols,o=i?function(c){for(var d=[];c;)e(d,r(c)),c=t(c);return d}:n;return Qy=o,Qy}var Wy,LE;function u9(){if(LE)return Wy;LE=1;var e=ru(),t=UO();function r(n,i){return e(n,t(n),i)}return Wy=r,Wy}var Xy,qE;function PO(){if(qE)return Xy;qE=1;var e=xO(),t=UO(),r=nh();function n(i){return e(i,r,t)}return Xy=n,Xy}var Jy,UE;function d9(){if(UE)return Jy;UE=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var i=n.length,o=new n.constructor(i);return i&&typeof n[0]=="string"&&t.call(n,"index")&&(o.index=n.index,o.input=n.input),o}return Jy=r,Jy}var Zy,PE;function Cx(){if(PE)return Zy;PE=1;var e=bO();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return Zy=t,Zy}var e0,$E;function f9(){if($E)return e0;$E=1;var e=Cx();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return e0=t,e0}var t0,zE;function h9(){if(zE)return t0;zE=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return t0=t,t0}var r0,BE;function m9(){if(BE)return r0;BE=1;var e=Qo(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return r0=n,r0}var n0,IE;function g9(){if(IE)return n0;IE=1;var e=Cx();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return n0=t,n0}var a0,FE;function p9(){if(FE)return a0;FE=1;var e=Cx(),t=f9(),r=h9(),n=m9(),i=g9(),o="[object Boolean]",c="[object Date]",d="[object Map]",h="[object Number]",m="[object RegExp]",g="[object Set]",v="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",S="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",N="[object Int8Array]",C="[object Int16Array]",T="[object Int32Array]",A="[object Uint8Array]",L="[object Uint8ClampedArray]",E="[object Uint16Array]",D="[object Uint32Array]";function R(q,B,U){var K=q.constructor;switch(B){case x:return e(q);case o:case c:return new K(+q);case S:return t(q,U);case w:case _:case N:case C:case T:case A:case L:case E:case D:return i(q,U);case d:return new K;case h:case v:return new K(q);case m:return r(q);case g:return new K;case b:return n(q)}}return a0=R,a0}var s0,HE;function $O(){if(HE)return s0;HE=1;var e=Ha(),t=Object.create,r=(function(){function n(){}return function(i){if(!e(i))return{};if(t)return t(i);n.prototype=i;var o=new n;return n.prototype=void 0,o}})();return s0=r,s0}var i0,KE;function v9(){if(KE)return i0;KE=1;var e=$O(),t=ah(),r=_x();function n(i){return typeof i.constructor=="function"&&!r(i)?e(t(i)):{}}return i0=n,i0}var o0,GE;function y9(){if(GE)return o0;GE=1;var e=Jf(),t=Os(),r="[object Map]";function n(i){return t(i)&&e(i)==r}return o0=n,o0}var l0,YE;function b9(){if(YE)return l0;YE=1;var e=y9(),t=Xf(),r=xx(),n=r&&r.isMap,i=n?t(n):e;return l0=i,l0}var c0,VE;function x9(){if(VE)return c0;VE=1;var e=Jf(),t=Os(),r="[object Set]";function n(i){return t(i)&&e(i)==r}return c0=n,c0}var u0,QE;function w9(){if(QE)return u0;QE=1;var e=x9(),t=Xf(),r=xx(),n=r&&r.isSet,i=n?t(n):e;return u0=i,u0}var d0,WE;function _9(){if(WE)return d0;WE=1;var e=px(),t=LO(),r=qO(),n=s9(),i=i9(),o=o9(),c=l9(),d=c9(),h=u9(),m=jO(),g=PO(),v=Jf(),b=d9(),x=p9(),S=v9(),w=Ln(),_=Wf(),N=b9(),C=Ha(),T=w9(),A=eu(),L=nh(),E=1,D=2,R=4,q="[object Arguments]",B="[object Array]",U="[object Boolean]",K="[object Date]",V="[object Error]",te="[object Function]",ge="[object GeneratorFunction]",P="[object Map]",W="[object Number]",J="[object Object]",me="[object RegExp]",oe="[object Set]",M="[object String]",H="[object Symbol]",se="[object WeakMap]",fe="[object ArrayBuffer]",be="[object DataView]",xe="[object Float32Array]",Oe="[object Float64Array]",Le="[object Int8Array]",ae="[object Int16Array]",le="[object Int32Array]",at="[object Uint8Array]",Pe="[object Uint8ClampedArray]",Xe="[object Uint16Array]",et="[object Uint32Array]",Ue={};Ue[q]=Ue[B]=Ue[fe]=Ue[be]=Ue[U]=Ue[K]=Ue[xe]=Ue[Oe]=Ue[Le]=Ue[ae]=Ue[le]=Ue[P]=Ue[W]=Ue[J]=Ue[me]=Ue[oe]=Ue[M]=Ue[H]=Ue[at]=Ue[Pe]=Ue[Xe]=Ue[et]=!0,Ue[V]=Ue[te]=Ue[se]=!1;function ht(Be,dr,Wt,bt,mt,gt){var ft,nt=dr&E,yr=dr&D,Ht=dr&R;if(Wt&&(ft=mt?Wt(Be,bt,mt,gt):Wt(Be)),ft!==void 0)return ft;if(!C(Be))return Be;var jt=w(Be);if(jt){if(ft=b(Be),!nt)return c(Be,ft)}else{var Et=v(Be),Br=Et==te||Et==ge;if(_(Be))return o(Be,nt);if(Et==J||Et==q||Br&&!mt){if(ft=yr||Br?{}:S(Be),!nt)return yr?h(Be,i(ft,Be)):d(Be,n(ft,Be))}else{if(!Ue[Et])return mt?Be:{};ft=x(Be,Et,nt)}}gt||(gt=new e);var Ir=gt.get(Be);if(Ir)return Ir;gt.set(Be,ft),T(Be)?Be.forEach(function(Re){ft.add(ht(Re,dr,Wt,Re,Be,gt))}):N(Be)&&Be.forEach(function(Re,Ae){ft.set(Ae,ht(Re,dr,Wt,Ae,Be,gt))});var re=Ht?yr?g:m:yr?L:A,ve=jt?void 0:re(Be);return t(ve||Be,function(Re,Ae){ve&&(Ae=Re,Re=Be[Ae]),r(ft,Ae,ht(Re,dr,Wt,Ae,Be,gt))}),ft}return d0=ht,d0}var f0,XE;function S9(){if(XE)return f0;XE=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return f0=e,f0}var h0,JE;function j9(){if(JE)return h0;JE=1;var e=eh(),t=eO();function r(n,i){return i.length<2?n:e(n,t(i,0,-1))}return h0=r,h0}var m0,ZE;function N9(){if(ZE)return m0;ZE=1;var e=Zf(),t=S9(),r=j9(),n=tu();function i(o,c){return c=e(c,o),o=r(o,c),o==null||delete o[n(t(c))]}return m0=i,m0}var g0,eC;function k9(){if(eC)return g0;eC=1;var e=Wo(),t=ah(),r=Os(),n="[object Object]",i=Function.prototype,o=Object.prototype,c=i.toString,d=o.hasOwnProperty,h=c.call(Object);function m(g){if(!r(g)||e(g)!=n)return!1;var v=t(g);if(v===null)return!0;var b=d.call(v,"constructor")&&v.constructor;return typeof b=="function"&&b instanceof b&&c.call(b)==h}return g0=m,g0}var p0,tC;function E9(){if(tC)return p0;tC=1;var e=k9();function t(r){return e(r)?void 0:r}return p0=t,p0}var v0,rC;function C9(){if(rC)return v0;rC=1;var e=TO();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return v0=t,v0}var y0,nC;function T9(){if(nC)return y0;nC=1;var e=C9(),t=DO(),r=AO();function n(i){return r(t(i,void 0,e),i+"")}return y0=n,y0}var b0,aC;function D9(){if(aC)return b0;aC=1;var e=Nx(),t=_9(),r=N9(),n=Zf(),i=ru(),o=E9(),c=T9(),d=PO(),h=1,m=2,g=4,v=c(function(b,x){var S={};if(b==null)return S;var w=!1;x=e(x,function(N){return N=n(N,b),w||(w=N.length>1),N}),i(b,d(b),S),w&&(S=t(S,h|m|g,o));for(var _=x.length;_--;)r(S,x[_]);return S});return b0=v,b0}var O9=D9();const A9=$r(O9);var x0,sC;function R9(){if(sC)return x0;sC=1;var e=LO(),t=$O(),r=kx(),n=rh(),i=ah(),o=Ln(),c=Wf(),d=Zb(),h=Ha(),m=wx();function g(v,b,x){var S=o(v),w=S||c(v)||m(v);if(b=n(b,4),x==null){var _=v&&v.constructor;w?x=S?new _:[]:h(v)?x=d(_)?t(i(v)):{}:x={}}return(w?e:r)(v,function(N,C,T){return b(x,N,C,T)}),x}return x0=g,x0}var M9=R9();const L9=$r(M9);var Bd={exports:{}},q9=Bd.exports,iC;function U9(){return iC||(iC=1,(function(e,t){(function(r,n){e.exports=n()})(q9,(function(){return function(r,n,i){n.prototype.isBetween=function(o,c,d,h){var m=i(o),g=i(c),v=(h=h||"()")[0]==="(",b=h[1]===")";return(v?this.isAfter(m,d):!this.isBefore(m,d))&&(b?this.isBefore(g,d):!this.isAfter(g,d))||(v?this.isBefore(m,d):!this.isAfter(m,d))&&(b?this.isAfter(g,d):!this.isBefore(g,d))}}}))})(Bd)),Bd.exports}U9();var Id={exports:{}},P9=Id.exports,oC;function $9(){return oC||(oC=1,(function(e,t){(function(r,n){e.exports=n()})(P9,(function(){return function(r,n){n.prototype.isSameOrAfter=function(i,o){return this.isSame(i,o)||this.isAfter(i,o)}}}))})(Id)),Id.exports}$9();var Fd={exports:{}},z9=Fd.exports,lC;function B9(){return lC||(lC=1,(function(e,t){(function(r,n){e.exports=n()})(z9,(function(){return function(r,n){n.prototype.isSameOrBefore=function(i,o){return this.isSame(i,o)||this.isBefore(i,o)}}}))})(Fd)),Fd.exports}B9();var Hd={exports:{}},I9=Hd.exports,cC;function F9(){return cC||(cC=1,(function(e,t){(function(r,n){e.exports=n()})(I9,(function(){return function(r,n,i){var o=n.prototype,c=function(v){return v&&(v.indexOf?v:v.s)},d=function(v,b,x,S,w){var _=v.name?v:v.$locale(),N=c(_[b]),C=c(_[x]),T=N||C.map((function(L){return L.slice(0,S)}));if(!w)return T;var A=_.weekStart;return T.map((function(L,E){return T[(E+(A||0))%7]}))},h=function(){return i.Ls[i.locale()]},m=function(v,b){return v.formats[b]||(function(x){return x.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(S,w,_){return w||_.slice(1)}))})(v.formats[b.toUpperCase()])},g=function(){var v=this;return{months:function(b){return b?b.format("MMMM"):d(v,"months")},monthsShort:function(b){return b?b.format("MMM"):d(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(b){return b?b.format("dddd"):d(v,"weekdays")},weekdaysMin:function(b){return b?b.format("dd"):d(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(b){return b?b.format("ddd"):d(v,"weekdaysShort","weekdays",3)},longDateFormat:function(b){return m(v.$locale(),b)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return g.bind(this)()},i.localeData=function(){var v=h();return{firstDayOfWeek:function(){return v.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(b){return m(v,b)},meridiem:v.meridiem,ordinal:v.ordinal}},i.months=function(){return d(h(),"months")},i.monthsShort=function(){return d(h(),"monthsShort","months",3)},i.weekdays=function(v){return d(h(),"weekdays",null,null,v)},i.weekdaysShort=function(v){return d(h(),"weekdaysShort","weekdays",3,v)},i.weekdaysMin=function(v){return d(h(),"weekdaysMin","weekdays",2,v)}}}))})(Hd)),Hd.exports}F9();var Kd={exports:{}},H9=Kd.exports,uC;function K9(){return uC||(uC=1,(function(e,t){(function(r,n){e.exports=n()})(H9,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,o){var c=i.prototype,d=c.format;o.en.formats=r,c.format=function(h){h===void 0&&(h="YYYY-MM-DDTHH:mm:ssZ");var m=this.$locale().formats,g=(function(v,b){return v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(x,S,w){var _=w&&w.toUpperCase();return S||b[w]||r[w]||b[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(N,C,T){return C||T.slice(1)}))}))})(h,m===void 0?{}:m);return d.call(this,g)}}}))})(Kd)),Kd.exports}K9();var Gd={exports:{}},G9=Gd.exports,dC;function Y9(){return dC||(dC=1,(function(e,t){(function(r,n){e.exports=n()})(G9,(function(){return function(r,n,i){var o=function(c,d){if(!d||!d.length||d.length===1&&!d[0]||d.length===1&&Array.isArray(d[0])&&!d[0].length)return null;var h;d.length===1&&d[0].length>0&&(d=d[0]),h=(d=d.filter((function(g){return g})))[0];for(var m=1;m<d.length;m+=1)d[m].isValid()&&!d[m][c](h)||(h=d[m]);return h};i.max=function(){var c=[].slice.call(arguments,0);return o("isAfter",c)},i.min=function(){var c=[].slice.call(arguments,0);return o("isBefore",c)}}}))})(Gd)),Gd.exports}Y9();var Yd={exports:{}},V9=Yd.exports,fC;function Q9(){return fC||(fC=1,(function(e,t){(function(r,n){e.exports=n()})(V9,(function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,c,d){var h=c.prototype;d.utc=function(w){var _={date:w,utc:!0,args:arguments};return new c(_)},h.utc=function(w){var _=d(this.toDate(),{locale:this.$L,utc:!0});return w?_.add(this.utcOffset(),r):_},h.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var m=h.parse;h.parse=function(w){w.utc&&(this.$u=!0),this.$utils().u(w.$offset)||(this.$offset=w.$offset),m.call(this,w)};var g=h.init;h.init=function(){if(this.$u){var w=this.$d;this.$y=w.getUTCFullYear(),this.$M=w.getUTCMonth(),this.$D=w.getUTCDate(),this.$W=w.getUTCDay(),this.$H=w.getUTCHours(),this.$m=w.getUTCMinutes(),this.$s=w.getUTCSeconds(),this.$ms=w.getUTCMilliseconds()}else g.call(this)};var v=h.utcOffset;h.utcOffset=function(w,_){var N=this.$utils().u;if(N(w))return this.$u?0:N(this.$offset)?v.call(this):this.$offset;if(typeof w=="string"&&(w=(function(L){L===void 0&&(L="");var E=L.match(n);if(!E)return null;var D=(""+E[0]).match(i)||["-",0,0],R=D[0],q=60*+D[1]+ +D[2];return q===0?0:R==="+"?q:-q})(w),w===null))return this;var C=Math.abs(w)<=16?60*w:w;if(C===0)return this.utc(_);var T=this.clone();if(_)return T.$offset=C,T.$u=!1,T;var A=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(T=this.local().add(C+A,r)).$offset=C,T.$x.$localOffset=A,T};var b=h.format;h.format=function(w){var _=w||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,_)},h.valueOf=function(){var w=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*w},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var x=h.toDate;h.toDate=function(w){return w==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():x.call(this)};var S=h.diff;h.diff=function(w,_,N){if(w&&this.$u===w.$u)return S.call(this,w,_,N);var C=this.local(),T=d(w).local();return S.call(C,T,_,N)}}}))})(Yd)),Yd.exports}Q9();var Vd={exports:{}},W9=Vd.exports,hC;function X9(){return hC||(hC=1,(function(e,t){(function(r,n){e.exports=n()})(W9,(function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(Vd)),Vd.exports}X9();function ia(e){return e.children}var Zr={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Ur={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},mC=Object.keys(Ur).map(function(e){return Ur[e]});ye.oneOfType([ye.string,ye.func]);ye.any;ye.func;ye.oneOfType([ye.arrayOf(ye.oneOf(mC)),ye.objectOf(function(e,t){var r=mC.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return ye.elementType.apply(ye,[e,t].concat(i))})]);ye.oneOfType([ye.oneOf(["overlap","no-overlap"]),ye.func]);var gC={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function zO(e,t){var r=Nr(e,"month");return Nr(r,"week",t.startOfWeek())}function BO(e,t){var r=bf(e,"month");return bf(r,"week",t.startOfWeek())}function J9(e,t){for(var r=zO(e,t),n=BO(e,t),i=[];Yo(r,n,"day");)i.push(r),r=Vn(r,1,"day");return i}function Z9(e,t){var r=Nr(e,t);return Go(r,e)?r:Vn(r,1,t)}function eF(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,i=[];Yo(n,t,r);)i.push(n),n=Vn(n,1,r);return i}function tF(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Nr(e,"day"),e=Dc(e,Dc(t)),e=Lo(e,Lo(t)),e=Tc(e,Tc(t)),Cc(e,Cc(t)))}function pC(e){return Dc(e)===0&&Lo(e)===0&&Tc(e)===0&&Cc(e)===0}function rF(e,t,r,n){return r==="day"&&(r="date"),Math.abs(cN[r](e,void 0,n)-cN[r](t,void 0,n))}function Tx(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Nr(e,r)/gC[r]-+Nr(t,r)/gC[r]))}var nF=ye.oneOfType([ye.string,ye.func]);function aF(e,t,r,n,i){var o=typeof n=="function"?n(r,i,e):t.call(e,r,n,i);return _c(o==null||typeof o=="string","`localizer format(..)` must return a string, null, or undefined"),o}function sF(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Dx(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function iF(e,t){return Tx(e,t,"minutes")+Dx(e,t)}function oF(e){var t=Nr(e,"day");return Tx(t,e,"minutes")+Dx(t,e)}function lF(e,t){return Jb(e,t,"day")}function cF(e,t,r){var n=Go(e,t,"minutes");return n?Yc(t,r,"minutes"):Ff(t,r,"minutes")}function sb(e,t){return rF(e,t,"day")}function uF(e){var t=e.evtA,r=t.start,n=t.end,i=t.allDay,o=e.evtB,c=o.start,d=o.end,h=o.allDay,m=+Nr(r,"day")-+Nr(c,"day"),g=sb(r,n),v=sb(c,d);return m||v-g||!!h-!!i||+r-+c||+n-+d}function dF(e){var t=e.event,r=t.start,n=t.end,i=e.range,o=i.start,c=i.end,d=Nr(r,"day"),h=Yo(d,c,"day"),m=Xb(d,n,"minutes"),g=m?Ff(n,o,"minutes"):Yc(n,o,"minutes");return h&&g}function fF(e,t){return Go(e,t,"day")}function hF(e,t){return pC(e)&&pC(t)}var mF=ur(function e(t){var r=this;cr(this,e),_c(typeof t.format=="function","date localizer `format(..)` must be a function"),_c(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||nF,this.formats=t.formats,this.format=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return aF.apply(void 0,[r,t.format].concat(i))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||tF,this.inRange=t.inRange||QD,this.lt=t.lt||Jb,this.lte=t.lte||Yo,this.gt=t.gt||Ff,this.gte=t.gte||Yc,this.eq=t.eq||Go,this.neq=t.neq||Xb,this.startOf=t.startOf||Nr,this.endOf=t.endOf||bf,this.add=t.add||Vn,this.range=t.range||eF,this.diff=t.diff||Tx,this.ceil=t.ceil||Z9,this.min=t.min||YD,this.max=t.max||VD,this.minutes=t.minutes||Lo,this.daySpan=t.daySpan||sb,this.firstVisibleDay=t.firstVisibleDay||zO,this.lastVisibleDay=t.lastVisibleDay||BO,this.visibleDays=t.visibleDays||J9,this.getSlotDate=t.getSlotDate||sF,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Dx,this.getTotalMin=t.getTotalMin||iF,this.getMinutesFromMidnight=t.getMinutesFromMidnight||oF,this.continuesPrior=t.continuesPrior||lF,this.continuesAfter=t.continuesAfter||cF,this.sortEvents=t.sortEvents||uF,this.inEventRange=t.inEventRange||dF,this.isSameDate=t.isSameDate||fF,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||hF,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function gF(e,t,r,n){var i=kt(kt({},e.formats),r);return kt(kt({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(c,d){return e.format(c,i[d]||d,t)}})}var pF=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Ar(this,t,[].concat(i)),r.navigate=function(c){r.props.onNavigate(c)},r.view=function(c){r.props.onView(c)},r}return Rr(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.localizer.messages,o=n.label;return I.createElement("div",{className:"rbc-toolbar"},I.createElement("span",{className:"rbc-btn-group"},I.createElement("button",{type:"button",onClick:this.navigate.bind(null,Zr.TODAY)},i.today),I.createElement("button",{type:"button",onClick:this.navigate.bind(null,Zr.PREVIOUS)},i.previous),I.createElement("button",{type:"button",onClick:this.navigate.bind(null,Zr.NEXT)},i.next)),I.createElement("span",{className:"rbc-toolbar-label"},o),I.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(n){var i=this,o=this.props.views,c=this.props.view;if(o.length>1)return o.map(function(d){return I.createElement("button",{type:"button",key:d,className:Ft({"rbc-active":c===d}),onClick:i.view.bind(null,d)},n[d])})}}])})(I.Component);function At(e,t){e&&e.apply(null,[].concat(t))}var vF={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function yF(e){return kt(kt({},vF),e)}function bF(e){var t=e.ref,r=e.callback;k.useEffect(function(){var n=function(o){t.current&&!t.current.contains(o.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var xF=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],IO=(function(e){function t(){return cr(this,t),Ar(this,t,arguments)}return Rr(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.style,o=n.className,c=n.event,d=n.selected,h=n.isAllDay,m=n.onSelect,g=n.onDoubleClick,v=n.onKeyPress,b=n.localizer,x=n.continuesPrior,S=n.continuesAfter,w=n.accessors,_=n.getters,N=n.children,C=n.components,T=C.event,A=C.eventWrapper,L=n.slotStart,E=n.slotEnd,D=ua(n,xF);delete D.resizable;var R=w.title(c),q=w.tooltip(c),B=w.end(c),U=w.start(c),K=w.allDay(c),V=h||K||b.diff(U,b.ceil(B,"day"),"day")>1,te=_.eventProp(c,U,B,d),ge=I.createElement("div",{className:"rbc-event-content",title:q||void 0},T?I.createElement(T,{event:c,continuesPrior:x,continuesAfter:S,title:R,isAllDay:K,localizer:b,slotStart:L,slotEnd:E}):R);return I.createElement(A,Object.assign({},this.props,{type:"date"}),I.createElement("div",Object.assign({},D,{style:kt(kt({},te.style),i),className:Ft("rbc-event",o,te.className,{"rbc-selected":d,"rbc-event-allday":V,"rbc-event-continues-prior":x,"rbc-event-continues-after":S}),onClick:function(W){return m&&m(c,W)},onDoubleClick:function(W){return g&&g(c,W)},onKeyDown:function(W){return v&&v(c,W)}}),typeof N=="function"?N(ge):ge))}}])})(I.Component);function sh(e,t){return!e||t==null?!1:iI(e,t)}function FO(e,t){var r=e.right-e.left,n=r/t;return n}function HO(e,t,r,n){var i=FO(e,n);return r?n-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}function wF(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function _F(e,t,r,n,i){var o=-1,c=-1,d=n-1,h=FO(t,n),m=HO(t,r.x,i,n),g=t.top<r.y&&t.bottom>r.y,v=t.top<e.y&&t.bottom>e.y,b=e.y>t.bottom,x=t.top>e.y,S=r.top<t.top&&r.bottom>t.bottom;return S&&(o=0,c=d),g&&(x?(o=0,c=m):b&&(o=m,c=d)),v&&(o=c=i?d-Math.floor((e.x-t.left)/h):Math.floor((e.x-t.left)/h),g?m<o?o=m:c=m:e.y<r.y?c=d:o=0),{startIdx:o,endIdx:c}}function SF(e){var t=e.target,r=e.offset,n=e.container,i=e.box,o=di(t),c=o.top,d=o.left,h=o.width,m=o.height,g=di(n),v=g.top,b=g.left,x=g.width,S=g.height,w=di(i),_=w.width,N=w.height,C=v+S,T=b+x,A=c+N,L=d+_,E=r.x,D=r.y,R=A>C?c-N-D:c+D+m,q=L>T?d+E-_+h:d+E;return{topOffset:R,leftOffset:q}}function jF(e){var t=e.containerRef,r=e.accessors,n=e.getters,i=e.selected,o=e.components,c=e.localizer,d=e.position,h=e.show,m=e.events,g=e.slotStart,v=e.slotEnd,b=e.onSelect,x=e.onDoubleClick,S=e.onKeyPress,w=e.handleDragStart,_=e.popperRef,N=e.target,C=e.offset;bF({ref:_,callback:h}),k.useLayoutEffect(function(){var L=SF({target:N,offset:C,container:t.current,box:_.current}),E=L.topOffset,D=L.leftOffset;_.current.style.top="".concat(E,"px"),_.current.style.left="".concat(D,"px")},[C.x,C.y,N]);var T=d.width,A={minWidth:T+T/2};return I.createElement("div",{style:A,className:"rbc-overlay",ref:_},I.createElement("div",{className:"rbc-overlay-header"},c.format(g,"dayHeaderFormat")),m.map(function(L,E){return I.createElement(IO,{key:E,type:"popup",localizer:c,event:L,getters:n,onSelect:b,accessors:r,components:o,onDoubleClick:x,onKeyPress:S,continuesPrior:c.lt(r.end(L),g,"day"),continuesAfter:c.gte(r.start(L),v,"day"),slotStart:g,slotEnd:v,selected:sh(L,i),draggable:!0,onDragStart:function(){return w(L)},onDragEnd:function(){return h()}})}))}var KO=I.forwardRef(function(e,t){return I.createElement(jF,Object.assign({},e,{popperRef:t}))});KO.propTypes={accessors:ye.object.isRequired,getters:ye.object.isRequired,selected:ye.object,components:ye.object.isRequired,localizer:ye.object.isRequired,position:ye.object.isRequired,show:ye.func.isRequired,events:ye.array.isRequired,slotStart:ye.instanceOf(Date).isRequired,slotEnd:ye.instanceOf(Date),onSelect:ye.func,onDoubleClick:ye.func,onKeyPress:ye.func,handleDragStart:ye.func,style:ye.object,offset:ye.shape({x:ye.number,y:ye.number})};function NF(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,i=e.overlay,o=e.accessors,c=e.localizer,d=e.components,h=e.getters,m=e.selected,g=e.handleSelectEvent,v=e.handleDoubleClickEvent,b=e.handleKeyPressEvent,x=e.handleDragStart,S=e.onHide,w=e.overlayDisplay,_=k.useRef(null);if(!i.position)return null;var N=n;isNaN(n)||(N={x:n,y:n});var C=i.position,T=i.events,A=i.date,L=i.end;return I.createElement(hx,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:S,target:i.target},function(E){var D=E.props;return I.createElement(KO,Object.assign({},D,{containerRef:t,ref:_,target:i.target,offset:N,accessors:o,getters:h,selected:m,components:d,localizer:c,position:C,show:w,events:T,slotStart:A,slotEnd:L,onSelect:g,onDoubleClick:v,onKeyPress:b,handleDragStart:x}))})}var Ox=I.forwardRef(function(e,t){return I.createElement(NF,Object.assign({},e,{containerRef:t}))});Ox.propTypes={popupOffset:ye.oneOfType([ye.number,ye.shape({x:ye.number,y:ye.number})]),overlay:ye.shape({position:ye.object,events:ye.array,date:ye.instanceOf(Date),end:ye.instanceOf(Date)}),accessors:ye.object.isRequired,localizer:ye.object.isRequired,components:ye.object.isRequired,getters:ye.object.isRequired,selected:ye.object,handleSelectEvent:ye.func,handleDoubleClickEvent:ye.func,handleKeyPressEvent:ye.func,handleDragStart:ye.func,onHide:ye.func,overlayDisplay:ye.func};function Dr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Xl(r,e,t,{passive:!1})}function kF(e,t,r){return!e||Oc(e,document.elementFromPoint(t,r))}function EF(e,t){var r=t.clientX,n=t.clientY,i=document.elementFromPoint(r,n);return NO(i,".rbc-event",e)}function CF(e,t){var r=t.clientX,n=t.clientY,i=document.elementFromPoint(r,n);return NO(i,".rbc-show-more",e)}function _f(e,t){return!!EF(e,t)}function TF(e,t){return!!CF(e,t)}function Gl(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var vC=5,DF=250,GO=(function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,i=n===void 0?!1:n,o=r.longPressThreshold,c=o===void 0?250:o,d=r.validContainers,h=d===void 0?[]:d;cr(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=c,this.validContainers=h,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Dr("touchmove",function(){},window),this._removeKeyDownListener=Dr("keydown",this._keyListener),this._removeKeyUpListener=Dr("keyup",this._keyListener),this._removeDropFromOutsideListener=Dr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Dr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return ur(e,[{key:"on",value:function(r,n){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(n),{remove:function(){var c=i.indexOf(n);c!==-1&&i.splice(c,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var c,d=this._listeners[r]||[];return d.forEach(function(h){c===void 0&&(c=h.apply(void 0,i))}),c}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:yC(n,Si(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var i=this,o=null,c=null,d=null,h=function(b){o=setTimeout(function(){g(),r(b)},i.longPressThreshold),c=Dr("touchmove",function(){return g()}),d=Dr("touchend",function(){return g()})},m=Dr("touchstart",h),g=function(){o&&clearTimeout(o),c&&c(),d&&d(),o=null,c=null,d=null};return n&&h(n),function(){g(),m()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Dr("mousedown",function(o){r._removeInitialEventListener(),r._handleInitialEvent(o),r._removeInitialEventListener=Dr("mousedown",r._handleInitialEvent)}),i=Dr("touchstart",function(o){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,o)});this._removeInitialEventListener=function(){n(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Gl(r),i=n.pageX,o=n.pageY,c=n.clientX,d=n.clientY;this.emit("dropFromOutside",{x:i,y:o,clientX:c,clientY:d}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Gl(r),i=n.pageX,o=n.pageY,c=n.clientX,d=n.clientY;this.emit("dragOverFromOutside",{x:i,y:o,clientX:c,clientY:d}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Gl(r),i=n.clientX,o=n.clientY,c=n.pageX,d=n.pageY,h=this.container(),m,g;if(!(r.which===3||r.button===2||!kF(h,i,o))){if(!this.globalMouse&&h&&!Oc(h,r.target)){var v=OF(0),b=v.top,x=v.left,S=v.bottom,w=v.right;if(g=Si(h),m=yC({top:g.top-b,left:g.left-x,bottom:g.bottom+S,right:g.right+w},{top:d,left:c}),!m)return}var _=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:c,y:d,clientX:i,clientY:o});if(_!==!1)switch(r.type){case"mousedown":this._removeEndListener=Dr("mouseup",this._handleTerminatingEvent),this._onEscListener=Dr("keydown",this._handleTerminatingEvent),this._removeMoveListener=Dr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Dr("touchend",this._handleTerminatingEvent),this._removeMoveListener=Dr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,i=this.validContainers;return!i||!i.length||!n?!0:i.some(function(o){return!!n.closest(o)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,i=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var o=!this.container||Oc(this.container(),r.target),c=this._isWithinValidContainer(r);return r.key==="Escape"||!c?this.emit("reset"):!n&&o?this._handleClickEvent(r):n?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Gl(r),i=n.pageX,o=n.pageY,c=n.clientX,d=n.clientY,h=new Date().getTime();return this._lastClickData&&h-this._lastClickData.timestamp<DF?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:o,clientX:c,clientY:d})):(this._lastClickData={timestamp:h},this.emit("click",{x:i,y:o,clientX:c,clientY:d}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,i=n.x,o=n.y,c=Gl(r),d=c.pageX,h=c.pageY,m=Math.abs(i-d),g=Math.abs(o-h),v=Math.min(d,i),b=Math.min(h,o),x=this.selecting,S=this.isClick(d,h);S&&!x&&!(m||g)||(!x&&!S&&this.emit("selectStart",this._initialEventData),S||(this.selecting=!0,this._selectRect={top:b,left:v,x:d,y:h,right:v+m,bottom:b+g},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var i=this._initialEventData,o=i.x,c=i.y,d=i.isTouch;return!d&&Math.abs(r-o)<=vC&&Math.abs(n-c)<=vC}}])})();function OF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Ba(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function yC(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Si(e),i=n.top,o=n.left,c=n.right,d=c===void 0?o:c,h=n.bottom,m=h===void 0?i:h,g=Si(t),v=g.top,b=g.left,x=g.right,S=x===void 0?b:x,w=g.bottom,_=w===void 0?v:w;return!(m-r<v||i+r>_||d-r<b||o+r>S)}function Si(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+bC("left"),n=t.top+bC("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function bC(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var AF=(function(e){function t(r,n){var i;return cr(this,t),i=Ar(this,t,[r,n]),i.state={selecting:!1},i.containerRef=k.createRef(),i}return Rr(t,e),ur(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,i=n.range,o=n.getNow,c=n.getters,d=n.date,h=n.components.dateCellWrapper,m=n.localizer,g=this.state,v=g.selecting,b=g.startIdx,x=g.endIdx,S=o();return I.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(w,_){var N=v&&_>=b&&_<=x,C=c.dayProp(w),T=C.className,A=C.style;return I.createElement(h,{key:_,value:w,range:i},I.createElement("div",{style:A,className:Ft("rbc-day-bg",T,N&&"rbc-selected-cell",m.isSameDate(w,S)&&"rbc-today",d&&m.neq(d,w,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,i=this.containerRef.current,o=this._selector=new GO(this.props.container,{longPressThreshold:this.props.longPressThreshold}),c=function(h,m){if(!_f(i,h)&&!TF(i,h)){var g=Si(i),v=n.props,b=v.range,x=v.rtl;if(wF(g,h)){var S=HO(g,h.x,x,b.length);n._selectSlot({startIdx:S,endIdx:S,action:m,box:h})}}n._initial={},n.setState({selecting:!1})};o.on("selecting",function(d){var h=n.props,m=h.range,g=h.rtl,v=-1,b=-1;if(n.state.selecting||(At(n.props.onSelectStart,[d]),n._initial={x:d.x,y:d.y}),o.isSelected(i)){var x=Si(i),S=_F(n._initial,x,d,m.length,g);v=S.startIdx,b=S.endIdx}n.setState({selecting:!0,startIdx:v,endIdx:b})}),o.on("beforeSelect",function(d){if(n.props.selectable==="ignoreEvents")return!_f(n.containerRef.current,d)}),o.on("click",function(d){return c(d,"click")}),o.on("doubleClick",function(d){return c(d,"doubleClick")}),o.on("select",function(d){n._selectSlot(kt(kt({},n.state),{},{action:"select",bounds:d})),n._initial={},n.setState({selecting:!1}),At(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var i=n.endIdx,o=n.startIdx,c=n.action,d=n.bounds,h=n.box;i!==-1&&o!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:o,end:i,action:c,bounds:d,box:h,resourceId:this.props.resourceId})}}])})(I.Component),Tn={propTypes:{slotMetrics:ye.object.isRequired,selected:ye.object,isAllDay:ye.bool,accessors:ye.object.isRequired,localizer:ye.object.isRequired,components:ye.object.isRequired,getters:ye.object.isRequired,onSelect:ye.func,onDoubleClick:ye.func,onKeyPress:ye.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var i=t.accessors,o=t.getters,c=t.onSelect,d=t.onDoubleClick,h=t.onKeyPress,m=t.localizer,g=t.slotMetrics,v=t.components,b=t.resizable,x=g.continuesPrior(r),S=g.continuesAfter(r);return I.createElement(IO,{event:r,getters:o,localizer:m,accessors:i,components:v,onSelect:c,onDoubleClick:d,onKeyPress:h,continuesPrior:x,continuesAfter:S,slotStart:g.first,slotEnd:g.last,selected:sh(r,n),resizable:b})},renderSpan:function(t,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=Math.abs(r)/t*100+"%";return I.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},i)}},YO=(function(e){function t(){return cr(this,t),Ar(this,t,arguments)}return Rr(t,e),ur(t,[{key:"render",value:function(){var n=this,i=this.props,o=i.segments,c=i.slotMetrics.slots,d=i.className,h=1;return I.createElement("div",{className:Ft(d,"rbc-row")},o.reduce(function(m,g,v){var b=g.event,x=g.left,S=g.right,w=g.span,_="_lvl_"+v,N=x-h,C=Tn.renderEvent(n.props,b);return N&&m.push(Tn.renderSpan(c,N,"".concat(_,"_gap"))),m.push(Tn.renderSpan(c,w,_,C)),h=S+1,m},[]))}}])})(I.Component);YO.defaultProps=kt({},Tn.defaultProps);function VO(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,i=e.localizer;return{first:t[0],last:i.add(t[t.length-1],1,n)}}function RF(e,t,r,n){var i=VO({dateRange:t,localizer:n}),o=i.first,c=i.last,d=n.diff(o,c,"day"),h=n.max(n.startOf(r.start(e),"day"),o),m=n.min(n.ceil(r.end(e),"day"),c),g=kI(t,function(b){return n.isSameDate(b,h)}),v=n.diff(h,m,"day");return v=Math.min(v,d),v=Math.max(v-n.segmentOffset,1),{event:e,span:v,left:g+1,right:Math.max(g+v,1)}}function ib(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,i,o=[],c=[];for(r=0;r<e.length;r++){for(i=e[r],n=0;n<o.length&&MF(i,o[n]);n++);n>=t?c.push(i):(o[n]||(o[n]=[])).push(i)}for(r=0;r<o.length;r++)o[r].sort(function(d,h){return d.left-h.left});return{levels:o,extra:c}}function Mc(e,t,r,n,i){var o={start:n.start(e),end:n.end(e)},c={start:t,end:r};return i.inEventRange({event:o,range:c})}function MF(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function LF(e,t,r){var n=$d(e),i=[],o=[];n.forEach(function(h){var m=t.start(h),g=t.end(h);r.daySpan(m,g)>1?i.push(h):o.push(h)});var c=i.sort(function(h,m){return ob(h,m,t,r)}),d=o.sort(function(h,m){return ob(h,m,t,r)});return[].concat($d(c),$d(d))}function ob(e,t,r,n){var i={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},o={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:i,evtB:o})}var lb=function(t,r){return t.left<=r&&t.right>=r},w0=function(t,r){return t.filter(function(n){return lb(n,r)}).map(function(n){return n.event})},QO=(function(e){function t(){return cr(this,t),Ar(this,t,arguments)}return Rr(t,e),ur(t,[{key:"render",value:function(){for(var n=this.props,i=n.segments,o=n.slotMetrics.slots,c=ib(i).levels[0],d=1,h=1,m=[];d<=o;){var g="_lvl_"+d,v=c.filter(function(A){return lb(A,d)})[0]||{},b=v.event,x=v.left,S=v.right,w=v.span;if(!b){var _=this.getHiddenEventsForSlot(i,d);if(_.length>0){var N=d-h;N&&m.push(Tn.renderSpan(o,N,g+"_gap")),m.push(Tn.renderSpan(o,1,g,this.renderShowMore(i,d))),h=d=d+1;continue}d++;continue}var C=Math.max(0,x-h);if(this.canRenderSlotEvent(x,w)){var T=Tn.renderEvent(this.props,b);C&&m.push(Tn.renderSpan(o,C,g+"_gap")),m.push(Tn.renderSpan(o,w,g,T)),h=d=S+1}else C&&m.push(Tn.renderSpan(o,C,g+"_gap")),m.push(Tn.renderSpan(o,1,g,this.renderShowMore(i,d))),h=d=d+1}return I.createElement("div",{className:"rbc-row"},m)}},{key:"getHiddenEventsForSlot",value:function(n,i){var o=w0(n,i),c=ib(n).levels[0],d=c.filter(function(h){return lb(h,i)}).map(function(h){return h.event});return o.filter(function(h){return!d.some(function(m){return m===h})})}},{key:"canRenderSlotEvent",value:function(n,i){var o=this.props.segments;return OI(n,n+i).every(function(c){var d=w0(o,c).length;return d===1})}},{key:"renderShowMore",value:function(n,i){var o=this,c=this.props,d=c.localizer,h=c.slotMetrics,m=c.components,g=h.getEventsForSlot(i),v=w0(n,i),b=v.length;if(m!=null&&m.showMore){var x=m.showMore,S=h.getDateForSlot(i-1);return b?I.createElement(x,{localizer:d,slotDate:S,slot:i,count:b,events:g,remainingEvents:v}):!1}return b?I.createElement("button",{type:"button",key:"sm_"+i,className:Ft("rbc-button-link","rbc-show-more"),onClick:function(_){return o.showMore(i,_)}},d.messages.showMore(b,v,g)):!1}},{key:"showMore",value:function(n,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(n,i.target)}}])})(I.Component);QO.defaultProps=kt({},Tn.defaultProps);var qF=function(t){var r=t.children;return I.createElement("div",{className:"rbc-row-content-scroll-container"},r)},UF=function(t,r){return t.left<=r&&t.right>=r},PF=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function WO(){return CO(function(e){for(var t=e.range,r=e.events,n=e.maxRows,i=e.minRows,o=e.accessors,c=e.localizer,d=VO({dateRange:t,localizer:c}),h=d.first,m=d.last,g=r.map(function(w){return RF(w,t,o,c)}),v=ib(g,Math.max(n-1,1)),b=v.levels,x=v.extra,S=x.length>0?i-1:i;b.length<S;)b.push([]);return{first:h,last:m,levels:b,extra:x,range:t,slots:t.length,clone:function(_){var N=WO();return N(kt(kt({},e),_))},getDateForSlot:function(_){return t[_]},getSlotForDate:function(_){return t.find(function(N){return c.isSameDate(N,_)})},getEventsForSlot:function(_){return g.filter(function(N){return UF(N,_)}).map(function(N){return N.event})},continuesPrior:function(_){return c.continuesPrior(o.start(_),h)},continuesAfter:function(_){var N=o.start(_),C=o.end(_);return c.continuesAfter(N,C,m)}}},PF)}var Lc=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Ar(this,t,[].concat(i)),r.handleSelectSlot=function(c){var d=r.props,h=d.range,m=d.onSelectSlot;m(h.slice(c.start,c.end+1),c)},r.handleShowMore=function(c,d){var h=r.props,m=h.range,g=h.onShowMore,v=r.slotMetrics(r.props),b=qz(r.containerRef.current,".rbc-row-bg")[0],x;b&&(x=b.children[c-1]);var S=v.getEventsForSlot(c);g(S,m[c-1],x,c,d)},r.getContainer=function(){var c=r.props.container;return c?c():r.containerRef.current},r.renderHeadingCell=function(c,d){var h=r.props,m=h.renderHeader,g=h.getNow,v=h.localizer;return m({date:c,key:"header_".concat(d),className:Ft("rbc-date-cell",v.isSameDate(c,g())&&"rbc-now")})},r.renderDummy=function(){var c=r.props,d=c.className,h=c.range,m=c.renderHeader,g=c.showAllEvents;return I.createElement("div",{className:d,ref:r.containerRef},I.createElement("div",{className:Ft("rbc-row-content",g&&"rbc-row-content-scrollable")},m&&I.createElement("div",{className:"rbc-row",ref:r.headingRowRef},h.map(r.renderHeadingCell)),I.createElement("div",{className:"rbc-row",ref:r.eventRowRef},I.createElement("div",{className:"rbc-row-segment"},I.createElement("div",{className:"rbc-event"},I.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=k.createRef(),r.headingRowRef=k.createRef(),r.eventRowRef=k.createRef(),r.slotMetrics=WO(),r}return Rr(t,e),ur(t,[{key:"getRowLimit",value:function(){var n,i=Uv(this.eventRowRef.current),o=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?Uv(this.headingRowRef.current):0,c=Uv(this.containerRef.current)-o;return Math.max(Math.floor(c/i),1)}},{key:"render",value:function(){var n=this.props,i=n.date,o=n.rtl,c=n.range,d=n.className,h=n.selected,m=n.selectable,g=n.renderForMeasure,v=n.accessors,b=n.getters,x=n.components,S=n.getNow,w=n.renderHeader,_=n.onSelect,N=n.localizer,C=n.onSelectStart,T=n.onSelectEnd,A=n.onDoubleClick,L=n.onKeyPress,E=n.resourceId,D=n.longPressThreshold,R=n.isAllDay,q=n.resizable,B=n.showAllEvents;if(g)return this.renderDummy();var U=this.slotMetrics(this.props),K=U.levels,V=U.extra,te=B?qF:ia,ge=x.weekWrapper,P={selected:h,accessors:v,getters:b,localizer:N,components:x,onSelect:_,onDoubleClick:A,onKeyPress:L,resourceId:E,slotMetrics:U,resizable:q};return I.createElement("div",{className:d,role:"rowgroup",ref:this.containerRef},I.createElement(AF,{localizer:N,date:i,getNow:S,rtl:o,range:c,selectable:m,container:this.getContainer,getters:b,onSelectStart:C,onSelectEnd:T,onSelectSlot:this.handleSelectSlot,components:x,longPressThreshold:D,resourceId:E}),I.createElement("div",{className:Ft("rbc-row-content",B&&"rbc-row-content-scrollable"),role:"row"},w&&I.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},c.map(this.renderHeadingCell)),I.createElement(te,null,I.createElement(ge,Object.assign({isAllDay:R},P,{rtl:this.props.rtl}),K.map(function(W,J){return I.createElement(YO,Object.assign({key:J,segments:W},P))}),!!V.length&&I.createElement(QO,Object.assign({segments:V,onShowMore:this.handleShowMore},P))))))}}])})(I.Component);Lc.defaultProps={minRows:0,maxRows:1/0};var Ax=function(t){var r=t.label;return I.createElement("span",{role:"columnheader","aria-sort":"none"},r)},$F=function(t){var r=t.label,n=t.drilldownView,i=t.onDrillDown;return n?I.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},r):I.createElement("span",null,r)},zF=["date","className"],BF=function(t,r,n,i,o){return t.filter(function(c){return Mc(c,r,n,i,o)})},ih=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Ar(this,t,[].concat(i)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(c,d){var h=r.props,m=h.events,g=h.components,v=h.selectable,b=h.getNow,x=h.selected,S=h.date,w=h.localizer,_=h.longPressThreshold,N=h.accessors,C=h.getters,T=h.showAllEvents,A=r.state,L=A.needLimitMeasure,E=A.rowLimit,D=BF($d(m),c[0],c[c.length-1],N,w),R=LF(D,N,w);return I.createElement(Lc,{key:d,ref:d===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:b,date:S,range:c,events:R,maxRows:T?1/0:E,selected:x,selectable:v,components:g,accessors:N,getters:C,localizer:w,renderHeader:r.readerDateHeading,renderForMeasure:L,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:_,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:T})},r.readerDateHeading=function(c){var d=c.date,h=c.className,m=ua(c,zF),g=r.props,v=g.date,b=g.getDrilldownView,x=g.localizer,S=x.neq(v,d,"month"),w=x.isSameDate(d,v),_=b(d),N=x.format(d,"dateFormat"),C=r.props.components.dateHeader||$F;return I.createElement("div",Object.assign({},m,{className:Ft(h,S&&"rbc-off-range",w&&"rbc-current"),role:"cell"}),I.createElement(C,{label:N,date:d,drilldownView:_,isOffRange:S,onDrillDown:function(A){return r.handleHeadingClick(d,_,A)}}))},r.handleSelectSlot=function(c,d){r._pendingSelection=r._pendingSelection.concat(c),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(d)})},r.handleHeadingClick=function(c,d,h){h.preventDefault(),r.clearSelection(),At(r.props.onDrillDown,[c,d])},r.handleSelectEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onKeyPressEvent,d)},r.handleShowMore=function(c,d,h,m,g){var v=r.props,b=v.popup,x=v.onDrillDown,S=v.onShowMore,w=v.getDrilldownView,_=v.doShowMoreDrillDown;if(r.clearSelection(),b){var N=oO(h,r.containerRef.current);r.setState({overlay:{date:d,events:c,position:N,target:g}})}else _&&At(x,[d,w(d)||Ur.DAY]);At(S,[c,d,m])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=k.createRef(),r.slotRowRef=k.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Rr(t,e),ur(t,[{key:"componentDidMount",value:function(){var n=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||lO(function(){i=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,i=n.date,o=n.localizer,c=n.className,d=o.visibleDays(i,o),h=xz(d,7);return this._weekCount=h.length,I.createElement("div",{className:Ft("rbc-month-view",c),role:"table","aria-label":"Month View",ref:this.containerRef},I.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(h[0])),h.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var i=this.props,o=i.localizer,c=i.components,d=n[0],h=n[n.length-1],m=c.header||Ax;return o.range(d,h,"day").map(function(g,v){return I.createElement("div",{key:"header_"+v,className:"rbc-header"},I.createElement(m,{date:g,localizer:o,label:o.format(g,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,i,o=this,c=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},d=this.props,h=d.accessors,m=d.localizer,g=d.components,v=d.getters,b=d.selected,x=d.popupOffset,S=d.handleDragStart,w=function(){return o.setState({overlay:null})};return I.createElement(Ox,{overlay:c,accessors:h,localizer:m,components:g,getters:v,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!c.position,overlayDisplay:this.overlayDisplay,onHide:w})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(d,h){return+d-+h});var o=new Date(i[0]),c=new Date(i[i.length-1]);c.setDate(i[i.length-1].getDate()+1),At(this.props.onSelectSlot,{slots:i,start:o,end:c,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,i){var o=n.date,c=n.localizer;return{date:o,needLimitMeasure:c.neq(o,i.date,"month")}}}])})(I.Component);ih.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),i=r.lastVisibleDay(e,r);return{start:n,end:i}};ih.navigate=function(e,t,r){var n=r.localizer;switch(t){case Zr.PREVIOUS:return n.add(e,-1,"month");case Zr.NEXT:return n.add(e,1,"month");default:return e}};ih.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var xC=function(t){var r=t.min,n=t.max,i=t.step,o=t.slots,c=t.localizer;return"".concat(+c.startOf(r,"minutes"))+"".concat(+c.startOf(n,"minutes"))+"".concat(i,"-").concat(o)};function Rx(e){for(var t=e.min,r=e.max,n=e.step,i=e.timeslots,o=e.localizer,c=xC({step:n,localizer:o}),d=1+o.getTotalMin(t,r),h=o.getMinutesFromMidnight(t),m=Math.ceil((d-1)/(n*i)),g=m*i,v=new Array(m),b=new Array(g),x=0;x<m;x++){v[x]=new Array(i);for(var S=0;S<i;S++){var w=x*i+S,_=w*n;b[w]=v[x][S]=o.getSlotDate(t,h,_)}}var N=b.length*n;b.push(o.getSlotDate(t,h,N));function C(T){var A=o.diff(t,T,"minutes")+o.getDstOffset(t,T);return Math.min(A,d)}return{groups:v,update:function(A){return xC(A)!==c?Rx(A):this},dateIsInGroup:function(A,L){var E=v[L+1];return o.inRange(A,v[L][0],E?E[0]:r,"minutes")},nextSlot:function(A){var L=b[Math.min(b.findIndex(function(E){return E===A||o.eq(E,A)})+1,b.length-1)];return o.eq(L,A)&&(L=o.add(A,n,"minutes")),L},closestSlotToPosition:function(A){var L=Math.min(b.length-1,Math.max(0,Math.floor(A*g)));return b[L]},closestSlotFromPoint:function(A,L){var E=Math.abs(L.top-L.bottom);return this.closestSlotToPosition((A.y-L.top)/E)},closestSlotFromDate:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(o.lt(A,t,"minutes"))return b[0];if(o.gt(A,r,"minutes"))return b[b.length-1];var E=o.diff(t,A,"minutes");return b[(E-E%n)/n+L]},startsBeforeDay:function(A){return o.lt(A,t,"day")},startsAfterDay:function(A){return o.gt(A,r,"day")},startsBefore:function(A){return o.lt(o.merge(t,A),t,"minutes")},startsAfter:function(A){return o.gt(o.merge(r,A),r,"minutes")},getRange:function(A,L,E,D){E||(A=o.min(r,o.max(t,A))),D||(L=o.min(r,o.max(t,L)));var R=C(A),q=C(L),B=q>n*g&&!o.eq(r,L)?(R-n)/(n*g)*100:R/(n*g)*100;return{top:B,height:q/(n*g)*100-B,start:C(A),startDate:A,end:C(L),endDate:L}},getCurrentTimePosition:function(A){var L=C(A),E=L/(n*g)*100;return E}}}var IF=(function(){function e(t,r){var n=r.accessors,i=r.slotMetrics;cr(this,e);var o=i.getRange(n.start(t),n.end(t)),c=o.start,d=o.startDate,h=o.end,m=o.endDate,g=o.top,v=o.height;this.start=c,this.end=h,this.startMs=+d,this.endMs=+m,this.top=g,this.height=v,this.data=t}return ur(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,o){return Math.max(i,o.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var i=this.row.leaves,o=i.indexOf(this);return o===i.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,i=r.xOffset,o=r._width,c=n.indexOf(this)+1;return i+c*o}}])})();function FF(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function HF(e){for(var t=WI(e,["startMs",function(d){return-d.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var i=0;i<t.length;i++){var o=t[i];if(!(n.endMs>o.startMs)){if(i>0){var c=t.splice(i,1)[0];r.push(c)}break}}}return r}function XO(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,i=e.accessors,o=t.map(function(g){return new IF(g,{slotMetrics:n,accessors:i})}),c=HF(o),d=[],h=function(){var v=c[m],b=d.find(function(w){return w.end>v.start||Math.abs(v.start-w.start)<r});if(!b)return v.rows=[],d.push(v),1;v.container=b;for(var x=null,S=b.rows.length-1;!x&&S>=0;S--)FF(b.rows[S],v,r)&&(x=b.rows[S]);x?(x.leaves.push(v),v.row=x):(v.leaves=[],b.rows.push(v))},m=0;m<c.length;m++)h();return c.map(function(g){return{event:g.data,style:{top:g.top,height:g.height,width:g.width,xOffset:Math.max(0,g.xOffset)}}})}function JO(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var i=JO(e.friends[n],t,r);t=t>i?t:i}return t}function KF(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,i=e.accessors,o=XO({events:t,minimumStartDifference:r,slotMetrics:n,accessors:i});o.sort(function(ge,P){return ge=ge.style,P=P.style,ge.top!==P.top?ge.top>P.top?1:-1:ge.height!==P.height?ge.top+ge.height<P.top+P.height?1:-1:0});for(var c=0;c<o.length;++c)o[c].friends=[],delete o[c].style.left,delete o[c].style.left,delete o[c].idx,delete o[c].size;for(var d=0;d<o.length-1;++d)for(var h=o[d],m=h.style.top,g=h.style.top+h.style.height,v=d+1;v<o.length;++v){var b=o[v],x=b.style.top,S=b.style.top+b.style.height;(x>=m&&S<=g||S>m&&S<=g||x>=m&&x<g)&&(h.friends.push(b),b.friends.push(h))}for(var w=0;w<o.length;++w){for(var _=o[w],N=[],C=0;C<100;++C)N.push(1);for(var T=0;T<_.friends.length;++T)_.friends[T].idx!==void 0&&(N[_.friends[T].idx]=0);_.idx=N.indexOf(1)}for(var A=0;A<o.length;++A){var L=0;if(!o[A].size){var E=[],D=JO(o[A],0,E);L=100/(D+1),o[A].size=L;for(var R=0;R<E.length;++R)E[R].size=L}}for(var q=0;q<o.length;++q){var B=o[q];B.style.left=B.idx*B.size;for(var U=0,K=0;K<B.friends.length;++K){var V=B.friends[K].idx;U=U>V?U:V}U<=B.idx&&(B.size=100-B.idx*B.size);var te=B.idx===0?0:3;B.style.width="calc(".concat(B.size,"% - ").concat(te,"px)"),B.style.height="calc(".concat(B.style.height,"% - 2px)"),B.style.xOffset="calc(".concat(B.style.left,"% + ").concat(te,"px)")}return o}var wC={overlap:XO,"no-overlap":KF};function GF(e){return!!(e&&e.constructor&&e.call&&e.apply)}function YF(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in wC&&(r=wC[t]),GF(r)?r.apply(this,arguments):[]}var ZO=(function(e){function t(){return cr(this,t),Ar(this,t,arguments)}return Rr(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.renderSlot,o=n.resource,c=n.group,d=n.getters,h=n.components,m=h===void 0?{}:h,g=m.timeSlotWrapper,v=g===void 0?ia:g,b=d?d.slotGroupProp(c):{};return I.createElement("div",Object.assign({className:"rbc-timeslot-group"},b),c.map(function(x,S){var w=d?d.slotProp(x,o):{};return I.createElement(v,{key:S,value:x,resource:o},I.createElement("div",Object.assign({},w,{className:Ft("rbc-time-slot",w.className)}),i&&i(x,S)))}))}}])})(k.Component);function Od(e){return typeof e=="string"?e:e+"%"}function VF(e){var t=e.style,r=e.className,n=e.event,i=e.accessors,o=e.rtl,c=e.selected,d=e.label,h=e.continuesPrior,m=e.continuesAfter,g=e.getters,v=e.onClick,b=e.onDoubleClick,x=e.isBackgroundEvent,S=e.onKeyPress,w=e.components,_=w.event,N=w.eventWrapper,C=i.title(n),T=i.tooltip(n),A=i.end(n),L=i.start(n),E=g.eventProp(n,L,A,c),D=[I.createElement("div",{key:"1",className:"rbc-event-label"},d),I.createElement("div",{key:"2",className:"rbc-event-content"},_?I.createElement(_,{event:n,title:C}):C)],R=t.height,q=t.top,B=t.width,U=t.xOffset,K=kt(kt({},E.style),{},ii({top:Od(q),height:Od(R),width:Od(B)},o?"right":"left",Od(U)));return I.createElement(N,Object.assign({type:"time"},e),I.createElement("div",{role:"button",tabIndex:0,onClick:v,onDoubleClick:b,style:K,onKeyDown:S,title:T?(typeof d=="string"?d+": ":"")+T:void 0,className:Ft(x?"rbc-background-event":"rbc-event",r,E.className,{"rbc-selected":c,"rbc-event-continues-earlier":h,"rbc-event-continues-later":m})},D))}var QF=function(t){var r=t.children,n=t.className,i=t.style,o=t.innerRef;return I.createElement("div",{className:n,style:i,ref:o},r)},WF=I.forwardRef(function(e,t){return I.createElement(QF,Object.assign({},e,{innerRef:t}))}),XF=["dayProp"],JF=["eventContainerWrapper","timeIndicatorWrapper"],eA=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Ar(this,t,[].concat(i)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(c){var d=c.events,h=c.isBackgroundEvent,m=r.props,g=m.rtl,v=m.selected,b=m.accessors,x=m.localizer,S=m.getters,w=m.components,_=m.step,N=m.timeslots,C=m.dayLayoutAlgorithm,T=m.resizable,A=r,L=A.slotMetrics,E=x.messages,D=YF({events:d,accessors:b,slotMetrics:L,minimumStartDifference:Math.ceil(_*N/2),dayLayoutAlgorithm:C});return D.map(function(R,q){var B,U=R.event,K=R.style,V=b.end(U),te=b.start(U),ge=(B=b.eventId(U))!==null&&B!==void 0?B:"evt_"+q,P="eventTimeRangeFormat",W,J=L.startsBeforeDay(te),me=L.startsAfterDay(V);J?P="eventTimeRangeEndFormat":me&&(P="eventTimeRangeStartFormat"),J&&me?W=E.allDay:W=x.format({start:te,end:V},P);var oe=J||L.startsBefore(te),M=me||L.startsAfter(V);return I.createElement(VF,{style:K,event:U,label:W,key:ge,getters:S,rtl:g,components:w,continuesPrior:oe,continuesAfter:M,accessors:b,resource:r.props.resource,selected:sh(U,v),onClick:function(se){return r._select(kt(kt(kt({},U),r.props.resource&&{sourceResource:r.props.resource}),h&&{isBackgroundEvent:!0}),se)},onDoubleClick:function(se){return r._doubleClick(U,se)},isBackgroundEvent:h,onKeyPress:function(se){return r._keyPress(U,se)},resizable:T})})},r._selectable=function(){var c=r.containerRef.current,d=r.props,h=d.longPressThreshold,m=d.localizer,g=r._selector=new GO(function(){return c},{longPressThreshold:h}),v=function(w){var _=r.props.onSelecting,N=r.state||{},C=b(w),T=C.startDate,A=C.endDate;_&&(m.eq(N.startDate,T,"minutes")&&m.eq(N.endDate,A,"minutes")||_({start:T,end:A,resourceId:r.props.resource})===!1)||(r.state.start!==C.start||r.state.end!==C.end||r.state.selecting!==C.selecting)&&r.setState(C)},b=function(w){var _=r.slotMetrics.closestSlotFromPoint(w,Si(c));r.state.selecting||(r._initialSlot=_);var N=r._initialSlot;m.lte(N,_)?_=r.slotMetrics.nextSlot(_):m.gt(N,_)&&(N=r.slotMetrics.nextSlot(N));var C=r.slotMetrics.getRange(m.min(N,_),m.max(N,_));return kt(kt({},C),{},{selecting:!0,top:"".concat(C.top,"%"),height:"".concat(C.height,"%")})},x=function(w,_){if(!_f(r.containerRef.current,w)){var N=b(w),C=N.startDate,T=N.endDate;r._selectSlot({startDate:C,endDate:T,action:_,box:w})}r.setState({selecting:!1})};g.on("selecting",v),g.on("selectStart",v),g.on("beforeSelect",function(S){if(r.props.selectable==="ignoreEvents")return!_f(r.containerRef.current,S)}),g.on("click",function(S){return x(S,"click")}),g.on("doubleClick",function(S){return x(S,"doubleClick")}),g.on("select",function(S){r.state.selecting&&(r._selectSlot(kt(kt({},r.state),{},{action:"select",bounds:S})),r.setState({selecting:!1}))}),g.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(c){for(var d=c.startDate,h=c.endDate,m=c.action,g=c.bounds,v=c.box,b=d,x=[];r.props.localizer.lte(b,h);)x.push(b),b=new Date(+b+r.props.step*60*1e3);At(r.props.onSelectSlot,{slots:x,start:d,end:h,resourceId:r.props.resource,action:m,bounds:g,box:v})},r._select=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onSelectEvent,d)},r._doubleClick=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onDoubleClickEvent,d)},r._keyPress=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onKeyPressEvent,d)},r.slotMetrics=Rx(r.props),r.containerRef=k.createRef(),r}return Rr(t,e),ur(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,i){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var o=this.props,c=o.getNow,d=o.isNow,h=o.localizer,m=o.date,g=o.min,v=o.max,b=h.neq(n.getNow(),c(),"minutes");if(n.isNow!==d||b){if(this.clearTimeIndicatorInterval(),d){var x=!b&&h.eq(n.date,m,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(x)}}else d&&(h.neq(n.min,g,"minutes")||h.neq(n.max,v,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,i=n.min,o=n.max,c=n.getNow,d=c();if(d>=i&&d<=o){var h=this.slotMetrics.getCurrentTimePosition(d);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:h})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,i=n.date,o=n.max,c=n.rtl,d=n.isNow,h=n.resource,m=n.accessors,g=n.localizer,v=n.getters,b=v.dayProp,x=ua(v,XF),S=n.components,w=S.eventContainerWrapper,_=S.timeIndicatorWrapper,N=ua(S,JF);this.slotMetrics=this.slotMetrics.update(this.props);var C=this.slotMetrics,T=this.state,A=T.selecting,L=T.top,E=T.height,D=T.startDate,R=T.endDate,q={start:D,end:R},B=b(o,h),U=B.className,K=B.style,V={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},te=N.dayColumnWrapper||WF;return I.createElement(te,{ref:this.containerRef,date:i,style:K,className:Ft(U,"rbc-day-slot","rbc-time-column",d&&"rbc-now",d&&"rbc-today",A&&"rbc-slot-selecting"),slotMetrics:C,resource:h},C.groups.map(function(ge,P){return I.createElement(ZO,{key:P,group:ge,resource:h,getters:x,components:N})}),I.createElement(w,{localizer:g,resource:h,accessors:m,getters:x,components:N,slotMetrics:C},I.createElement("div",{className:Ft("rbc-events-container",c&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),A&&I.createElement("div",{className:"rbc-slot-selection",style:{top:L,height:E}},I.createElement("span",null,g.format(q,"selectRangeFormat"))),d&&this.intervalTriggered&&I.createElement(_,V,I.createElement("div",V)))}}])})(I.Component);eA.defaultProps={dragThroughEvents:!0,timeslots:2};var tA=function(t){var r=t.label;return I.createElement(I.Fragment,null,r)},ZF=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Ar(this,t,[].concat(i)),r.handleHeaderClick=function(c,d,h){h.preventDefault(),At(r.props.onDrillDown,[c,d])},r.renderRow=function(c){var d=r.props,h=d.events,m=d.rtl,g=d.selectable,v=d.getNow,b=d.range,x=d.getters,S=d.localizer,w=d.accessors,_=d.components,N=d.resizable,C=w.resourceId(c),T=c?h.filter(function(A){return w.resource(A)===C}):h;return I.createElement(Lc,{isAllDay:!0,rtl:m,getNow:v,minRows:2,maxRows:r.props.allDayMaxRows+1,range:b,events:T,resourceId:C,className:"rbc-allday-cell",selectable:g,selected:r.props.selected,components:_,accessors:w,getters:x,localizer:S,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:N})},r}return Rr(t,e),ur(t,[{key:"renderHeaderCells",value:function(n){var i=this,o=this.props,c=o.localizer,d=o.getDrilldownView,h=o.getNow,m=o.getters.dayProp,g=o.components.header,v=g===void 0?Ax:g,b=h();return n.map(function(x,S){var w=d(x),_=c.format(x,"dayFormat"),N=m(x),C=N.className,T=N.style,A=I.createElement(v,{date:x,label:_,localizer:c});return I.createElement("div",{key:S,style:T,className:Ft("rbc-header",C,c.isSameDate(x,b)&&"rbc-today")},w?I.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(E){return i.handleHeaderClick(x,w,E)}},A):I.createElement("span",null,A))})}},{key:"render",value:function(){var n=this,i=this.props,o=i.width,c=i.rtl,d=i.resources,h=i.range,m=i.events,g=i.getNow,v=i.accessors,b=i.selectable,x=i.components,S=i.getters,w=i.scrollRef,_=i.localizer,N=i.isOverflowing,C=i.components,T=C.timeGutterHeader,A=C.resourceHeader,L=A===void 0?tA:A,E=i.resizable,D={};N&&(D[c?"marginLeft":"marginRight"]="".concat(fx()-1,"px"));var R=d.groupEvents(m);return I.createElement("div",{style:D,ref:w,className:Ft("rbc-time-header",N&&"rbc-overflowing")},I.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},T&&I.createElement(T,null)),d.map(function(q,B){var U=pi(q,2),K=U[0],V=U[1];return I.createElement("div",{className:"rbc-time-header-content",key:K||B},V&&I.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(B)},I.createElement("div",{className:"rbc-header"},I.createElement(L,{index:B,label:v.resourceTitle(V),resource:V}))),I.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(h.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(h)),I.createElement(Lc,{isAllDay:!0,rtl:c,getNow:g,minRows:2,maxRows:n.props.allDayMaxRows+1,range:h,events:R.get(K)||[],resourceId:V&&K,className:"rbc-allday-cell",selectable:b,selected:n.props.selected,components:x,accessors:v,getters:S,localizer:_,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:E}))}))}}])})(I.Component),eH=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Ar(this,t,[].concat(i)),r.handleHeaderClick=function(c,d,h){h.preventDefault(),At(r.props.onDrillDown,[c,d])},r}return Rr(t,e),ur(t,[{key:"renderHeaderCells",value:function(n){var i=this,o=this.props,c=o.localizer,d=o.getDrilldownView,h=o.getNow,m=o.getters.dayProp,g=o.components,v=g.header,b=v===void 0?Ax:v,x=g.resourceHeader,S=x===void 0?tA:x,w=o.resources,_=o.accessors,N=o.events,C=o.rtl,T=o.selectable,A=o.components,L=o.getters,E=o.resizable,D=h(),R=w.groupEvents(N);return n.map(function(q,B){var U=d(q),K=c.format(q,"dayFormat"),V=m(q),te=V.className,ge=V.style,P=I.createElement(b,{date:q,label:K,localizer:c});return I.createElement("div",{key:B,className:"rbc-time-header-content rbc-resource-grouping"},I.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},I.createElement("div",{style:ge,className:Ft("rbc-header",te,c.isSameDate(q,D)&&"rbc-today")},U?I.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(J){return i.handleHeaderClick(q,U,J)}},P):I.createElement("span",null,P))),I.createElement("div",{className:"rbc-row"},w.map(function(W,J){var me=pi(W,2),oe=me[0],M=me[1];return I.createElement("div",{key:"resource_".concat(oe,"_").concat(J),className:Ft("rbc-header",te,c.isSameDate(q,D)&&"rbc-today")},I.createElement(S,{index:J,label:_.resourceTitle(M),resource:M}))})),I.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},w.map(function(W,J){var me=pi(W,2),oe=me[0],M=me[1],H=(R.get(oe)||[]).filter(function(se){return c.isSameDate(se.start,q)||c.isSameDate(se.end,q)});return I.createElement(Lc,{key:"resource_".concat(oe,"_").concat(J),isAllDay:!0,rtl:C,getNow:h,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[q],events:H,resourceId:M&&oe,className:"rbc-allday-cell",selectable:T,selected:i.props.selected,components:A,accessors:_,getters:L,localizer:c,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:E})})))})}},{key:"render",value:function(){var n=this.props,i=n.width,o=n.rtl,c=n.range,d=n.scrollRef,h=n.isOverflowing,m=n.components.timeGutterHeader,g={};return h&&(g[o?"marginLeft":"marginRight"]="".concat(fx()-1,"px")),I.createElement("div",{style:g,ref:d,className:Ft("rbc-time-header",h&&"rbc-overflowing")},I.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},m&&I.createElement(m,null)),this.renderHeaderCells(c))}}])})(I.Component);function tH(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var rH=function(t){var r=t.min,n=t.max,i=t.timeslots,o=t.step,c=t.localizer,d=t.getNow,h=t.resource,m=t.components,g=t.getters,v=t.gutterRef,b=m.timeGutterWrapper,x=k.useMemo(function(){return tH({min:r,max:n,localizer:c})},[r?.toISOString(),n?.toISOString(),c]),S=x.start,w=x.end,_=k.useState(Rx({min:S,max:w,timeslots:i,step:o,localizer:c})),N=pi(_,2),C=N[0],T=N[1];k.useEffect(function(){C&&T(C.update({min:S,max:w,timeslots:i,step:o,localizer:c}))},[S?.toISOString(),w?.toISOString(),i,o]);var A=k.useCallback(function(L,E){if(E)return null;var D=C.dateIsInGroup(d(),E);return I.createElement("span",{className:Ft("rbc-label",D&&"rbc-now")},c.format(L,"timeGutterFormat"))},[C,c,d]);return I.createElement(b,{slotMetrics:C},I.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:v},C.groups.map(function(L,E){return I.createElement(ZO,{key:E,group:L,resource:h,components:m,renderSlot:A,getters:g})})))},nH=I.forwardRef(function(e,t){return I.createElement(rH,Object.assign({gutterRef:t},e))}),_0={};function aH(e,t){return{map:function(n){return e?e.map(function(i,o){return n([t.resourceId(i),i],o)}):[n([_0,null],0)]},groupEvents:function(n){var i=new Map;return e?(n.forEach(function(o){var c=t.resource(o)||_0;if(Array.isArray(c))c.forEach(function(h){var m=i.get(h)||[];m.push(o),i.set(h,m)});else{var d=i.get(c)||[];d.push(o),i.set(c,d)}}),i):(i.set(_0,n),i)}}}var Xo=(function(e){function t(r){var n;return cr(this,t),n=Ar(this,t,[r]),n.handleScroll=function(i){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=i.target.scrollLeft)},n.handleResize=function(){MN(n.rafHandle),n.rafHandle=lO(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];At(n.props.onKeyPressEvent,o)},n.handleSelectEvent=function(){n.clearSelection();for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];At(n.props.onSelectEvent,o)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];At(n.props.onDoubleClickEvent,o)},n.handleShowMore=function(i,o,c,d,h){var m=n.props,g=m.popup,v=m.onDrillDown,b=m.onShowMore,x=m.getDrilldownView,S=m.doShowMoreDrillDown;if(n.clearSelection(),g){var w=oO(c,n.containerRef.current);n.setState({overlay:{date:o,events:i,position:kt(kt({},w),{},{width:"200px"}),target:h}})}else S&&At(v,[o,x(o)||Ur.DAY]);At(b,[i,o,d])},n.handleSelectAllDaySlot=function(i,o){var c=n.props.onSelectSlot,d=new Date(i[0]),h=new Date(i[i.length-1]);h.setDate(i[i.length-1].getDate()+1),At(c,{slots:i,start:d,end:h,action:o.action,resourceId:o.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var i=n.contentRef.current;if(i!=null&&i.scrollHeight){var o=i.scrollHeight>i.clientHeight;n.state.isOverflowing!==o&&(n._updatingOverflow=!0,n.setState({isOverflowing:o},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=CO(function(i,o){return aH(i,o)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=I.createRef(),n.contentRef=I.createRef(),n.containerRef=I.createRef(),n._scrollRatio=null,n.gutterRef=k.createRef(),n}return Rr(t,e),ur(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),MN(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,i,o,c,d,h,m,g,v,b){var x=this.props,S=x.min,w=x.max,_=(c.get(i)||[]).filter(function(C){return h.inRange(n,m.start(C),m.end(C),"day")}),N=(d.get(i)||[]).filter(function(C){return h.inRange(n,m.start(C),m.end(C),"day")});return I.createElement(eA,Object.assign({},this.props,{localizer:h,min:h.merge(n,S),max:h.merge(n,w),resource:o&&i,components:g,isNow:h.isSameDate(n,b),key:"".concat(i,"-").concat(n),date:n,events:_,backgroundEvents:N,dayLayoutAlgorithm:v}))}},{key:"renderResourcesFirst",value:function(n,i,o,c,d,h,m,g,v){var b=this;return i.map(function(x){var S=pi(x,2),w=S[0],_=S[1];return n.map(function(N){return b.renderDayColumn(N,w,_,o,c,d,h,g,v,m)})})}},{key:"renderRangeFirst",value:function(n,i,o,c,d,h,m,g,v){var b=this;return n.map(function(x){return I.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:x},i.map(function(S){var w=pi(S,2),_=w[0],N=w[1];return I.createElement("div",{style:{flex:1},key:h.resourceId(N)},b.renderDayColumn(x,_,N,o,c,d,h,g,v,m))}))})}},{key:"renderEvents",value:function(n,i,o,c){var d=this.props,h=d.accessors,m=d.localizer,g=d.resourceGroupingLayout,v=d.components,b=d.dayLayoutAlgorithm,x=this.memoizedResources(this.props.resources,h),S=x.groupEvents(i),w=x.groupEvents(o);return g?this.renderRangeFirst(n,x,S,w,m,h,c,v,b):this.renderResourcesFirst(n,x,S,w,m,h,c,v,b)}},{key:"render",value:function(){var n,i=this.props,o=i.events,c=i.backgroundEvents,d=i.range,h=i.width,m=i.rtl,g=i.selected,v=i.getNow,b=i.resources,x=i.components,S=i.accessors,w=i.getters,_=i.localizer,N=i.min,C=i.max,T=i.showMultiDayTimes,A=i.longPressThreshold,L=i.resizable,E=i.resourceGroupingLayout;h=h||this.state.gutterWidth;var D=d[0],R=d[d.length-1];this.slots=d.length;var q=[],B=[],U=[];o.forEach(function(V){if(Mc(V,D,R,S,_)){var te=S.start(V),ge=S.end(V);S.allDay(V)||_.startAndEndAreDateOnly(te,ge)||!T&&!_.isSameDate(te,ge)?q.push(V):B.push(V)}}),c.forEach(function(V){Mc(V,D,R,S,_)&&U.push(V)}),q.sort(function(V,te){return ob(V,te,S,_)});var K={range:d,events:q,width:h,rtl:m,getNow:v,localizer:_,selected:g,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(b,S),selectable:this.props.selectable,accessors:S,getters:w,components:x,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:A,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:L};return I.createElement("div",{className:Ft("rbc-time-view",b&&"rbc-time-view-resources"),ref:this.containerRef},b&&b.length>1&&E?I.createElement(eH,K):I.createElement(ZF,K),this.props.popup&&this.renderOverlay(),I.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},I.createElement(nH,{date:D,ref:this.gutterRef,localizer:_,min:_.merge(D,N),max:_.merge(D,C),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:x,className:"rbc-time-gutter",getters:w}),this.renderEvents(d,B,U,v())))}},{key:"renderOverlay",value:function(){var n,i,o=this,c=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},d=this.props,h=d.accessors,m=d.localizer,g=d.components,v=d.getters,b=d.selected,x=d.popupOffset,S=d.handleDragStart,w=function(){return o.setState({overlay:null})};return I.createElement(Ox,{overlay:c,accessors:h,localizer:m,components:g,getters:v,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!c.position,overlayDisplay:this.overlayDisplay,onHide:w})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,o=(i=n.gutterRef)!==null&&i!==void 0&&i.current?ab(n.gutterRef.current):void 0;o&&n.state.gutterWidth!==o&&n.setState({gutterWidth:o})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=n.min,o=n.max,c=n.scrollToTime,d=n.localizer,h=d.diff(d.merge(c,i),c,"milliseconds"),m=d.diff(i,o,"milliseconds");this._scrollRatio=h/m}}])})(k.Component);Xo.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var sH=["date","localizer","min","max","scrollToTime","enableAutoScroll"],oh=(function(e){function t(){return cr(this,t),Ar(this,t,arguments)}return Rr(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.date,o=n.localizer,c=n.min,d=c===void 0?o.startOf(new Date,"day"):c,h=n.max,m=h===void 0?o.endOf(new Date,"day"):h,g=n.scrollToTime,v=g===void 0?o.startOf(new Date,"day"):g,b=n.enableAutoScroll,x=b===void 0?!0:b,S=ua(n,sH),w=t.range(i,{localizer:o});return I.createElement(Xo,Object.assign({},S,{range:w,eventOffset:10,localizer:o,min:d,max:m,scrollToTime:v,enableAutoScroll:x}))}}])})(I.Component);oh.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};oh.navigate=function(e,t,r){var n=r.localizer;switch(t){case Zr.PREVIOUS:return n.add(e,-1,"day");case Zr.NEXT:return n.add(e,1,"day");default:return e}};oh.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var iH=["date","localizer","min","max","scrollToTime","enableAutoScroll"],ks=(function(e){function t(){return cr(this,t),Ar(this,t,arguments)}return Rr(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.date,o=n.localizer,c=n.min,d=c===void 0?o.startOf(new Date,"day"):c,h=n.max,m=h===void 0?o.endOf(new Date,"day"):h,g=n.scrollToTime,v=g===void 0?o.startOf(new Date,"day"):g,b=n.enableAutoScroll,x=b===void 0?!0:b,S=ua(n,iH),w=t.range(i,this.props);return I.createElement(Xo,Object.assign({},S,{range:w,eventOffset:15,localizer:o,min:d,max:m,scrollToTime:v,enableAutoScroll:x}))}}])})(I.Component);ks.defaultProps=Xo.defaultProps;ks.navigate=function(e,t,r){var n=r.localizer;switch(t){case Zr.PREVIOUS:return n.add(e,-1,"week");case Zr.NEXT:return n.add(e,1,"week");default:return e}};ks.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),i=r.startOf(e,"week",n),o=r.endOf(e,"week",n);return r.range(i,o)};ks.title=function(e,t){var r=t.localizer,n=ks.range(e,{localizer:r}),i=MO(n),o=i[0],c=i.slice(1);return r.format({start:o,end:c.pop()},"dayRangeHeaderFormat")};var oH=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Mx(e,t){return ks.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var nu=(function(e){function t(){return cr(this,t),Ar(this,t,arguments)}return Rr(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.date,o=n.localizer,c=n.min,d=c===void 0?o.startOf(new Date,"day"):c,h=n.max,m=h===void 0?o.endOf(new Date,"day"):h,g=n.scrollToTime,v=g===void 0?o.startOf(new Date,"day"):g,b=n.enableAutoScroll,x=b===void 0?!0:b,S=ua(n,oH),w=Mx(i,this.props);return I.createElement(Xo,Object.assign({},S,{range:w,eventOffset:15,localizer:o,min:d,max:m,scrollToTime:v,enableAutoScroll:x}))}}])})(I.Component);nu.defaultProps=Xo.defaultProps;nu.range=Mx;nu.navigate=ks.navigate;nu.title=function(e,t){var r=t.localizer,n=Mx(e,{localizer:r}),i=MO(n),o=i[0],c=i.slice(1);return r.format({start:o,end:c.pop()},"dayRangeHeaderFormat")};var lh=30;function ch(e){var t=e.accessors,r=e.components,n=e.date,i=e.events,o=e.getters,c=e.length,d=c===void 0?lh:c,h=e.localizer,m=e.onDoubleClickEvent,g=e.onSelectEvent,v=e.selected,b=k.useRef(null),x=k.useRef(null),S=k.useRef(null),w=k.useRef(null),_=k.useRef(null);k.useEffect(function(){T()});var N=function(R,q,B){var U=r.event,K=r.date;return q=q.filter(function(V){return Mc(V,h.startOf(R,"day"),h.endOf(R,"day"),t,h)}),q.map(function(V,te){var ge=t.title(V),P=t.end(V),W=t.start(V),J=o.eventProp(V,W,P,sh(V,v)),me=te===0&&h.format(R,"agendaDateFormat"),oe=te===0?I.createElement("td",{rowSpan:q.length,className:"rbc-agenda-date-cell"},K?I.createElement(K,{day:R,label:me}):me):!1;return I.createElement("tr",{key:B+"_"+te,className:J.className,style:J.style},oe,I.createElement("td",{className:"rbc-agenda-time-cell"},C(R,V)),I.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(H){return g&&g(V,H)},onDoubleClick:function(H){return m&&m(V,H)}},U?I.createElement(U,{event:V,title:ge}):ge))},[])},C=function(R,q){var B="",U=r.time,K=h.messages.allDay,V=t.end(q),te=t.start(q);return t.allDay(q)||(h.eq(te,V)?K=h.format(te,"agendaTimeFormat"):h.isSameDate(te,V)?K=h.format({start:te,end:V},"agendaTimeRangeFormat"):h.isSameDate(R,te)?K=h.format(te,"agendaTimeFormat"):h.isSameDate(R,V)&&(K=h.format(V,"agendaTimeFormat"))),h.gt(R,te,"day")&&(B="rbc-continues-prior"),h.lt(R,V,"day")&&(B+=" rbc-continues-after"),I.createElement("span",{className:B.trim()},U?I.createElement(U,{event:q,day:R,label:K}):K)},T=function(){if(_.current){var R=b.current,q=_.current.firstChild;if(q){var B=w.current.scrollHeight>w.current.clientHeight,U=[],K=U;U=[ab(q.children[0]),ab(q.children[1])],(K[0]!==U[0]||K[1]!==U[1])&&(x.current.style.width=U[0]+"px",S.current.style.width=U[1]+"px"),B?(oB(R,"rbc-header-overflowing"),R.style.marginRight=fx()+"px"):lB(R,"rbc-header-overflowing")}}},A=h.messages,L=h.add(n,d,"day"),E=h.range(n,L,"day");return i=i.filter(function(D){return Mc(D,h.startOf(n,"day"),h.endOf(L,"day"),t,h)}),i.sort(function(D,R){return+t.start(D)-+t.start(R)}),I.createElement("div",{className:"rbc-agenda-view"},i.length!==0?I.createElement(I.Fragment,null,I.createElement("table",{ref:b,className:"rbc-agenda-table"},I.createElement("thead",null,I.createElement("tr",null,I.createElement("th",{className:"rbc-header",ref:x},A.date),I.createElement("th",{className:"rbc-header",ref:S},A.time),I.createElement("th",{className:"rbc-header"},A.event)))),I.createElement("div",{className:"rbc-agenda-content",ref:w},I.createElement("table",{className:"rbc-agenda-table"},I.createElement("tbody",{ref:_},E.map(function(D,R){return N(D,i,R)}))))):I.createElement("span",{className:"rbc-agenda-empty"},A.noEventsInRange))}ch.range=function(e,t){var r=t.length,n=r===void 0?lh:r,i=t.localizer,o=i.add(e,n,"day");return{start:e,end:o}};ch.navigate=function(e,t,r){var n=r.length,i=n===void 0?lh:n,o=r.localizer;switch(t){case Zr.PREVIOUS:return o.add(e,-i,"day");case Zr.NEXT:return o.add(e,i,"day");default:return e}};ch.title=function(e,t){var r=t.length,n=r===void 0?lh:r,i=t.localizer,o=i.add(e,n,"day");return i.format({start:e,end:o},"agendaHeaderFormat")};var Qd=ii(ii(ii(ii(ii({},Ur.MONTH,ih),Ur.WEEK,ks),Ur.WORK_WEEK,nu),Ur.DAY,oh),Ur.AGENDA,ch),lH=["action","date","today"];function cH(e,t){var r=t.action,n=t.date,i=t.today,o=ua(t,lH);switch(e=typeof e=="string"?Qd[e]:e,r){case Zr.TODAY:n=i||new Date;break;case Zr.DATE:break;default:_c(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,o)}return n}function uH(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&Ba(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var La=function(t){return function(r){return uH(r,t)}},dH=["view","date","getNow","onNavigate"],fH=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function rA(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var i=pi(n[r],2),o=i[0],c=i[1];c&&t.push(o)}return t}function hH(e,t){var r=t.views,n=rA(r);return n.indexOf(e)!==-1}var nA=(function(e){function t(){var r;cr(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Ar(this,t,[].concat(i)),r.getViews=function(){var c=r.props.views;return Array.isArray(c)?L9(c,function(d,h){return d[h]=Qd[h]},{}):Ba(c)==="object"?a9(c,function(d,h){return d===!0?Qd[h]:d}):Qd},r.getView=function(){var c=r.getViews();return c[r.props.view]},r.getDrilldownView=function(c){var d=r.props,h=d.view,m=d.drilldownView,g=d.getDrilldownView;return g?g(c,h,Object.keys(r.getViews())):m},r.handleRangeChange=function(c,d,h){var m=r.props,g=m.onRangeChange,v=m.localizer;g&&d.range&&g(d.range(c,{localizer:v}),h)},r.handleNavigate=function(c,d){var h=r.props,m=h.view,g=h.date,v=h.getNow,b=h.onNavigate,x=ua(h,dH),S=r.getView(),w=v();g=cH(S,kt(kt({},x),{},{action:c,date:d||g||w,today:w})),b(g,m,c),r.handleRangeChange(g,S)},r.handleViewChange=function(c){c!==r.props.view&&hH(c,r.props)&&r.props.onView(c);var d=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),d[c],c)},r.handleSelectEvent=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];At(r.props.onKeyPressEvent,d)},r.handleSelectSlot=function(c){At(r.props.onSelectSlot,c)},r.handleDrillDown=function(c,d){var h=r.props.onDrillDown;if(h){h(c,d,r.drilldownView);return}d&&r.handleViewChange(d),r.handleNavigate(Zr.DATE,c)},r.state={context:t.getContext(r.props)},r}return Rr(t,e),ur(t,[{key:"render",value:function(){var n=this.props,i=n.view,o=n.toolbar,c=n.events,d=n.backgroundEvents,h=n.resourceGroupingLayout,m=n.style,g=n.className,v=n.elementProps,b=n.date,x=n.getNow,S=n.length,w=n.showMultiDayTimes,_=n.onShowMore,N=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var C=ua(n,fH);b=b||x();var T=this.getView(),A=this.state.context,L=A.accessors,E=A.components,D=A.getters,R=A.localizer,q=A.viewNames,B=E.toolbar||pF,U=T.title(b,{localizer:R,length:S});return I.createElement("div",Object.assign({},v,{className:Ft(g,"rbc-calendar",C.rtl&&"rbc-rtl"),style:m}),o&&I.createElement(B,{date:b,view:i,views:q,label:U,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:R}),I.createElement(T,Object.assign({},C,{events:c,backgroundEvents:d,date:b,getNow:x,length:S,localizer:R,getters:D,components:E,accessors:L,showMultiDayTimes:w,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:_,doShowMoreDrillDown:N,resourceGroupingLayout:h})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var i=n.startAccessor,o=n.endAccessor,c=n.allDayAccessor,d=n.tooltipAccessor,h=n.titleAccessor,m=n.resourceAccessor,g=n.resourceIdAccessor,v=n.resourceTitleAccessor,b=n.eventIdAccessor,x=n.eventPropGetter,S=n.backgroundEventPropGetter,w=n.slotPropGetter,_=n.slotGroupPropGetter,N=n.dayPropGetter,C=n.view,T=n.views,A=n.localizer,L=n.culture,E=n.messages,D=E===void 0?{}:E,R=n.components,q=R===void 0?{}:R,B=n.formats,U=B===void 0?{}:B,K=rA(T),V=yF(D);return{viewNames:K,localizer:gF(A,L,U,V),getters:{eventProp:function(){return x&&x.apply(void 0,arguments)||{}},backgroundEventProp:function(){return S&&S.apply(void 0,arguments)||{}},slotProp:function(){return w&&w.apply(void 0,arguments)||{}},slotGroupProp:function(){return _&&_.apply(void 0,arguments)||{}},dayProp:function(){return N&&N.apply(void 0,arguments)||{}}},components:t9(q[C]||{},A9(q,K),{eventWrapper:ia,backgroundEventWrapper:ia,eventContainerWrapper:ia,dateCellWrapper:ia,weekWrapper:ia,timeSlotWrapper:ia,timeGutterWrapper:ia,timeIndicatorWrapper:ia}),accessors:{start:La(i),end:La(o),allDay:La(c),tooltip:La(d),title:La(h),resource:La(m),resourceId:La(g),resourceTitle:La(v),eventId:La(b)}}}}])})(I.Component);nA.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Ur.MONTH,views:[Ur.MONTH,Ur.WEEK,Ur.DAY,Ur.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Ur.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var aA=KD(nA,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),mH=function(t,r,n){var i=t.start,o=t.end;return"".concat(n.format(i,"P",r)," – ").concat(n.format(o,"P",r))},S0=function(t,r,n){var i=t.start,o=t.end;return"".concat(n.format(i,"p",r)," – ").concat(n.format(o,"p",r))},gH=function(t,r,n){var i=t.start;return"".concat(n.format(i,"h:mma",r)," – ")},pH=function(t,r,n){var i=t.end;return" – ".concat(n.format(i,"h:mma",r))},vH=function(t,r,n){var i=t.start,o=t.end;return"".concat(n.format(i,"MMMM dd",r)," – ").concat(n.format(o,Go(i,o,"month")?"dd":"MMMM dd",r))},yH={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:S0,eventTimeRangeFormat:S0,eventTimeRangeStartFormat:gH,eventTimeRangeEndFormat:pH,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:vH,agendaHeaderFormat:mH,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:S0},sA=function(t){var r=t.startOfWeek,n=t.getDay,i=t.format,o=t.locales;return new mF({formats:yH,firstOfWeek:function(d){return n(r(new Date,{locale:o[d]}))},format:function(d,h,m){return i(new Date(d),h,{locale:o[m]})}})};const iA=6048e5,bH=864e5,_C=Symbol.for("constructDateFrom");function Es(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&_C in e?e[_C](t):e instanceof Date?new e.constructor(t):new Date(t)}function qn(e,t){return Es(t||e,e)}let xH={};function uh(){return xH}function ji(e,t){const r=uh(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=qn(e,t?.in),o=i.getDay(),c=(o<n?7:0)+o-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function Sf(e,t){return ji(e,{...t,weekStartsOn:1})}function oA(e,t){const r=qn(e,t?.in),n=r.getFullYear(),i=Es(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const o=Sf(i),c=Es(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const d=Sf(c);return r.getTime()>=o.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function SC(e){const t=qn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function wH(e,...t){const r=Es.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function jC(e,t){const r=qn(e,t?.in);return r.setHours(0,0,0,0),r}function _H(e,t,r){const[n,i]=wH(r?.in,e,t),o=jC(n),c=jC(i),d=+o-SC(o),h=+c-SC(c);return Math.round((d-h)/bH)}function SH(e,t){const r=oA(e,t),n=Es(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Sf(n)}function jH(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function NH(e){return!(!jH(e)&&typeof e!="number"||isNaN(+qn(e)))}function kH(e,t){const r=qn(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const EH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},CH=(e,t,r)=>{let n;const i=EH[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function j0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const TH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},DH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},AH={date:j0({formats:TH,defaultWidth:"full"}),time:j0({formats:DH,defaultWidth:"full"}),dateTime:j0({formats:OH,defaultWidth:"full"})},RH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},MH=(e,t,r,n)=>RH[e];function Yl(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=r?.width?String(r.width):c;i=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=r?.width?String(r.width):e.defaultWidth;i=e.values[d]||e.values[c]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const LH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},UH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},PH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$H={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},BH=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},IH={ordinalNumber:BH,era:Yl({values:LH,defaultWidth:"wide"}),quarter:Yl({values:qH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yl({values:UH,defaultWidth:"wide"}),day:Yl({values:PH,defaultWidth:"wide"}),dayPeriod:Yl({values:$H,defaultWidth:"wide",formattingValues:zH,defaultFormattingWidth:"wide"})};function Vl(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const c=o[0],d=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(d)?HH(d,v=>v.test(c)):FH(d,v=>v.test(c));let m;m=e.valueCallback?e.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;const g=t.slice(c.length);return{value:m,rest:g}}}function FH(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function HH(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function KH(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],o=t.match(e.parsePattern);if(!o)return null;let c=e.valueCallback?e.valueCallback(o[0]):o[0];c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(i.length);return{value:c,rest:d}}}const GH=/^(\d+)(th|st|nd|rd)?/i,YH=/\d+/i,VH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QH={any:[/^b/i,/^(a|c)/i]},WH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XH={any:[/1/i,/2/i,/3/i,/4/i]},JH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aK={ordinalNumber:KH({matchPattern:GH,parsePattern:YH,valueCallback:e=>parseInt(e,10)}),era:Vl({matchPatterns:VH,defaultMatchWidth:"wide",parsePatterns:QH,defaultParseWidth:"any"}),quarter:Vl({matchPatterns:WH,defaultMatchWidth:"wide",parsePatterns:XH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vl({matchPatterns:JH,defaultMatchWidth:"wide",parsePatterns:ZH,defaultParseWidth:"any"}),day:Vl({matchPatterns:eK,defaultMatchWidth:"wide",parsePatterns:tK,defaultParseWidth:"any"}),dayPeriod:Vl({matchPatterns:rK,defaultMatchWidth:"any",parsePatterns:nK,defaultParseWidth:"any"})},Lx={code:"en-US",formatDistance:CH,formatLong:AH,formatRelative:MH,localize:IH,match:aK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sK(e,t){const r=qn(e,t?.in);return _H(r,kH(r))+1}function iK(e,t){const r=qn(e,t?.in),n=+Sf(r)-+SH(r);return Math.round(n/iA)+1}function lA(e,t){const r=qn(e,t?.in),n=r.getFullYear(),i=uh(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=Es(t?.in||e,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const d=ji(c,t),h=Es(t?.in||e,0);h.setFullYear(n,0,o),h.setHours(0,0,0,0);const m=ji(h,t);return+r>=+d?n+1:+r>=+m?n:n-1}function oK(e,t){const r=uh(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=lA(e,t),o=Es(t?.in||e,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),ji(o,t)}function lK(e,t){const r=qn(e,t?.in),n=+ji(r,t)-+oK(r,t);return Math.round(n/iA)+1}function yt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ps={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return yt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):yt(r+1,2)},d(e,t){return yt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return yt(e.getHours()%12||12,t.length)},H(e,t){return yt(e.getHours(),t.length)},m(e,t){return yt(e.getMinutes(),t.length)},s(e,t){return yt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return yt(i,t.length)}},_o={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NC={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return ps.y(e,t)},Y:function(e,t,r,n){const i=lA(e,n),o=i>0?i:1-i;if(t==="YY"){const c=o%100;return yt(c,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):yt(o,t.length)},R:function(e,t){const r=oA(e);return yt(r,t.length)},u:function(e,t){const r=e.getFullYear();return yt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return yt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return yt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ps.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return yt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=lK(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):yt(i,t.length)},I:function(e,t,r){const n=iK(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):yt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ps.d(e,t)},D:function(e,t,r){const n=sK(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):yt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return yt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return yt(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return yt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=_o.noon:n===0?i=_o.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=_o.evening:n>=12?i=_o.afternoon:n>=4?i=_o.morning:i=_o.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ps.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ps.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):yt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):yt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ps.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ps.s(e,t)},S:function(e,t){return ps.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return EC(n);case"XXXX":case"XX":return ai(n);case"XXXXX":case"XXX":default:return ai(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return EC(n);case"xxxx":case"xx":return ai(n);case"xxxxx":case"xxx":default:return ai(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kC(n,":");case"OOOO":default:return"GMT"+ai(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kC(n,":");case"zzzz":default:return"GMT"+ai(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return yt(n,t.length)},T:function(e,t,r){return yt(+e,t.length)}};function kC(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+t+yt(o,2)}function EC(e,t){return e%60===0?(e>0?"-":"+")+yt(Math.abs(e)/60,2):ai(e,t)}function ai(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=yt(Math.trunc(n/60),2),o=yt(n%60,2);return r+i+t+o}const CC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},cA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},cK=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return CC(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",CC(n,t)).replace("{{time}}",cA(i,t))},uK={p:cA,P:cK},dK=/^D+$/,fK=/^Y+$/,hK=["D","DD","YY","YYYY"];function mK(e){return dK.test(e)}function gK(e){return fK.test(e)}function pK(e,t,r){const n=vK(e,t,r);if(console.warn(n),hK.includes(e))throw new RangeError(n)}function vK(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xK=/^'([^]*?)'?$/,wK=/''/g,_K=/[a-zA-Z]/;function uA(e,t,r){const n=uh(),i=r?.locale??n.locale??Lx,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=qn(e,r?.in);if(!NH(d))throw new RangeError("Invalid time value");let h=t.match(bK).map(g=>{const v=g[0];if(v==="p"||v==="P"){const b=uK[v];return b(g,i.formatLong)}return g}).join("").match(yK).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:SK(g)};if(NC[v])return{isToken:!0,value:g};if(v.match(_K))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(h=i.localize.preprocessor(d,h));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:i};return h.map(g=>{if(!g.isToken)return g.value;const v=g.value;(!r?.useAdditionalWeekYearTokens&&gK(v)||!r?.useAdditionalDayOfYearTokens&&mK(v))&&pK(v,t,String(e));const b=NC[v[0]];return b(d,v,i.localize,m)}).join("")}function SK(e){const t=e.match(xK);return t?t[1].replace(wK,"'"):e}function dA(e,t){return qn(e,t?.in).getDay()}const jK={"en-US":Lx},NK=sA({format:uA,startOfWeek:ji,getDay:dA,locales:jK});function TC(){const{boardId:e}=Fa(),{data:t=[],isLoading:r}=ct({queryKey:["cards",e],queryFn:()=>e?Ei(e):Promise.resolve([]),enabled:!!e}),n=[];if(t.forEach(o=>{if(o.date_start||o.date_end){const c=o.date_start?new Date(o.date_start):new Date,d=o.date_end?new Date(o.date_end):c;n.push({id:`card-${o.id}`,title:`📋 ${o.title}`,start:c,end:d,resource:o,type:"card"})}o.checklists&&o.checklists.forEach(c=>{c.checklist_items?.forEach(d=>{if(d.due_date||d.start_date){const h=d.start_date?new Date(d.start_date):new Date(d.due_date),m=d.due_date?new Date(d.due_date):h;n.push({id:`task-${d.id}`,title:`${d.done?"✓":"☐"} ${d.text||"Untitled Task"}`,start:h,end:m,resource:o,type:"task",cardTitle:o.title,completed:d.done})}})})}),r)return u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("div",{className:"text-gray-500",children:"Loading calendar..."})});const i=o=>{const c={backgroundColor:o.type==="card"?"#3b82f6":"#10b981",borderRadius:"4px",opacity:o.completed?.6:1,color:"white",border:"none",display:"block"};return o.completed&&(c.textDecoration="line-through"),{style:c}};try{return u.jsx("div",{className:"h-full flex flex-col",children:u.jsxs("div",{className:"flex-1 p-4",children:[u.jsx("h1",{className:"text-2xl font-bold mb-2",children:e?"Board Calendar":"Master Calendar"}),u.jsxs("div",{className:"flex gap-4 mb-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#3b82f6"}}),u.jsxs("span",{children:["Cards (",n.filter(o=>o.type==="card").length,")"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#10b981"}}),u.jsxs("span",{children:["Tasks (",n.filter(o=>o.type==="task").length,")"]})]})]}),u.jsx("div",{className:"bg-white border rounded",style:{height:"calc(100vh - 250px)"},children:u.jsx(aA,{localizer:NK,events:n,startAccessor:"start",endAccessor:"end",style:{height:"100%"},views:["month","week","day","agenda"],defaultView:"month",eventPropGetter:i})})]})})}catch(o){return u.jsx("div",{className:"h-full flex flex-col p-4",children:u.jsxs("div",{className:"bg-red-100 border border-red-400 p-4 rounded",children:[u.jsx("h2",{className:"text-red-800 font-bold",children:"Calendar Error"}),u.jsxs("p",{className:"text-red-700",children:["Error loading calendar: ",String(o)]})]})})}}function kK(){const{boardId:e}=Fa(),{data:t,isLoading:r}=ct({queryKey:["board",e],queryFn:()=>$b(e),enabled:!!e}),{data:n=[],isLoading:i}=ct({queryKey:["lists",e],queryFn:()=>Bf(e),enabled:!!e}),{data:o=[],isLoading:c}=ct({queryKey:["cards",e],queryFn:()=>Ei(e),enabled:!!e});if(r||i||c)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading timeline..."})});const d=w=>n.find(N=>N.id===w)?.name||"Unknown List",h=[];o.forEach(w=>{(w.date_start||w.date_end)&&h.push({id:`card-${w.id}`,type:"card",title:w.title,listName:d(w.list_id),dateStart:w.date_start||void 0,dateEnd:w.date_end||void 0,description:typeof w.description=="string"?w.description:null,labels:w.card_labels?.filter(_=>_.labels).map(_=>_.labels),card:w}),w.checklists&&w.checklists.forEach(_=>{_.checklist_items?.forEach(N=>{(N.due_date||N.start_date)&&h.push({id:`task-${N.id}`,type:"task",title:N.text||"Untitled Task",cardTitle:w.title,listName:d(w.list_id),dateStart:N.start_date||void 0,dateEnd:N.due_date||void 0,completed:N.done,priority:N.priority,labels:N.labels,card:w})})})});const g=h.sort((w,_)=>{const N=new Date(w.dateStart||w.dateEnd||0),C=new Date(_.dateStart||_.dateEnd||0);return N.getTime()-C.getTime()}).reduce((w,_)=>{const N=new Date(_.dateStart||_.dateEnd||0),C=`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}`;return w[C]||(w[C]=[]),w[C].push(_),w},{}),v=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),b=w=>{const[_,N]=w.split("-");return new Date(parseInt(_),parseInt(N)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})},x=h.filter(w=>w.type==="card").length,S=h.filter(w=>w.type==="task").length;return u.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900",children:[u.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t?.name," - Timeline View"]}),u.jsxs("div",{className:"flex gap-6 mt-2 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[x," Card",x!==1?"s":""]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[S," Task",S!==1?"s":""]})]})]})]}),u.jsx("div",{className:"flex-1 overflow-auto p-6",children:Object.keys(g).length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:"📅"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Timeline Events"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add dates to your cards and tasks to see them in the timeline view."})]}):u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-300 dark:bg-gray-600"}),Object.entries(g).map(([w,_])=>u.jsxs("div",{className:"relative mb-12",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full border-4 border-white dark:border-gray-900 shadow-lg z-10 relative"}),u.jsxs("div",{className:"ml-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:b(w)}),u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_.length," item",_.length!==1?"s":""]})]})]}),u.jsx("div",{className:"ml-10 space-y-4",children:_.map((N,C)=>u.jsxs("div",{className:`rounded-lg border p-4 shadow-sm hover:shadow-md transition-shadow ${N.type==="card"?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":N.completed?"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 opacity-75":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"}`,children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-lg",children:N.type==="card"?"📋":N.completed?"✓":"☐"}),u.jsx("h3",{className:`font-medium text-gray-900 dark:text-white ${N.completed?"line-through":""}`,children:N.title})]}),N.type==="task"&&N.cardTitle&&u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 ml-7 mb-1",children:["From card: ",N.cardTitle]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 ml-7",children:[u.jsxs("span",{className:"flex items-center gap-1",children:["� ",N.listName]}),N.dateStart&&u.jsxs("span",{className:"flex items-center gap-1",children:["🚀 ",v(N.dateStart)]}),N.dateEnd&&u.jsxs("span",{className:"flex items-center gap-1",children:["🏁 ",v(N.dateEnd)]}),N.priority&&u.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${N.priority==="high"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":N.priority==="medium"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:N.priority})]}),N.description&&u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2 ml-7 line-clamp-2",children:N.description})]}),u.jsxs("div",{className:"ml-4 flex flex-col items-end gap-1",children:[u.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${N.type==="card"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:N.type==="card"?"📋 Card":"☐ Task"}),u.jsxs("div",{className:"text-xs text-gray-400",children:["#",C+1]})]})]}),N.labels&&N.labels.length>0&&u.jsx("div",{className:"flex flex-wrap gap-1 mt-3 ml-7",children:N.labels.map((T,A)=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:T.color+"20",color:T.color,border:`1px solid ${T.color}40`},children:T.name},A))})]},N.id))})]},w))]})})})]})}function EK(){const{boardId:e}=Fa(),{data:t,isLoading:r}=ct({queryKey:["board",e],queryFn:()=>$b(e),enabled:!!e}),{data:n=[],isLoading:i}=ct({queryKey:["lists",e],queryFn:()=>Bf(e),enabled:!!e}),{data:o=[],isLoading:c}=ct({queryKey:["cards",e],queryFn:()=>Ei(e),enabled:!!e});if(r||i||c)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading map..."})});const d=o.filter(m=>m.location_lat&&m.location_lng||m.location_address),h=m=>n.find(v=>v.id===m)?.name||"Unknown List";return u.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900",children:[u.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t?.name," - Map View"]}),u.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:[d.length," pinned location",d.length!==1?"s":""," on this board"]})]}),u.jsx("div",{className:"flex-1 overflow-auto p-4",children:d.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:"🗺️"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Pinned Locations"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add location data to your cards to see them on this board's map."}),u.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Edit a card and add an address or coordinates to pin it to the map."})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"📍 Location Summary"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:d.filter(m=>m.location_lat&&m.location_lng).length}),u.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"GPS Coordinates"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:d.filter(m=>m.location_address).length}),u.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Addresses"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:new Set(d.map(m=>h(m.list_id))).size}),u.jsx("div",{className:"text-purple-700 dark:text-purple-300",children:"Lists"})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(m=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm",children:m.title}),u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:h(m.list_id)})]}),m.description&&u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2",children:String(m.description)}),u.jsxs("div",{className:"space-y-2",children:[m.location_address&&u.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{className:"text-red-500 mt-0.5",children:"📍"}),u.jsx("span",{className:"flex-1",children:m.location_address})]}),m.location_lat&&m.location_lng&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{className:"text-blue-500",children:"🌐"}),u.jsxs("span",{children:[m.location_lat.toFixed(6),", ",m.location_lng.toFixed(6)]})]}),u.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[m.location_lat&&m.location_lng&&u.jsx("button",{onClick:()=>{const g=`https://www.google.com/maps?q=${m.location_lat},${m.location_lng}`;window.open(g,"_blank")},className:"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"📍 View on Google Maps"}),m.location_address&&!m.location_lat&&u.jsx("button",{onClick:()=>{const g=`https://www.google.com/maps/search/${encodeURIComponent(m.location_address)}`;window.open(g,"_blank")},className:"px-3 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"🔍 Search Address"}),m.location_lat&&m.location_lng&&u.jsx("button",{onClick:()=>{const g=`https://www.google.com/maps/dir//${m.location_lat},${m.location_lng}`;window.open(g,"_blank")},className:"px-3 py-1 text-xs bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors",children:"🧭 Get Directions"})]})]}),u.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[u.jsxs("span",{children:[m.date_start&&`Start: ${new Date(m.date_start).toLocaleDateString()}`,m.date_end&&` • Due: ${new Date(m.date_end).toLocaleDateString()}`]}),u.jsx("span",{children:"📋 Card"})]})})]},m.id))}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"🗺️ Quick Map Actions"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>{if(d.length>0){const m=d.filter(g=>g.location_lat&&g.location_lng).map(g=>`${g.location_lat},${g.location_lng}`).join("|");if(m){const g=`https://www.google.com/maps?q=${m}`;window.open(g,"_blank")}}},disabled:d.filter(m=>m.location_lat&&m.location_lng).length===0,className:"px-3 py-2 text-sm bg-indigo-500 text-white rounded hover:bg-indigo-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:"🌍 View All Locations on Map"}),u.jsx("button",{onClick:()=>{const m=d.filter(g=>g.location_address).map(g=>g.location_address).join(" | ");m&&navigator.clipboard.writeText(m)},disabled:d.filter(m=>m.location_address).length===0,className:"px-3 py-2 text-sm bg-green-500 text-white rounded hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:"📋 Copy All Addresses"})]})]})]})})]})}function CK(){return u.jsxs("div",{className:"p-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"WorkspacePage"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This WorkspacePage component will be implemented."})]})}const TK={id:"default",name:"Default Theme",colors:{primary:"#3b82f6",secondary:"#6b7280",accent:"#10b981",background:"#ffffff",cardBackground:"#f9fafb",text:"#111827",border:"#d1d5db"},cardFields:[{id:"title",type:"text",label:"Title",required:!0,visible:!0},{id:"description",type:"textarea",label:"Description",required:!1,visible:!0},{id:"due_date",type:"date",label:"Due Date",required:!1,visible:!0},{id:"priority",type:"select",label:"Priority",required:!1,visible:!0,options:["Low","Medium","High","Urgent"]},{id:"assignee",type:"text",label:"Assignee",required:!1,visible:!0},{id:"labels",type:"select",label:"Labels",required:!1,visible:!0}],labels:["Bug","Feature","Enhancement","Documentation","Research"],calendarSettings:{defaultView:"month",startHour:8,endHour:18,showWeekends:!0}};function DK({field:e,onUpdate:t,onDelete:r}){const{attributes:n,listeners:i,setNodeRef:o,transform:c,transition:d,isDragging:h}=zf({id:e.id}),[m,g]=k.useState(!1),[v,b]=k.useState(e),x={transform:Gn.Transform.toString(c),transition:d,opacity:h?.5:1},S=()=>{t(v),g(!1)};return m?u.jsx("div",{ref:o,style:x,className:"bg-white border rounded-lg p-4 mb-2",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"Label"}),u.jsx("input",{type:"text",value:v.label,onChange:w=>b({...v,label:w.target.value}),className:"w-full p-2 border rounded"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type"}),u.jsxs("select",{value:v.type,onChange:w=>b({...v,type:w.target.value}),className:"w-full p-2 border rounded",children:[u.jsx("option",{value:"text",children:"Text"}),u.jsx("option",{value:"textarea",children:"Textarea"}),u.jsx("option",{value:"date",children:"Date"}),u.jsx("option",{value:"select",children:"Select"}),u.jsx("option",{value:"checkbox",children:"Checkbox"}),u.jsx("option",{value:"number",children:"Number"}),u.jsx("option",{value:"url",children:"URL"}),u.jsx("option",{value:"email",children:"Email"})]})]}),v.type==="select"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"Options (comma separated)"}),u.jsx("input",{type:"text",value:v.options?.join(", ")||"",onChange:w=>b({...v,options:w.target.value.split(", ").filter(Boolean)}),className:"w-full p-2 border rounded",placeholder:"Option 1, Option 2, Option 3"})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:v.required,onChange:w=>b({...v,required:w.target.checked}),className:"mr-2"}),"Required"]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:v.visible,onChange:w=>b({...v,visible:w.target.checked}),className:"mr-2"}),"Visible"]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:S,className:"px-3 py-1 bg-blue-500 text-white rounded text-sm",children:"Save"}),u.jsx("button",{onClick:()=>g(!1),className:"px-3 py-1 bg-gray-500 text-white rounded text-sm",children:"Cancel"})]})]})}):u.jsxs("div",{ref:o,style:x,...n,className:"bg-white border rounded-lg p-3 mb-2 flex items-center space-x-3",children:[u.jsx("div",{...i,className:"cursor-grab",children:u.jsx(tU,{className:"w-4 h-4 text-gray-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"font-medium",children:e.label}),u.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e.type,")"]}),e.required&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"}),!e.visible&&u.jsx("span",{className:"text-gray-400 ml-1",children:"(hidden)"})]}),u.jsx("button",{onClick:()=>g(!0),className:"px-2 py-1 text-blue-500 text-sm",children:"Edit"}),u.jsx("button",{onClick:r,className:"p-1 text-red-500",children:u.jsx(Pr,{className:"w-4 h-4"})})]})}function OK(){const[e,t]=k.useState(TK),[r,n]=k.useState("colors"),[i,o]=k.useState(!1),[c,d]=k.useState(""),[h,m]=k.useState(!1),g=kr(),v=Fb(hf(Hc)),{data:b=[]}=ct({queryKey:["themes"],queryFn:Tf}),x=Ge({mutationFn:HT,onSuccess:async R=>{g.invalidateQueries({queryKey:["themes"]}),h&&await S.mutateAsync(R.id),o(!1),d(""),m(!1)}}),S=Ge({mutationFn:Ob,onSuccess:()=>{g.invalidateQueries({queryKey:["themes"]})}}),w=()=>{if(!c.trim()){alert("Please enter a theme name");return}const R={name:c,description:`Custom theme with ${e.cardFields.length} fields`,colors:{primary:e.colors.primary,secondary:e.colors.secondary,accent:e.colors.accent,background:e.colors.background,cardBackground:e.colors.cardBackground,text:e.colors.text,textSecondary:e.colors.text,border:e.colors.border,success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:e.colors.accent},typography:{fontFamily:"Inter, sans-serif",fontSize:{xs:"12px",sm:"14px",base:"16px",lg:"18px",xl:"20px","2xl":"24px","3xl":"30px"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"}},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px","2xl":"48px"},borderRadius:{sm:"4px",md:"8px",lg:"12px",full:"9999px"},shadows:{sm:"0 1px 3px rgba(0, 0, 0, 0.1)",md:"0 4px 6px rgba(0, 0, 0, 0.1)",lg:"0 10px 15px rgba(0, 0, 0, 0.1)",xl:"0 20px 25px rgba(0, 0, 0, 0.1)"}};x.mutate(R)},_=R=>{const{active:q,over:B}=R;if(q.id!==B.id){const U=e.cardFields.findIndex(V=>V.id===q.id),K=e.cardFields.findIndex(V=>V.id===B.id);t({...e,cardFields:Pf(e.cardFields,U,K)})}},N=()=>{const R={id:`field_${Date.now()}`,type:"text",label:"New Field",required:!1,visible:!0};t({...e,cardFields:[...e.cardFields,R]})},C=(R,q)=>{t({...e,cardFields:e.cardFields.map(B=>B.id===R?q:B)})},T=R=>{t({...e,cardFields:e.cardFields.filter(q=>q.id!==R)})},A=()=>{t({...e,labels:[...e.labels,"New Label"]})},L=(R,q)=>{const B=[...e.labels];B[R]=q,t({...e,labels:B})},E=R=>{t({...e,labels:e.labels.filter((q,B)=>B!==R)})},D=()=>{o(!0)};return u.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Theme Settings"}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs("button",{onClick:()=>window.location.href="/admin",className:"flex items-center space-x-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[u.jsx(of,{className:"w-4 h-4"}),u.jsx("span",{children:"Manage Themes"})]}),u.jsxs("button",{onClick:D,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:[u.jsx(Ub,{className:"w-4 h-4"}),u.jsx("span",{children:"Save Theme"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg border",children:[u.jsx("div",{className:"border-b",children:u.jsx("nav",{className:"flex space-x-8 px-6",children:["colors","fields","labels","calendar"].map(R=>u.jsx("button",{onClick:()=>n(R),className:`py-4 px-2 border-b-2 font-medium text-sm capitalize ${r===R?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:R==="fields"?"Card Fields":R},R))})}),u.jsxs("div",{className:"p-6",children:[r==="colors"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[u.jsx(js,{className:"w-5 h-5 mr-2"}),"Color Settings"]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(e.colors).map(([R,q])=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 capitalize",children:R.replace(/([A-Z])/g," $1").toLowerCase()}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"color",value:q,onChange:B=>t({...e,colors:{...e.colors,[R]:B.target.value}}),className:"w-12 h-10 border rounded"}),u.jsx("input",{type:"text",value:q,onChange:B=>t({...e,colors:{...e.colors,[R]:B.target.value}}),className:"flex-1 p-2 border rounded font-mono text-sm"})]})]},R))})]}),r==="fields"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Card Field Structure"}),u.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-3 py-2 bg-green-500 text-white rounded",children:[u.jsx(Hn,{className:"w-4 h-4"}),u.jsx("span",{children:"Add Field"})]})]}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop to reorder fields. This will determine the structure of all cards."}),u.jsx(Vb,{sensors:v,collisionDetection:uD,onDragEnd:_,children:u.jsx($f,{items:e.cardFields.map(R=>R.id),strategy:Qb,children:e.cardFields.map(R=>u.jsx(DK,{field:R,onUpdate:q=>C(R.id,q),onDelete:()=>T(R.id)},R.id))})})]}),r==="labels"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Default Labels"}),u.jsxs("button",{onClick:A,className:"flex items-center space-x-2 px-3 py-2 bg-green-500 text-white rounded",children:[u.jsx(Hn,{className:"w-4 h-4"}),u.jsx("span",{children:"Add Label"})]})]}),u.jsx("div",{className:"space-y-2",children:e.labels.map((R,q)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",value:R,onChange:B=>L(q,B.target.value),className:"flex-1 p-2 border rounded"}),u.jsx("button",{onClick:()=>E(q),className:"p-2 text-red-500",children:u.jsx(Pr,{className:"w-4 h-4"})})]},q))})]}),r==="calendar"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Calendar Settings"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Default View"}),u.jsxs("select",{value:e.calendarSettings.defaultView,onChange:R=>t({...e,calendarSettings:{...e.calendarSettings,defaultView:R.target.value}}),className:"w-full p-2 border rounded",children:[u.jsx("option",{value:"month",children:"Month"}),u.jsx("option",{value:"week",children:"Week"}),u.jsx("option",{value:"day",children:"Day"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Hour"}),u.jsx("input",{type:"number",min:"0",max:"23",value:e.calendarSettings.startHour,onChange:R=>t({...e,calendarSettings:{...e.calendarSettings,startHour:parseInt(R.target.value)}}),className:"w-full p-2 border rounded"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Hour"}),u.jsx("input",{type:"number",min:"0",max:"23",value:e.calendarSettings.endHour,onChange:R=>t({...e,calendarSettings:{...e.calendarSettings,endHour:parseInt(R.target.value)}}),className:"w-full p-2 border rounded"})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:e.calendarSettings.showWeekends,onChange:R=>t({...e,calendarSettings:{...e.calendarSettings,showWeekends:R.target.checked}}),className:"mr-2"}),"Show Weekends"]})})]})]})]})]}),i&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Save Theme"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Name"}),u.jsx("input",{type:"text",value:c,onChange:R=>d(R.target.value),placeholder:"Enter theme name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"setAsActive",checked:h,onChange:R=>m(R.target.checked),className:"mr-2"}),u.jsx("label",{htmlFor:"setAsActive",className:"text-sm text-gray-700",children:"Set as active theme (applies to entire app)"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>{o(!1),d(""),m(!1)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),u.jsx("button",{onClick:w,disabled:!c.trim()||x.isPending,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x.isPending?"Saving...":"Save Theme"})]})]})})]})}const AK=({label:e,value:t,onChange:r,description:n})=>u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),n&&u.jsx("p",{className:"text-xs text-gray-500",children:n}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"color",value:t,onChange:i=>r(i.target.value),className:"w-12 h-8 border border-gray-300 rounded cursor-pointer"}),u.jsx("input",{type:"text",value:t,onChange:i=>r(i.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm font-mono",placeholder:"#000000"})]})]}),RK=({isOpen:e,onClose:t})=>{const{currentTheme:r,setActiveTheme:n}=GT(),[i,o]=k.useState("colors"),[c,d]=k.useState(null),[h,m]=k.useState(""),[g,v]=k.useState(""),[b,x]=k.useState(!1),S=kr();ct({queryKey:["themes"],queryFn:Tf});const w=Ge({mutationFn:HT,onSuccess:()=>{S.invalidateQueries({queryKey:["themes"]})}}),_=Ge({mutationFn:yq,onSuccess:()=>{S.invalidateQueries({queryKey:["themes"]})}});k.useEffect(()=>{r&&!c?(d({name:r.name,description:r.description||"",colors:{...r.colors},typography:{...r.typography},spacing:{...r.spacing},borderRadius:{...r.borderRadius},shadows:{...r.shadows}}),m(r.name),v(r.description||"")):!r&&!c&&(d({name:"New Theme",description:"Custom theme",colors:{...qt.colors},typography:{...qt.typography},spacing:{...qt.spacing},borderRadius:{...qt.borderRadius},shadows:{...qt.shadows}}),m("New Theme"),v("Custom theme"))},[r,c]);const N=(D,R)=>{c&&d({...c,colors:{...c.colors,[D]:R}})},C=async()=>{if(c)try{const D={...c,name:h,description:g};if(r?.id)await _.mutateAsync({id:r.id,...D});else{const R=await w.mutateAsync(D);R?.id&&await n(R.id)}t()}catch(D){console.error("Failed to save theme:",D)}},T=()=>{d({name:"Default Reset",description:"Reset to default theme",colors:{...qt.colors},typography:{...qt.typography},spacing:{...qt.spacing},borderRadius:{...qt.borderRadius},shadows:{...qt.shadows}}),m("Default Reset"),v("Reset to default theme")},A=()=>{if(c){const D=JSON.stringify(c,null,2),R=new Blob([D],{type:"application/json"}),q=URL.createObjectURL(R),B=document.createElement("a");B.href=q,B.download=`${h.replace(/\s+/g,"-").toLowerCase()}-theme.json`,B.click(),URL.revokeObjectURL(q)}},L=D=>{const R=D.target.files?.[0];if(R){const q=new FileReader;q.onload=B=>{try{const U=JSON.parse(B.target?.result);d(U),m(U.name||"Imported Theme"),v(U.description||"Imported custom theme")}catch(U){console.error("Failed to import theme:",U)}},q.readAsText(R)}};if(!e||!c)return null;const E=[{title:"Base Colors",colors:[{key:"primary",label:"Primary",description:"Main brand color"},{key:"secondary",label:"Secondary",description:"Secondary brand color"},{key:"accent",label:"Accent",description:"Accent highlight color"},{key:"background",label:"Background",description:"Main background color"},{key:"cardBackground",label:"Card Background",description:"Background for cards"},{key:"listBackground",label:"List Background",description:"Background for lists"}]},{title:"Text Colors",colors:[{key:"text",label:"Primary Text",description:"Main text color"},{key:"textSecondary",label:"Secondary Text",description:"Secondary text color"},{key:"textMuted",label:"Muted Text",description:"Muted/disabled text"},{key:"textInverted",label:"Inverted Text",description:"Text on dark backgrounds"},{key:"cardText",label:"Card Text",description:"Text color in cards"},{key:"cardTitle",label:"Card Title",description:"Title text in cards"},{key:"cardSubtitle",label:"Card Subtitle",description:"Subtitle text in cards"},{key:"listText",label:"List Text",description:"Text color in lists"},{key:"listTitle",label:"List Title",description:"Title text in lists"},{key:"boardText",label:"Board Text",description:"Text color on boards"},{key:"boardTitle",label:"Board Title",description:"Title text on boards"},{key:"navText",label:"Navigation Text",description:"Text in navigation"}]},{title:"Border Colors",colors:[{key:"border",label:"Border",description:"Default border color"},{key:"borderLight",label:"Light Border",description:"Light border variant"},{key:"borderDark",label:"Dark Border",description:"Dark border variant"},{key:"cardBorder",label:"Card Border",description:"Border color for cards"},{key:"listBorder",label:"List Border",description:"Border color for lists"}]},{title:"State Colors",colors:[{key:"success",label:"Success",description:"Success state color"},{key:"warning",label:"Warning",description:"Warning state color"},{key:"error",label:"Error",description:"Error state color"},{key:"info",label:"Info",description:"Information state color"},{key:"hover",label:"Hover",description:"Hover state color"},{key:"focus",label:"Focus",description:"Focus state color"},{key:"disabled",label:"Disabled",description:"Disabled state color"}]},{title:"Button Colors",colors:[{key:"buttonPrimary",label:"Primary Button",description:"Primary button background"},{key:"buttonPrimaryText",label:"Primary Button Text",description:"Primary button text"},{key:"buttonSecondary",label:"Secondary Button",description:"Secondary button background"},{key:"buttonSecondaryText",label:"Secondary Button Text",description:"Secondary button text"},{key:"buttonDanger",label:"Danger Button",description:"Danger button background"},{key:"buttonDangerText",label:"Danger Button Text",description:"Danger button text"}]}];return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(js,{className:"w-6 h-6 text-purple-600"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Theme Editor"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>x(!b),className:`p-2 rounded-md transition-colors ${b?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,title:b?"Exit Preview":"Preview Theme",children:b?u.jsx(qb,{className:"w-5 h-5"}):u.jsx(Oo,{className:"w-5 h-5"})}),u.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsxs("button",{onClick:C,className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[u.jsx(Ub,{className:"w-4 h-4"}),u.jsx("span",{children:"Save Theme"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Name"}),u.jsx("input",{type:"text",value:h,onChange:D=>m(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter theme name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),u.jsx("input",{type:"text",value:g,onChange:D=>v(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter theme description"})]})]})]}),u.jsx("div",{className:"border-b border-gray-200",children:u.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"colors",label:"Colors",icon:js},{id:"typography",label:"Typography",icon:ZU},{id:"spacing",label:"Spacing",icon:SU},{id:"preview",label:"Preview",icon:Oo}].map(({id:D,label:R,icon:q})=>u.jsxs("button",{onClick:()=>o(D),className:`py-4 px-2 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===D?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[u.jsx(q,{className:"w-4 h-4"}),u.jsx("span",{children:R})]},D))})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i==="colors"&&u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Color Customization"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:T,className:"px-3 py-2 text-sm text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors flex items-center space-x-1",children:[u.jsx(AU,{className:"w-4 h-4"}),u.jsx("span",{children:"Reset to Default"})]}),u.jsxs("button",{onClick:A,className:"px-3 py-2 text-sm text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[u.jsx(ac,{className:"w-4 h-4"}),u.jsx("span",{children:"Export"})]}),u.jsxs("label",{className:"px-3 py-2 text-sm text-green-700 bg-green-100 rounded-md hover:bg-green-200 transition-colors flex items-center space-x-1 cursor-pointer",children:[u.jsx(tD,{className:"w-4 h-4"}),u.jsx("span",{children:"Import"}),u.jsx("input",{type:"file",accept:".json",onChange:L,className:"hidden"})]})]})]}),E.map(D=>u.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[u.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:D.title}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.colors.map(({key:R,label:q,description:B})=>u.jsx(AK,{label:q,value:c.colors[R],onChange:U=>N(R,U),description:B},R))})]},D.title))]}),i==="preview"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Theme Preview"}),u.jsx("div",{className:"bg-gray-100 rounded-lg p-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"rounded-lg p-4 border",style:{backgroundColor:c.colors.cardBackground,color:c.colors.cardText,borderColor:c.colors.cardBorder},children:[u.jsx("h4",{style:{color:c.colors.cardTitle},className:"font-semibold mb-2",children:"Sample Card Title"}),u.jsx("p",{style:{color:c.colors.cardSubtitle},className:"text-sm mb-3",children:"This is a sample card subtitle"}),u.jsx("p",{style:{color:c.colors.cardText},children:"This is the main card text content. It demonstrates how your theme will look in practice."}),u.jsxs("div",{className:"flex space-x-2 mt-4",children:[u.jsx("button",{style:{backgroundColor:c.colors.buttonPrimary,color:c.colors.buttonPrimaryText},className:"px-3 py-1 rounded text-sm",children:"Primary Button"}),u.jsx("button",{style:{backgroundColor:c.colors.buttonSecondary,color:c.colors.buttonSecondaryText},className:"px-3 py-1 rounded text-sm",children:"Secondary Button"})]})]}),u.jsxs("div",{className:"rounded-lg p-4 border",style:{backgroundColor:c.colors.listBackground,borderColor:c.colors.listBorder},children:[u.jsx("h4",{style:{color:c.colors.listTitle},className:"font-semibold mb-2",children:"Sample List"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{style:{color:c.colors.listText},children:"First list item"}),u.jsx("li",{style:{color:c.colors.listText},children:"Second list item"}),u.jsx("li",{style:{color:c.colors.listText},children:"Third list item"})]})]}),u.jsx("input",{type:"text",placeholder:"Sample input field",className:"w-full px-3 py-2 rounded border",style:{backgroundColor:c.colors.background,color:c.colors.text,borderColor:c.colors.border}})]})})]})]})]})})},MK=({theme:e,onEdit:t,onDelete:r,onPreview:n,onApply:i,onExport:o,isDefault:c})=>u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),c&&u.jsx(BU,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),u.jsx("p",{className:"text-sm text-gray-600",children:e.description||"No description"})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:t,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Theme",children:u.jsx(vc,{className:"w-4 h-4"})}),u.jsx("button",{onClick:n,className:"p-2 text-green-600 hover:bg-green-50 rounded-md transition-colors",title:"Preview Theme",children:u.jsx(Oo,{className:"w-4 h-4"})}),u.jsx("button",{onClick:o,className:"p-2 text-purple-600 hover:bg-purple-50 rounded-md transition-colors",title:"Export Theme",children:u.jsx(ac,{className:"w-4 h-4"})}),!c&&u.jsx("button",{onClick:r,className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete Theme",children:u.jsx(za,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Color Preview"}),u.jsx("div",{className:"flex space-x-1",children:[e.colors.primary,e.colors.secondary,e.colors.accent,e.colors.success,e.colors.warning,e.colors.error].map((d,h)=>u.jsx("div",{className:"w-4 h-4 rounded border border-gray-300",style:{backgroundColor:d},title:d},h))})]}),u.jsxs("div",{className:"flex space-x-2",children:[!c&&u.jsx("button",{onClick:i,className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"Set as Default"}),u.jsx("button",{onClick:n,className:"flex-1 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Preview"})]})]}),LK=({onThemeSelect:e})=>{const{setActiveTheme:t}=GT(),r=kr(),[n,i]=k.useState(!1),[o,c]=k.useState(null),{data:d=[],isLoading:h}=ct({queryKey:["themes"],queryFn:Tf}),m=Ge({mutationFn:bq,onSuccess:()=>{r.invalidateQueries({queryKey:["themes"]})}}),g=Ge({mutationFn:Ob,onSuccess:()=>{r.invalidateQueries({queryKey:["themes"]})}}),v=_=>{confirm("Are you sure you want to delete this theme?")&&m.mutate(_)},b=async _=>{try{await g.mutateAsync(_.id),await t(_.id),e&&e(_)}catch(N){console.error("Failed to apply theme:",N)}},x=_=>{t(_.id),e&&e(_)},S=_=>{c(_||null),i(!0)},w=_=>{const N={name:_.name,description:_.description,colors:_.colors,typography:_.typography,spacing:_.spacing,borderRadius:_.borderRadius,shadows:_.shadows},C=JSON.stringify(N,null,2),T=new Blob([C],{type:"application/json"}),A=URL.createObjectURL(T),L=document.createElement("a");L.href=A,L.download=`${_.name.replace(/\s+/g,"-").toLowerCase()}-theme.json`,L.click(),URL.revokeObjectURL(A)};return h?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(js,{className:"w-6 h-6 text-purple-600"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Theme Management"})]}),u.jsxs("button",{onClick:()=>S(),className:"px-4 py-2 text-white bg-purple-600 rounded-md hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[u.jsx(Hn,{className:"w-4 h-4"}),u.jsx("span",{children:"Create Theme"})]})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[u.jsxs("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3 flex items-center",children:[u.jsx(Oo,{className:"w-5 h-5 mr-2"}),"Theme Testing"]}),u.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-sm mb-4",children:"Test different themes to see how they affect the entire application. Changes apply globally."}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsx("button",{onClick:()=>{const _=document.documentElement;Object.entries({primary:"#3b82f6",secondary:"#6b7280",background:"#ffffff",cardBackground:"#f8fafc",text:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb",listBackground:"#f1f5f9",boardBackground:"#f9fafb"}).forEach(([C,T])=>{_.style.setProperty(`--color-${C}`,T)}),document.body.style.backgroundColor="#ffffff",window.dispatchEvent(new CustomEvent("themeChanged")),console.log("Light theme applied via admin panel")},className:"px-3 py-2 bg-white text-gray-800 border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"Light"}),u.jsx("button",{onClick:()=>{const _=document.documentElement;Object.entries({primary:"#3b82f6",secondary:"#6b7280",background:"#1f2937",cardBackground:"#374151",text:"#f9fafb",textSecondary:"#d1d5db",border:"#4b5563",listBackground:"#4b5563",boardBackground:"#1f2937"}).forEach(([C,T])=>{_.style.setProperty(`--color-${C}`,T)}),document.body.style.backgroundColor="#1f2937",window.dispatchEvent(new CustomEvent("themeChanged")),console.log("Dark theme applied via admin panel")},className:"px-3 py-2 bg-gray-800 text-white border border-gray-600 rounded hover:bg-gray-700 text-sm",children:"Dark"}),u.jsx("button",{onClick:()=>{const _=document.documentElement;Object.entries({primary:"#1e40af",secondary:"#3b82f6",background:"#eff6ff",cardBackground:"#dbeafe",text:"#1e3a8a",textSecondary:"#3730a3",border:"#93c5fd",listBackground:"#bfdbfe",boardBackground:"#eff6ff"}).forEach(([C,T])=>{_.style.setProperty(`--color-${C}`,T)}),document.body.style.backgroundColor="#eff6ff",window.dispatchEvent(new CustomEvent("themeChanged")),console.log("Blue theme applied via admin panel")},className:"px-3 py-2 bg-blue-600 text-white border border-blue-500 rounded hover:bg-blue-700 text-sm",children:"Blue"}),u.jsx("button",{onClick:()=>{const _=document.documentElement;Object.entries({primary:"#059669",secondary:"#10b981",background:"#f0fdf4",cardBackground:"#dcfce7",text:"#064e3b",textSecondary:"#065f46",border:"#86efac",listBackground:"#bbf7d0",boardBackground:"#f0fdf4"}).forEach(([C,T])=>{_.style.setProperty(`--color-${C}`,T)}),document.body.style.backgroundColor="#f0fdf4",window.dispatchEvent(new CustomEvent("themeChanged")),console.log("Green theme applied via admin panel")},className:"px-3 py-2 bg-green-600 text-white border border-green-500 rounded hover:bg-green-700 text-sm",children:"Green"})]})]}),d.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(js,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No themes found"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first custom theme."}),u.jsx("button",{onClick:()=>S(),className:"px-4 py-2 text-white bg-purple-600 rounded-md hover:bg-purple-700 transition-colors",children:"Create Your First Theme"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(_=>u.jsx(MK,{theme:_,onEdit:()=>S(_),onDelete:()=>v(_.id),onPreview:()=>x(_),onApply:()=>b(_),onExport:()=>w(_),isDefault:_.is_default},_.id))}),n&&u.jsx(RK,{isOpen:n,onClose:()=>{i(!1),c(null)}}),(m.isPending||g.isPending)&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 flex items-center space-x-3",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),u.jsx("span",{className:"text-gray-900",children:m.isPending?"Deleting theme...":"Applying theme..."})]})}),(m.isError||g.isError)&&u.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex items-center space-x-2",children:[u.jsx(eD,{className:"w-5 h-5"}),u.jsx("span",{children:m.isError?"Failed to delete theme":"Failed to apply theme"})]})]})},Wd=[{id:"boards_read",name:"Read Boards",description:"Can view boards",resource:"boards",action:"read"},{id:"boards_write",name:"Write Boards",description:"Can create and edit boards",resource:"boards",action:"write"},{id:"boards_delete",name:"Delete Boards",description:"Can delete boards",resource:"boards",action:"delete"},{id:"cards_read",name:"Read Cards",description:"Can view cards",resource:"cards",action:"read"},{id:"cards_write",name:"Write Cards",description:"Can create and edit cards",resource:"cards",action:"write"},{id:"cards_delete",name:"Delete Cards",description:"Can delete cards",resource:"cards",action:"delete"},{id:"themes_read",name:"Read Themes",description:"Can view themes",resource:"themes",action:"read"},{id:"themes_write",name:"Write Themes",description:"Can create and edit themes",resource:"themes",action:"write"},{id:"users_read",name:"Read Users",description:"Can view user information",resource:"users",action:"read"},{id:"users_write",name:"Manage Users",description:"Can create, edit and manage users",resource:"users",action:"write"}],Xd={admin:["boards_read","boards_write","boards_delete","cards_read","cards_write","cards_delete","themes_read","themes_write","users_read","users_write"],user:["boards_read","boards_write","cards_read","cards_write","themes_read","users_read"],viewer:["boards_read","cards_read","themes_read"]},qK=async()=>{try{const{data:{user:e}}=await Or.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await Or.auth.admin.listUsers();if(r||!t)return console.log("Admin API not available, using current user data"),[{id:e.id,email:e.email||"",name:e.user_metadata?.name||"Current User",avatar_url:e.user_metadata?.avatar_url,role:"admin",permissions:Xd.admin.map(i=>Wd.find(o=>o.id===i)).filter(Boolean),is_active:!0,status:"active",last_login:e.last_sign_in_at,last_sign_in_at:e.last_sign_in_at,created_at:e.created_at,updated_at:e.updated_at||e.created_at,metadata:e.user_metadata}];const{data:n}=await Or.from("profiles").select("*");return t.users.map(i=>{const o=n?.find(d=>d.id===i.id),c=o?.role||(i.id===e.id?"admin":"user");return{id:i.id,email:i.email||"",name:o?.name||i.user_metadata?.name||"Unnamed User",avatar_url:o?.avatar_url||i.user_metadata?.avatar_url,role:c,permissions:Xd[c].map(d=>Wd.find(h=>h.id===d)).filter(Boolean),is_active:o?.is_active!==!1,status:o?.is_active===!1?"inactive":"active",last_login:i.last_sign_in_at,last_sign_in_at:i.last_sign_in_at,created_at:i.created_at,updated_at:i.updated_at||i.created_at,metadata:i.user_metadata}})}catch(e){console.error("Error fetching users:",e);try{const{data:{user:t}}=await Or.auth.getUser();if(t)return[{id:t.id,email:t.email||"",name:t.user_metadata?.name||"Administrator",avatar_url:t.user_metadata?.avatar_url,role:"admin",permissions:Xd.admin.map(r=>Wd.find(n=>n.id===r)).filter(Boolean),is_active:!0,status:"active",last_login:t.last_sign_in_at,last_sign_in_at:t.last_sign_in_at,created_at:t.created_at,updated_at:t.updated_at||t.created_at,metadata:t.user_metadata}]}catch(t){console.error("Fallback user fetch failed:",t)}return[]}},fA=async e=>{try{const{data:t,error:r}=await Or.auth.admin.getUserById(e);if(r||!t)return null;const{data:n}=await Or.from("profiles").select("*").eq("id",e).single(),i=n?.role||"user";return{id:t.user.id,email:t.user.email||"",name:n?.name||t.user.user_metadata?.name,avatar_url:n?.avatar_url||t.user.user_metadata?.avatar_url,role:i,permissions:Xd[i].map(o=>Wd.find(c=>c.id===o)).filter(Boolean),is_active:n?.is_active!==!1,status:n?.is_active===!1?"inactive":"active",last_login:t.user.last_sign_in_at,last_sign_in_at:t.user.last_sign_in_at,created_at:t.user.created_at,updated_at:t.user.updated_at||t.user.created_at,metadata:t.user.user_metadata}}catch(t){return console.error("Error fetching user by ID:",t),null}},UK=async(e,t)=>{try{const{error:r}=await Or.from("profiles").upsert({id:e,role:t,updated_at:new Date().toISOString()});if(r)throw r;await au({user_id:e,action:"role_updated",resource_type:"user",resource_id:e,details:`User role updated to ${t}`,timestamp:new Date().toISOString()})}catch(r){throw console.error("Error updating user role:",r),r}},PK=async e=>{try{const{error:t}=await Or.from("profiles").upsert({id:e.user_id,permissions:e.permissions,updated_at:new Date().toISOString()});if(t)throw t;await au({user_id:e.user_id,action:"permissions_updated",resource_type:"user",resource_id:e.user_id,details:`User permissions updated: ${e.permissions.join(", ")}`,timestamp:new Date().toISOString()})}catch(t){throw console.error("Error updating user permissions:",t),t}},$K=async e=>{try{const t=await fA(e);if(!t)throw new Error("User not found");const r=!t.is_active,{error:n}=await Or.from("profiles").upsert({id:e,is_active:r,updated_at:new Date().toISOString()});if(n)throw n;await au({user_id:e,action:r?"user_activated":"user_deactivated",resource_type:"user",resource_id:e,details:`User ${r?"activated":"deactivated"}`,timestamp:new Date().toISOString()})}catch(t){throw console.error("Error toggling user status:",t),t}},hA=async(e,t=50)=>{try{const{data:r,error:n}=await Or.from("user_activities").select("*").eq("user_id",e).order("timestamp",{ascending:!1}).limit(t);if(n)throw n;return r||[]}catch(r){return console.error("Error fetching user activity:",r),[{id:"1",user_id:e,action:"login",resource_type:"auth",details:"User logged in",timestamp:new Date().toISOString()},{id:"2",user_id:e,action:"card_created",resource_type:"card",resource_id:"card-123",details:'Created new card "Important Task"',timestamp:new Date(Date.now()-36e5).toISOString()},{id:"3",user_id:e,action:"board_updated",resource_type:"board",resource_id:"board-456",details:'Updated board "Project Alpha"',timestamp:new Date(Date.now()-72e5).toISOString()}]}},au=async e=>{try{const{error:t}=await Or.from("user_activities").insert([{...e,id:crypto.randomUUID()}]);if(t)throw t}catch(t){console.error("Error logging user activity:",t),console.log("User Activity:",e)}},zK=async e=>{try{const{error:t}=await Or.auth.admin.deleteUser(e);if(t)throw t;await au({user_id:"admin",action:"user_deleted",resource_type:"user",resource_id:e,details:`User ${e} was deleted`,timestamp:new Date().toISOString()})}catch(t){throw console.error("Error deleting user:",t),t}},mA=async e=>{try{const t=JSON.parse(localStorage.getItem("boards")||"[]"),r=[];for(const n of t)if(n.lists){for(const i of n.lists)if(i.cards)for(const o of i.cards)(o.assigned_to===e||o.assigned_members&&o.assigned_members.includes(e))&&r.push({...o,board_name:n.name,list_name:i.name})}return r}catch(t){return console.error("Error fetching user cards:",t),[]}},BK=async e=>{try{return JSON.parse(localStorage.getItem("boards")||"[]").filter(r=>r.owner_id===e||r.members&&r.members.includes(e))}catch(t){return console.error("Error fetching user boards:",t),[]}},N0={getAllUsers:qK,getUserById:fA,updateUserRole:UK,updateUserPermissions:PK,toggleUserStatus:$K,getUserActivity:hA,logUserActivity:au,deleteUser:zK,getCardsByUser:mA,getBoardsByUser:BK};function IK({userId:e,userName:t,userEmail:r,onClose:n}){const[i,o]=k.useState("overview"),{data:c=[],isLoading:d}=ct({queryKey:["user-cards",e],queryFn:()=>mA(e),enabled:!!e}),{data:h=[],isLoading:m}=ct({queryKey:["user-boards",e],queryFn:()=>m8(e),enabled:!!e}),{data:g=[],isLoading:v}=ct({queryKey:["user-activity",e],queryFn:()=>hA(e),enabled:!!e}),b=I.useMemo(()=>{const _=new Date,N=new Date(_.getTime()+10080*60*1e3),C=c.length,T=c.filter(R=>R.status==="completed").length,A=c.filter(R=>R.date_end&&new Date(R.date_end)<_&&R.status!=="completed").length,L=c.filter(R=>R.date_end&&new Date(R.date_end)>=_&&new Date(R.date_end)<=N).length,E=C>0?T/C*100:0,D=[12,19,8,15,22,18,25];return{totalCards:C,completedCards:T,overdueTasks:A,upcomingDueDates:L,totalComments:g.filter(R=>R.action==="comment").length,boardsCount:h.length,completionRate:E,weeklyActivity:D}},[c,h,g]),x=I.useMemo(()=>c.filter(_=>_.status!=="completed").map(_=>({id:_.id,title:_.title,boardName:_.board_name||"Unknown Board",listName:_.list_name||"Unknown List",dueDate:_.date_end,priority:_.priority,status:_.date_end&&new Date(_.date_end)<new Date?"overdue":"pending",checklistItems:[]})),[c]),S=x.filter(_=>_.dueDate&&new Date(_.dueDate)>=new Date).sort((_,N)=>new Date(_.dueDate).getTime()-new Date(N.dueDate).getTime()).slice(0,5),w=x.filter(_=>_.status==="overdue");return d||m||v?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl max-h-[90vh] overflow-y-auto m-4",children:[u.jsxs("div",{className:"border-b border-gray-200 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:t.charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t}),u.jsx("p",{className:"text-gray-600",children:r})]})]}),u.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 p-2",children:u.jsx(Pr,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"mt-6 border-b border-gray-200",children:u.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:Mq},{id:"tasks",label:"Tasks & Checklists",icon:yc},{id:"activity",label:"Recent Activity",icon:Ab},{id:"stats",label:"Performance",icon:VU}].map(_=>u.jsxs("button",{onClick:()=>o(_.id),className:`flex items-center space-x-2 py-3 px-1 border-b-2 font-medium text-sm ${i===_.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[u.jsx(_.icon,{className:"w-4 h-4"}),u.jsx("span",{children:_.label})]},_.id))})})]}),u.jsxs("div",{className:"p-6",children:[i==="overview"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Cards"}),u.jsx("p",{className:"text-2xl font-bold text-blue-900",children:b.totalCards})]}),u.jsx(Ao,{className:"w-8 h-8 text-blue-500"})]})}),u.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Completed"}),u.jsx("p",{className:"text-2xl font-bold text-green-900",children:b.completedCards})]}),u.jsx(yc,{className:"w-8 h-8 text-green-500"})]})}),u.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Overdue"}),u.jsx("p",{className:"text-2xl font-bold text-red-900",children:b.overdueTasks})]}),u.jsx(Mb,{className:"w-8 h-8 text-red-500"})]})}),u.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Due This Week"}),u.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:b.upcomingDueDates})]}),u.jsx(Do,{className:"w-8 h-8 text-yellow-500"})]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Completion Rate"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:u.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-300",style:{width:`${b.completionRate}%`}})}),u.jsxs("span",{className:"text-lg font-bold text-green-600",children:[b.completionRate.toFixed(1),"%"]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upcoming Due Dates"}),u.jsx("div",{className:"space-y-3",children:S.length>0?S.map(_=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:_.title}),u.jsx("p",{className:"text-sm text-gray-600",children:_.boardName})]}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(_.dueDate).toLocaleDateString()})})]},_.id)):u.jsx("p",{className:"text-gray-500",children:"No upcoming due dates"})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Overdue Tasks"}),u.jsx("div",{className:"space-y-3",children:w.length>0?w.slice(0,5).map(_=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-red-900",children:_.title}),u.jsx("p",{className:"text-sm text-red-600",children:_.boardName})]}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"text-sm font-medium text-red-700",children:new Date(_.dueDate).toLocaleDateString()})})]},_.id)):u.jsx("p",{className:"text-gray-500",children:"No overdue tasks"})})]})]})]}),i==="tasks"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Tasks & Checklist Items"}),u.jsx("div",{className:"space-y-4",children:x.map(_=>u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:_.title}),u.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[_.boardName," • ",_.listName]}),_.dueDate&&u.jsxs("p",{className:`text-sm mt-2 ${_.status==="overdue"?"text-red-600 font-medium":"text-gray-600"}`,children:["Due: ",new Date(_.dueDate).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[_.priority&&u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_.priority==="high"?"bg-red-100 text-red-800":_.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:_.priority}),u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_.status==="overdue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:_.status})]})]})},_.id))})]}),i==="activity"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),u.jsx("div",{className:"space-y-3",children:g.length>0?g.map((_,N)=>u.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"flex-shrink-0 mt-1",children:u.jsx(Lj,{className:"w-4 h-4 text-gray-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.details}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(_.timestamp).toLocaleString()})]})]},N)):u.jsx("p",{className:"text-gray-500",children:"No recent activity"})})]}),i==="stats"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Performance Statistics"}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[u.jsx("h4",{className:"font-medium mb-4",children:"Weekly Activity"}),u.jsx("div",{className:"flex items-end space-x-2 h-32",children:b.weeklyActivity.map((_,N)=>u.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[u.jsx("div",{className:"w-full bg-blue-500 rounded-t",style:{height:`${_/Math.max(...b.weeklyActivity)*100}%`}}),u.jsx("span",{className:"text-xs text-gray-500 mt-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][N]})]},N))})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Boards"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.boardsCount})]}),u.jsx(Ao,{className:"w-8 h-8 text-gray-400"})]})}),u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Comments"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.totalComments})]}),u.jsx(Lj,{className:"w-8 h-8 text-gray-400"})]})}),u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Avg Completion"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[b.completionRate.toFixed(0),"%"]})]}),u.jsx(HU,{className:"w-8 h-8 text-gray-400"})]})})]})]})]})]})})}const FK=({user:e,onEdit:t,onToggleStatus:r,onViewActivity:n})=>{const i=d=>{switch(d){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=d=>{switch(d){case"admin":return"bg-purple-100 text-purple-800";case"user":return"bg-blue-100 text-blue-800";case"viewer":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},c=d=>{switch(d){case"active":return u.jsx(QT,{className:"w-4 h-4"});case"inactive":return u.jsx(Y0,{className:"w-4 h-4"});case"suspended":return u.jsx(Mb,{className:"w-4 h-4"});default:return u.jsx(Y0,{className:"w-4 h-4"})}};return u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:e.name?.charAt(0).toUpperCase()||e.email.charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||"Unnamed User"}),u.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[u.jsx(dU,{className:"w-3 h-3 mr-1"}),e.email]})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center space-x-1 ${i(e.status)}`,children:[c(e.status),u.jsx("span",{children:e.status})]}),u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${o(e.role)}`,children:e.role})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm text-gray-600",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Pa,{className:"w-4 h-4 mr-2"}),u.jsxs("span",{children:["Joined: ",new Date(e.created_at).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Do,{className:"w-4 h-4 mr-2"}),u.jsxs("span",{children:["Last seen: ",e.last_login?new Date(e.last_login).toLocaleDateString():"Never"]})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:()=>t(e),className:"flex-1 px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors flex items-center justify-center",children:[u.jsx(gi,{className:"w-4 h-4 mr-1"}),"Edit"]}),u.jsxs("button",{onClick:()=>r(e.id),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors flex items-center justify-center ${e.status==="active"?"text-red-600 bg-red-50 hover:bg-red-100":"text-green-600 bg-green-50 hover:bg-green-100"}`,children:[e.status==="active"?u.jsx(i8,{className:"w-4 h-4 mr-1"}):u.jsx(r8,{className:"w-4 h-4 mr-1"}),e.status==="active"?"Suspend":"Activate"]}),u.jsx("button",{onClick:()=>n(e.id),className:"px-3 py-2 text-sm font-medium text-purple-600 bg-purple-50 rounded-md hover:bg-purple-100 transition-colors flex items-center justify-center",children:u.jsx(Ab,{className:"w-4 h-4"})})]})]})},HK=({user:e,isOpen:t,onClose:r,onSave:n})=>{const[i,o]=k.useState({name:e?.name||"",email:e?.email||"",role:e?.role||"user",status:e?.status||"active"});I.useEffect(()=>{e&&o({name:e.name||"",email:e.email||"",role:e.role||"user",status:e.status||"active"})},[e]);const c=d=>{d.preventDefault(),e&&(n({...e,...i}),r())};return!t||!e?null:u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit User"}),u.jsxs("form",{onSubmit:c,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),u.jsx("input",{type:"text",value:i.name,onChange:d=>o({...i,name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter user name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:i.email,onChange:d=>o({...i,email:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50",disabled:!0}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),u.jsxs("select",{value:i.role,onChange:d=>o({...i,role:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"viewer",children:"Viewer"}),u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Admin"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsxs("select",{value:i.status,onChange:d=>o({...i,status:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"}),u.jsx("option",{value:"suspended",children:"Suspended"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})})},KK=({isOpen:e,onClose:t,onSave:r,isLoading:n})=>{const[i,o]=k.useState({email:"",password:"",name:"",role:"user"}),c=d=>{d.preventDefault(),r(i),o({email:"",password:"",name:"",role:"user"})};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New User"}),u.jsxs("form",{onSubmit:c,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),u.jsx("input",{type:"text",value:i.name,onChange:d=>o({...i,name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter user name",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:i.email,onChange:d=>o({...i,email:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email address",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),u.jsx("input",{type:"password",value:i.password,onChange:d=>o({...i,password:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password",required:!0,minLength:6}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),u.jsxs("select",{value:i.role,onChange:d=>o({...i,role:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"viewer",children:"Viewer"}),u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Admin"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:n,children:n?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Creating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ub,{className:"w-4 h-4"}),u.jsx("span",{children:"Create User"})]})})]})]})]})}):null},GK=()=>{const[e,t]=k.useState(""),[r,n]=k.useState("all"),[i,o]=k.useState("all"),[c,d]=k.useState(null),[h,m]=k.useState(null),[g,v]=k.useState(!1),b=kr(),{data:x=[],isLoading:S}=ct({queryKey:["users"],queryFn:N0.getAllUsers,refetchInterval:3e4}),w=Ge({mutationFn:async({email:q,password:B,name:U,role:K})=>{const{data:V,error:te}=await Or.auth.admin.createUser({email:q,password:B,user_metadata:{name:U},email_confirm:!0});if(te)throw te;return V.user&&await Or.from("profiles").upsert({id:V.user.id,name:U,role:K,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),V},onSuccess:()=>{b.invalidateQueries({queryKey:["users"]}),v(!1)},onError:q=>{console.error("Failed to create user:",q)}}),_=Ge({mutationFn:({userId:q,role:B})=>N0.updateUserRole(q,B),onSuccess:()=>{b.invalidateQueries({queryKey:["users"]})}}),N=Ge({mutationFn:q=>N0.toggleUserStatus(q),onSuccess:()=>{b.invalidateQueries({queryKey:["users"]})}}),C=x.filter(q=>{const B=q.name?.toLowerCase().includes(e.toLowerCase())||q.email.toLowerCase().includes(e.toLowerCase()),U=r==="all"||q.role===r,K=i==="all"||q.status===i;return B&&U&&K}),T=q=>{d(q)},A=q=>{q.id&&q.role&&_.mutate({userId:q.id,role:q.role})},L=q=>{N.mutate(q)},E=q=>{m(q)},D=q=>{w.mutate(q)};if(S)return u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const R=h?x.find(q=>q.id===h):null;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Ro,{className:"w-6 h-6 text-blue-600"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:[C.length," of ",x.length," users"]}),u.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[u.jsx(Hn,{className:"w-4 h-4"}),u.jsx("span",{children:"Create User"})]})]})]}),u.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),u.jsx("input",{type:"text",value:e,onChange:q=>t(q.target.value),placeholder:"Search by name or email...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),u.jsxs("select",{value:r,onChange:q=>n(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Roles"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"viewer",children:"Viewer"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsxs("select",{value:i,onChange:q=>o(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Statuses"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"}),u.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(q=>u.jsx(FK,{user:q,onEdit:T,onToggleStatus:L,onViewActivity:E},q.id))}),C.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Ro,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),u.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]}),c&&u.jsx(HK,{user:c,isOpen:!!c,onClose:()=>d(null),onSave:A}),g&&u.jsx(KK,{isOpen:g,onClose:()=>v(!1),onSave:D,isLoading:w.isPending}),h&&R&&u.jsx(IK,{userId:h,userName:R.name||"Unknown User",userEmail:R.email,onClose:()=>m(null)})]})},YK=()=>{const{user:e}=fa(),[t,r]=k.useState("dashboard"),[n,i]=k.useState(!1),[o,c]=k.useState(null),[d,h]=k.useState([{id:"1",email:"admin@example.com",role:"admin",permissions:["read","write","delete","admin","sql_execute"],isActive:!0,lastActivity:new Date().toISOString()},{id:"2",email:"user@example.com",role:"user",permissions:["read","write"],isActive:!0,lastActivity:new Date(Date.now()-864e5).toISOString()},{id:"3",email:"viewer@example.com",role:"viewer",permissions:["read"],isActive:!1,lastActivity:new Date(Date.now()-1728e5).toISOString()}]),[m]=k.useState([{id:"1",name:"Default",primary:"#3b82f6",secondary:"#10b981",background:"#ffffff"},{id:"2",name:"Dark",primary:"#6366f1",secondary:"#8b5cf6",background:"#1f2937"},{id:"3",name:"Ocean",primary:"#0891b2",secondary:"#06b6d4",background:"#f0f9ff"}]),[g]=k.useState([{id:"1",setting_key:"max_cards_per_list",setting_value:50,description:"Maximum cards per list"},{id:"2",setting_key:"auto_archive_days",setting_value:30,description:"Auto archive completed cards after days"},{id:"3",setting_key:"enable_notifications",setting_value:!0,description:"Enable email notifications"}]),[v,b]=k.useState(""),[x,S]=k.useState(null),[w,_]=k.useState(null),[N,C]=k.useState([]),[T,A]=k.useState(!1),[L,E]=k.useState([{pid:"12345",usename:"postgres",query:"SELECT * FROM boards WHERE created_at > NOW() - INTERVAL '1 day'",duration:"00:00:02",state:"active"},{pid:"12346",usename:"app_user",query:"UPDATE cards SET status = 'completed' WHERE id = 'abc123'",duration:"00:00:01",state:"active"}]),[D,R]=k.useState(""),[q,B]=k.useState("user"),[U,K]=k.useState(!1),V=e?.email?.includes("admin")||e?.id==="ad146555-19f4-4eb7-8d22-9ccdedd6a917";k.useEffect(()=>{V&&ge()},[V]);const te=(J,me)=>{c({type:J,message:me}),setTimeout(()=>c(null),5e3)},ge=async()=>{i(!0);try{await new Promise(J=>setTimeout(J,500)),te("info","Dashboard data loaded (mock data)")}catch{te("error","Failed to load dashboard data")}finally{i(!1)}},P=async()=>{try{E([{pid:"12347",usename:"postgres",query:"SELECT COUNT(*) FROM users",duration:"00:00:00.5",state:"active"},{pid:"12348",usename:"app_user",query:"INSERT INTO boards (name, workspace_id) VALUES ('New Board', 'user123')",duration:"00:00:01.2",state:"active"}]),te("success","Active queries refreshed")}catch{te("error","Failed to fetch active queries")}},W=async()=>{if(v.trim()){A(!0),_(null),S(null);try{await new Promise(oe=>setTimeout(oe,1e3));const J={rows:[{id:1,name:"Sample Board",created_at:new Date().toISOString()},{id:2,name:"Another Board",created_at:new Date().toISOString()}],rowCount:2};S(J);const me={id:Date.now().toString(),query:v,timestamp:new Date().toISOString(),status:"success",result:J,executedBy:e?.email||"admin"};C(oe=>[me,...oe.slice(0,9)]),te("success","Query executed successfully")}catch{const me="Mock execution error";_(me);const oe={id:Date.now().toString(),query:v,timestamp:new Date().toISOString(),status:"error",error:me,executedBy:e?.email||"admin"};C(M=>[oe,...M.slice(0,9)]),te("error","Query execution failed")}finally{A(!1)}}};return V?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Panel"}),u.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage your application settings and data"})]}),o&&u.jsx("div",{className:`mb-6 p-4 rounded-lg ${o.type==="success"?"bg-green-50 text-green-800 border border-green-200":o.type==="error"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:u.jsxs("div",{className:"flex items-center",children:[o.type==="success"&&u.jsx(QT,{className:"w-5 h-5 mr-2"}),o.type==="error"&&u.jsx(Y0,{className:"w-5 h-5 mr-2"}),o.type==="info"&&u.jsx(eD,{className:"w-5 h-5 mr-2"}),o.message]})}),u.jsx("div",{className:"mb-8",children:u.jsx("nav",{className:"flex space-x-8",children:[{id:"dashboard",label:"Dashboard",icon:Mj},{id:"users",label:"Users",icon:Ro},{id:"themes",label:"Themes",icon:js},{id:"settings",label:"Settings",icon:of},{id:"sql",label:"SQL Console",icon:qj}].map(J=>u.jsxs("button",{onClick:()=>r(J.id),className:`flex items-center px-3 py-2 text-sm font-medium rounded-md ${t===J.id?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[u.jsx(J.icon,{className:"w-4 h-4 mr-2"}),J.label]},J.id))})}),t==="dashboard"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ro,{className:"w-8 h-8 text-blue-500"}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Users"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:d.length})]})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Mj,{className:"w-8 h-8 text-green-500"}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Queries"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:L.length})]})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(js,{className:"w-8 h-8 text-purple-500"}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Themes"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:m.length})]})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(of,{className:"w-8 h-8 text-orange-500"}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Settings"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:g.length})]})]})})]}),t==="users"&&u.jsx(GK,{}),t==="themes"&&u.jsx(LK,{}),t==="settings"&&u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Application Settings"}),u.jsx("div",{className:"space-y-6",children:g.map(J=>u.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-600 pb-4 last:border-b-0",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:J.setting_key.replace(/_/g," ").replace(/\b\w/g,me=>me.toUpperCase())}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:J.description}),typeof J.setting_value=="boolean"?u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:J.setting_value,readOnly:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("span",{className:"ml-2 text-sm text-gray-900 dark:text-white",children:J.setting_value?"Enabled":"Disabled"})]}):u.jsx("input",{type:"number",value:J.setting_value,readOnly:!0,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]},J.id))})]}),t==="sql"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[u.jsx(Ab,{className:"w-5 h-5 mr-2"}),"Currently Running Queries",u.jsx("button",{onClick:P,className:"ml-auto px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Refresh"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"PID"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Query"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Duration"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"State"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:L.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"px-4 py-4 text-center text-gray-500 dark:text-gray-400",children:"No active queries found"})}):L.map((J,me)=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:J.pid||"N/A"}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:J.usename||"N/A"}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 dark:text-white max-w-xs truncate font-mono",children:J.query||"No query data"}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:J.duration||"N/A"}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${J.state==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":J.state==="idle"?"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:J.state||"unknown"})})]},me))})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[u.jsx(qj,{className:"w-5 h-5 mr-2"}),"SQL Console"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SQL Query"}),u.jsx("textarea",{value:v,onChange:J=>b(J.target.value),placeholder:"SELECT * FROM boards LIMIT 10;",className:"w-full h-40 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("button",{onClick:W,disabled:T||!v.trim(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[u.jsx(CU,{className:"w-4 h-4 mr-2"}),T?"Executing...":"Execute Query"]}),u.jsx("button",{onClick:()=>{b(""),S(null),_(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Clear"})]})]})]}),w&&u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mt-4",children:[u.jsx("h4",{className:"text-red-800 font-medium mb-2",children:"Error"}),u.jsx("pre",{className:"text-red-700 text-sm whitespace-pre-wrap",children:w})]}),x&&u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:[u.jsx("h4",{className:"text-green-800 font-medium mb-2",children:"Result"}),u.jsx("pre",{className:"text-green-700 text-sm whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(x,null,2)})]})]}),u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[u.jsx(Do,{className:"w-5 h-5 mr-2"}),"Execution History"]}),u.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:N.length===0?u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No queries executed yet"}):N.map(J=>u.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${J.status==="success"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:J.status}),u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(J.timestamp).toLocaleTimeString()})]}),u.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 font-mono bg-gray-50 dark:bg-gray-700 p-2 rounded",children:J.query.length>60?`${J.query.substring(0,60)}...`:J.query}),u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["by ",J.executedBy]}),J.error&&u.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Error: ",J.error.substring(0,100),"..."]})]},J.id))})]})})]})]})]})}):u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"text-center",children:[u.jsx(ZT,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have permission to access the admin panel."})]})})},VK={"en-US":Lx},QK=sA({format:uA,startOfWeek:ji,getDay:dA,locales:VK});function WK(){const{user:e}=fa(),t=e?.id||"guest-user",{data:r=[]}=ct({queryKey:["boards",t],queryFn:()=>ha(t)}),{data:n=[],isLoading:i}=ct({queryKey:["all-cards",r.map(g=>g.id)],queryFn:async()=>{const g=r.map(b=>Ei(b.id).then(x=>x.map(S=>({...S,boardName:b.name}))));return(await Promise.all(g)).flat()},enabled:r.length>0}),o=[];if(n.forEach(g=>{if(g.date_start||g.date_end){const v=g.date_start?new Date(g.date_start):new Date,b=g.date_end?new Date(g.date_end):v;o.push({id:`card-${g.id}`,title:`📋 ${g.title}`,start:v,end:b,resource:g,type:"card",boardName:g.boardName})}g.checklists&&g.checklists.forEach(v=>{v.checklist_items?.forEach(b=>{if(b.due_date||b.start_date){const x=b.start_date?new Date(b.start_date):new Date(b.due_date),S=b.due_date?new Date(b.due_date):x;o.push({id:`task-${b.id}`,title:`${b.done?"✓":"☐"} ${b.text||"Untitled Task"}`,start:x,end:S,resource:g,type:"task",cardTitle:g.title,completed:b.done,boardName:g.boardName})}})})}),i)return u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("div",{className:"text-gray-500",children:"Loading master calendar..."})});const c=g=>{const v={backgroundColor:g.type==="card"?"#3b82f6":"#10b981",borderRadius:"4px",opacity:g.completed?.6:1,color:"white",border:"none",display:"block"};return g.completed&&(v.textDecoration="line-through"),{style:v}},d=o.filter(g=>g.type==="card").length,h=o.filter(g=>g.type==="task").length,m=o.filter(g=>g.type==="task"&&g.completed).length;try{return u.jsx("div",{className:"h-full flex flex-col",children:u.jsxs("div",{className:"flex-1 p-4",children:[u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Master Calendar"}),u.jsxs("div",{className:"flex gap-6 mb-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#3b82f6"}}),u.jsxs("span",{className:"font-medium",children:["Cards: ",d]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#10b981"}}),u.jsxs("span",{className:"font-medium",children:["Tasks: ",h]}),u.jsxs("span",{className:"text-gray-500",children:["(",m," completed)"]})]})]}),u.jsx("div",{className:"bg-white border rounded",style:{height:"calc(100vh - 250px)"},children:u.jsx(aA,{localizer:QK,events:o,startAccessor:"start",endAccessor:"end",style:{height:"100%"},views:["month","week","day","agenda"],defaultView:"month",eventPropGetter:c})})]})})}catch(g){return u.jsx("div",{className:"h-full flex flex-col p-4",children:u.jsxs("div",{className:"bg-red-100 border border-red-400 p-4 rounded",children:[u.jsx("h2",{className:"text-red-800 font-bold",children:"Master Calendar Error"}),u.jsxs("p",{className:"text-red-700",children:["Error loading calendar: ",String(g)]})]})})}}function XK(){const{user:e}=fa(),t=e?.id||"2a8f10d6-4368-43db-ab1d-ab783ec6e935",[r,n]=k.useState([]),{data:i=[],isLoading:o}=ct({queryKey:["boards",e?.id],queryFn:()=>ha(t),enabled:!!e?.id});k.useEffect(()=>{i.length>0&&r.length===0&&n(i.map(v=>v.id))},[i,r.length]);const c=ct({queryKey:["all-cards-maps",i.map(v=>v.id)],queryFn:async()=>{if(i.length===0)return[];const v=i.map(async x=>{try{return(await Ei(x.id)).map(w=>({...w,boardId:x.id,boardName:x.name}))}catch(S){return console.warn(`Failed to load cards for board ${x.id}:`,S),[]}});return(await Promise.all(v)).flat()},enabled:i.length>0});if(o)return u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading maps..."})});if(c.error)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"text-red-500",children:"Failed to load map data. Please try again."})});const m=(c.data||[]).filter(v=>r.includes(v.boardId)).filter(v=>v.location_lat&&v.location_lng||v.location_address),g=v=>{const b=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#84CC16"],x=i.findIndex(S=>S.id===v);return b[x%b.length]};return u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"All Maps"}),u.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[m.length," pinned locations from ",r.length," of ",i.length," boards"]})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Boards:"}),u.jsx("button",{onClick:()=>n(i.map(v=>v.id)),className:"px-3 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"Enable All"}),u.jsx("button",{onClick:()=>n([]),className:"px-3 py-1 text-xs bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"Disable All"}),i.map(v=>{const b=r.includes(v.id);return u.jsx("button",{onClick:()=>{n(x=>b?x.filter(S=>S!==v.id):[...x,v.id])},className:`px-3 py-1 text-xs rounded-full border transition-colors ${b?"text-white border-transparent":"bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200"}`,style:{backgroundColor:b?g(v.id):void 0},children:v.name},v.id)})]})]}),u.jsx("div",{className:"flex-1 p-4",children:m.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:"📍"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Pinned Locations"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add location data to your cards to see them on the map."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(v=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm",children:v.title}),u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:g(v.boardId)},children:v.boardName})]}),v.description&&u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2",children:String(v.description)}),u.jsxs("div",{className:"space-y-2",children:[v.location_address&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{children:"📍"}),u.jsx("span",{children:v.location_address})]}),v.location_lat&&v.location_lng&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{children:"🌐"}),u.jsxs("span",{children:[v.location_lat.toFixed(6),", ",v.location_lng.toFixed(6)]})]}),u.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[v.location_lat&&v.location_lng&&u.jsx("button",{onClick:()=>{const b=`https://www.google.com/maps?q=${v.location_lat},${v.location_lng}`;window.open(b,"_blank")},className:"px-2 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"View on Maps"}),v.location_address&&!v.location_lat&&u.jsx("button",{onClick:()=>{const b=`https://www.google.com/maps/search/${encodeURIComponent(v.location_address)}`;window.open(b,"_blank")},className:"px-2 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"Search Address"})]})]})]},v.id))})})]})}function JK(){return u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[u.jsx(Dn,{className:"w-6 h-6 text-gray-400"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Archive"}),u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Archived cards and lists"})]}),u.jsx("div",{className:"mb-8 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(sU,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Boards are no longer archived"}),u.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Boards are now permanently deleted instead of archived. To view archived cards and lists, navigate to the ",u.jsx(ln,{to:"/b/archive-board/board",className:"underline font-medium",children:"Archive Board"}),"."]})]})]})}),u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Dn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"View Archived Items"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Archived cards and lists can be found in the Archive board."}),u.jsxs(ln,{to:"/b/archive-board/board",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Go to Archive Board"]})]})]})})}const ZK="/todo-app",eG=D3([{path:"/",element:u.jsx(_q,{}),children:[{path:"login",element:u.jsx(f$,{})},{path:"pricing",element:u.jsx(h$,{})},{path:"",element:u.jsx(u$,{children:u.jsx(c$,{})}),children:[{index:!0,element:u.jsx(d$,{})},{path:"calendar",element:u.jsx(TC,{})},{path:"master-calendar",element:u.jsx(WK,{})},{path:"all-maps",element:u.jsx(XK,{})},{path:"archive",element:u.jsx(JK,{})},{path:"themes",element:u.jsx(OK,{})},{path:"admin",element:u.jsx(YK,{})},{path:"workspace/:workspaceId",element:u.jsx(CK,{})},{path:"b/:boardId/board",element:u.jsx(P$,{})},{path:"b/:boardId/table",element:u.jsx($$,{})},{path:"b/:boardId/calendar",element:u.jsx(TC,{})},{path:"b/:boardId/timeline",element:u.jsx(kK,{})},{path:"b/:boardId/map",element:u.jsx(EK,{})}]}]}],{basename:ZK});class tG extends I.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:u.jsxs("div",{className:"max-w-md w-full text-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Something went wrong"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:this.state.error?.message||"An unexpected error occurred"}),u.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",children:"Try again"})]})}):this.props.children}}function rG(){return u.jsx(tG,{children:u.jsx(I3,{router:eG})})}window.addEventListener("error",e=>{(e.message?.includes("message channel closed")||e.message?.includes("runtime.lastError"))&&(e.preventDefault(),console.warn("Browser extension error suppressed:",e.message))});window.addEventListener("unhandledrejection",e=>{(e.reason?.message?.includes("message channel closed")||e.reason?.message?.includes("runtime.lastError"))&&(e.preventDefault(),console.warn("Browser extension promise rejection suppressed:",e.reason?.message))});O4.createRoot(document.getElementById("root")).render(u.jsx(k.StrictMode,{children:u.jsx(rG,{})}));
